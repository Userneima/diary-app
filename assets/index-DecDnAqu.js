(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var W0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function LL(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var r2={exports:{}},om={};var Vk;function u7(){if(Vk)return om;Vk=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function r(n,i,s){var a=null;if(s!==void 0&&(a=""+s),i.key!==void 0&&(a=""+i.key),"key"in i){s={};for(var o in i)o!=="key"&&(s[o]=i[o])}else s=i;return i=s.ref,{$$typeof:t,type:n,key:a,ref:i!==void 0?i:null,props:s}}return om.Fragment=e,om.jsx=r,om.jsxs=r,om}var qk;function f7(){return qk||(qk=1,r2.exports=u7()),r2.exports}var _=f7(),n2={exports:{}},or={};var Gk;function h7(){if(Gk)return or;Gk=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),a=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),h=Symbol.for("react.activity"),m=Symbol.iterator;function d(X){return X===null||typeof X!="object"?null:(X=m&&X[m]||X["@@iterator"],typeof X=="function"?X:null)}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,b={};function w(X,I,J){this.props=X,this.context=I,this.refs=b,this.updater=J||g}w.prototype.isReactComponent={},w.prototype.setState=function(X,I){if(typeof X!="object"&&typeof X!="function"&&X!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,X,I,"setState")},w.prototype.forceUpdate=function(X){this.updater.enqueueForceUpdate(this,X,"forceUpdate")};function B(){}B.prototype=w.prototype;function S(X,I,J){this.props=X,this.context=I,this.refs=b,this.updater=J||g}var C=S.prototype=new B;C.constructor=S,v(C,w.prototype),C.isPureReactComponent=!0;var k=Array.isArray;function M(){}var D={H:null,A:null,T:null,S:null},H=Object.prototype.hasOwnProperty;function F(X,I,J){var te=J.ref;return{$$typeof:t,type:X,key:I,ref:te!==void 0?te:null,props:J}}function $(X,I){return F(X.type,I,X.props)}function q(X){return typeof X=="object"&&X!==null&&X.$$typeof===t}function R(X){var I={"=":"=0",":":"=2"};return"$"+X.replace(/[=:]/g,function(J){return I[J]})}var G=/\/+/g;function U(X,I){return typeof X=="object"&&X!==null&&X.key!=null?R(""+X.key):I.toString(36)}function ae(X){switch(X.status){case"fulfilled":return X.value;case"rejected":throw X.reason;default:switch(typeof X.status=="string"?X.then(M,M):(X.status="pending",X.then(function(I){X.status==="pending"&&(X.status="fulfilled",X.value=I)},function(I){X.status==="pending"&&(X.status="rejected",X.reason=I)})),X.status){case"fulfilled":return X.value;case"rejected":throw X.reason}}throw X}function re(X,I,J,te,Ae){var se=typeof X;(se==="undefined"||se==="boolean")&&(X=null);var Q=!1;if(X===null)Q=!0;else switch(se){case"bigint":case"string":case"number":Q=!0;break;case"object":switch(X.$$typeof){case t:case e:Q=!0;break;case f:return Q=X._init,re(Q(X._payload),I,J,te,Ae)}}if(Q)return Ae=Ae(X),Q=te===""?"."+U(X,0):te,k(Ae)?(J="",Q!=null&&(J=Q.replace(G,"$&/")+"/"),re(Ae,I,J,"",function(oe){return oe})):Ae!=null&&(q(Ae)&&(Ae=$(Ae,J+(Ae.key==null||X&&X.key===Ae.key?"":(""+Ae.key).replace(G,"$&/")+"/")+Q)),I.push(Ae)),1;Q=0;var P=te===""?".":te+":";if(k(X))for(var le=0;le<X.length;le++)te=X[le],se=P+U(te,le),Q+=re(te,I,J,se,Ae);else if(le=d(X),typeof le=="function")for(X=le.call(X),le=0;!(te=X.next()).done;)te=te.value,se=P+U(te,le++),Q+=re(te,I,J,se,Ae);else if(se==="object"){if(typeof X.then=="function")return re(ae(X),I,J,te,Ae);throw I=String(X),Error("Objects are not valid as a React child (found: "+(I==="[object Object]"?"object with keys {"+Object.keys(X).join(", ")+"}":I)+"). If you meant to render a collection of children, use an array instead.")}return Q}function Y(X,I,J){if(X==null)return X;var te=[],Ae=0;return re(X,te,"","",function(se){return I.call(J,se,Ae++)}),te}function he(X){if(X._status===-1){var I=X._result;I=I(),I.then(function(J){(X._status===0||X._status===-1)&&(X._status=1,X._result=J)},function(J){(X._status===0||X._status===-1)&&(X._status=2,X._result=J)}),X._status===-1&&(X._status=0,X._result=I)}if(X._status===1)return X._result.default;throw X._result}var de=typeof reportError=="function"?reportError:function(X){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var I=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof X=="object"&&X!==null&&typeof X.message=="string"?String(X.message):String(X),error:X});if(!window.dispatchEvent(I))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",X);return}console.error(X)},Ce={map:Y,forEach:function(X,I,J){Y(X,function(){I.apply(this,arguments)},J)},count:function(X){var I=0;return Y(X,function(){I++}),I},toArray:function(X){return Y(X,function(I){return I})||[]},only:function(X){if(!q(X))throw Error("React.Children.only expected to receive a single React element child.");return X}};return or.Activity=h,or.Children=Ce,or.Component=w,or.Fragment=r,or.Profiler=i,or.PureComponent=S,or.StrictMode=n,or.Suspense=l,or.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,or.__COMPILER_RUNTIME={__proto__:null,c:function(X){return D.H.useMemoCache(X)}},or.cache=function(X){return function(){return X.apply(null,arguments)}},or.cacheSignal=function(){return null},or.cloneElement=function(X,I,J){if(X==null)throw Error("The argument must be a React element, but you passed "+X+".");var te=v({},X.props),Ae=X.key;if(I!=null)for(se in I.key!==void 0&&(Ae=""+I.key),I)!H.call(I,se)||se==="key"||se==="__self"||se==="__source"||se==="ref"&&I.ref===void 0||(te[se]=I[se]);var se=arguments.length-2;if(se===1)te.children=J;else if(1<se){for(var Q=Array(se),P=0;P<se;P++)Q[P]=arguments[P+2];te.children=Q}return F(X.type,Ae,te)},or.createContext=function(X){return X={$$typeof:a,_currentValue:X,_currentValue2:X,_threadCount:0,Provider:null,Consumer:null},X.Provider=X,X.Consumer={$$typeof:s,_context:X},X},or.createElement=function(X,I,J){var te,Ae={},se=null;if(I!=null)for(te in I.key!==void 0&&(se=""+I.key),I)H.call(I,te)&&te!=="key"&&te!=="__self"&&te!=="__source"&&(Ae[te]=I[te]);var Q=arguments.length-2;if(Q===1)Ae.children=J;else if(1<Q){for(var P=Array(Q),le=0;le<Q;le++)P[le]=arguments[le+2];Ae.children=P}if(X&&X.defaultProps)for(te in Q=X.defaultProps,Q)Ae[te]===void 0&&(Ae[te]=Q[te]);return F(X,se,Ae)},or.createRef=function(){return{current:null}},or.forwardRef=function(X){return{$$typeof:o,render:X}},or.isValidElement=q,or.lazy=function(X){return{$$typeof:f,_payload:{_status:-1,_result:X},_init:he}},or.memo=function(X,I){return{$$typeof:c,type:X,compare:I===void 0?null:I}},or.startTransition=function(X){var I=D.T,J={};D.T=J;try{var te=X(),Ae=D.S;Ae!==null&&Ae(J,te),typeof te=="object"&&te!==null&&typeof te.then=="function"&&te.then(M,de)}catch(se){de(se)}finally{I!==null&&J.types!==null&&(I.types=J.types),D.T=I}},or.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},or.use=function(X){return D.H.use(X)},or.useActionState=function(X,I,J){return D.H.useActionState(X,I,J)},or.useCallback=function(X,I){return D.H.useCallback(X,I)},or.useContext=function(X){return D.H.useContext(X)},or.useDebugValue=function(){},or.useDeferredValue=function(X,I){return D.H.useDeferredValue(X,I)},or.useEffect=function(X,I){return D.H.useEffect(X,I)},or.useEffectEvent=function(X){return D.H.useEffectEvent(X)},or.useId=function(){return D.H.useId()},or.useImperativeHandle=function(X,I,J){return D.H.useImperativeHandle(X,I,J)},or.useInsertionEffect=function(X,I){return D.H.useInsertionEffect(X,I)},or.useLayoutEffect=function(X,I){return D.H.useLayoutEffect(X,I)},or.useMemo=function(X,I){return D.H.useMemo(X,I)},or.useOptimistic=function(X,I){return D.H.useOptimistic(X,I)},or.useReducer=function(X,I,J){return D.H.useReducer(X,I,J)},or.useRef=function(X){return D.H.useRef(X)},or.useState=function(X){return D.H.useState(X)},or.useSyncExternalStore=function(X,I,J){return D.H.useSyncExternalStore(X,I,J)},or.useTransition=function(){return D.H.useTransition()},or.version="19.2.4",or}var Wk;function Ig(){return Wk||(Wk=1,n2.exports=h7()),n2.exports}var ke=Ig();const Wa=LL(ke);var i2={exports:{}},lm={},s2={exports:{}},a2={};var $k;function d7(){return $k||($k=1,(function(t){function e(re,Y){var he=re.length;re.push(Y);e:for(;0<he;){var de=he-1>>>1,Ce=re[de];if(0<i(Ce,Y))re[de]=Y,re[he]=Ce,he=de;else break e}}function r(re){return re.length===0?null:re[0]}function n(re){if(re.length===0)return null;var Y=re[0],he=re.pop();if(he!==Y){re[0]=he;e:for(var de=0,Ce=re.length,X=Ce>>>1;de<X;){var I=2*(de+1)-1,J=re[I],te=I+1,Ae=re[te];if(0>i(J,he))te<Ce&&0>i(Ae,J)?(re[de]=Ae,re[te]=he,de=te):(re[de]=J,re[I]=he,de=I);else if(te<Ce&&0>i(Ae,he))re[de]=Ae,re[te]=he,de=te;else break e}}return Y}function i(re,Y){var he=re.sortIndex-Y.sortIndex;return he!==0?he:re.id-Y.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],c=[],f=1,h=null,m=3,d=!1,g=!1,v=!1,b=!1,w=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;function C(re){for(var Y=r(c);Y!==null;){if(Y.callback===null)n(c);else if(Y.startTime<=re)n(c),Y.sortIndex=Y.expirationTime,e(l,Y);else break;Y=r(c)}}function k(re){if(v=!1,C(re),!g)if(r(l)!==null)g=!0,M||(M=!0,R());else{var Y=r(c);Y!==null&&ae(k,Y.startTime-re)}}var M=!1,D=-1,H=5,F=-1;function $(){return b?!0:!(t.unstable_now()-F<H)}function q(){if(b=!1,M){var re=t.unstable_now();F=re;var Y=!0;try{e:{g=!1,v&&(v=!1,B(D),D=-1),d=!0;var he=m;try{t:{for(C(re),h=r(l);h!==null&&!(h.expirationTime>re&&$());){var de=h.callback;if(typeof de=="function"){h.callback=null,m=h.priorityLevel;var Ce=de(h.expirationTime<=re);if(re=t.unstable_now(),typeof Ce=="function"){h.callback=Ce,C(re),Y=!0;break t}h===r(l)&&n(l),C(re)}else n(l);h=r(l)}if(h!==null)Y=!0;else{var X=r(c);X!==null&&ae(k,X.startTime-re),Y=!1}}break e}finally{h=null,m=he,d=!1}Y=void 0}}finally{Y?R():M=!1}}}var R;if(typeof S=="function")R=function(){S(q)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,U=G.port2;G.port1.onmessage=q,R=function(){U.postMessage(null)}}else R=function(){w(q,0)};function ae(re,Y){D=w(function(){re(t.unstable_now())},Y)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(re){re.callback=null},t.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<re?Math.floor(1e3/re):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_next=function(re){switch(m){case 1:case 2:case 3:var Y=3;break;default:Y=m}var he=m;m=Y;try{return re()}finally{m=he}},t.unstable_requestPaint=function(){b=!0},t.unstable_runWithPriority=function(re,Y){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var he=m;m=re;try{return Y()}finally{m=he}},t.unstable_scheduleCallback=function(re,Y,he){var de=t.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?de+he:de):he=de,re){case 1:var Ce=-1;break;case 2:Ce=250;break;case 5:Ce=1073741823;break;case 4:Ce=1e4;break;default:Ce=5e3}return Ce=he+Ce,re={id:f++,callback:Y,priorityLevel:re,startTime:he,expirationTime:Ce,sortIndex:-1},he>de?(re.sortIndex=he,e(c,re),r(l)===null&&re===r(c)&&(v?(B(D),D=-1):v=!0,ae(k,he-de))):(re.sortIndex=Ce,e(l,re),g||d||(g=!0,M||(M=!0,R()))),re},t.unstable_shouldYield=$,t.unstable_wrapCallback=function(re){var Y=m;return function(){var he=m;m=Y;try{return re.apply(this,arguments)}finally{m=he}}}})(a2)),a2}var Yk;function p7(){return Yk||(Yk=1,s2.exports=d7()),s2.exports}var o2={exports:{}},Ns={};var Jk;function m7(){if(Jk)return Ns;Jk=1;var t=Ig();function e(l){var c="https://react.dev/errors/"+l;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)c+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+l+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(e(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(l,c,f){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:h==null?null:""+h,children:l,containerInfo:c,implementation:f}}var a=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function o(l,c){if(l==="font")return"";if(typeof c=="string")return c==="use-credentials"?c:""}return Ns.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Ns.createPortal=function(l,c){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)throw Error(e(299));return s(l,c,null,f)},Ns.flushSync=function(l){var c=a.T,f=n.p;try{if(a.T=null,n.p=2,l)return l()}finally{a.T=c,n.p=f,n.d.f()}},Ns.preconnect=function(l,c){typeof l=="string"&&(c?(c=c.crossOrigin,c=typeof c=="string"?c==="use-credentials"?c:"":void 0):c=null,n.d.C(l,c))},Ns.prefetchDNS=function(l){typeof l=="string"&&n.d.D(l)},Ns.preinit=function(l,c){if(typeof l=="string"&&c&&typeof c.as=="string"){var f=c.as,h=o(f,c.crossOrigin),m=typeof c.integrity=="string"?c.integrity:void 0,d=typeof c.fetchPriority=="string"?c.fetchPriority:void 0;f==="style"?n.d.S(l,typeof c.precedence=="string"?c.precedence:void 0,{crossOrigin:h,integrity:m,fetchPriority:d}):f==="script"&&n.d.X(l,{crossOrigin:h,integrity:m,fetchPriority:d,nonce:typeof c.nonce=="string"?c.nonce:void 0})}},Ns.preinitModule=function(l,c){if(typeof l=="string")if(typeof c=="object"&&c!==null){if(c.as==null||c.as==="script"){var f=o(c.as,c.crossOrigin);n.d.M(l,{crossOrigin:f,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0})}}else c==null&&n.d.M(l)},Ns.preload=function(l,c){if(typeof l=="string"&&typeof c=="object"&&c!==null&&typeof c.as=="string"){var f=c.as,h=o(f,c.crossOrigin);n.d.L(l,f,{crossOrigin:h,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0,type:typeof c.type=="string"?c.type:void 0,fetchPriority:typeof c.fetchPriority=="string"?c.fetchPriority:void 0,referrerPolicy:typeof c.referrerPolicy=="string"?c.referrerPolicy:void 0,imageSrcSet:typeof c.imageSrcSet=="string"?c.imageSrcSet:void 0,imageSizes:typeof c.imageSizes=="string"?c.imageSizes:void 0,media:typeof c.media=="string"?c.media:void 0})}},Ns.preloadModule=function(l,c){if(typeof l=="string")if(c){var f=o(c.as,c.crossOrigin);n.d.m(l,{as:typeof c.as=="string"&&c.as!=="script"?c.as:void 0,crossOrigin:f,integrity:typeof c.integrity=="string"?c.integrity:void 0})}else n.d.m(l)},Ns.requestFormReset=function(l){n.d.r(l)},Ns.unstable_batchedUpdates=function(l,c){return l(c)},Ns.useFormState=function(l,c,f){return a.H.useFormState(l,c,f)},Ns.useFormStatus=function(){return a.H.useHostTransitionStatus()},Ns.version="19.2.4",Ns}var Xk;function DL(){if(Xk)return o2.exports;Xk=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),o2.exports=m7(),o2.exports}var Zk;function g7(){if(Zk)return lm;Zk=1;var t=p7(),e=Ig(),r=DL();function n(A){var u="https://react.dev/errors/"+A;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)u+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+A+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(A){return!(!A||A.nodeType!==1&&A.nodeType!==9&&A.nodeType!==11)}function s(A){var u=A,p=A;if(A.alternate)for(;u.return;)u=u.return;else{A=u;do u=A,(u.flags&4098)!==0&&(p=u.return),A=u.return;while(A)}return u.tag===3?p:null}function a(A){if(A.tag===13){var u=A.memoizedState;if(u===null&&(A=A.alternate,A!==null&&(u=A.memoizedState)),u!==null)return u.dehydrated}return null}function o(A){if(A.tag===31){var u=A.memoizedState;if(u===null&&(A=A.alternate,A!==null&&(u=A.memoizedState)),u!==null)return u.dehydrated}return null}function l(A){if(s(A)!==A)throw Error(n(188))}function c(A){var u=A.alternate;if(!u){if(u=s(A),u===null)throw Error(n(188));return u!==A?null:A}for(var p=A,y=u;;){var E=p.return;if(E===null)break;var O=E.alternate;if(O===null){if(y=E.return,y!==null){p=y;continue}break}if(E.child===O.child){for(O=E.child;O;){if(O===p)return l(E),A;if(O===y)return l(E),u;O=O.sibling}throw Error(n(188))}if(p.return!==y.return)p=E,y=O;else{for(var ee=!1,we=E.child;we;){if(we===p){ee=!0,p=E,y=O;break}if(we===y){ee=!0,y=E,p=O;break}we=we.sibling}if(!ee){for(we=O.child;we;){if(we===p){ee=!0,p=O,y=E;break}if(we===y){ee=!0,y=O,p=E;break}we=we.sibling}if(!ee)throw Error(n(189))}}if(p.alternate!==y)throw Error(n(190))}if(p.tag!==3)throw Error(n(188));return p.stateNode.current===p?A:u}function f(A){var u=A.tag;if(u===5||u===26||u===27||u===6)return A;for(A=A.child;A!==null;){if(u=f(A),u!==null)return u;A=A.sibling}return null}var h=Object.assign,m=Symbol.for("react.element"),d=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),b=Symbol.for("react.strict_mode"),w=Symbol.for("react.profiler"),B=Symbol.for("react.consumer"),S=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),H=Symbol.for("react.lazy"),F=Symbol.for("react.activity"),$=Symbol.for("react.memo_cache_sentinel"),q=Symbol.iterator;function R(A){return A===null||typeof A!="object"?null:(A=q&&A[q]||A["@@iterator"],typeof A=="function"?A:null)}var G=Symbol.for("react.client.reference");function U(A){if(A==null)return null;if(typeof A=="function")return A.$$typeof===G?null:A.displayName||A.name||null;if(typeof A=="string")return A;switch(A){case v:return"Fragment";case w:return"Profiler";case b:return"StrictMode";case k:return"Suspense";case M:return"SuspenseList";case F:return"Activity"}if(typeof A=="object")switch(A.$$typeof){case g:return"Portal";case S:return A.displayName||"Context";case B:return(A._context.displayName||"Context")+".Consumer";case C:var u=A.render;return A=A.displayName,A||(A=u.displayName||u.name||"",A=A!==""?"ForwardRef("+A+")":"ForwardRef"),A;case D:return u=A.displayName||null,u!==null?u:U(A.type)||"Memo";case H:u=A._payload,A=A._init;try{return U(A(u))}catch{}}return null}var ae=Array.isArray,re=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he={pending:!1,data:null,method:null,action:null},de=[],Ce=-1;function X(A){return{current:A}}function I(A){0>Ce||(A.current=de[Ce],de[Ce]=null,Ce--)}function J(A,u){Ce++,de[Ce]=A.current,A.current=u}var te=X(null),Ae=X(null),se=X(null),Q=X(null);function P(A,u){switch(J(se,u),J(Ae,A),J(te,null),u.nodeType){case 9:case 11:A=(A=u.documentElement)&&(A=A.namespaceURI)?dk(A):0;break;default:if(A=u.tagName,u=u.namespaceURI)u=dk(u),A=pk(u,A);else switch(A){case"svg":A=1;break;case"math":A=2;break;default:A=0}}I(te),J(te,A)}function le(){I(te),I(Ae),I(se)}function oe(A){A.memoizedState!==null&&J(Q,A);var u=te.current,p=pk(u,A.type);u!==p&&(J(Ae,A),J(te,p))}function ie(A){Ae.current===A&&(I(te),I(Ae)),Q.current===A&&(I(Q),nm._currentValue=he)}var fe,Te;function V(A){if(fe===void 0)try{throw Error()}catch(p){var u=p.stack.trim().match(/\n( *(at )?)/);fe=u&&u[1]||"",Te=-1<p.stack.indexOf(`
    at`)?" (<anonymous>)":-1<p.stack.indexOf("@")?"@unknown:0:0":""}return`
`+fe+A+Te}var ne=!1;function W(A,u){if(!A||ne)return"";ne=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var y={DetermineComponentFrameRoot:function(){try{if(u){var tt=function(){throw Error()};if(Object.defineProperty(tt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(tt,[])}catch(Ge){var qe=Ge}Reflect.construct(A,[],tt)}else{try{tt.call()}catch(Ge){qe=Ge}A.call(tt.prototype)}}else{try{throw Error()}catch(Ge){qe=Ge}(tt=A())&&typeof tt.catch=="function"&&tt.catch(function(){})}}catch(Ge){if(Ge&&qe&&typeof Ge.stack=="string")return[Ge.stack,qe.stack]}return[null,null]}};y.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var E=Object.getOwnPropertyDescriptor(y.DetermineComponentFrameRoot,"name");E&&E.configurable&&Object.defineProperty(y.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var O=y.DetermineComponentFrameRoot(),ee=O[0],we=O[1];if(ee&&we){var Ne=ee.split(`
`),Ke=we.split(`
`);for(E=y=0;y<Ne.length&&!Ne[y].includes("DetermineComponentFrameRoot");)y++;for(;E<Ke.length&&!Ke[E].includes("DetermineComponentFrameRoot");)E++;if(y===Ne.length||E===Ke.length)for(y=Ne.length-1,E=Ke.length-1;1<=y&&0<=E&&Ne[y]!==Ke[E];)E--;for(;1<=y&&0<=E;y--,E--)if(Ne[y]!==Ke[E]){if(y!==1||E!==1)do if(y--,E--,0>E||Ne[y]!==Ke[E]){var Je=`
`+Ne[y].replace(" at new "," at ");return A.displayName&&Je.includes("<anonymous>")&&(Je=Je.replace("<anonymous>",A.displayName)),Je}while(1<=y&&0<=E);break}}}finally{ne=!1,Error.prepareStackTrace=p}return(p=A?A.displayName||A.name:"")?V(p):""}function L(A,u){switch(A.tag){case 26:case 27:case 5:return V(A.type);case 16:return V("Lazy");case 13:return A.child!==u&&u!==null?V("Suspense Fallback"):V("Suspense");case 19:return V("SuspenseList");case 0:case 15:return W(A.type,!1);case 11:return W(A.type.render,!1);case 1:return W(A.type,!0);case 31:return V("Activity");default:return""}}function N(A){try{var u="",p=null;do u+=L(A,p),p=A,A=A.return;while(A);return u}catch(y){return`
Error generating stack: `+y.message+`
`+y.stack}}var z=Object.prototype.hasOwnProperty,ge=t.unstable_scheduleCallback,Be=t.unstable_cancelCallback,be=t.unstable_shouldYield,Oe=t.unstable_requestPaint,je=t.unstable_now,He=t.unstable_getCurrentPriorityLevel,We=t.unstable_ImmediatePriority,at=t.unstable_UserBlockingPriority,ct=t.unstable_NormalPriority,ft=t.unstable_LowPriority,Ot=t.unstable_IdlePriority,mt=t.log,kr=t.unstable_setDisableYieldValue,yt=null,_t=null;function It(A){if(typeof mt=="function"&&kr(A),_t&&typeof _t.setStrictMode=="function")try{_t.setStrictMode(yt,A)}catch{}}var Pt=Math.clz32?Math.clz32:Bt,Ve=Math.log,gt=Math.LN2;function Bt(A){return A>>>=0,A===0?32:31-(Ve(A)/gt|0)|0}var Rt=256,ur=262144,Vt=4194304;function dt(A){var u=A&42;if(u!==0)return u;switch(A&-A){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return A&261888;case 262144:case 524288:case 1048576:case 2097152:return A&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return A&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return A}}function Xt(A,u,p){var y=A.pendingLanes;if(y===0)return 0;var E=0,O=A.suspendedLanes,ee=A.pingedLanes;A=A.warmLanes;var we=y&134217727;return we!==0?(y=we&~O,y!==0?E=dt(y):(ee&=we,ee!==0?E=dt(ee):p||(p=we&~A,p!==0&&(E=dt(p))))):(we=y&~O,we!==0?E=dt(we):ee!==0?E=dt(ee):p||(p=y&~A,p!==0&&(E=dt(p)))),E===0?0:u!==0&&u!==E&&(u&O)===0&&(O=E&-E,p=u&-u,O>=p||O===32&&(p&4194048)!==0)?u:E}function zi(A,u){return(A.pendingLanes&~(A.suspendedLanes&~A.pingedLanes)&u)===0}function cr(A,u){switch(A){case 1:case 2:case 4:case 8:case 64:return u+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qn(){var A=Vt;return Vt<<=1,(Vt&62914560)===0&&(Vt=4194304),A}function Es(A){for(var u=[],p=0;31>p;p++)u.push(A);return u}function Lt(A,u){A.pendingLanes|=u,u!==268435456&&(A.suspendedLanes=0,A.pingedLanes=0,A.warmLanes=0)}function ra(A,u,p,y,E,O){var ee=A.pendingLanes;A.pendingLanes=p,A.suspendedLanes=0,A.pingedLanes=0,A.warmLanes=0,A.expiredLanes&=p,A.entangledLanes&=p,A.errorRecoveryDisabledLanes&=p,A.shellSuspendCounter=0;var we=A.entanglements,Ne=A.expirationTimes,Ke=A.hiddenUpdates;for(p=ee&~p;0<p;){var Je=31-Pt(p),tt=1<<Je;we[Je]=0,Ne[Je]=-1;var qe=Ke[Je];if(qe!==null)for(Ke[Je]=null,Je=0;Je<qe.length;Je++){var Ge=qe[Je];Ge!==null&&(Ge.lane&=-536870913)}p&=~tt}y!==0&&Hs(A,y,0),O!==0&&E===0&&A.tag!==0&&(A.suspendedLanes|=O&~(ee&~u))}function Hs(A,u,p){A.pendingLanes|=u,A.suspendedLanes&=~u;var y=31-Pt(u);A.entangledLanes|=u,A.entanglements[y]=A.entanglements[y]|1073741824|p&261930}function Fi(A,u){var p=A.entangledLanes|=u;for(A=A.entanglements;p;){var y=31-Pt(p),E=1<<y;E&u|A[y]&u&&(A[y]|=u),p&=~E}}function vi(A,u){var p=u&-u;return p=(p&42)!==0?1:zr(p),(p&(A.suspendedLanes|u))!==0?0:p}function zr(A){switch(A){case 2:A=1;break;case 8:A=4;break;case 32:A=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:A=128;break;case 268435456:A=134217728;break;default:A=0}return A}function mn(A){return A&=-A,2<A?8<A?(A&134217727)!==0?32:268435456:8:2}function Tn(){var A=Y.p;return A!==0?A:(A=window.event,A===void 0?32:Mk(A.type))}function $a(A,u){var p=Y.p;try{return Y.p=A,u()}finally{Y.p=p}}var li=Math.random().toString(36).slice(2),Rr="__reactFiber$"+li,on="__reactProps$"+li,bi="__reactContainer$"+li,Gt="__reactEvents$"+li,gr="__reactListeners$"+li,Kr="__reactHandles$"+li,vn="__reactResources$"+li,bn="__reactMarker$"+li;function na(A){delete A[Rr],delete A[on],delete A[Gt],delete A[gr],delete A[Kr]}function js(A){var u=A[Rr];if(u)return u;for(var p=A.parentNode;p;){if(u=p[bi]||p[Rr]){if(p=u.alternate,u.child!==null||p!==null&&p.child!==null)for(A=xk(A);A!==null;){if(p=A[Rr])return p;A=xk(A)}return u}A=p,p=A.parentNode}return null}function Ps(A){if(A=A[Rr]||A[bi]){var u=A.tag;if(u===5||u===6||u===13||u===31||u===26||u===27||u===3)return A}return null}function AA(A){var u=A.tag;if(u===5||u===26||u===27||u===6)return A.stateNode;throw Error(n(33))}function Ya(A){var u=A[vn];return u||(u=A[vn]={hoistableStyles:new Map,hoistableScripts:new Map}),u}function Hn(A){A[bn]=!0}var Iu=new Set,zs={};function Ea(A,u){To(A,u),To(A+"Capture",u)}function To(A,u){for(zs[A]=u,A=0;A<u.length;A++)Iu.add(u[A])}var Ru=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Mu={},Qu={};function Ah(A){return z.call(Qu,A)?!0:z.call(Mu,A)?!1:Ru.test(A)?Qu[A]=!0:(Mu[A]=!0,!1)}function Ks(A,u,p){if(Ah(u))if(p===null)A.removeAttribute(u);else{switch(typeof p){case"undefined":case"function":case"symbol":A.removeAttribute(u);return;case"boolean":var y=u.toLowerCase().slice(0,5);if(y!=="data-"&&y!=="aria-"){A.removeAttribute(u);return}}A.setAttribute(u,""+p)}}function No(A,u,p){if(p===null)A.removeAttribute(u);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":A.removeAttribute(u);return}A.setAttribute(u,""+p)}}function _a(A,u,p,y){if(y===null)A.removeAttribute(p);else{switch(typeof y){case"undefined":case"function":case"symbol":case"boolean":A.removeAttribute(p);return}A.setAttributeNS(u,p,""+y)}}function Lr(A){switch(typeof A){case"bigint":case"boolean":case"number":case"string":case"undefined":return A;case"object":return A;default:return""}}function Hu(A){var u=A.type;return(A=A.nodeName)&&A.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function Ja(A,u,p){var y=Object.getOwnPropertyDescriptor(A.constructor.prototype,u);if(!A.hasOwnProperty(u)&&typeof y<"u"&&typeof y.get=="function"&&typeof y.set=="function"){var E=y.get,O=y.set;return Object.defineProperty(A,u,{configurable:!0,get:function(){return E.call(this)},set:function(ee){p=""+ee,O.call(this,ee)}}),Object.defineProperty(A,u,{enumerable:y.enumerable}),{getValue:function(){return p},setValue:function(ee){p=""+ee},stopTracking:function(){A._valueTracker=null,delete A[u]}}}}function vl(A){if(!A._valueTracker){var u=Hu(A)?"checked":"value";A._valueTracker=Ja(A,u,""+A[u])}}function ju(A){if(!A)return!1;var u=A._valueTracker;if(!u)return!0;var p=u.getValue(),y="";return A&&(y=Hu(A)?A.checked?"true":"false":A.value),A=y,A!==p?(u.setValue(A),!0):!1}function as(A){if(A=A||(typeof document<"u"?document:void 0),typeof A>"u")return null;try{return A.activeElement||A.body}catch{return A.body}}var Ai=/[\n"\\]/g;function qn(A){return A.replace(Ai,function(u){return"\\"+u.charCodeAt(0).toString(16)+" "})}function uc(A,u,p,y,E,O,ee,we){A.name="",ee!=null&&typeof ee!="function"&&typeof ee!="symbol"&&typeof ee!="boolean"?A.type=ee:A.removeAttribute("type"),u!=null?ee==="number"?(u===0&&A.value===""||A.value!=u)&&(A.value=""+Lr(u)):A.value!==""+Lr(u)&&(A.value=""+Lr(u)):ee!=="submit"&&ee!=="reset"||A.removeAttribute("value"),u!=null?Pu(A,ee,Lr(u)):p!=null?Pu(A,ee,Lr(p)):y!=null&&A.removeAttribute("value"),E==null&&O!=null&&(A.defaultChecked=!!O),E!=null&&(A.checked=E&&typeof E!="function"&&typeof E!="symbol"),we!=null&&typeof we!="function"&&typeof we!="symbol"&&typeof we!="boolean"?A.name=""+Lr(we):A.removeAttribute("name")}function ch(A,u,p,y,E,O,ee,we){if(O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"&&(A.type=O),u!=null||p!=null){if(!(O!=="submit"&&O!=="reset"||u!=null)){vl(A);return}p=p!=null?""+Lr(p):"",u=u!=null?""+Lr(u):p,we||u===A.value||(A.value=u),A.defaultValue=u}y=y??E,y=typeof y!="function"&&typeof y!="symbol"&&!!y,A.checked=we?A.checked:!!y,A.defaultChecked=!!y,ee!=null&&typeof ee!="function"&&typeof ee!="symbol"&&typeof ee!="boolean"&&(A.name=ee),vl(A)}function Pu(A,u,p){u==="number"&&as(A.ownerDocument)===A||A.defaultValue===""+p||(A.defaultValue=""+p)}function ls(A,u,p,y){if(A=A.options,u){u={};for(var E=0;E<p.length;E++)u["$"+p[E]]=!0;for(p=0;p<A.length;p++)E=u.hasOwnProperty("$"+A[p].value),A[p].selected!==E&&(A[p].selected=E),E&&y&&(A[p].defaultSelected=!0)}else{for(p=""+Lr(p),u=null,E=0;E<A.length;E++){if(A[E].value===p){A[E].selected=!0,y&&(A[E].defaultSelected=!0);return}u!==null||A[E].disabled||(u=A[E])}u!==null&&(u.selected=!0)}}function zu(A,u,p){if(u!=null&&(u=""+Lr(u),u!==A.value&&(A.value=u),p==null)){A.defaultValue!==u&&(A.defaultValue=u);return}A.defaultValue=p!=null?""+Lr(p):""}function Ku(A,u,p,y){if(u==null){if(y!=null){if(p!=null)throw Error(n(92));if(ae(y)){if(1<y.length)throw Error(n(93));y=y[0]}p=y}p==null&&(p=""),u=p}p=Lr(u),A.defaultValue=p,y=A.textContent,y===p&&y!==""&&y!==null&&(A.value=y),vl(A)}function ka(A,u){if(u){var p=A.firstChild;if(p&&p===A.lastChild&&p.nodeType===3){p.nodeValue=u;return}}A.textContent=u}var cA=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function uh(A,u,p){var y=u.indexOf("--")===0;p==null||typeof p=="boolean"||p===""?y?A.setProperty(u,""):u==="float"?A.cssFloat="":A[u]="":y?A.setProperty(u,p):typeof p!="number"||p===0||cA.has(u)?u==="float"?A.cssFloat=p:A[u]=(""+p).trim():A[u]=p+"px"}function fh(A,u,p){if(u!=null&&typeof u!="object")throw Error(n(62));if(A=A.style,p!=null){for(var y in p)!p.hasOwnProperty(y)||u!=null&&u.hasOwnProperty(y)||(y.indexOf("--")===0?A.setProperty(y,""):y==="float"?A.cssFloat="":A[y]="");for(var E in u)y=u[E],u.hasOwnProperty(E)&&p[E]!==y&&uh(A,E,y)}else for(var O in u)u.hasOwnProperty(O)&&uh(A,O,u[O])}function Vu(A){if(A.indexOf("-")===-1)return!1;switch(A){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),hh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function _s(A){return hh.test(""+A)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":A}function Ta(){}var Fo=null;function uA(A){return A=A.target||A.srcElement||window,A.correspondingUseElement&&(A=A.correspondingUseElement),A.nodeType===3?A.parentNode:A}var bl=null,Wt=null;function dh(A){var u=Ps(A);if(u&&(A=u.stateNode)){var p=A[on]||null;e:switch(A=u.stateNode,u.type){case"input":if(uc(A,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name),u=p.name,p.type==="radio"&&u!=null){for(p=A;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll('input[name="'+qn(""+u)+'"][type="radio"]'),u=0;u<p.length;u++){var y=p[u];if(y!==A&&y.form===A.form){var E=y[on]||null;if(!E)throw Error(n(90));uc(y,E.value,E.defaultValue,E.defaultValue,E.checked,E.defaultChecked,E.type,E.name)}}for(u=0;u<p.length;u++)y=p[u],y.form===A.form&&ju(y)}break e;case"textarea":zu(A,p.value,p.defaultValue);break e;case"select":u=p.value,u!=null&&ls(A,!!p.multiple,u,!1)}}}var Gu=!1;function ph(A,u,p){if(Gu)return A(u,p);Gu=!0;try{var y=A(u);return y}finally{if(Gu=!1,(bl!==null||Wt!==null)&&(E0(),bl&&(u=bl,A=Wt,Wt=bl=null,dh(u),A)))for(u=0;u<A.length;u++)dh(A[u])}}function Vs(A,u){var p=A.stateNode;if(p===null)return null;var y=p[on]||null;if(y===null)return null;p=y[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(y=!y.disabled)||(A=A.type,y=!(A==="button"||A==="input"||A==="select"||A==="textarea")),A=!y;break e;default:A=!1}if(A)return null;if(p&&typeof p!="function")throw Error(n(231,u,typeof p));return p}var Ui=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wu=!1;if(Ui)try{var fA={};Object.defineProperty(fA,"passive",{get:function(){Wu=!0}}),window.addEventListener("test",fA,fA),window.removeEventListener("test",fA,fA)}catch{Wu=!1}var qs=null,hA=null,Xa=null;function mh(){if(Xa)return Xa;var A,u=hA,p=u.length,y,E="value"in qs?qs.value:qs.textContent,O=E.length;for(A=0;A<p&&u[A]===E[A];A++);var ee=p-A;for(y=1;y<=ee&&u[p-y]===E[O-y];y++);return Xa=E.slice(A,1<y?1-y:void 0)}function ia(A){var u=A.keyCode;return"charCode"in A?(A=A.charCode,A===0&&u===13&&(A=13)):A=u,A===10&&(A=13),32<=A||A===13?A:0}function fc(){return!0}function hc(){return!1}function xi(A){function u(p,y,E,O,ee){this._reactName=p,this._targetInst=E,this.type=y,this.nativeEvent=O,this.target=ee,this.currentTarget=null;for(var we in A)A.hasOwnProperty(we)&&(p=A[we],this[we]=p?p(O):O[we]);return this.isDefaultPrevented=(O.defaultPrevented!=null?O.defaultPrevented:O.returnValue===!1)?fc:hc,this.isPropagationStopped=hc,this}return h(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=fc)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=fc)},persist:function(){},isPersistent:fc}),u}var Za={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(A){return A.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sa=xi(Za),Uo=h({},Za,{view:0,detail:0}),dc=xi(Uo),dA,Oo,Lo,pA=h({},Uo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zt,button:0,buttons:0,relatedTarget:function(A){return A.relatedTarget===void 0?A.fromElement===A.srcElement?A.toElement:A.fromElement:A.relatedTarget},movementX:function(A){return"movementX"in A?A.movementX:(A!==Lo&&(Lo&&A.type==="mousemove"?(dA=A.screenX-Lo.screenX,Oo=A.screenY-Lo.screenY):Oo=dA=0,Lo=A),dA)},movementY:function(A){return"movementY"in A?A.movementY:Oo}}),$u=xi(pA),Do=h({},pA,{dataTransfer:0}),Io=xi(Do),gh=h({},Uo,{relatedTarget:0}),Ro=xi(gh),yh=h({},Za,{animationName:0,elapsedTime:0,pseudoElement:0}),j=xi(yh),ce=h({},Za,{clipboardData:function(A){return"clipboardData"in A?A.clipboardData:window.clipboardData}}),_e=xi(ce),Fe=h({},Za,{data:0}),Ie=xi(Fe),Xe={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},st={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},St={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nt(A){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(A):(A=St[A])?!!u[A]:!1}function Zt(){return Nt}var sr=h({},Uo,{key:function(A){if(A.key){var u=Xe[A.key]||A.key;if(u!=="Unidentified")return u}return A.type==="keypress"?(A=ia(A),A===13?"Enter":String.fromCharCode(A)):A.type==="keydown"||A.type==="keyup"?st[A.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zt,charCode:function(A){return A.type==="keypress"?ia(A):0},keyCode:function(A){return A.type==="keydown"||A.type==="keyup"?A.keyCode:0},which:function(A){return A.type==="keypress"?ia(A):A.type==="keydown"||A.type==="keyup"?A.keyCode:0}}),Sr=xi(sr),xn=h({},pA,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),jn=xi(xn),Xr=h({},Uo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zt}),ci=xi(Xr),Gn=h({},Za,{propertyName:0,elapsedTime:0,pseudoElement:0}),Oi=xi(Gn),Mo=h({},pA,{deltaX:function(A){return"deltaX"in A?A.deltaX:"wheelDeltaX"in A?-A.wheelDeltaX:0},deltaY:function(A){return"deltaY"in A?A.deltaY:"wheelDeltaY"in A?-A.wheelDeltaY:"wheelDelta"in A?-A.wheelDelta:0},deltaZ:0,deltaMode:0}),Na=xi(Mo),Qo=h({},Za,{newState:0,oldState:0}),Yu=xi(Qo),pc=[9,13,27,32],eo=Ui&&"CompositionEvent"in window,Fa=null;Ui&&"documentMode"in document&&(Fa=document.documentMode);var mA=Ui&&"TextEvent"in window&&!Fa,Ho=Ui&&(!eo||Fa&&8<Fa&&11>=Fa),Bi=" ",xl=!1;function Bl(A,u){switch(A){case"keyup":return pc.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mc(A){return A=A.detail,typeof A=="object"&&"data"in A?A.data:null}var to=!1;function As(A,u){switch(A){case"compositionend":return mc(u);case"keypress":return u.which!==32?null:(xl=!0,Bi);case"textInput":return A=u.data,A===Bi&&xl?null:A;default:return null}}function jo(A,u){if(to)return A==="compositionend"||!eo&&Bl(A,u)?(A=mh(),Xa=hA=qs=null,to=!1,A):null;switch(A){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return Ho&&u.locale!=="ko"?null:u.data;default:return null}}var gc={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ju(A){var u=A&&A.nodeName&&A.nodeName.toLowerCase();return u==="input"?!!gc[A.type]:u==="textarea"}function Gs(A,u,p,y){bl?Wt?Wt.push(y):Wt=[y]:bl=y,u=O0(u,"onChange"),0<u.length&&(p=new sa("onChange","change",null,p,y),A.push({event:p,listeners:u}))}var Ua=null,Po=null;function Xu(A){lk(A,0)}function Oa(A){var u=AA(A);if(ju(u))return A}function Cl(A,u){if(A==="change")return u}var ks=!1;if(Ui){var cs;if(Ui){var ro="oninput"in document;if(!ro){var no=document.createElement("div");no.setAttribute("oninput","return;"),ro=typeof no.oninput=="function"}cs=ro}else cs=!1;ks=cs&&(!document.documentMode||9<document.documentMode)}function zo(){Ua&&(Ua.detachEvent("onpropertychange",yc),Po=Ua=null)}function yc(A){if(A.propertyName==="value"&&Oa(Po)){var u=[];Gs(u,Po,A,uA(A)),ph(Xu,u)}}function wc(A,u,p){A==="focusin"?(zo(),Ua=u,Po=p,Ua.attachEvent("onpropertychange",yc)):A==="focusout"&&zo()}function Pn(A){if(A==="selectionchange"||A==="keyup"||A==="keydown")return Oa(Po)}function wh(A,u){if(A==="click")return Oa(u)}function io(A,u){if(A==="input"||A==="change")return Oa(u)}function so(A,u){return A===u&&(A!==0||1/A===1/u)||A!==A&&u!==u}var Li=typeof Object.is=="function"?Object.is:so;function Ko(A,u){if(Li(A,u))return!0;if(typeof A!="object"||A===null||typeof u!="object"||u===null)return!1;var p=Object.keys(A),y=Object.keys(u);if(p.length!==y.length)return!1;for(y=0;y<p.length;y++){var E=p[y];if(!z.call(u,E)||!Li(A[E],u[E]))return!1}return!0}function vc(A){for(;A&&A.firstChild;)A=A.firstChild;return A}function bc(A,u){var p=vc(A);A=0;for(var y;p;){if(p.nodeType===3){if(y=A+p.textContent.length,A<=u&&y>=u)return{node:p,offset:u-A};A=y}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=vc(p)}}function Vo(A,u){return A&&u?A===u?!0:A&&A.nodeType===3?!1:u&&u.nodeType===3?Vo(A,u.parentNode):"contains"in A?A.contains(u):A.compareDocumentPosition?!!(A.compareDocumentPosition(u)&16):!1:!1}function qo(A){A=A!=null&&A.ownerDocument!=null&&A.ownerDocument.defaultView!=null?A.ownerDocument.defaultView:window;for(var u=as(A.document);u instanceof A.HTMLIFrameElement;){try{var p=typeof u.contentWindow.location.href=="string"}catch{p=!1}if(p)A=u.contentWindow;else break;u=as(A.document)}return u}function ao(A){var u=A&&A.nodeName&&A.nodeName.toLowerCase();return u&&(u==="input"&&(A.type==="text"||A.type==="search"||A.type==="tel"||A.type==="url"||A.type==="password")||u==="textarea"||A.contentEditable==="true")}var gA=Ui&&"documentMode"in document&&11>=document.documentMode,Ws=null,Go=null,Ki=null,aa=!1;function Dr(A,u,p){var y=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;aa||Ws==null||Ws!==as(y)||(y=Ws,"selectionStart"in y&&ao(y)?y={start:y.selectionStart,end:y.selectionEnd}:(y=(y.ownerDocument&&y.ownerDocument.defaultView||window).getSelection(),y={anchorNode:y.anchorNode,anchorOffset:y.anchorOffset,focusNode:y.focusNode,focusOffset:y.focusOffset}),Ki&&Ko(Ki,y)||(Ki=y,y=O0(Go,"onSelect"),0<y.length&&(u=new sa("onSelect","select",null,u,p),A.push({event:u,listeners:y}),u.target=Ws)))}function Er(A,u){var p={};return p[A.toLowerCase()]=u.toLowerCase(),p["Webkit"+A]="webkit"+u,p["Moz"+A]="moz"+u,p}var Zr={animationend:Er("Animation","AnimationEnd"),animationiteration:Er("Animation","AnimationIteration"),animationstart:Er("Animation","AnimationStart"),transitionrun:Er("Transition","TransitionRun"),transitionstart:Er("Transition","TransitionStart"),transitioncancel:Er("Transition","TransitionCancel"),transitionend:Er("Transition","TransitionEnd")},zn={},oo={};Ui&&(oo=document.createElement("div").style,"AnimationEvent"in window||(delete Zr.animationend.animation,delete Zr.animationiteration.animation,delete Zr.animationstart.animation),"TransitionEvent"in window||delete Zr.transitionend.transition);function La(A){if(zn[A])return zn[A];if(!Zr[A])return A;var u=Zr[A],p;for(p in u)if(u.hasOwnProperty(p)&&p in oo)return zn[A]=u[p];return A}var yA=La("animationend"),Zu=La("animationiteration"),Ep=La("animationstart"),r0=La("transitionrun"),n0=La("transitionstart"),i0=La("transitioncancel"),_p=La("transitionend"),kp=new Map,wA="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");wA.push("scrollEnd");function oa(A,u){kp.set(A,u),Ea(u,[A])}var ef=typeof reportError=="function"?reportError:function(A){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var u=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof A=="object"&&A!==null&&typeof A.message=="string"?String(A.message):String(A),error:A});if(!window.dispatchEvent(u))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",A);return}console.error(A)},$s=[],vA=0,vh=0;function tf(){for(var A=vA,u=vh=vA=0;u<A;){var p=$s[u];$s[u++]=null;var y=$s[u];$s[u++]=null;var E=$s[u];$s[u++]=null;var O=$s[u];if($s[u++]=null,y!==null&&E!==null){var ee=y.pending;ee===null?E.next=E:(E.next=ee.next,ee.next=E),y.pending=E}O!==0&&nf(p,E,O)}}function rf(A,u,p,y){$s[vA++]=A,$s[vA++]=u,$s[vA++]=p,$s[vA++]=y,vh|=y,A.lanes|=y,A=A.alternate,A!==null&&(A.lanes|=y)}function bh(A,u,p,y){return rf(A,u,p,y),Vi(A)}function Wo(A,u){return rf(A,null,null,u),Vi(A)}function nf(A,u,p){A.lanes|=p;var y=A.alternate;y!==null&&(y.lanes|=p);for(var E=!1,O=A.return;O!==null;)O.childLanes|=p,y=O.alternate,y!==null&&(y.childLanes|=p),O.tag===22&&(A=O.stateNode,A===null||A._visibility&1||(E=!0)),A=O,O=O.return;return A.tag===3?(O=A.stateNode,E&&u!==null&&(E=31-Pt(p),A=O.hiddenUpdates,y=A[E],y===null?A[E]=[u]:y.push(u),u.lane=p|536870912),O):null}function Vi(A){if(50<Yp)throw Yp=0,Eb=null,Error(n(185));for(var u=A.return;u!==null;)A=u,u=A.return;return A.tag===3?A.stateNode:null}var Di={};function xh(A,u,p,y){this.tag=A,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qi(A,u,p,y){return new xh(A,u,p,y)}function Bh(A){return A=A.prototype,!(!A||!A.isReactComponent)}function la(A,u){var p=A.alternate;return p===null?(p=qi(A.tag,u,A.key,A.mode),p.elementType=A.elementType,p.type=A.type,p.stateNode=A.stateNode,p.alternate=A,A.alternate=p):(p.pendingProps=u,p.type=A.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=A.flags&65011712,p.childLanes=A.childLanes,p.lanes=A.lanes,p.child=A.child,p.memoizedProps=A.memoizedProps,p.memoizedState=A.memoizedState,p.updateQueue=A.updateQueue,u=A.dependencies,p.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},p.sibling=A.sibling,p.index=A.index,p.ref=A.ref,p.refCleanup=A.refCleanup,p}function sf(A,u){A.flags&=65011714;var p=A.alternate;return p===null?(A.childLanes=0,A.lanes=u,A.child=null,A.subtreeFlags=0,A.memoizedProps=null,A.memoizedState=null,A.updateQueue=null,A.dependencies=null,A.stateNode=null):(A.childLanes=p.childLanes,A.lanes=p.lanes,A.child=p.child,A.subtreeFlags=0,A.deletions=null,A.memoizedProps=p.memoizedProps,A.memoizedState=p.memoizedState,A.updateQueue=p.updateQueue,A.type=p.type,u=p.dependencies,A.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),A}function xc(A,u,p,y,E,O){var ee=0;if(y=A,typeof A=="function")Bh(A)&&(ee=1);else if(typeof A=="string")ee=Zj(A,p,te.current)?26:A==="html"||A==="head"||A==="body"?27:5;else e:switch(A){case F:return A=qi(31,p,u,E),A.elementType=F,A.lanes=O,A;case v:return Sl(p.children,E,O,u);case b:ee=8,E|=24;break;case w:return A=qi(12,p,u,E|2),A.elementType=w,A.lanes=O,A;case k:return A=qi(13,p,u,E),A.elementType=k,A.lanes=O,A;case M:return A=qi(19,p,u,E),A.elementType=M,A.lanes=O,A;default:if(typeof A=="object"&&A!==null)switch(A.$$typeof){case S:ee=10;break e;case B:ee=9;break e;case C:ee=11;break e;case D:ee=14;break e;case H:ee=16,y=null;break e}ee=29,p=Error(n(130,A===null?"null":typeof A,"")),y=null}return u=qi(ee,p,u,E),u.elementType=A,u.type=y,u.lanes=O,u}function Sl(A,u,p,y){return A=qi(7,A,y,u),A.lanes=p,A}function af(A,u,p){return A=qi(6,A,null,u),A.lanes=p,A}function Ch(A){var u=qi(18,null,null,0);return u.stateNode=A,u}function Bc(A,u,p){return u=qi(4,A.children!==null?A.children:[],A.key,u),u.lanes=p,u.stateNode={containerInfo:A.containerInfo,pendingChildren:null,implementation:A.implementation},u}var Sh=new WeakMap;function Aa(A,u){if(typeof A=="object"&&A!==null){var p=Sh.get(A);return p!==void 0?p:(u={value:A,source:u,stack:N(u)},Sh.set(A,u),u)}return{value:A,source:u,stack:N(u)}}var Cc=[],bA=0,Eh=null,of=0,ca=[],ua=0,El=null,fa=1,ha="";function Ys(A,u){Cc[bA++]=of,Cc[bA++]=Eh,Eh=A,of=u}function s0(A,u,p){ca[ua++]=fa,ca[ua++]=ha,ca[ua++]=El,El=A;var y=fa;A=ha;var E=32-Pt(y)-1;y&=~(1<<E),p+=1;var O=32-Pt(u)+E;if(30<O){var ee=E-E%5;O=(y&(1<<ee)-1).toString(32),y>>=ee,E-=ee,fa=1<<32-Pt(u)+E|p<<E|y,ha=O+A}else fa=1<<O|p<<E|y,ha=A}function Tp(A){A.return!==null&&(Ys(A,1),s0(A,1,0))}function _h(A){for(;A===Eh;)Eh=Cc[--bA],Cc[bA]=null,of=Cc[--bA],Cc[bA]=null;for(;A===El;)El=ca[--ua],ca[ua]=null,ha=ca[--ua],ca[ua]=null,fa=ca[--ua],ca[ua]=null}function a0(A,u){ca[ua++]=fa,ca[ua++]=ha,ca[ua++]=El,fa=u.id,ha=u.overflow,El=A}var Ii=null,ln=null,yr=!1,us=null,Nn=!1,Da=Error(n(519));function _l(A){var u=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Sc(Aa(u,A)),Da}function Np(A){var u=A.stateNode,p=A.type,y=A.memoizedProps;switch(u[Rr]=A,u[on]=y,p){case"dialog":vr("cancel",u),vr("close",u);break;case"iframe":case"object":case"embed":vr("load",u);break;case"video":case"audio":for(p=0;p<Xp.length;p++)vr(Xp[p],u);break;case"source":vr("error",u);break;case"img":case"image":case"link":vr("error",u),vr("load",u);break;case"details":vr("toggle",u);break;case"input":vr("invalid",u),ch(u,y.value,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name,!0);break;case"select":vr("invalid",u);break;case"textarea":vr("invalid",u),Ku(u,y.value,y.defaultValue,y.children)}p=y.children,typeof p!="string"&&typeof p!="number"&&typeof p!="bigint"||u.textContent===""+p||y.suppressHydrationWarning===!0||fk(u.textContent,p)?(y.popover!=null&&(vr("beforetoggle",u),vr("toggle",u)),y.onScroll!=null&&vr("scroll",u),y.onScrollEnd!=null&&vr("scrollend",u),y.onClick!=null&&(u.onclick=Ta),u=!0):u=!1,u||_l(A,!0)}function $o(A){for(Ii=A.return;Ii;)switch(Ii.tag){case 5:case 31:case 13:Nn=!1;return;case 27:case 3:Nn=!0;return;default:Ii=Ii.return}}function Ri(A){if(A!==Ii)return!1;if(!yr)return $o(A),yr=!0,!1;var u=A.tag,p;if((p=u!==3&&u!==27)&&((p=u===5)&&(p=A.type,p=!(p!=="form"&&p!=="button")||jb(A.type,A.memoizedProps)),p=!p),p&&ln&&_l(A),$o(A),u===13){if(A=A.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(n(317));ln=bk(A)}else if(u===31){if(A=A.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(n(317));ln=bk(A)}else u===27?(u=ln,Qc(A.type)?(A=qb,qb=null,ln=A):ln=u):ln=Ii?uo(A.stateNode.nextSibling):null;return!0}function xA(){ln=Ii=null,yr=!1}function Fp(){var A=us;return A!==null&&(wa===null?wa=A:wa.push.apply(wa,A),us=null),A}function Sc(A){us===null?us=[A]:us.push(A)}var kh=X(null),kl=null,lo=null;function Tl(A,u,p){J(kh,u._currentValue),u._currentValue=p}function da(A){A._currentValue=kh.current,I(kh)}function Ec(A,u,p){for(;A!==null;){var y=A.alternate;if((A.childLanes&u)!==u?(A.childLanes|=u,y!==null&&(y.childLanes|=u)):y!==null&&(y.childLanes&u)!==u&&(y.childLanes|=u),A===p)break;A=A.return}}function BA(A,u,p,y){var E=A.child;for(E!==null&&(E.return=A);E!==null;){var O=E.dependencies;if(O!==null){var ee=E.child;O=O.firstContext;e:for(;O!==null;){var we=O;O=E;for(var Ne=0;Ne<u.length;Ne++)if(we.context===u[Ne]){O.lanes|=p,we=O.alternate,we!==null&&(we.lanes|=p),Ec(O.return,p,A),y||(ee=null);break e}O=we.next}}else if(E.tag===18){if(ee=E.return,ee===null)throw Error(n(341));ee.lanes|=p,O=ee.alternate,O!==null&&(O.lanes|=p),Ec(ee,p,A),ee=null}else ee=E.child;if(ee!==null)ee.return=E;else for(ee=E;ee!==null;){if(ee===A){ee=null;break}if(E=ee.sibling,E!==null){E.return=ee.return,ee=E;break}ee=ee.return}E=ee}}function Nl(A,u,p,y){A=null;for(var E=u,O=!1;E!==null;){if(!O){if((E.flags&524288)!==0)O=!0;else if((E.flags&262144)!==0)break}if(E.tag===10){var ee=E.alternate;if(ee===null)throw Error(n(387));if(ee=ee.memoizedProps,ee!==null){var we=E.type;Li(E.pendingProps.value,ee.value)||(A!==null?A.push(we):A=[we])}}else if(E===Q.current){if(ee=E.alternate,ee===null)throw Error(n(387));ee.memoizedState.memoizedState!==E.memoizedState.memoizedState&&(A!==null?A.push(nm):A=[nm])}E=E.return}A!==null&&BA(u,A,p,y),u.flags|=262144}function Th(A){for(A=A.firstContext;A!==null;){if(!Li(A.context._currentValue,A.memoizedValue))return!0;A=A.next}return!1}function Fl(A){kl=A,lo=null,A=A.dependencies,A!==null&&(A.firstContext=null)}function Mi(A){return o0(kl,A)}function Nh(A,u){return kl===null&&Fl(A),o0(A,u)}function o0(A,u){var p=u._currentValue;if(u={context:u,memoizedValue:p,next:null},lo===null){if(A===null)throw Error(n(308));lo=u,A.dependencies={lanes:0,firstContext:u},A.flags|=524288}else lo=lo.next=u;return p}var Vv=typeof AbortController<"u"?AbortController:function(){var A=[],u=this.signal={aborted:!1,addEventListener:function(p,y){A.push(y)}};this.abort=function(){u.aborted=!0,A.forEach(function(p){return p()})}},qv=t.unstable_scheduleCallback,Gv=t.unstable_NormalPriority,Kn={$$typeof:S,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function _c(){return{controller:new Vv,data:new Map,refCount:0}}function lf(A){A.refCount--,A.refCount===0&&qv(Gv,function(){A.controller.abort()})}var Af=null,Fh=0,x=0,T=null;function K(A,u){if(Af===null){var p=Af=[];Fh=0,x=Ub(),T={status:"pending",value:void 0,then:function(y){p.push(y)}}}return Fh++,u.then(Z,Z),u}function Z(){if(--Fh===0&&Af!==null){T!==null&&(T.status="fulfilled");var A=Af;Af=null,x=0,T=null;for(var u=0;u<A.length;u++)(0,A[u])()}}function ue(A,u){var p=[],y={status:"pending",value:null,reason:null,then:function(E){p.push(E)}};return A.then(function(){y.status="fulfilled",y.value=u;for(var E=0;E<p.length;E++)(0,p[E])(u)},function(E){for(y.status="rejected",y.reason=E,E=0;E<p.length;E++)(0,p[E])(void 0)}),y}var pe=re.S;re.S=function(A,u){I4=je(),typeof u=="object"&&u!==null&&typeof u.then=="function"&&K(A,u),pe!==null&&pe(A,u)};var ye=X(null);function ve(){var A=ye.current;return A!==null?A:cn.pooledCache}function xe(A,u){u===null?J(ye,ye.current):J(ye,u.pool)}function Ee(){var A=ve();return A===null?null:{parent:Kn._currentValue,pool:A}}var Ue=Error(n(460)),Pe=Error(n(474)),Se=Error(n(542)),De={then:function(){}};function Me(A){return A=A.status,A==="fulfilled"||A==="rejected"}function Ye(A,u,p){switch(p=A[p],p===void 0?A.push(u):p!==u&&(u.then(Ta,Ta),u=p),u.status){case"fulfilled":return u.value;case"rejected":throw A=u.reason,At(A),A;default:if(typeof u.status=="string")u.then(Ta,Ta);else{if(A=cn,A!==null&&100<A.shellSuspendCounter)throw Error(n(482));A=u,A.status="pending",A.then(function(y){if(u.status==="pending"){var E=u;E.status="fulfilled",E.value=y}},function(y){if(u.status==="pending"){var E=u;E.status="rejected",E.reason=y}})}switch(u.status){case"fulfilled":return u.value;case"rejected":throw A=u.reason,At(A),A}throw $e=u,Ue}}function Qe(A){try{var u=A._init;return u(A._payload)}catch(p){throw p!==null&&typeof p=="object"&&typeof p.then=="function"?($e=p,Ue):p}}var $e=null;function Ze(){if($e===null)throw Error(n(459));var A=$e;return $e=null,A}function At(A){if(A===Ue||A===Se)throw Error(n(483))}var nt=null,kt=0;function vt(A){var u=kt;return kt+=1,nt===null&&(nt=[]),Ye(nt,A,u)}function rr(A,u){u=u.props.ref,A.ref=u!==void 0?u:null}function Ct(A,u){throw u.$$typeof===m?Error(n(525)):(A=Object.prototype.toString.call(u),Error(n(31,A==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":A)))}function mr(A){function u(Re,Le){if(A){var ze=Re.deletions;ze===null?(Re.deletions=[Le],Re.flags|=16):ze.push(Le)}}function p(Re,Le){if(!A)return null;for(;Le!==null;)u(Re,Le),Le=Le.sibling;return null}function y(Re){for(var Le=new Map;Re!==null;)Re.key!==null?Le.set(Re.key,Re):Le.set(Re.index,Re),Re=Re.sibling;return Le}function E(Re,Le){return Re=la(Re,Le),Re.index=0,Re.sibling=null,Re}function O(Re,Le,ze){return Re.index=ze,A?(ze=Re.alternate,ze!==null?(ze=ze.index,ze<Le?(Re.flags|=67108866,Le):ze):(Re.flags|=67108866,Le)):(Re.flags|=1048576,Le)}function ee(Re){return A&&Re.alternate===null&&(Re.flags|=67108866),Re}function we(Re,Le,ze,et){return Le===null||Le.tag!==6?(Le=af(ze,Re.mode,et),Le.return=Re,Le):(Le=E(Le,ze),Le.return=Re,Le)}function Ne(Re,Le,ze,et){var Kt=ze.type;return Kt===v?Je(Re,Le,ze.props.children,et,ze.key):Le!==null&&(Le.elementType===Kt||typeof Kt=="object"&&Kt!==null&&Kt.$$typeof===H&&Qe(Kt)===Le.type)?(Le=E(Le,ze.props),rr(Le,ze),Le.return=Re,Le):(Le=xc(ze.type,ze.key,ze.props,null,Re.mode,et),rr(Le,ze),Le.return=Re,Le)}function Ke(Re,Le,ze,et){return Le===null||Le.tag!==4||Le.stateNode.containerInfo!==ze.containerInfo||Le.stateNode.implementation!==ze.implementation?(Le=Bc(ze,Re.mode,et),Le.return=Re,Le):(Le=E(Le,ze.children||[]),Le.return=Re,Le)}function Je(Re,Le,ze,et,Kt){return Le===null||Le.tag!==7?(Le=Sl(ze,Re.mode,et,Kt),Le.return=Re,Le):(Le=E(Le,ze),Le.return=Re,Le)}function tt(Re,Le,ze){if(typeof Le=="string"&&Le!==""||typeof Le=="number"||typeof Le=="bigint")return Le=af(""+Le,Re.mode,ze),Le.return=Re,Le;if(typeof Le=="object"&&Le!==null){switch(Le.$$typeof){case d:return ze=xc(Le.type,Le.key,Le.props,null,Re.mode,ze),rr(ze,Le),ze.return=Re,ze;case g:return Le=Bc(Le,Re.mode,ze),Le.return=Re,Le;case H:return Le=Qe(Le),tt(Re,Le,ze)}if(ae(Le)||R(Le))return Le=Sl(Le,Re.mode,ze,null),Le.return=Re,Le;if(typeof Le.then=="function")return tt(Re,vt(Le),ze);if(Le.$$typeof===S)return tt(Re,Nh(Re,Le),ze);Ct(Re,Le)}return null}function qe(Re,Le,ze,et){var Kt=Le!==null?Le.key:null;if(typeof ze=="string"&&ze!==""||typeof ze=="number"||typeof ze=="bigint")return Kt!==null?null:we(Re,Le,""+ze,et);if(typeof ze=="object"&&ze!==null){switch(ze.$$typeof){case d:return ze.key===Kt?Ne(Re,Le,ze,et):null;case g:return ze.key===Kt?Ke(Re,Le,ze,et):null;case H:return ze=Qe(ze),qe(Re,Le,ze,et)}if(ae(ze)||R(ze))return Kt!==null?null:Je(Re,Le,ze,et,null);if(typeof ze.then=="function")return qe(Re,Le,vt(ze),et);if(ze.$$typeof===S)return qe(Re,Le,Nh(Re,ze),et);Ct(Re,ze)}return null}function Ge(Re,Le,ze,et,Kt){if(typeof et=="string"&&et!==""||typeof et=="number"||typeof et=="bigint")return Re=Re.get(ze)||null,we(Le,Re,""+et,Kt);if(typeof et=="object"&&et!==null){switch(et.$$typeof){case d:return Re=Re.get(et.key===null?ze:et.key)||null,Ne(Le,Re,et,Kt);case g:return Re=Re.get(et.key===null?ze:et.key)||null,Ke(Le,Re,et,Kt);case H:return et=Qe(et),Ge(Re,Le,ze,et,Kt)}if(ae(et)||R(et))return Re=Re.get(ze)||null,Je(Le,Re,et,Kt,null);if(typeof et.then=="function")return Ge(Re,Le,ze,vt(et),Kt);if(et.$$typeof===S)return Ge(Re,Le,ze,Nh(Le,et),Kt);Ct(Le,et)}return null}function Et(Re,Le,ze,et){for(var Kt=null,Mr=null,Ft=Le,fr=Le=0,xr=null;Ft!==null&&fr<ze.length;fr++){Ft.index>fr?(xr=Ft,Ft=null):xr=Ft.sibling;var Qr=qe(Re,Ft,ze[fr],et);if(Qr===null){Ft===null&&(Ft=xr);break}A&&Ft&&Qr.alternate===null&&u(Re,Ft),Le=O(Qr,Le,fr),Mr===null?Kt=Qr:Mr.sibling=Qr,Mr=Qr,Ft=xr}if(fr===ze.length)return p(Re,Ft),yr&&Ys(Re,fr),Kt;if(Ft===null){for(;fr<ze.length;fr++)Ft=tt(Re,ze[fr],et),Ft!==null&&(Le=O(Ft,Le,fr),Mr===null?Kt=Ft:Mr.sibling=Ft,Mr=Ft);return yr&&Ys(Re,fr),Kt}for(Ft=y(Ft);fr<ze.length;fr++)xr=Ge(Ft,Re,fr,ze[fr],et),xr!==null&&(A&&xr.alternate!==null&&Ft.delete(xr.key===null?fr:xr.key),Le=O(xr,Le,fr),Mr===null?Kt=xr:Mr.sibling=xr,Mr=xr);return A&&Ft.forEach(function(Kc){return u(Re,Kc)}),yr&&Ys(Re,fr),Kt}function Yt(Re,Le,ze,et){if(ze==null)throw Error(n(151));for(var Kt=null,Mr=null,Ft=Le,fr=Le=0,xr=null,Qr=ze.next();Ft!==null&&!Qr.done;fr++,Qr=ze.next()){Ft.index>fr?(xr=Ft,Ft=null):xr=Ft.sibling;var Kc=qe(Re,Ft,Qr.value,et);if(Kc===null){Ft===null&&(Ft=xr);break}A&&Ft&&Kc.alternate===null&&u(Re,Ft),Le=O(Kc,Le,fr),Mr===null?Kt=Kc:Mr.sibling=Kc,Mr=Kc,Ft=xr}if(Qr.done)return p(Re,Ft),yr&&Ys(Re,fr),Kt;if(Ft===null){for(;!Qr.done;fr++,Qr=ze.next())Qr=tt(Re,Qr.value,et),Qr!==null&&(Le=O(Qr,Le,fr),Mr===null?Kt=Qr:Mr.sibling=Qr,Mr=Qr);return yr&&Ys(Re,fr),Kt}for(Ft=y(Ft);!Qr.done;fr++,Qr=ze.next())Qr=Ge(Ft,Re,fr,Qr.value,et),Qr!==null&&(A&&Qr.alternate!==null&&Ft.delete(Qr.key===null?fr:Qr.key),Le=O(Qr,Le,fr),Mr===null?Kt=Qr:Mr.sibling=Qr,Mr=Qr);return A&&Ft.forEach(function(c7){return u(Re,c7)}),yr&&Ys(Re,fr),Kt}function nn(Re,Le,ze,et){if(typeof ze=="object"&&ze!==null&&ze.type===v&&ze.key===null&&(ze=ze.props.children),typeof ze=="object"&&ze!==null){switch(ze.$$typeof){case d:e:{for(var Kt=ze.key;Le!==null;){if(Le.key===Kt){if(Kt=ze.type,Kt===v){if(Le.tag===7){p(Re,Le.sibling),et=E(Le,ze.props.children),et.return=Re,Re=et;break e}}else if(Le.elementType===Kt||typeof Kt=="object"&&Kt!==null&&Kt.$$typeof===H&&Qe(Kt)===Le.type){p(Re,Le.sibling),et=E(Le,ze.props),rr(et,ze),et.return=Re,Re=et;break e}p(Re,Le);break}else u(Re,Le);Le=Le.sibling}ze.type===v?(et=Sl(ze.props.children,Re.mode,et,ze.key),et.return=Re,Re=et):(et=xc(ze.type,ze.key,ze.props,null,Re.mode,et),rr(et,ze),et.return=Re,Re=et)}return ee(Re);case g:e:{for(Kt=ze.key;Le!==null;){if(Le.key===Kt)if(Le.tag===4&&Le.stateNode.containerInfo===ze.containerInfo&&Le.stateNode.implementation===ze.implementation){p(Re,Le.sibling),et=E(Le,ze.children||[]),et.return=Re,Re=et;break e}else{p(Re,Le);break}else u(Re,Le);Le=Le.sibling}et=Bc(ze,Re.mode,et),et.return=Re,Re=et}return ee(Re);case H:return ze=Qe(ze),nn(Re,Le,ze,et)}if(ae(ze))return Et(Re,Le,ze,et);if(R(ze)){if(Kt=R(ze),typeof Kt!="function")throw Error(n(150));return ze=Kt.call(ze),Yt(Re,Le,ze,et)}if(typeof ze.then=="function")return nn(Re,Le,vt(ze),et);if(ze.$$typeof===S)return nn(Re,Le,Nh(Re,ze),et);Ct(Re,ze)}return typeof ze=="string"&&ze!==""||typeof ze=="number"||typeof ze=="bigint"?(ze=""+ze,Le!==null&&Le.tag===6?(p(Re,Le.sibling),et=E(Le,ze),et.return=Re,Re=et):(p(Re,Le),et=af(ze,Re.mode,et),et.return=Re,Re=et),ee(Re)):p(Re,Le)}return function(Re,Le,ze,et){try{kt=0;var Kt=nn(Re,Le,ze,et);return nt=null,Kt}catch(Ft){if(Ft===Ue||Ft===Se)throw Ft;var Mr=qi(29,Ft,null,Re.mode);return Mr.lanes=et,Mr.return=Re,Mr}}}var An=mr(!0),ar=mr(!1),bt=!1;function ht(A){A.updateQueue={baseState:A.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Bn(A,u){A=A.updateQueue,u.updateQueue===A&&(u.updateQueue={baseState:A.baseState,firstBaseUpdate:A.firstBaseUpdate,lastBaseUpdate:A.lastBaseUpdate,shared:A.shared,callbacks:null})}function $t(A){return{lane:A,tag:0,payload:null,callback:null,next:null}}function Ar(A,u,p){var y=A.updateQueue;if(y===null)return null;if(y=y.shared,(Pr&2)!==0){var E=y.pending;return E===null?u.next=u:(u.next=E.next,E.next=u),y.pending=u,u=Vi(A),nf(A,null,p),u}return rf(A,y,u,p),Vi(A)}function Hr(A,u,p){if(u=u.updateQueue,u!==null&&(u=u.shared,(p&4194048)!==0)){var y=u.lanes;y&=A.pendingLanes,p|=y,u.lanes=p,Fi(A,p)}}function ui(A,u){var p=A.updateQueue,y=A.alternate;if(y!==null&&(y=y.updateQueue,p===y)){var E=null,O=null;if(p=p.firstBaseUpdate,p!==null){do{var ee={lane:p.lane,tag:p.tag,payload:p.payload,callback:null,next:null};O===null?E=O=ee:O=O.next=ee,p=p.next}while(p!==null);O===null?E=O=u:O=O.next=u}else E=O=u;p={baseState:y.baseState,firstBaseUpdate:E,lastBaseUpdate:O,shared:y.shared,callbacks:y.callbacks},A.updateQueue=p;return}A=p.lastBaseUpdate,A===null?p.firstBaseUpdate=u:A.next=u,p.lastBaseUpdate=u}var Qi=!1;function en(){if(Qi){var A=T;if(A!==null)throw A}}function Wn(A,u,p,y){Qi=!1;var E=A.updateQueue;bt=!1;var O=E.firstBaseUpdate,ee=E.lastBaseUpdate,we=E.shared.pending;if(we!==null){E.shared.pending=null;var Ne=we,Ke=Ne.next;Ne.next=null,ee===null?O=Ke:ee.next=Ke,ee=Ne;var Je=A.alternate;Je!==null&&(Je=Je.updateQueue,we=Je.lastBaseUpdate,we!==ee&&(we===null?Je.firstBaseUpdate=Ke:we.next=Ke,Je.lastBaseUpdate=Ne))}if(O!==null){var tt=E.baseState;ee=0,Je=Ke=Ne=null,we=O;do{var qe=we.lane&-536870913,Ge=qe!==we.lane;if(Ge?(br&qe)===qe:(y&qe)===qe){qe!==0&&qe===x&&(Qi=!0),Je!==null&&(Je=Je.next={lane:0,tag:we.tag,payload:we.payload,callback:null,next:null});e:{var Et=A,Yt=we;qe=u;var nn=p;switch(Yt.tag){case 1:if(Et=Yt.payload,typeof Et=="function"){tt=Et.call(nn,tt,qe);break e}tt=Et;break e;case 3:Et.flags=Et.flags&-65537|128;case 0:if(Et=Yt.payload,qe=typeof Et=="function"?Et.call(nn,tt,qe):Et,qe==null)break e;tt=h({},tt,qe);break e;case 2:bt=!0}}qe=we.callback,qe!==null&&(A.flags|=64,Ge&&(A.flags|=8192),Ge=E.callbacks,Ge===null?E.callbacks=[qe]:Ge.push(qe))}else Ge={lane:qe,tag:we.tag,payload:we.payload,callback:we.callback,next:null},Je===null?(Ke=Je=Ge,Ne=tt):Je=Je.next=Ge,ee|=qe;if(we=we.next,we===null){if(we=E.shared.pending,we===null)break;Ge=we,we=Ge.next,Ge.next=null,E.lastBaseUpdate=Ge,E.shared.pending=null}}while(!0);Je===null&&(Ne=tt),E.baseState=Ne,E.firstBaseUpdate=Ke,E.lastBaseUpdate=Je,O===null&&(E.shared.lanes=0),Lc|=ee,A.lanes=ee,A.memoizedState=tt}}function Gi(A,u){if(typeof A!="function")throw Error(n(191,A));A.call(u)}function $n(A,u){var p=A.callbacks;if(p!==null)for(A.callbacks=null,A=0;A<p.length;A++)Gi(p[A],u)}var hr=X(null),Tr=X(0);function Cn(A,u){A=OA,J(Tr,A),J(hr,u),OA=A|u.baseLanes}function Ir(){J(Tr,OA),J(hr,hr.current)}function fi(){OA=Tr.current,I(hr),I(Tr)}var Sn=X(null),Nr=null;function Vn(A){var u=A.alternate;J(_r,_r.current&1),J(Sn,A),Nr===null&&(u===null||hr.current!==null||u.memoizedState!==null)&&(Nr=A)}function jr(A){J(_r,_r.current),J(Sn,A),Nr===null&&(Nr=A)}function Yn(A){A.tag===22?(J(_r,_r.current),J(Sn,A),Nr===null&&(Nr=A)):Jn()}function Jn(){J(_r,_r.current),J(Sn,Sn.current)}function Wr(A){I(Sn),Nr===A&&(Nr=null),I(_r)}var _r=X(0);function Wi(A){for(var u=A;u!==null;){if(u.tag===13){var p=u.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||Kb(p)||Vb(p)))return u}else if(u.tag===19&&(u.memoizedProps.revealOrder==="forwards"||u.memoizedProps.revealOrder==="backwards"||u.memoizedProps.revealOrder==="unstable_legacy-backwards"||u.memoizedProps.revealOrder==="together")){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===A)break;for(;u.sibling===null;){if(u.return===null||u.return===A)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var Fn=0,Ht=null,zt=null,Fr=null,Ts=!1,pa=!1,fs=!1,Xn=0,Ul=0,Ol=null,Uh=0;function tn(){throw Error(n(321))}function Up(A,u){if(u===null)return!1;for(var p=0;p<u.length&&p<A.length;p++)if(!Li(A[p],u[p]))return!1;return!0}function Op(A,u,p,y,E,O){return Fn=O,Ht=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,re.H=A===null||A.memoizedState===null?G_:tb,fs=!1,O=p(y,E),fs=!1,pa&&(O=Yo(u,p,y,E)),Oh(A),O}function Oh(A){re.H=jp;var u=zt!==null&&zt.next!==null;if(Fn=0,Fr=zt=Ht=null,Ts=!1,Ul=0,Ol=null,u)throw Error(n(300));A===null||Si||(A=A.dependencies,A!==null&&Th(A)&&(Si=!0))}function Yo(A,u,p,y){Ht=A;var E=0;do{if(pa&&(Ol=null),Ul=0,pa=!1,25<=E)throw Error(n(301));if(E+=1,Fr=zt=null,A.updateQueue!=null){var O=A.updateQueue;O.lastEffect=null,O.events=null,O.stores=null,O.memoCache!=null&&(O.memoCache.index=0)}re.H=W_,O=u(p,y)}while(pa);return O}function Wv(){var A=re.H,u=A.useState()[0];return u=typeof u.then=="function"?Ll(u):u,A=A.useState()[0],(zt!==null?zt.memoizedState:null)!==A&&(Ht.flags|=1024),u}function Lp(){var A=Xn!==0;return Xn=0,A}function Dp(A,u,p){u.updateQueue=A.updateQueue,u.flags&=-2053,A.lanes&=~p}function Lh(A){if(Ts){for(A=A.memoizedState;A!==null;){var u=A.queue;u!==null&&(u.pending=null),A=A.next}Ts=!1}Fn=0,Fr=zt=Ht=null,pa=!1,Ul=Xn=0,Ol=null}function Ci(){var A={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fr===null?Ht.memoizedState=Fr=A:Fr=Fr.next=A,Fr}function Un(){if(zt===null){var A=Ht.alternate;A=A!==null?A.memoizedState:null}else A=zt.next;var u=Fr===null?Ht.memoizedState:Fr.next;if(u!==null)Fr=u,zt=A;else{if(A===null)throw Ht.alternate===null?Error(n(467)):Error(n(310));zt=A,A={memoizedState:zt.memoizedState,baseState:zt.baseState,baseQueue:zt.baseQueue,queue:zt.queue,next:null},Fr===null?Ht.memoizedState=Fr=A:Fr=Fr.next=A}return Fr}function cf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ll(A){var u=Ul;return Ul+=1,Ol===null&&(Ol=[]),A=Ye(Ol,A,u),u=Ht,(Fr===null?u.memoizedState:Fr.next)===null&&(u=u.alternate,re.H=u===null||u.memoizedState===null?G_:tb),A}function kc(A){if(A!==null&&typeof A=="object"){if(typeof A.then=="function")return Ll(A);if(A.$$typeof===S)return Mi(A)}throw Error(n(438,String(A)))}function CA(A){var u=null,p=Ht.updateQueue;if(p!==null&&(u=p.memoCache),u==null){var y=Ht.alternate;y!==null&&(y=y.updateQueue,y!==null&&(y=y.memoCache,y!=null&&(u={data:y.data.map(function(E){return E.slice()}),index:0})))}if(u==null&&(u={data:[],index:0}),p===null&&(p=cf(),Ht.updateQueue=p),p.memoCache=u,p=u.data[u.index],p===void 0)for(p=u.data[u.index]=Array(A),y=0;y<A;y++)p[y]=$;return u.index++,p}function Ao(A,u){return typeof u=="function"?u(A):u}function Dh(A){var u=Un();return Tc(u,zt,A)}function Tc(A,u,p){var y=A.queue;if(y===null)throw Error(n(311));y.lastRenderedReducer=p;var E=A.baseQueue,O=y.pending;if(O!==null){if(E!==null){var ee=E.next;E.next=O.next,O.next=ee}u.baseQueue=E=O,y.pending=null}if(O=A.baseState,E===null)A.memoizedState=O;else{u=E.next;var we=ee=null,Ne=null,Ke=u,Je=!1;do{var tt=Ke.lane&-536870913;if(tt!==Ke.lane?(br&tt)===tt:(Fn&tt)===tt){var qe=Ke.revertLane;if(qe===0)Ne!==null&&(Ne=Ne.next={lane:0,revertLane:0,gesture:null,action:Ke.action,hasEagerState:Ke.hasEagerState,eagerState:Ke.eagerState,next:null}),tt===x&&(Je=!0);else if((Fn&qe)===qe){Ke=Ke.next,qe===x&&(Je=!0);continue}else tt={lane:0,revertLane:Ke.revertLane,gesture:null,action:Ke.action,hasEagerState:Ke.hasEagerState,eagerState:Ke.eagerState,next:null},Ne===null?(we=Ne=tt,ee=O):Ne=Ne.next=tt,Ht.lanes|=qe,Lc|=qe;tt=Ke.action,fs&&p(O,tt),O=Ke.hasEagerState?Ke.eagerState:p(O,tt)}else qe={lane:tt,revertLane:Ke.revertLane,gesture:Ke.gesture,action:Ke.action,hasEagerState:Ke.hasEagerState,eagerState:Ke.eagerState,next:null},Ne===null?(we=Ne=qe,ee=O):Ne=Ne.next=qe,Ht.lanes|=tt,Lc|=tt;Ke=Ke.next}while(Ke!==null&&Ke!==u);if(Ne===null?ee=O:Ne.next=we,!Li(O,A.memoizedState)&&(Si=!0,Je&&(p=T,p!==null)))throw p;A.memoizedState=O,A.baseState=ee,A.baseQueue=Ne,y.lastRenderedState=O}return E===null&&(y.lanes=0),[A.memoizedState,y.dispatch]}function Ih(A){var u=Un(),p=u.queue;if(p===null)throw Error(n(311));p.lastRenderedReducer=A;var y=p.dispatch,E=p.pending,O=u.memoizedState;if(E!==null){p.pending=null;var ee=E=E.next;do O=A(O,ee.action),ee=ee.next;while(ee!==E);Li(O,u.memoizedState)||(Si=!0),u.memoizedState=O,u.baseQueue===null&&(u.baseState=O),p.lastRenderedState=O}return[O,y]}function Rh(A,u,p){var y=Ht,E=Un(),O=yr;if(O){if(p===void 0)throw Error(n(407));p=p()}else p=u();var ee=!Li((zt||E).memoizedState,p);if(ee&&(E.memoizedState=p,Si=!0),E=E.queue,$v(Rp.bind(null,y,E,A),[A]),E.getSnapshot!==u||ee||Fr!==null&&Fr.memoizedState.tag&1){if(y.flags|=2048,EA(9,{destroy:void 0},Ip.bind(null,y,E,p,u),null),cn===null)throw Error(n(349));O||(Fn&127)!==0||Jo(y,u,p)}return p}function Jo(A,u,p){A.flags|=16384,A={getSnapshot:u,value:p},u=Ht.updateQueue,u===null?(u=cf(),Ht.updateQueue=u,u.stores=[A]):(p=u.stores,p===null?u.stores=[A]:p.push(A))}function Ip(A,u,p,y){u.value=p,u.getSnapshot=y,l0(u)&&Mp(A)}function Rp(A,u,p){return p(function(){l0(u)&&Mp(A)})}function l0(A){var u=A.getSnapshot;A=A.value;try{var p=u();return!Li(A,p)}catch{return!0}}function Mp(A){var u=Wo(A,2);u!==null&&va(u,A,2)}function Dl(A){var u=Ci();if(typeof A=="function"){var p=A;if(A=p(),fs){It(!0);try{p()}finally{It(!1)}}}return u.memoizedState=u.baseState=A,u.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ao,lastRenderedState:A},u}function A0(A,u,p,y){return A.baseState=p,Tc(A,zt,typeof y=="function"?y:Ao)}function c0(A,u,p,y,E){if(d0(A))throw Error(n(485));if(A=u.action,A!==null){var O={payload:E,action:A,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(ee){O.listeners.push(ee)}};re.T!==null?p(!0):O.isTransition=!1,y(O),p=u.pending,p===null?(O.next=u.pending=O,u0(u,O)):(O.next=p.next,u.pending=p.next=O)}}function u0(A,u){var p=u.action,y=u.payload,E=A.state;if(u.isTransition){var O=re.T,ee={};re.T=ee;try{var we=p(E,y),Ne=re.S;Ne!==null&&Ne(ee,we),Qp(A,u,we)}catch(Ke){SA(A,u,Ke)}finally{O!==null&&ee.types!==null&&(O.types=ee.types),re.T=O}}else try{O=p(E,y),Qp(A,u,O)}catch(Ke){SA(A,u,Ke)}}function Qp(A,u,p){p!==null&&typeof p=="object"&&typeof p.then=="function"?p.then(function(y){f0(A,u,y)},function(y){return SA(A,u,y)}):f0(A,u,p)}function f0(A,u,p){u.status="fulfilled",u.value=p,Mh(u),A.state=p,u=A.pending,u!==null&&(p=u.next,p===u?A.pending=null:(p=p.next,u.next=p,u0(A,p)))}function SA(A,u,p){var y=A.pending;if(A.pending=null,y!==null){y=y.next;do u.status="rejected",u.reason=p,Mh(u),u=u.next;while(u!==y)}A.action=null}function Mh(A){A=A.listeners;for(var u=0;u<A.length;u++)(0,A[u])()}function uf(A,u){return u}function co(A,u){if(yr){var p=cn.formState;if(p!==null){e:{var y=Ht;if(yr){if(ln){t:{for(var E=ln,O=Nn;E.nodeType!==8;){if(!O){E=null;break t}if(E=uo(E.nextSibling),E===null){E=null;break t}}O=E.data,E=O==="F!"||O==="F"?E:null}if(E){ln=uo(E.nextSibling),y=E.data==="F!";break e}}_l(y)}y=!1}y&&(u=p[0])}}return p=Ci(),p.memoizedState=p.baseState=u,y={pending:null,lanes:0,dispatch:null,lastRenderedReducer:uf,lastRenderedState:u},p.queue=y,p=K_.bind(null,Ht,y),y.dispatch=p,y=Dl(!1),O=eb.bind(null,Ht,!1,y.queue),y=Ci(),E={state:u,dispatch:null,action:A,pending:null},y.queue=E,p=c0.bind(null,Ht,E,O,p),E.dispatch=p,y.memoizedState=A,[u,p,!1]}function Xo(A){var u=Un();return Zo(u,zt,A)}function Zo(A,u,p){if(u=Tc(A,u,uf)[0],A=Dh(Ao)[0],typeof u=="object"&&u!==null&&typeof u.then=="function")try{var y=Ll(u)}catch(ee){throw ee===Ue?Se:ee}else y=u;u=Un();var E=u.queue,O=E.dispatch;return p!==u.memoizedState&&(Ht.flags|=2048,EA(9,{destroy:void 0},Qh.bind(null,E,p),null)),[y,O,A]}function Qh(A,u){A.action=u}function Hh(A){var u=Un(),p=zt;if(p!==null)return Zo(u,p,A);Un(),u=u.memoizedState,p=Un();var y=p.queue.dispatch;return p.memoizedState=A,[u,y,!1]}function EA(A,u,p,y){return A={tag:A,create:p,deps:y,inst:u,next:null},u=Ht.updateQueue,u===null&&(u=cf(),Ht.updateQueue=u),p=u.lastEffect,p===null?u.lastEffect=A.next=A:(y=p.next,p.next=A,A.next=y,u.lastEffect=A),A}function h0(){return Un().memoizedState}function Nc(A,u,p,y){var E=Ci();Ht.flags|=A,E.memoizedState=EA(1|u,{destroy:void 0},p,y===void 0?null:y)}function Fc(A,u,p,y){var E=Un();y=y===void 0?null:y;var O=E.memoizedState.inst;zt!==null&&y!==null&&Up(y,zt.memoizedState.deps)?E.memoizedState=EA(u,O,p,y):(Ht.flags|=A,E.memoizedState=EA(1|u,O,p,y))}function N_(A,u){Nc(8390656,8,A,u)}function $v(A,u){Fc(2048,8,A,u)}function ij(A){Ht.flags|=4;var u=Ht.updateQueue;if(u===null)u=cf(),Ht.updateQueue=u,u.events=[A];else{var p=u.events;p===null?u.events=[A]:p.push(A)}}function F_(A){var u=Un().memoizedState;return ij({ref:u,nextImpl:A}),function(){if((Pr&2)!==0)throw Error(n(440));return u.impl.apply(void 0,arguments)}}function U_(A,u){return Fc(4,2,A,u)}function O_(A,u){return Fc(4,4,A,u)}function L_(A,u){if(typeof u=="function"){A=A();var p=u(A);return function(){typeof p=="function"?p():u(null)}}if(u!=null)return A=A(),u.current=A,function(){u.current=null}}function D_(A,u,p){p=p!=null?p.concat([A]):null,Fc(4,4,L_.bind(null,u,A),p)}function Yv(){}function I_(A,u){var p=Un();u=u===void 0?null:u;var y=p.memoizedState;return u!==null&&Up(u,y[1])?y[0]:(p.memoizedState=[A,u],A)}function R_(A,u){var p=Un();u=u===void 0?null:u;var y=p.memoizedState;if(u!==null&&Up(u,y[1]))return y[0];if(y=A(),fs){It(!0);try{A()}finally{It(!1)}}return p.memoizedState=[y,u],y}function Jv(A,u,p){return p===void 0||(Fn&1073741824)!==0&&(br&261930)===0?A.memoizedState=u:(A.memoizedState=p,A=M4(),Ht.lanes|=A,Lc|=A,p)}function M_(A,u,p,y){return Li(p,u)?p:hr.current!==null?(A=Jv(A,p,y),Li(A,u)||(Si=!0),A):(Fn&42)===0||(Fn&1073741824)!==0&&(br&261930)===0?(Si=!0,A.memoizedState=p):(A=M4(),Ht.lanes|=A,Lc|=A,u)}function Q_(A,u,p,y,E){var O=Y.p;Y.p=O!==0&&8>O?O:8;var ee=re.T,we={};re.T=we,eb(A,!1,u,p);try{var Ne=E(),Ke=re.S;if(Ke!==null&&Ke(we,Ne),Ne!==null&&typeof Ne=="object"&&typeof Ne.then=="function"){var Je=ue(Ne,y);Hp(A,u,Je,Ma(A))}else Hp(A,u,y,Ma(A))}catch(tt){Hp(A,u,{then:function(){},status:"rejected",reason:tt},Ma())}finally{Y.p=O,ee!==null&&we.types!==null&&(ee.types=we.types),re.T=ee}}function sj(){}function Xv(A,u,p,y){if(A.tag!==5)throw Error(n(476));var E=H_(A).queue;Q_(A,E,u,he,p===null?sj:function(){return j_(A),p(y)})}function H_(A){var u=A.memoizedState;if(u!==null)return u;u={memoizedState:he,baseState:he,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ao,lastRenderedState:he},next:null};var p={};return u.next={memoizedState:p,baseState:p,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ao,lastRenderedState:p},next:null},A.memoizedState=u,A=A.alternate,A!==null&&(A.memoizedState=u),u}function j_(A){var u=H_(A);u.next===null&&(u=A.alternate.memoizedState),Hp(A,u.next.queue,{},Ma())}function Zv(){return Mi(nm)}function P_(){return Un().memoizedState}function z_(){return Un().memoizedState}function aj(A){for(var u=A.return;u!==null;){switch(u.tag){case 24:case 3:var p=Ma();A=$t(p);var y=Ar(u,A,p);y!==null&&(va(y,u,p),Hr(y,u,p)),u={cache:_c()},A.payload=u;return}u=u.return}}function oj(A,u,p){var y=Ma();p={lane:y,revertLane:0,gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},d0(A)?V_(u,p):(p=bh(A,u,p,y),p!==null&&(va(p,A,y),q_(p,u,y)))}function K_(A,u,p){var y=Ma();Hp(A,u,p,y)}function Hp(A,u,p,y){var E={lane:y,revertLane:0,gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null};if(d0(A))V_(u,E);else{var O=A.alternate;if(A.lanes===0&&(O===null||O.lanes===0)&&(O=u.lastRenderedReducer,O!==null))try{var ee=u.lastRenderedState,we=O(ee,p);if(E.hasEagerState=!0,E.eagerState=we,Li(we,ee))return rf(A,u,E,0),cn===null&&tf(),!1}catch{}if(p=bh(A,u,E,y),p!==null)return va(p,A,y),q_(p,u,y),!0}return!1}function eb(A,u,p,y){if(y={lane:2,revertLane:Ub(),gesture:null,action:y,hasEagerState:!1,eagerState:null,next:null},d0(A)){if(u)throw Error(n(479))}else u=bh(A,p,y,2),u!==null&&va(u,A,2)}function d0(A){var u=A.alternate;return A===Ht||u!==null&&u===Ht}function V_(A,u){pa=Ts=!0;var p=A.pending;p===null?u.next=u:(u.next=p.next,p.next=u),A.pending=u}function q_(A,u,p){if((p&4194048)!==0){var y=u.lanes;y&=A.pendingLanes,p|=y,u.lanes=p,Fi(A,p)}}var jp={readContext:Mi,use:kc,useCallback:tn,useContext:tn,useEffect:tn,useImperativeHandle:tn,useLayoutEffect:tn,useInsertionEffect:tn,useMemo:tn,useReducer:tn,useRef:tn,useState:tn,useDebugValue:tn,useDeferredValue:tn,useTransition:tn,useSyncExternalStore:tn,useId:tn,useHostTransitionStatus:tn,useFormState:tn,useActionState:tn,useOptimistic:tn,useMemoCache:tn,useCacheRefresh:tn};jp.useEffectEvent=tn;var G_={readContext:Mi,use:kc,useCallback:function(A,u){return Ci().memoizedState=[A,u===void 0?null:u],A},useContext:Mi,useEffect:N_,useImperativeHandle:function(A,u,p){p=p!=null?p.concat([A]):null,Nc(4194308,4,L_.bind(null,u,A),p)},useLayoutEffect:function(A,u){return Nc(4194308,4,A,u)},useInsertionEffect:function(A,u){Nc(4,2,A,u)},useMemo:function(A,u){var p=Ci();u=u===void 0?null:u;var y=A();if(fs){It(!0);try{A()}finally{It(!1)}}return p.memoizedState=[y,u],y},useReducer:function(A,u,p){var y=Ci();if(p!==void 0){var E=p(u);if(fs){It(!0);try{p(u)}finally{It(!1)}}}else E=u;return y.memoizedState=y.baseState=E,A={pending:null,lanes:0,dispatch:null,lastRenderedReducer:A,lastRenderedState:E},y.queue=A,A=A.dispatch=oj.bind(null,Ht,A),[y.memoizedState,A]},useRef:function(A){var u=Ci();return A={current:A},u.memoizedState=A},useState:function(A){A=Dl(A);var u=A.queue,p=K_.bind(null,Ht,u);return u.dispatch=p,[A.memoizedState,p]},useDebugValue:Yv,useDeferredValue:function(A,u){var p=Ci();return Jv(p,A,u)},useTransition:function(){var A=Dl(!1);return A=Q_.bind(null,Ht,A.queue,!0,!1),Ci().memoizedState=A,[!1,A]},useSyncExternalStore:function(A,u,p){var y=Ht,E=Ci();if(yr){if(p===void 0)throw Error(n(407));p=p()}else{if(p=u(),cn===null)throw Error(n(349));(br&127)!==0||Jo(y,u,p)}E.memoizedState=p;var O={value:p,getSnapshot:u};return E.queue=O,N_(Rp.bind(null,y,O,A),[A]),y.flags|=2048,EA(9,{destroy:void 0},Ip.bind(null,y,O,p,u),null),p},useId:function(){var A=Ci(),u=cn.identifierPrefix;if(yr){var p=ha,y=fa;p=(y&~(1<<32-Pt(y)-1)).toString(32)+p,u="_"+u+"R_"+p,p=Xn++,0<p&&(u+="H"+p.toString(32)),u+="_"}else p=Uh++,u="_"+u+"r_"+p.toString(32)+"_";return A.memoizedState=u},useHostTransitionStatus:Zv,useFormState:co,useActionState:co,useOptimistic:function(A){var u=Ci();u.memoizedState=u.baseState=A;var p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return u.queue=p,u=eb.bind(null,Ht,!0,p),p.dispatch=u,[A,u]},useMemoCache:CA,useCacheRefresh:function(){return Ci().memoizedState=aj.bind(null,Ht)},useEffectEvent:function(A){var u=Ci(),p={impl:A};return u.memoizedState=p,function(){if((Pr&2)!==0)throw Error(n(440));return p.impl.apply(void 0,arguments)}}},tb={readContext:Mi,use:kc,useCallback:I_,useContext:Mi,useEffect:$v,useImperativeHandle:D_,useInsertionEffect:U_,useLayoutEffect:O_,useMemo:R_,useReducer:Dh,useRef:h0,useState:function(){return Dh(Ao)},useDebugValue:Yv,useDeferredValue:function(A,u){var p=Un();return M_(p,zt.memoizedState,A,u)},useTransition:function(){var A=Dh(Ao)[0],u=Un().memoizedState;return[typeof A=="boolean"?A:Ll(A),u]},useSyncExternalStore:Rh,useId:P_,useHostTransitionStatus:Zv,useFormState:Xo,useActionState:Xo,useOptimistic:function(A,u){var p=Un();return A0(p,zt,A,u)},useMemoCache:CA,useCacheRefresh:z_};tb.useEffectEvent=F_;var W_={readContext:Mi,use:kc,useCallback:I_,useContext:Mi,useEffect:$v,useImperativeHandle:D_,useInsertionEffect:U_,useLayoutEffect:O_,useMemo:R_,useReducer:Ih,useRef:h0,useState:function(){return Ih(Ao)},useDebugValue:Yv,useDeferredValue:function(A,u){var p=Un();return zt===null?Jv(p,A,u):M_(p,zt.memoizedState,A,u)},useTransition:function(){var A=Ih(Ao)[0],u=Un().memoizedState;return[typeof A=="boolean"?A:Ll(A),u]},useSyncExternalStore:Rh,useId:P_,useHostTransitionStatus:Zv,useFormState:Hh,useActionState:Hh,useOptimistic:function(A,u){var p=Un();return zt!==null?A0(p,zt,A,u):(p.baseState=A,[A,p.queue.dispatch])},useMemoCache:CA,useCacheRefresh:z_};W_.useEffectEvent=F_;function rb(A,u,p,y){u=A.memoizedState,p=p(y,u),p=p==null?u:h({},u,p),A.memoizedState=p,A.lanes===0&&(A.updateQueue.baseState=p)}var nb={enqueueSetState:function(A,u,p){A=A._reactInternals;var y=Ma(),E=$t(y);E.payload=u,p!=null&&(E.callback=p),u=Ar(A,E,y),u!==null&&(va(u,A,y),Hr(u,A,y))},enqueueReplaceState:function(A,u,p){A=A._reactInternals;var y=Ma(),E=$t(y);E.tag=1,E.payload=u,p!=null&&(E.callback=p),u=Ar(A,E,y),u!==null&&(va(u,A,y),Hr(u,A,y))},enqueueForceUpdate:function(A,u){A=A._reactInternals;var p=Ma(),y=$t(p);y.tag=2,u!=null&&(y.callback=u),u=Ar(A,y,p),u!==null&&(va(u,A,p),Hr(u,A,p))}};function $_(A,u,p,y,E,O,ee){return A=A.stateNode,typeof A.shouldComponentUpdate=="function"?A.shouldComponentUpdate(y,O,ee):u.prototype&&u.prototype.isPureReactComponent?!Ko(p,y)||!Ko(E,O):!0}function Y_(A,u,p,y){A=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(p,y),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(p,y),u.state!==A&&nb.enqueueReplaceState(u,u.state,null)}function ff(A,u){var p=u;if("ref"in u){p={};for(var y in u)y!=="ref"&&(p[y]=u[y])}if(A=A.defaultProps){p===u&&(p=h({},p));for(var E in A)p[E]===void 0&&(p[E]=A[E])}return p}function J_(A){ef(A)}function X_(A){console.error(A)}function Z_(A){ef(A)}function p0(A,u){try{var p=A.onUncaughtError;p(u.value,{componentStack:u.stack})}catch(y){setTimeout(function(){throw y})}}function e4(A,u,p){try{var y=A.onCaughtError;y(p.value,{componentStack:p.stack,errorBoundary:u.tag===1?u.stateNode:null})}catch(E){setTimeout(function(){throw E})}}function ib(A,u,p){return p=$t(p),p.tag=3,p.payload={element:null},p.callback=function(){p0(A,u)},p}function t4(A){return A=$t(A),A.tag=3,A}function r4(A,u,p,y){var E=p.type.getDerivedStateFromError;if(typeof E=="function"){var O=y.value;A.payload=function(){return E(O)},A.callback=function(){e4(u,p,y)}}var ee=p.stateNode;ee!==null&&typeof ee.componentDidCatch=="function"&&(A.callback=function(){e4(u,p,y),typeof E!="function"&&(Dc===null?Dc=new Set([this]):Dc.add(this));var we=y.stack;this.componentDidCatch(y.value,{componentStack:we!==null?we:""})})}function lj(A,u,p,y,E){if(p.flags|=32768,y!==null&&typeof y=="object"&&typeof y.then=="function"){if(u=p.alternate,u!==null&&Nl(u,p,E,!0),p=Sn.current,p!==null){switch(p.tag){case 31:case 13:return Nr===null?_0():p.alternate===null&&Zn===0&&(Zn=3),p.flags&=-257,p.flags|=65536,p.lanes=E,y===De?p.flags|=16384:(u=p.updateQueue,u===null?p.updateQueue=new Set([y]):u.add(y),Tb(A,y,E)),!1;case 22:return p.flags|=65536,y===De?p.flags|=16384:(u=p.updateQueue,u===null?(u={transitions:null,markerInstances:null,retryQueue:new Set([y])},p.updateQueue=u):(p=u.retryQueue,p===null?u.retryQueue=new Set([y]):p.add(y)),Tb(A,y,E)),!1}throw Error(n(435,p.tag))}return Tb(A,y,E),_0(),!1}if(yr)return u=Sn.current,u!==null?((u.flags&65536)===0&&(u.flags|=256),u.flags|=65536,u.lanes=E,y!==Da&&(A=Error(n(422),{cause:y}),Sc(Aa(A,p)))):(y!==Da&&(u=Error(n(423),{cause:y}),Sc(Aa(u,p))),A=A.current.alternate,A.flags|=65536,E&=-E,A.lanes|=E,y=Aa(y,p),E=ib(A.stateNode,y,E),ui(A,E),Zn!==4&&(Zn=2)),!1;var O=Error(n(520),{cause:y});if(O=Aa(O,p),$p===null?$p=[O]:$p.push(O),Zn!==4&&(Zn=2),u===null)return!0;y=Aa(y,p),p=u;do{switch(p.tag){case 3:return p.flags|=65536,A=E&-E,p.lanes|=A,A=ib(p.stateNode,y,A),ui(p,A),!1;case 1:if(u=p.type,O=p.stateNode,(p.flags&128)===0&&(typeof u.getDerivedStateFromError=="function"||O!==null&&typeof O.componentDidCatch=="function"&&(Dc===null||!Dc.has(O))))return p.flags|=65536,E&=-E,p.lanes|=E,E=t4(E),r4(E,A,p,y),ui(p,E),!1}p=p.return}while(p!==null);return!1}var sb=Error(n(461)),Si=!1;function hs(A,u,p,y){u.child=A===null?ar(u,null,p,y):An(u,A.child,p,y)}function n4(A,u,p,y,E){p=p.render;var O=u.ref;if("ref"in y){var ee={};for(var we in y)we!=="ref"&&(ee[we]=y[we])}else ee=y;return Fl(u),y=Op(A,u,p,ee,O,E),we=Lp(),A!==null&&!Si?(Dp(A,u,E),_A(A,u,E)):(yr&&we&&Tp(u),u.flags|=1,hs(A,u,y,E),u.child)}function i4(A,u,p,y,E){if(A===null){var O=p.type;return typeof O=="function"&&!Bh(O)&&O.defaultProps===void 0&&p.compare===null?(u.tag=15,u.type=O,s4(A,u,O,y,E)):(A=xc(p.type,null,y,u,u.mode,E),A.ref=u.ref,A.return=u,u.child=A)}if(O=A.child,!hb(A,E)){var ee=O.memoizedProps;if(p=p.compare,p=p!==null?p:Ko,p(ee,y)&&A.ref===u.ref)return _A(A,u,E)}return u.flags|=1,A=la(O,y),A.ref=u.ref,A.return=u,u.child=A}function s4(A,u,p,y,E){if(A!==null){var O=A.memoizedProps;if(Ko(O,y)&&A.ref===u.ref)if(Si=!1,u.pendingProps=y=O,hb(A,E))(A.flags&131072)!==0&&(Si=!0);else return u.lanes=A.lanes,_A(A,u,E)}return ab(A,u,p,y,E)}function a4(A,u,p,y){var E=y.children,O=A!==null?A.memoizedState:null;if(A===null&&u.stateNode===null&&(u.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),y.mode==="hidden"){if((u.flags&128)!==0){if(O=O!==null?O.baseLanes|p:p,A!==null){for(y=u.child=A.child,E=0;y!==null;)E=E|y.lanes|y.childLanes,y=y.sibling;y=E&~O}else y=0,u.child=null;return o4(A,u,O,p,y)}if((p&536870912)!==0)u.memoizedState={baseLanes:0,cachePool:null},A!==null&&xe(u,O!==null?O.cachePool:null),O!==null?Cn(u,O):Ir(),Yn(u);else return y=u.lanes=536870912,o4(A,u,O!==null?O.baseLanes|p:p,p,y)}else O!==null?(xe(u,O.cachePool),Cn(u,O),Jn(),u.memoizedState=null):(A!==null&&xe(u,null),Ir(),Jn());return hs(A,u,E,p),u.child}function Pp(A,u){return A!==null&&A.tag===22||u.stateNode!==null||(u.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.sibling}function o4(A,u,p,y,E){var O=ve();return O=O===null?null:{parent:Kn._currentValue,pool:O},u.memoizedState={baseLanes:p,cachePool:O},A!==null&&xe(u,null),Ir(),Yn(u),A!==null&&Nl(A,u,y,!0),u.childLanes=E,null}function m0(A,u){return u=y0({mode:u.mode,children:u.children},A.mode),u.ref=A.ref,A.child=u,u.return=A,u}function l4(A,u,p){return An(u,A.child,null,p),A=m0(u,u.pendingProps),A.flags|=2,Wr(u),u.memoizedState=null,A}function Aj(A,u,p){var y=u.pendingProps,E=(u.flags&128)!==0;if(u.flags&=-129,A===null){if(yr){if(y.mode==="hidden")return A=m0(u,y),u.lanes=536870912,Pp(null,A);if(jr(u),(A=ln)?(A=vk(A,Nn),A=A!==null&&A.data==="&"?A:null,A!==null&&(u.memoizedState={dehydrated:A,treeContext:El!==null?{id:fa,overflow:ha}:null,retryLane:536870912,hydrationErrors:null},p=Ch(A),p.return=u,u.child=p,Ii=u,ln=null)):A=null,A===null)throw _l(u);return u.lanes=536870912,null}return m0(u,y)}var O=A.memoizedState;if(O!==null){var ee=O.dehydrated;if(jr(u),E)if(u.flags&256)u.flags&=-257,u=l4(A,u,p);else if(u.memoizedState!==null)u.child=A.child,u.flags|=128,u=null;else throw Error(n(558));else if(Si||Nl(A,u,p,!1),E=(p&A.childLanes)!==0,Si||E){if(y=cn,y!==null&&(ee=vi(y,p),ee!==0&&ee!==O.retryLane))throw O.retryLane=ee,Wo(A,ee),va(y,A,ee),sb;_0(),u=l4(A,u,p)}else A=O.treeContext,ln=uo(ee.nextSibling),Ii=u,yr=!0,us=null,Nn=!1,A!==null&&a0(u,A),u=m0(u,y),u.flags|=4096;return u}return A=la(A.child,{mode:y.mode,children:y.children}),A.ref=u.ref,u.child=A,A.return=u,A}function g0(A,u){var p=u.ref;if(p===null)A!==null&&A.ref!==null&&(u.flags|=4194816);else{if(typeof p!="function"&&typeof p!="object")throw Error(n(284));(A===null||A.ref!==p)&&(u.flags|=4194816)}}function ab(A,u,p,y,E){return Fl(u),p=Op(A,u,p,y,void 0,E),y=Lp(),A!==null&&!Si?(Dp(A,u,E),_A(A,u,E)):(yr&&y&&Tp(u),u.flags|=1,hs(A,u,p,E),u.child)}function A4(A,u,p,y,E,O){return Fl(u),u.updateQueue=null,p=Yo(u,y,p,E),Oh(A),y=Lp(),A!==null&&!Si?(Dp(A,u,O),_A(A,u,O)):(yr&&y&&Tp(u),u.flags|=1,hs(A,u,p,O),u.child)}function c4(A,u,p,y,E){if(Fl(u),u.stateNode===null){var O=Di,ee=p.contextType;typeof ee=="object"&&ee!==null&&(O=Mi(ee)),O=new p(y,O),u.memoizedState=O.state!==null&&O.state!==void 0?O.state:null,O.updater=nb,u.stateNode=O,O._reactInternals=u,O=u.stateNode,O.props=y,O.state=u.memoizedState,O.refs={},ht(u),ee=p.contextType,O.context=typeof ee=="object"&&ee!==null?Mi(ee):Di,O.state=u.memoizedState,ee=p.getDerivedStateFromProps,typeof ee=="function"&&(rb(u,p,ee,y),O.state=u.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof O.getSnapshotBeforeUpdate=="function"||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(ee=O.state,typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount(),ee!==O.state&&nb.enqueueReplaceState(O,O.state,null),Wn(u,y,O,E),en(),O.state=u.memoizedState),typeof O.componentDidMount=="function"&&(u.flags|=4194308),y=!0}else if(A===null){O=u.stateNode;var we=u.memoizedProps,Ne=ff(p,we);O.props=Ne;var Ke=O.context,Je=p.contextType;ee=Di,typeof Je=="object"&&Je!==null&&(ee=Mi(Je));var tt=p.getDerivedStateFromProps;Je=typeof tt=="function"||typeof O.getSnapshotBeforeUpdate=="function",we=u.pendingProps!==we,Je||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(we||Ke!==ee)&&Y_(u,O,y,ee),bt=!1;var qe=u.memoizedState;O.state=qe,Wn(u,y,O,E),en(),Ke=u.memoizedState,we||qe!==Ke||bt?(typeof tt=="function"&&(rb(u,p,tt,y),Ke=u.memoizedState),(Ne=bt||$_(u,p,Ne,y,qe,Ke,ee))?(Je||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount()),typeof O.componentDidMount=="function"&&(u.flags|=4194308)):(typeof O.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=y,u.memoizedState=Ke),O.props=y,O.state=Ke,O.context=ee,y=Ne):(typeof O.componentDidMount=="function"&&(u.flags|=4194308),y=!1)}else{O=u.stateNode,Bn(A,u),ee=u.memoizedProps,Je=ff(p,ee),O.props=Je,tt=u.pendingProps,qe=O.context,Ke=p.contextType,Ne=Di,typeof Ke=="object"&&Ke!==null&&(Ne=Mi(Ke)),we=p.getDerivedStateFromProps,(Ke=typeof we=="function"||typeof O.getSnapshotBeforeUpdate=="function")||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(ee!==tt||qe!==Ne)&&Y_(u,O,y,Ne),bt=!1,qe=u.memoizedState,O.state=qe,Wn(u,y,O,E),en();var Ge=u.memoizedState;ee!==tt||qe!==Ge||bt||A!==null&&A.dependencies!==null&&Th(A.dependencies)?(typeof we=="function"&&(rb(u,p,we,y),Ge=u.memoizedState),(Je=bt||$_(u,p,Je,y,qe,Ge,Ne)||A!==null&&A.dependencies!==null&&Th(A.dependencies))?(Ke||typeof O.UNSAFE_componentWillUpdate!="function"&&typeof O.componentWillUpdate!="function"||(typeof O.componentWillUpdate=="function"&&O.componentWillUpdate(y,Ge,Ne),typeof O.UNSAFE_componentWillUpdate=="function"&&O.UNSAFE_componentWillUpdate(y,Ge,Ne)),typeof O.componentDidUpdate=="function"&&(u.flags|=4),typeof O.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof O.componentDidUpdate!="function"||ee===A.memoizedProps&&qe===A.memoizedState||(u.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||ee===A.memoizedProps&&qe===A.memoizedState||(u.flags|=1024),u.memoizedProps=y,u.memoizedState=Ge),O.props=y,O.state=Ge,O.context=Ne,y=Je):(typeof O.componentDidUpdate!="function"||ee===A.memoizedProps&&qe===A.memoizedState||(u.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||ee===A.memoizedProps&&qe===A.memoizedState||(u.flags|=1024),y=!1)}return O=y,g0(A,u),y=(u.flags&128)!==0,O||y?(O=u.stateNode,p=y&&typeof p.getDerivedStateFromError!="function"?null:O.render(),u.flags|=1,A!==null&&y?(u.child=An(u,A.child,null,E),u.child=An(u,null,p,E)):hs(A,u,p,E),u.memoizedState=O.state,A=u.child):A=_A(A,u,E),A}function u4(A,u,p,y){return xA(),u.flags|=256,hs(A,u,p,y),u.child}var ob={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function lb(A){return{baseLanes:A,cachePool:Ee()}}function Ab(A,u,p){return A=A!==null?A.childLanes&~p:0,u&&(A|=Ra),A}function f4(A,u,p){var y=u.pendingProps,E=!1,O=(u.flags&128)!==0,ee;if((ee=O)||(ee=A!==null&&A.memoizedState===null?!1:(_r.current&2)!==0),ee&&(E=!0,u.flags&=-129),ee=(u.flags&32)!==0,u.flags&=-33,A===null){if(yr){if(E?Vn(u):Jn(),(A=ln)?(A=vk(A,Nn),A=A!==null&&A.data!=="&"?A:null,A!==null&&(u.memoizedState={dehydrated:A,treeContext:El!==null?{id:fa,overflow:ha}:null,retryLane:536870912,hydrationErrors:null},p=Ch(A),p.return=u,u.child=p,Ii=u,ln=null)):A=null,A===null)throw _l(u);return Vb(A)?u.lanes=32:u.lanes=536870912,null}var we=y.children;return y=y.fallback,E?(Jn(),E=u.mode,we=y0({mode:"hidden",children:we},E),y=Sl(y,E,p,null),we.return=u,y.return=u,we.sibling=y,u.child=we,y=u.child,y.memoizedState=lb(p),y.childLanes=Ab(A,ee,p),u.memoizedState=ob,Pp(null,y)):(Vn(u),cb(u,we))}var Ne=A.memoizedState;if(Ne!==null&&(we=Ne.dehydrated,we!==null)){if(O)u.flags&256?(Vn(u),u.flags&=-257,u=ub(A,u,p)):u.memoizedState!==null?(Jn(),u.child=A.child,u.flags|=128,u=null):(Jn(),we=y.fallback,E=u.mode,y=y0({mode:"visible",children:y.children},E),we=Sl(we,E,p,null),we.flags|=2,y.return=u,we.return=u,y.sibling=we,u.child=y,An(u,A.child,null,p),y=u.child,y.memoizedState=lb(p),y.childLanes=Ab(A,ee,p),u.memoizedState=ob,u=Pp(null,y));else if(Vn(u),Vb(we)){if(ee=we.nextSibling&&we.nextSibling.dataset,ee)var Ke=ee.dgst;ee=Ke,y=Error(n(419)),y.stack="",y.digest=ee,Sc({value:y,source:null,stack:null}),u=ub(A,u,p)}else if(Si||Nl(A,u,p,!1),ee=(p&A.childLanes)!==0,Si||ee){if(ee=cn,ee!==null&&(y=vi(ee,p),y!==0&&y!==Ne.retryLane))throw Ne.retryLane=y,Wo(A,y),va(ee,A,y),sb;Kb(we)||_0(),u=ub(A,u,p)}else Kb(we)?(u.flags|=192,u.child=A.child,u=null):(A=Ne.treeContext,ln=uo(we.nextSibling),Ii=u,yr=!0,us=null,Nn=!1,A!==null&&a0(u,A),u=cb(u,y.children),u.flags|=4096);return u}return E?(Jn(),we=y.fallback,E=u.mode,Ne=A.child,Ke=Ne.sibling,y=la(Ne,{mode:"hidden",children:y.children}),y.subtreeFlags=Ne.subtreeFlags&65011712,Ke!==null?we=la(Ke,we):(we=Sl(we,E,p,null),we.flags|=2),we.return=u,y.return=u,y.sibling=we,u.child=y,Pp(null,y),y=u.child,we=A.child.memoizedState,we===null?we=lb(p):(E=we.cachePool,E!==null?(Ne=Kn._currentValue,E=E.parent!==Ne?{parent:Ne,pool:Ne}:E):E=Ee(),we={baseLanes:we.baseLanes|p,cachePool:E}),y.memoizedState=we,y.childLanes=Ab(A,ee,p),u.memoizedState=ob,Pp(A.child,y)):(Vn(u),p=A.child,A=p.sibling,p=la(p,{mode:"visible",children:y.children}),p.return=u,p.sibling=null,A!==null&&(ee=u.deletions,ee===null?(u.deletions=[A],u.flags|=16):ee.push(A)),u.child=p,u.memoizedState=null,p)}function cb(A,u){return u=y0({mode:"visible",children:u},A.mode),u.return=A,A.child=u}function y0(A,u){return A=qi(22,A,null,u),A.lanes=0,A}function ub(A,u,p){return An(u,A.child,null,p),A=cb(u,u.pendingProps.children),A.flags|=2,u.memoizedState=null,A}function h4(A,u,p){A.lanes|=u;var y=A.alternate;y!==null&&(y.lanes|=u),Ec(A.return,u,p)}function fb(A,u,p,y,E,O){var ee=A.memoizedState;ee===null?A.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:y,tail:p,tailMode:E,treeForkCount:O}:(ee.isBackwards=u,ee.rendering=null,ee.renderingStartTime=0,ee.last=y,ee.tail=p,ee.tailMode=E,ee.treeForkCount=O)}function d4(A,u,p){var y=u.pendingProps,E=y.revealOrder,O=y.tail;y=y.children;var ee=_r.current,we=(ee&2)!==0;if(we?(ee=ee&1|2,u.flags|=128):ee&=1,J(_r,ee),hs(A,u,y,p),y=yr?of:0,!we&&A!==null&&(A.flags&128)!==0)e:for(A=u.child;A!==null;){if(A.tag===13)A.memoizedState!==null&&h4(A,p,u);else if(A.tag===19)h4(A,p,u);else if(A.child!==null){A.child.return=A,A=A.child;continue}if(A===u)break e;for(;A.sibling===null;){if(A.return===null||A.return===u)break e;A=A.return}A.sibling.return=A.return,A=A.sibling}switch(E){case"forwards":for(p=u.child,E=null;p!==null;)A=p.alternate,A!==null&&Wi(A)===null&&(E=p),p=p.sibling;p=E,p===null?(E=u.child,u.child=null):(E=p.sibling,p.sibling=null),fb(u,!1,E,p,O,y);break;case"backwards":case"unstable_legacy-backwards":for(p=null,E=u.child,u.child=null;E!==null;){if(A=E.alternate,A!==null&&Wi(A)===null){u.child=E;break}A=E.sibling,E.sibling=p,p=E,E=A}fb(u,!0,p,null,O,y);break;case"together":fb(u,!1,null,null,void 0,y);break;default:u.memoizedState=null}return u.child}function _A(A,u,p){if(A!==null&&(u.dependencies=A.dependencies),Lc|=u.lanes,(p&u.childLanes)===0)if(A!==null){if(Nl(A,u,p,!1),(p&u.childLanes)===0)return null}else return null;if(A!==null&&u.child!==A.child)throw Error(n(153));if(u.child!==null){for(A=u.child,p=la(A,A.pendingProps),u.child=p,p.return=u;A.sibling!==null;)A=A.sibling,p=p.sibling=la(A,A.pendingProps),p.return=u;p.sibling=null}return u.child}function hb(A,u){return(A.lanes&u)!==0?!0:(A=A.dependencies,!!(A!==null&&Th(A)))}function cj(A,u,p){switch(u.tag){case 3:P(u,u.stateNode.containerInfo),Tl(u,Kn,A.memoizedState.cache),xA();break;case 27:case 5:oe(u);break;case 4:P(u,u.stateNode.containerInfo);break;case 10:Tl(u,u.type,u.memoizedProps.value);break;case 31:if(u.memoizedState!==null)return u.flags|=128,jr(u),null;break;case 13:var y=u.memoizedState;if(y!==null)return y.dehydrated!==null?(Vn(u),u.flags|=128,null):(p&u.child.childLanes)!==0?f4(A,u,p):(Vn(u),A=_A(A,u,p),A!==null?A.sibling:null);Vn(u);break;case 19:var E=(A.flags&128)!==0;if(y=(p&u.childLanes)!==0,y||(Nl(A,u,p,!1),y=(p&u.childLanes)!==0),E){if(y)return d4(A,u,p);u.flags|=128}if(E=u.memoizedState,E!==null&&(E.rendering=null,E.tail=null,E.lastEffect=null),J(_r,_r.current),y)break;return null;case 22:return u.lanes=0,a4(A,u,p,u.pendingProps);case 24:Tl(u,Kn,A.memoizedState.cache)}return _A(A,u,p)}function p4(A,u,p){if(A!==null)if(A.memoizedProps!==u.pendingProps)Si=!0;else{if(!hb(A,p)&&(u.flags&128)===0)return Si=!1,cj(A,u,p);Si=(A.flags&131072)!==0}else Si=!1,yr&&(u.flags&1048576)!==0&&s0(u,of,u.index);switch(u.lanes=0,u.tag){case 16:e:{var y=u.pendingProps;if(A=Qe(u.elementType),u.type=A,typeof A=="function")Bh(A)?(y=ff(A,y),u.tag=1,u=c4(null,u,A,y,p)):(u.tag=0,u=ab(null,u,A,y,p));else{if(A!=null){var E=A.$$typeof;if(E===C){u.tag=11,u=n4(null,u,A,y,p);break e}else if(E===D){u.tag=14,u=i4(null,u,A,y,p);break e}}throw u=U(A)||A,Error(n(306,u,""))}}return u;case 0:return ab(A,u,u.type,u.pendingProps,p);case 1:return y=u.type,E=ff(y,u.pendingProps),c4(A,u,y,E,p);case 3:e:{if(P(u,u.stateNode.containerInfo),A===null)throw Error(n(387));y=u.pendingProps;var O=u.memoizedState;E=O.element,Bn(A,u),Wn(u,y,null,p);var ee=u.memoizedState;if(y=ee.cache,Tl(u,Kn,y),y!==O.cache&&BA(u,[Kn],p,!0),en(),y=ee.element,O.isDehydrated)if(O={element:y,isDehydrated:!1,cache:ee.cache},u.updateQueue.baseState=O,u.memoizedState=O,u.flags&256){u=u4(A,u,y,p);break e}else if(y!==E){E=Aa(Error(n(424)),u),Sc(E),u=u4(A,u,y,p);break e}else for(A=u.stateNode.containerInfo,A.nodeType===9?A=A.body:A=A.nodeName==="HTML"?A.ownerDocument.body:A,ln=uo(A.firstChild),Ii=u,yr=!0,us=null,Nn=!0,p=ar(u,null,y,p),u.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling;else{if(xA(),y===E){u=_A(A,u,p);break e}hs(A,u,y,p)}u=u.child}return u;case 26:return g0(A,u),A===null?(p=Ek(u.type,null,u.pendingProps,null))?u.memoizedState=p:yr||(p=u.type,A=u.pendingProps,y=L0(se.current).createElement(p),y[Rr]=u,y[on]=A,ds(y,p,A),Hn(y),u.stateNode=y):u.memoizedState=Ek(u.type,A.memoizedProps,u.pendingProps,A.memoizedState),null;case 27:return oe(u),A===null&&yr&&(y=u.stateNode=Bk(u.type,u.pendingProps,se.current),Ii=u,Nn=!0,E=ln,Qc(u.type)?(qb=E,ln=uo(y.firstChild)):ln=E),hs(A,u,u.pendingProps.children,p),g0(A,u),A===null&&(u.flags|=4194304),u.child;case 5:return A===null&&yr&&((E=y=ln)&&(y=Hj(y,u.type,u.pendingProps,Nn),y!==null?(u.stateNode=y,Ii=u,ln=uo(y.firstChild),Nn=!1,E=!0):E=!1),E||_l(u)),oe(u),E=u.type,O=u.pendingProps,ee=A!==null?A.memoizedProps:null,y=O.children,jb(E,O)?y=null:ee!==null&&jb(E,ee)&&(u.flags|=32),u.memoizedState!==null&&(E=Op(A,u,Wv,null,null,p),nm._currentValue=E),g0(A,u),hs(A,u,y,p),u.child;case 6:return A===null&&yr&&((A=p=ln)&&(p=jj(p,u.pendingProps,Nn),p!==null?(u.stateNode=p,Ii=u,ln=null,A=!0):A=!1),A||_l(u)),null;case 13:return f4(A,u,p);case 4:return P(u,u.stateNode.containerInfo),y=u.pendingProps,A===null?u.child=An(u,null,y,p):hs(A,u,y,p),u.child;case 11:return n4(A,u,u.type,u.pendingProps,p);case 7:return hs(A,u,u.pendingProps,p),u.child;case 8:return hs(A,u,u.pendingProps.children,p),u.child;case 12:return hs(A,u,u.pendingProps.children,p),u.child;case 10:return y=u.pendingProps,Tl(u,u.type,y.value),hs(A,u,y.children,p),u.child;case 9:return E=u.type._context,y=u.pendingProps.children,Fl(u),E=Mi(E),y=y(E),u.flags|=1,hs(A,u,y,p),u.child;case 14:return i4(A,u,u.type,u.pendingProps,p);case 15:return s4(A,u,u.type,u.pendingProps,p);case 19:return d4(A,u,p);case 31:return Aj(A,u,p);case 22:return a4(A,u,p,u.pendingProps);case 24:return Fl(u),y=Mi(Kn),A===null?(E=ve(),E===null&&(E=cn,O=_c(),E.pooledCache=O,O.refCount++,O!==null&&(E.pooledCacheLanes|=p),E=O),u.memoizedState={parent:y,cache:E},ht(u),Tl(u,Kn,E)):((A.lanes&p)!==0&&(Bn(A,u),Wn(u,null,null,p),en()),E=A.memoizedState,O=u.memoizedState,E.parent!==y?(E={parent:y,cache:y},u.memoizedState=E,u.lanes===0&&(u.memoizedState=u.updateQueue.baseState=E),Tl(u,Kn,y)):(y=O.cache,Tl(u,Kn,y),y!==E.cache&&BA(u,[Kn],p,!0))),hs(A,u,u.pendingProps.children,p),u.child;case 29:throw u.pendingProps}throw Error(n(156,u.tag))}function kA(A){A.flags|=4}function db(A,u,p,y,E){if((u=(A.mode&32)!==0)&&(u=!1),u){if(A.flags|=16777216,(E&335544128)===E)if(A.stateNode.complete)A.flags|=8192;else if(P4())A.flags|=8192;else throw $e=De,Pe}else A.flags&=-16777217}function m4(A,u){if(u.type!=="stylesheet"||(u.state.loading&4)!==0)A.flags&=-16777217;else if(A.flags|=16777216,!Fk(u))if(P4())A.flags|=8192;else throw $e=De,Pe}function w0(A,u){u!==null&&(A.flags|=4),A.flags&16384&&(u=A.tag!==22?Qn():536870912,A.lanes|=u,Kh|=u)}function zp(A,u){if(!yr)switch(A.tailMode){case"hidden":u=A.tail;for(var p=null;u!==null;)u.alternate!==null&&(p=u),u=u.sibling;p===null?A.tail=null:p.sibling=null;break;case"collapsed":p=A.tail;for(var y=null;p!==null;)p.alternate!==null&&(y=p),p=p.sibling;y===null?u||A.tail===null?A.tail=null:A.tail.sibling=null:y.sibling=null}}function En(A){var u=A.alternate!==null&&A.alternate.child===A.child,p=0,y=0;if(u)for(var E=A.child;E!==null;)p|=E.lanes|E.childLanes,y|=E.subtreeFlags&65011712,y|=E.flags&65011712,E.return=A,E=E.sibling;else for(E=A.child;E!==null;)p|=E.lanes|E.childLanes,y|=E.subtreeFlags,y|=E.flags,E.return=A,E=E.sibling;return A.subtreeFlags|=y,A.childLanes=p,u}function uj(A,u,p){var y=u.pendingProps;switch(_h(u),u.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return En(u),null;case 1:return En(u),null;case 3:return p=u.stateNode,y=null,A!==null&&(y=A.memoizedState.cache),u.memoizedState.cache!==y&&(u.flags|=2048),da(Kn),le(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(A===null||A.child===null)&&(Ri(u)?kA(u):A===null||A.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,Fp())),En(u),null;case 26:var E=u.type,O=u.memoizedState;return A===null?(kA(u),O!==null?(En(u),m4(u,O)):(En(u),db(u,E,null,y,p))):O?O!==A.memoizedState?(kA(u),En(u),m4(u,O)):(En(u),u.flags&=-16777217):(A=A.memoizedProps,A!==y&&kA(u),En(u),db(u,E,A,y,p)),null;case 27:if(ie(u),p=se.current,E=u.type,A!==null&&u.stateNode!=null)A.memoizedProps!==y&&kA(u);else{if(!y){if(u.stateNode===null)throw Error(n(166));return En(u),null}A=te.current,Ri(u)?Np(u):(A=Bk(E,y,p),u.stateNode=A,kA(u))}return En(u),null;case 5:if(ie(u),E=u.type,A!==null&&u.stateNode!=null)A.memoizedProps!==y&&kA(u);else{if(!y){if(u.stateNode===null)throw Error(n(166));return En(u),null}if(O=te.current,Ri(u))Np(u);else{var ee=L0(se.current);switch(O){case 1:O=ee.createElementNS("http://www.w3.org/2000/svg",E);break;case 2:O=ee.createElementNS("http://www.w3.org/1998/Math/MathML",E);break;default:switch(E){case"svg":O=ee.createElementNS("http://www.w3.org/2000/svg",E);break;case"math":O=ee.createElementNS("http://www.w3.org/1998/Math/MathML",E);break;case"script":O=ee.createElement("div"),O.innerHTML="<script><\/script>",O=O.removeChild(O.firstChild);break;case"select":O=typeof y.is=="string"?ee.createElement("select",{is:y.is}):ee.createElement("select"),y.multiple?O.multiple=!0:y.size&&(O.size=y.size);break;default:O=typeof y.is=="string"?ee.createElement(E,{is:y.is}):ee.createElement(E)}}O[Rr]=u,O[on]=y;e:for(ee=u.child;ee!==null;){if(ee.tag===5||ee.tag===6)O.appendChild(ee.stateNode);else if(ee.tag!==4&&ee.tag!==27&&ee.child!==null){ee.child.return=ee,ee=ee.child;continue}if(ee===u)break e;for(;ee.sibling===null;){if(ee.return===null||ee.return===u)break e;ee=ee.return}ee.sibling.return=ee.return,ee=ee.sibling}u.stateNode=O;e:switch(ds(O,E,y),E){case"button":case"input":case"select":case"textarea":y=!!y.autoFocus;break e;case"img":y=!0;break e;default:y=!1}y&&kA(u)}}return En(u),db(u,u.type,A===null?null:A.memoizedProps,u.pendingProps,p),null;case 6:if(A&&u.stateNode!=null)A.memoizedProps!==y&&kA(u);else{if(typeof y!="string"&&u.stateNode===null)throw Error(n(166));if(A=se.current,Ri(u)){if(A=u.stateNode,p=u.memoizedProps,y=null,E=Ii,E!==null)switch(E.tag){case 27:case 5:y=E.memoizedProps}A[Rr]=u,A=!!(A.nodeValue===p||y!==null&&y.suppressHydrationWarning===!0||fk(A.nodeValue,p)),A||_l(u,!0)}else A=L0(A).createTextNode(y),A[Rr]=u,u.stateNode=A}return En(u),null;case 31:if(p=u.memoizedState,A===null||A.memoizedState!==null){if(y=Ri(u),p!==null){if(A===null){if(!y)throw Error(n(318));if(A=u.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(n(557));A[Rr]=u}else xA(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;En(u),A=!1}else p=Fp(),A!==null&&A.memoizedState!==null&&(A.memoizedState.hydrationErrors=p),A=!0;if(!A)return u.flags&256?(Wr(u),u):(Wr(u),null);if((u.flags&128)!==0)throw Error(n(558))}return En(u),null;case 13:if(y=u.memoizedState,A===null||A.memoizedState!==null&&A.memoizedState.dehydrated!==null){if(E=Ri(u),y!==null&&y.dehydrated!==null){if(A===null){if(!E)throw Error(n(318));if(E=u.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(n(317));E[Rr]=u}else xA(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;En(u),E=!1}else E=Fp(),A!==null&&A.memoizedState!==null&&(A.memoizedState.hydrationErrors=E),E=!0;if(!E)return u.flags&256?(Wr(u),u):(Wr(u),null)}return Wr(u),(u.flags&128)!==0?(u.lanes=p,u):(p=y!==null,A=A!==null&&A.memoizedState!==null,p&&(y=u.child,E=null,y.alternate!==null&&y.alternate.memoizedState!==null&&y.alternate.memoizedState.cachePool!==null&&(E=y.alternate.memoizedState.cachePool.pool),O=null,y.memoizedState!==null&&y.memoizedState.cachePool!==null&&(O=y.memoizedState.cachePool.pool),O!==E&&(y.flags|=2048)),p!==A&&p&&(u.child.flags|=8192),w0(u,u.updateQueue),En(u),null);case 4:return le(),A===null&&Ib(u.stateNode.containerInfo),En(u),null;case 10:return da(u.type),En(u),null;case 19:if(I(_r),y=u.memoizedState,y===null)return En(u),null;if(E=(u.flags&128)!==0,O=y.rendering,O===null)if(E)zp(y,!1);else{if(Zn!==0||A!==null&&(A.flags&128)!==0)for(A=u.child;A!==null;){if(O=Wi(A),O!==null){for(u.flags|=128,zp(y,!1),A=O.updateQueue,u.updateQueue=A,w0(u,A),u.subtreeFlags=0,A=p,p=u.child;p!==null;)sf(p,A),p=p.sibling;return J(_r,_r.current&1|2),yr&&Ys(u,y.treeForkCount),u.child}A=A.sibling}y.tail!==null&&je()>C0&&(u.flags|=128,E=!0,zp(y,!1),u.lanes=4194304)}else{if(!E)if(A=Wi(O),A!==null){if(u.flags|=128,E=!0,A=A.updateQueue,u.updateQueue=A,w0(u,A),zp(y,!0),y.tail===null&&y.tailMode==="hidden"&&!O.alternate&&!yr)return En(u),null}else 2*je()-y.renderingStartTime>C0&&p!==536870912&&(u.flags|=128,E=!0,zp(y,!1),u.lanes=4194304);y.isBackwards?(O.sibling=u.child,u.child=O):(A=y.last,A!==null?A.sibling=O:u.child=O,y.last=O)}return y.tail!==null?(A=y.tail,y.rendering=A,y.tail=A.sibling,y.renderingStartTime=je(),A.sibling=null,p=_r.current,J(_r,E?p&1|2:p&1),yr&&Ys(u,y.treeForkCount),A):(En(u),null);case 22:case 23:return Wr(u),fi(),y=u.memoizedState!==null,A!==null?A.memoizedState!==null!==y&&(u.flags|=8192):y&&(u.flags|=8192),y?(p&536870912)!==0&&(u.flags&128)===0&&(En(u),u.subtreeFlags&6&&(u.flags|=8192)):En(u),p=u.updateQueue,p!==null&&w0(u,p.retryQueue),p=null,A!==null&&A.memoizedState!==null&&A.memoizedState.cachePool!==null&&(p=A.memoizedState.cachePool.pool),y=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(y=u.memoizedState.cachePool.pool),y!==p&&(u.flags|=2048),A!==null&&I(ye),null;case 24:return p=null,A!==null&&(p=A.memoizedState.cache),u.memoizedState.cache!==p&&(u.flags|=2048),da(Kn),En(u),null;case 25:return null;case 30:return null}throw Error(n(156,u.tag))}function fj(A,u){switch(_h(u),u.tag){case 1:return A=u.flags,A&65536?(u.flags=A&-65537|128,u):null;case 3:return da(Kn),le(),A=u.flags,(A&65536)!==0&&(A&128)===0?(u.flags=A&-65537|128,u):null;case 26:case 27:case 5:return ie(u),null;case 31:if(u.memoizedState!==null){if(Wr(u),u.alternate===null)throw Error(n(340));xA()}return A=u.flags,A&65536?(u.flags=A&-65537|128,u):null;case 13:if(Wr(u),A=u.memoizedState,A!==null&&A.dehydrated!==null){if(u.alternate===null)throw Error(n(340));xA()}return A=u.flags,A&65536?(u.flags=A&-65537|128,u):null;case 19:return I(_r),null;case 4:return le(),null;case 10:return da(u.type),null;case 22:case 23:return Wr(u),fi(),A!==null&&I(ye),A=u.flags,A&65536?(u.flags=A&-65537|128,u):null;case 24:return da(Kn),null;case 25:return null;default:return null}}function g4(A,u){switch(_h(u),u.tag){case 3:da(Kn),le();break;case 26:case 27:case 5:ie(u);break;case 4:le();break;case 31:u.memoizedState!==null&&Wr(u);break;case 13:Wr(u);break;case 19:I(_r);break;case 10:da(u.type);break;case 22:case 23:Wr(u),fi(),A!==null&&I(ye);break;case 24:da(Kn)}}function Kp(A,u){try{var p=u.updateQueue,y=p!==null?p.lastEffect:null;if(y!==null){var E=y.next;p=E;do{if((p.tag&A)===A){y=void 0;var O=p.create,ee=p.inst;y=O(),ee.destroy=y}p=p.next}while(p!==E)}}catch(we){Yr(u,u.return,we)}}function Uc(A,u,p){try{var y=u.updateQueue,E=y!==null?y.lastEffect:null;if(E!==null){var O=E.next;y=O;do{if((y.tag&A)===A){var ee=y.inst,we=ee.destroy;if(we!==void 0){ee.destroy=void 0,E=u;var Ne=p,Ke=we;try{Ke()}catch(Je){Yr(E,Ne,Je)}}}y=y.next}while(y!==O)}}catch(Je){Yr(u,u.return,Je)}}function y4(A){var u=A.updateQueue;if(u!==null){var p=A.stateNode;try{$n(u,p)}catch(y){Yr(A,A.return,y)}}}function w4(A,u,p){p.props=ff(A.type,A.memoizedProps),p.state=A.memoizedState;try{p.componentWillUnmount()}catch(y){Yr(A,u,y)}}function Vp(A,u){try{var p=A.ref;if(p!==null){switch(A.tag){case 26:case 27:case 5:var y=A.stateNode;break;case 30:y=A.stateNode;break;default:y=A.stateNode}typeof p=="function"?A.refCleanup=p(y):p.current=y}}catch(E){Yr(A,u,E)}}function Il(A,u){var p=A.ref,y=A.refCleanup;if(p!==null)if(typeof y=="function")try{y()}catch(E){Yr(A,u,E)}finally{A.refCleanup=null,A=A.alternate,A!=null&&(A.refCleanup=null)}else if(typeof p=="function")try{p(null)}catch(E){Yr(A,u,E)}else p.current=null}function v4(A){var u=A.type,p=A.memoizedProps,y=A.stateNode;try{e:switch(u){case"button":case"input":case"select":case"textarea":p.autoFocus&&y.focus();break e;case"img":p.src?y.src=p.src:p.srcSet&&(y.srcset=p.srcSet)}}catch(E){Yr(A,A.return,E)}}function pb(A,u,p){try{var y=A.stateNode;Lj(y,A.type,p,u),y[on]=u}catch(E){Yr(A,A.return,E)}}function b4(A){return A.tag===5||A.tag===3||A.tag===26||A.tag===27&&Qc(A.type)||A.tag===4}function mb(A){e:for(;;){for(;A.sibling===null;){if(A.return===null||b4(A.return))return null;A=A.return}for(A.sibling.return=A.return,A=A.sibling;A.tag!==5&&A.tag!==6&&A.tag!==18;){if(A.tag===27&&Qc(A.type)||A.flags&2||A.child===null||A.tag===4)continue e;A.child.return=A,A=A.child}if(!(A.flags&2))return A.stateNode}}function gb(A,u,p){var y=A.tag;if(y===5||y===6)A=A.stateNode,u?(p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p).insertBefore(A,u):(u=p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p,u.appendChild(A),p=p._reactRootContainer,p!=null||u.onclick!==null||(u.onclick=Ta));else if(y!==4&&(y===27&&Qc(A.type)&&(p=A.stateNode,u=null),A=A.child,A!==null))for(gb(A,u,p),A=A.sibling;A!==null;)gb(A,u,p),A=A.sibling}function v0(A,u,p){var y=A.tag;if(y===5||y===6)A=A.stateNode,u?p.insertBefore(A,u):p.appendChild(A);else if(y!==4&&(y===27&&Qc(A.type)&&(p=A.stateNode),A=A.child,A!==null))for(v0(A,u,p),A=A.sibling;A!==null;)v0(A,u,p),A=A.sibling}function x4(A){var u=A.stateNode,p=A.memoizedProps;try{for(var y=A.type,E=u.attributes;E.length;)u.removeAttributeNode(E[0]);ds(u,y,p),u[Rr]=A,u[on]=p}catch(O){Yr(A,A.return,O)}}var TA=!1,Ei=!1,yb=!1,B4=typeof WeakSet=="function"?WeakSet:Set,$i=null;function hj(A,u){if(A=A.containerInfo,Qb=j0,A=qo(A),ao(A)){if("selectionStart"in A)var p={start:A.selectionStart,end:A.selectionEnd};else e:{p=(p=A.ownerDocument)&&p.defaultView||window;var y=p.getSelection&&p.getSelection();if(y&&y.rangeCount!==0){p=y.anchorNode;var E=y.anchorOffset,O=y.focusNode;y=y.focusOffset;try{p.nodeType,O.nodeType}catch{p=null;break e}var ee=0,we=-1,Ne=-1,Ke=0,Je=0,tt=A,qe=null;t:for(;;){for(var Ge;tt!==p||E!==0&&tt.nodeType!==3||(we=ee+E),tt!==O||y!==0&&tt.nodeType!==3||(Ne=ee+y),tt.nodeType===3&&(ee+=tt.nodeValue.length),(Ge=tt.firstChild)!==null;)qe=tt,tt=Ge;for(;;){if(tt===A)break t;if(qe===p&&++Ke===E&&(we=ee),qe===O&&++Je===y&&(Ne=ee),(Ge=tt.nextSibling)!==null)break;tt=qe,qe=tt.parentNode}tt=Ge}p=we===-1||Ne===-1?null:{start:we,end:Ne}}else p=null}p=p||{start:0,end:0}}else p=null;for(Hb={focusedElem:A,selectionRange:p},j0=!1,$i=u;$i!==null;)if(u=$i,A=u.child,(u.subtreeFlags&1028)!==0&&A!==null)A.return=u,$i=A;else for(;$i!==null;){switch(u=$i,O=u.alternate,A=u.flags,u.tag){case 0:if((A&4)!==0&&(A=u.updateQueue,A=A!==null?A.events:null,A!==null))for(p=0;p<A.length;p++)E=A[p],E.ref.impl=E.nextImpl;break;case 11:case 15:break;case 1:if((A&1024)!==0&&O!==null){A=void 0,p=u,E=O.memoizedProps,O=O.memoizedState,y=p.stateNode;try{var Et=ff(p.type,E);A=y.getSnapshotBeforeUpdate(Et,O),y.__reactInternalSnapshotBeforeUpdate=A}catch(Yt){Yr(p,p.return,Yt)}}break;case 3:if((A&1024)!==0){if(A=u.stateNode.containerInfo,p=A.nodeType,p===9)zb(A);else if(p===1)switch(A.nodeName){case"HEAD":case"HTML":case"BODY":zb(A);break;default:A.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((A&1024)!==0)throw Error(n(163))}if(A=u.sibling,A!==null){A.return=u.return,$i=A;break}$i=u.return}}function C4(A,u,p){var y=p.flags;switch(p.tag){case 0:case 11:case 15:FA(A,p),y&4&&Kp(5,p);break;case 1:if(FA(A,p),y&4)if(A=p.stateNode,u===null)try{A.componentDidMount()}catch(ee){Yr(p,p.return,ee)}else{var E=ff(p.type,u.memoizedProps);u=u.memoizedState;try{A.componentDidUpdate(E,u,A.__reactInternalSnapshotBeforeUpdate)}catch(ee){Yr(p,p.return,ee)}}y&64&&y4(p),y&512&&Vp(p,p.return);break;case 3:if(FA(A,p),y&64&&(A=p.updateQueue,A!==null)){if(u=null,p.child!==null)switch(p.child.tag){case 27:case 5:u=p.child.stateNode;break;case 1:u=p.child.stateNode}try{$n(A,u)}catch(ee){Yr(p,p.return,ee)}}break;case 27:u===null&&y&4&&x4(p);case 26:case 5:FA(A,p),u===null&&y&4&&v4(p),y&512&&Vp(p,p.return);break;case 12:FA(A,p);break;case 31:FA(A,p),y&4&&_4(A,p);break;case 13:FA(A,p),y&4&&k4(A,p),y&64&&(A=p.memoizedState,A!==null&&(A=A.dehydrated,A!==null&&(p=xj.bind(null,p),Pj(A,p))));break;case 22:if(y=p.memoizedState!==null||TA,!y){u=u!==null&&u.memoizedState!==null||Ei,E=TA;var O=Ei;TA=y,(Ei=u)&&!O?UA(A,p,(p.subtreeFlags&8772)!==0):FA(A,p),TA=E,Ei=O}break;case 30:break;default:FA(A,p)}}function S4(A){var u=A.alternate;u!==null&&(A.alternate=null,S4(u)),A.child=null,A.deletions=null,A.sibling=null,A.tag===5&&(u=A.stateNode,u!==null&&na(u)),A.stateNode=null,A.return=null,A.dependencies=null,A.memoizedProps=null,A.memoizedState=null,A.pendingProps=null,A.stateNode=null,A.updateQueue=null}var On=null,ma=!1;function NA(A,u,p){for(p=p.child;p!==null;)E4(A,u,p),p=p.sibling}function E4(A,u,p){if(_t&&typeof _t.onCommitFiberUnmount=="function")try{_t.onCommitFiberUnmount(yt,p)}catch{}switch(p.tag){case 26:Ei||Il(p,u),NA(A,u,p),p.memoizedState?p.memoizedState.count--:p.stateNode&&(p=p.stateNode,p.parentNode.removeChild(p));break;case 27:Ei||Il(p,u);var y=On,E=ma;Qc(p.type)&&(On=p.stateNode,ma=!1),NA(A,u,p),em(p.stateNode),On=y,ma=E;break;case 5:Ei||Il(p,u);case 6:if(y=On,E=ma,On=null,NA(A,u,p),On=y,ma=E,On!==null)if(ma)try{(On.nodeType===9?On.body:On.nodeName==="HTML"?On.ownerDocument.body:On).removeChild(p.stateNode)}catch(O){Yr(p,u,O)}else try{On.removeChild(p.stateNode)}catch(O){Yr(p,u,O)}break;case 18:On!==null&&(ma?(A=On,yk(A.nodeType===9?A.body:A.nodeName==="HTML"?A.ownerDocument.body:A,p.stateNode),Xh(A)):yk(On,p.stateNode));break;case 4:y=On,E=ma,On=p.stateNode.containerInfo,ma=!0,NA(A,u,p),On=y,ma=E;break;case 0:case 11:case 14:case 15:Uc(2,p,u),Ei||Uc(4,p,u),NA(A,u,p);break;case 1:Ei||(Il(p,u),y=p.stateNode,typeof y.componentWillUnmount=="function"&&w4(p,u,y)),NA(A,u,p);break;case 21:NA(A,u,p);break;case 22:Ei=(y=Ei)||p.memoizedState!==null,NA(A,u,p),Ei=y;break;default:NA(A,u,p)}}function _4(A,u){if(u.memoizedState===null&&(A=u.alternate,A!==null&&(A=A.memoizedState,A!==null))){A=A.dehydrated;try{Xh(A)}catch(p){Yr(u,u.return,p)}}}function k4(A,u){if(u.memoizedState===null&&(A=u.alternate,A!==null&&(A=A.memoizedState,A!==null&&(A=A.dehydrated,A!==null))))try{Xh(A)}catch(p){Yr(u,u.return,p)}}function dj(A){switch(A.tag){case 31:case 13:case 19:var u=A.stateNode;return u===null&&(u=A.stateNode=new B4),u;case 22:return A=A.stateNode,u=A._retryCache,u===null&&(u=A._retryCache=new B4),u;default:throw Error(n(435,A.tag))}}function b0(A,u){var p=dj(A);u.forEach(function(y){if(!p.has(y)){p.add(y);var E=Bj.bind(null,A,y);y.then(E,E)}})}function ga(A,u){var p=u.deletions;if(p!==null)for(var y=0;y<p.length;y++){var E=p[y],O=A,ee=u,we=ee;e:for(;we!==null;){switch(we.tag){case 27:if(Qc(we.type)){On=we.stateNode,ma=!1;break e}break;case 5:On=we.stateNode,ma=!1;break e;case 3:case 4:On=we.stateNode.containerInfo,ma=!0;break e}we=we.return}if(On===null)throw Error(n(160));E4(O,ee,E),On=null,ma=!1,O=E.alternate,O!==null&&(O.return=null),E.return=null}if(u.subtreeFlags&13886)for(u=u.child;u!==null;)T4(u,A),u=u.sibling}var el=null;function T4(A,u){var p=A.alternate,y=A.flags;switch(A.tag){case 0:case 11:case 14:case 15:ga(u,A),ya(A),y&4&&(Uc(3,A,A.return),Kp(3,A),Uc(5,A,A.return));break;case 1:ga(u,A),ya(A),y&512&&(Ei||p===null||Il(p,p.return)),y&64&&TA&&(A=A.updateQueue,A!==null&&(y=A.callbacks,y!==null&&(p=A.shared.hiddenCallbacks,A.shared.hiddenCallbacks=p===null?y:p.concat(y))));break;case 26:var E=el;if(ga(u,A),ya(A),y&512&&(Ei||p===null||Il(p,p.return)),y&4){var O=p!==null?p.memoizedState:null;if(y=A.memoizedState,p===null)if(y===null)if(A.stateNode===null){e:{y=A.type,p=A.memoizedProps,E=E.ownerDocument||E;t:switch(y){case"title":O=E.getElementsByTagName("title")[0],(!O||O[bn]||O[Rr]||O.namespaceURI==="http://www.w3.org/2000/svg"||O.hasAttribute("itemprop"))&&(O=E.createElement(y),E.head.insertBefore(O,E.querySelector("head > title"))),ds(O,y,p),O[Rr]=A,Hn(O),y=O;break e;case"link":var ee=Tk("link","href",E).get(y+(p.href||""));if(ee){for(var we=0;we<ee.length;we++)if(O=ee[we],O.getAttribute("href")===(p.href==null||p.href===""?null:p.href)&&O.getAttribute("rel")===(p.rel==null?null:p.rel)&&O.getAttribute("title")===(p.title==null?null:p.title)&&O.getAttribute("crossorigin")===(p.crossOrigin==null?null:p.crossOrigin)){ee.splice(we,1);break t}}O=E.createElement(y),ds(O,y,p),E.head.appendChild(O);break;case"meta":if(ee=Tk("meta","content",E).get(y+(p.content||""))){for(we=0;we<ee.length;we++)if(O=ee[we],O.getAttribute("content")===(p.content==null?null:""+p.content)&&O.getAttribute("name")===(p.name==null?null:p.name)&&O.getAttribute("property")===(p.property==null?null:p.property)&&O.getAttribute("http-equiv")===(p.httpEquiv==null?null:p.httpEquiv)&&O.getAttribute("charset")===(p.charSet==null?null:p.charSet)){ee.splice(we,1);break t}}O=E.createElement(y),ds(O,y,p),E.head.appendChild(O);break;default:throw Error(n(468,y))}O[Rr]=A,Hn(O),y=O}A.stateNode=y}else Nk(E,A.type,A.stateNode);else A.stateNode=kk(E,y,A.memoizedProps);else O!==y?(O===null?p.stateNode!==null&&(p=p.stateNode,p.parentNode.removeChild(p)):O.count--,y===null?Nk(E,A.type,A.stateNode):kk(E,y,A.memoizedProps)):y===null&&A.stateNode!==null&&pb(A,A.memoizedProps,p.memoizedProps)}break;case 27:ga(u,A),ya(A),y&512&&(Ei||p===null||Il(p,p.return)),p!==null&&y&4&&pb(A,A.memoizedProps,p.memoizedProps);break;case 5:if(ga(u,A),ya(A),y&512&&(Ei||p===null||Il(p,p.return)),A.flags&32){E=A.stateNode;try{ka(E,"")}catch(Et){Yr(A,A.return,Et)}}y&4&&A.stateNode!=null&&(E=A.memoizedProps,pb(A,E,p!==null?p.memoizedProps:E)),y&1024&&(yb=!0);break;case 6:if(ga(u,A),ya(A),y&4){if(A.stateNode===null)throw Error(n(162));y=A.memoizedProps,p=A.stateNode;try{p.nodeValue=y}catch(Et){Yr(A,A.return,Et)}}break;case 3:if(R0=null,E=el,el=D0(u.containerInfo),ga(u,A),el=E,ya(A),y&4&&p!==null&&p.memoizedState.isDehydrated)try{Xh(u.containerInfo)}catch(Et){Yr(A,A.return,Et)}yb&&(yb=!1,N4(A));break;case 4:y=el,el=D0(A.stateNode.containerInfo),ga(u,A),ya(A),el=y;break;case 12:ga(u,A),ya(A);break;case 31:ga(u,A),ya(A),y&4&&(y=A.updateQueue,y!==null&&(A.updateQueue=null,b0(A,y)));break;case 13:ga(u,A),ya(A),A.child.flags&8192&&A.memoizedState!==null!=(p!==null&&p.memoizedState!==null)&&(B0=je()),y&4&&(y=A.updateQueue,y!==null&&(A.updateQueue=null,b0(A,y)));break;case 22:E=A.memoizedState!==null;var Ne=p!==null&&p.memoizedState!==null,Ke=TA,Je=Ei;if(TA=Ke||E,Ei=Je||Ne,ga(u,A),Ei=Je,TA=Ke,ya(A),y&8192)e:for(u=A.stateNode,u._visibility=E?u._visibility&-2:u._visibility|1,E&&(p===null||Ne||TA||Ei||hf(A)),p=null,u=A;;){if(u.tag===5||u.tag===26){if(p===null){Ne=p=u;try{if(O=Ne.stateNode,E)ee=O.style,typeof ee.setProperty=="function"?ee.setProperty("display","none","important"):ee.display="none";else{we=Ne.stateNode;var tt=Ne.memoizedProps.style,qe=tt!=null&&tt.hasOwnProperty("display")?tt.display:null;we.style.display=qe==null||typeof qe=="boolean"?"":(""+qe).trim()}}catch(Et){Yr(Ne,Ne.return,Et)}}}else if(u.tag===6){if(p===null){Ne=u;try{Ne.stateNode.nodeValue=E?"":Ne.memoizedProps}catch(Et){Yr(Ne,Ne.return,Et)}}}else if(u.tag===18){if(p===null){Ne=u;try{var Ge=Ne.stateNode;E?wk(Ge,!0):wk(Ne.stateNode,!1)}catch(Et){Yr(Ne,Ne.return,Et)}}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===A)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===A)break e;for(;u.sibling===null;){if(u.return===null||u.return===A)break e;p===u&&(p=null),u=u.return}p===u&&(p=null),u.sibling.return=u.return,u=u.sibling}y&4&&(y=A.updateQueue,y!==null&&(p=y.retryQueue,p!==null&&(y.retryQueue=null,b0(A,p))));break;case 19:ga(u,A),ya(A),y&4&&(y=A.updateQueue,y!==null&&(A.updateQueue=null,b0(A,y)));break;case 30:break;case 21:break;default:ga(u,A),ya(A)}}function ya(A){var u=A.flags;if(u&2){try{for(var p,y=A.return;y!==null;){if(b4(y)){p=y;break}y=y.return}if(p==null)throw Error(n(160));switch(p.tag){case 27:var E=p.stateNode,O=mb(A);v0(A,O,E);break;case 5:var ee=p.stateNode;p.flags&32&&(ka(ee,""),p.flags&=-33);var we=mb(A);v0(A,we,ee);break;case 3:case 4:var Ne=p.stateNode.containerInfo,Ke=mb(A);gb(A,Ke,Ne);break;default:throw Error(n(161))}}catch(Je){Yr(A,A.return,Je)}A.flags&=-3}u&4096&&(A.flags&=-4097)}function N4(A){if(A.subtreeFlags&1024)for(A=A.child;A!==null;){var u=A;N4(u),u.tag===5&&u.flags&1024&&u.stateNode.reset(),A=A.sibling}}function FA(A,u){if(u.subtreeFlags&8772)for(u=u.child;u!==null;)C4(A,u.alternate,u),u=u.sibling}function hf(A){for(A=A.child;A!==null;){var u=A;switch(u.tag){case 0:case 11:case 14:case 15:Uc(4,u,u.return),hf(u);break;case 1:Il(u,u.return);var p=u.stateNode;typeof p.componentWillUnmount=="function"&&w4(u,u.return,p),hf(u);break;case 27:em(u.stateNode);case 26:case 5:Il(u,u.return),hf(u);break;case 22:u.memoizedState===null&&hf(u);break;case 30:hf(u);break;default:hf(u)}A=A.sibling}}function UA(A,u,p){for(p=p&&(u.subtreeFlags&8772)!==0,u=u.child;u!==null;){var y=u.alternate,E=A,O=u,ee=O.flags;switch(O.tag){case 0:case 11:case 15:UA(E,O,p),Kp(4,O);break;case 1:if(UA(E,O,p),y=O,E=y.stateNode,typeof E.componentDidMount=="function")try{E.componentDidMount()}catch(Ke){Yr(y,y.return,Ke)}if(y=O,E=y.updateQueue,E!==null){var we=y.stateNode;try{var Ne=E.shared.hiddenCallbacks;if(Ne!==null)for(E.shared.hiddenCallbacks=null,E=0;E<Ne.length;E++)Gi(Ne[E],we)}catch(Ke){Yr(y,y.return,Ke)}}p&&ee&64&&y4(O),Vp(O,O.return);break;case 27:x4(O);case 26:case 5:UA(E,O,p),p&&y===null&&ee&4&&v4(O),Vp(O,O.return);break;case 12:UA(E,O,p);break;case 31:UA(E,O,p),p&&ee&4&&_4(E,O);break;case 13:UA(E,O,p),p&&ee&4&&k4(E,O);break;case 22:O.memoizedState===null&&UA(E,O,p),Vp(O,O.return);break;case 30:break;default:UA(E,O,p)}u=u.sibling}}function wb(A,u){var p=null;A!==null&&A.memoizedState!==null&&A.memoizedState.cachePool!==null&&(p=A.memoizedState.cachePool.pool),A=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(A=u.memoizedState.cachePool.pool),A!==p&&(A!=null&&A.refCount++,p!=null&&lf(p))}function vb(A,u){A=null,u.alternate!==null&&(A=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==A&&(u.refCount++,A!=null&&lf(A))}function tl(A,u,p,y){if(u.subtreeFlags&10256)for(u=u.child;u!==null;)F4(A,u,p,y),u=u.sibling}function F4(A,u,p,y){var E=u.flags;switch(u.tag){case 0:case 11:case 15:tl(A,u,p,y),E&2048&&Kp(9,u);break;case 1:tl(A,u,p,y);break;case 3:tl(A,u,p,y),E&2048&&(A=null,u.alternate!==null&&(A=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==A&&(u.refCount++,A!=null&&lf(A)));break;case 12:if(E&2048){tl(A,u,p,y),A=u.stateNode;try{var O=u.memoizedProps,ee=O.id,we=O.onPostCommit;typeof we=="function"&&we(ee,u.alternate===null?"mount":"update",A.passiveEffectDuration,-0)}catch(Ne){Yr(u,u.return,Ne)}}else tl(A,u,p,y);break;case 31:tl(A,u,p,y);break;case 13:tl(A,u,p,y);break;case 23:break;case 22:O=u.stateNode,ee=u.alternate,u.memoizedState!==null?O._visibility&2?tl(A,u,p,y):qp(A,u):O._visibility&2?tl(A,u,p,y):(O._visibility|=2,jh(A,u,p,y,(u.subtreeFlags&10256)!==0||!1)),E&2048&&wb(ee,u);break;case 24:tl(A,u,p,y),E&2048&&vb(u.alternate,u);break;default:tl(A,u,p,y)}}function jh(A,u,p,y,E){for(E=E&&((u.subtreeFlags&10256)!==0||!1),u=u.child;u!==null;){var O=A,ee=u,we=p,Ne=y,Ke=ee.flags;switch(ee.tag){case 0:case 11:case 15:jh(O,ee,we,Ne,E),Kp(8,ee);break;case 23:break;case 22:var Je=ee.stateNode;ee.memoizedState!==null?Je._visibility&2?jh(O,ee,we,Ne,E):qp(O,ee):(Je._visibility|=2,jh(O,ee,we,Ne,E)),E&&Ke&2048&&wb(ee.alternate,ee);break;case 24:jh(O,ee,we,Ne,E),E&&Ke&2048&&vb(ee.alternate,ee);break;default:jh(O,ee,we,Ne,E)}u=u.sibling}}function qp(A,u){if(u.subtreeFlags&10256)for(u=u.child;u!==null;){var p=A,y=u,E=y.flags;switch(y.tag){case 22:qp(p,y),E&2048&&wb(y.alternate,y);break;case 24:qp(p,y),E&2048&&vb(y.alternate,y);break;default:qp(p,y)}u=u.sibling}}var Gp=8192;function Ph(A,u,p){if(A.subtreeFlags&Gp)for(A=A.child;A!==null;)U4(A,u,p),A=A.sibling}function U4(A,u,p){switch(A.tag){case 26:Ph(A,u,p),A.flags&Gp&&A.memoizedState!==null&&e7(p,el,A.memoizedState,A.memoizedProps);break;case 5:Ph(A,u,p);break;case 3:case 4:var y=el;el=D0(A.stateNode.containerInfo),Ph(A,u,p),el=y;break;case 22:A.memoizedState===null&&(y=A.alternate,y!==null&&y.memoizedState!==null?(y=Gp,Gp=16777216,Ph(A,u,p),Gp=y):Ph(A,u,p));break;default:Ph(A,u,p)}}function O4(A){var u=A.alternate;if(u!==null&&(A=u.child,A!==null)){u.child=null;do u=A.sibling,A.sibling=null,A=u;while(A!==null)}}function Wp(A){var u=A.deletions;if((A.flags&16)!==0){if(u!==null)for(var p=0;p<u.length;p++){var y=u[p];$i=y,D4(y,A)}O4(A)}if(A.subtreeFlags&10256)for(A=A.child;A!==null;)L4(A),A=A.sibling}function L4(A){switch(A.tag){case 0:case 11:case 15:Wp(A),A.flags&2048&&Uc(9,A,A.return);break;case 3:Wp(A);break;case 12:Wp(A);break;case 22:var u=A.stateNode;A.memoizedState!==null&&u._visibility&2&&(A.return===null||A.return.tag!==13)?(u._visibility&=-3,x0(A)):Wp(A);break;default:Wp(A)}}function x0(A){var u=A.deletions;if((A.flags&16)!==0){if(u!==null)for(var p=0;p<u.length;p++){var y=u[p];$i=y,D4(y,A)}O4(A)}for(A=A.child;A!==null;){switch(u=A,u.tag){case 0:case 11:case 15:Uc(8,u,u.return),x0(u);break;case 22:p=u.stateNode,p._visibility&2&&(p._visibility&=-3,x0(u));break;default:x0(u)}A=A.sibling}}function D4(A,u){for(;$i!==null;){var p=$i;switch(p.tag){case 0:case 11:case 15:Uc(8,p,u);break;case 23:case 22:if(p.memoizedState!==null&&p.memoizedState.cachePool!==null){var y=p.memoizedState.cachePool.pool;y!=null&&y.refCount++}break;case 24:lf(p.memoizedState.cache)}if(y=p.child,y!==null)y.return=p,$i=y;else e:for(p=A;$i!==null;){y=$i;var E=y.sibling,O=y.return;if(S4(y),y===p){$i=null;break e}if(E!==null){E.return=O,$i=E;break e}$i=O}}}var pj={getCacheForType:function(A){var u=Mi(Kn),p=u.data.get(A);return p===void 0&&(p=A(),u.data.set(A,p)),p},cacheSignal:function(){return Mi(Kn).controller.signal}},mj=typeof WeakMap=="function"?WeakMap:Map,Pr=0,cn=null,wr=null,br=0,$r=0,Ia=null,Oc=!1,zh=!1,bb=!1,OA=0,Zn=0,Lc=0,df=0,xb=0,Ra=0,Kh=0,$p=null,wa=null,Bb=!1,B0=0,I4=0,C0=1/0,S0=null,Dc=null,Hi=0,Ic=null,Vh=null,LA=0,Cb=0,Sb=null,R4=null,Yp=0,Eb=null;function Ma(){return(Pr&2)!==0&&br!==0?br&-br:re.T!==null?Ub():Tn()}function M4(){if(Ra===0)if((br&536870912)===0||yr){var A=ur;ur<<=1,(ur&3932160)===0&&(ur=262144),Ra=A}else Ra=536870912;return A=Sn.current,A!==null&&(A.flags|=32),Ra}function va(A,u,p){(A===cn&&($r===2||$r===9)||A.cancelPendingCommit!==null)&&(qh(A,0),Rc(A,br,Ra,!1)),Lt(A,p),((Pr&2)===0||A!==cn)&&(A===cn&&((Pr&2)===0&&(df|=p),Zn===4&&Rc(A,br,Ra,!1)),Rl(A))}function Q4(A,u,p){if((Pr&6)!==0)throw Error(n(327));var y=!p&&(u&127)===0&&(u&A.expiredLanes)===0||zi(A,u),E=y?wj(A,u):kb(A,u,!0),O=y;do{if(E===0){zh&&!y&&Rc(A,u,0,!1);break}else{if(p=A.current.alternate,O&&!gj(p)){E=kb(A,u,!1),O=!1;continue}if(E===2){if(O=u,A.errorRecoveryDisabledLanes&O)var ee=0;else ee=A.pendingLanes&-536870913,ee=ee!==0?ee:ee&536870912?536870912:0;if(ee!==0){u=ee;e:{var we=A;E=$p;var Ne=we.current.memoizedState.isDehydrated;if(Ne&&(qh(we,ee).flags|=256),ee=kb(we,ee,!1),ee!==2){if(bb&&!Ne){we.errorRecoveryDisabledLanes|=O,df|=O,E=4;break e}O=wa,wa=E,O!==null&&(wa===null?wa=O:wa.push.apply(wa,O))}E=ee}if(O=!1,E!==2)continue}}if(E===1){qh(A,0),Rc(A,u,0,!0);break}e:{switch(y=A,O=E,O){case 0:case 1:throw Error(n(345));case 4:if((u&4194048)!==u)break;case 6:Rc(y,u,Ra,!Oc);break e;case 2:wa=null;break;case 3:case 5:break;default:throw Error(n(329))}if((u&62914560)===u&&(E=B0+300-je(),10<E)){if(Rc(y,u,Ra,!Oc),Xt(y,0,!0)!==0)break e;LA=u,y.timeoutHandle=mk(H4.bind(null,y,p,wa,S0,Bb,u,Ra,df,Kh,Oc,O,"Throttled",-0,0),E);break e}H4(y,p,wa,S0,Bb,u,Ra,df,Kh,Oc,O,null,-0,0)}}break}while(!0);Rl(A)}function H4(A,u,p,y,E,O,ee,we,Ne,Ke,Je,tt,qe,Ge){if(A.timeoutHandle=-1,tt=u.subtreeFlags,tt&8192||(tt&16785408)===16785408){tt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ta},U4(u,O,tt);var Et=(O&62914560)===O?B0-je():(O&4194048)===O?I4-je():0;if(Et=t7(tt,Et),Et!==null){LA=O,A.cancelPendingCommit=Et(W4.bind(null,A,u,O,p,y,E,ee,we,Ne,Je,tt,null,qe,Ge)),Rc(A,O,ee,!Ke);return}}W4(A,u,O,p,y,E,ee,we,Ne)}function gj(A){for(var u=A;;){var p=u.tag;if((p===0||p===11||p===15)&&u.flags&16384&&(p=u.updateQueue,p!==null&&(p=p.stores,p!==null)))for(var y=0;y<p.length;y++){var E=p[y],O=E.getSnapshot;E=E.value;try{if(!Li(O(),E))return!1}catch{return!1}}if(p=u.child,u.subtreeFlags&16384&&p!==null)p.return=u,u=p;else{if(u===A)break;for(;u.sibling===null;){if(u.return===null||u.return===A)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function Rc(A,u,p,y){u&=~xb,u&=~df,A.suspendedLanes|=u,A.pingedLanes&=~u,y&&(A.warmLanes|=u),y=A.expirationTimes;for(var E=u;0<E;){var O=31-Pt(E),ee=1<<O;y[O]=-1,E&=~ee}p!==0&&Hs(A,p,u)}function E0(){return(Pr&6)===0?(Jp(0),!1):!0}function _b(){if(wr!==null){if($r===0)var A=wr.return;else A=wr,lo=kl=null,Lh(A),nt=null,kt=0,A=wr;for(;A!==null;)g4(A.alternate,A),A=A.return;wr=null}}function qh(A,u){var p=A.timeoutHandle;p!==-1&&(A.timeoutHandle=-1,Rj(p)),p=A.cancelPendingCommit,p!==null&&(A.cancelPendingCommit=null,p()),LA=0,_b(),cn=A,wr=p=la(A.current,null),br=u,$r=0,Ia=null,Oc=!1,zh=zi(A,u),bb=!1,Kh=Ra=xb=df=Lc=Zn=0,wa=$p=null,Bb=!1,(u&8)!==0&&(u|=u&32);var y=A.entangledLanes;if(y!==0)for(A=A.entanglements,y&=u;0<y;){var E=31-Pt(y),O=1<<E;u|=A[E],y&=~O}return OA=u,tf(),p}function j4(A,u){Ht=null,re.H=jp,u===Ue||u===Se?(u=Ze(),$r=3):u===Pe?(u=Ze(),$r=4):$r=u===sb?8:u!==null&&typeof u=="object"&&typeof u.then=="function"?6:1,Ia=u,wr===null&&(Zn=1,p0(A,Aa(u,A.current)))}function P4(){var A=Sn.current;return A===null?!0:(br&4194048)===br?Nr===null:(br&62914560)===br||(br&536870912)!==0?A===Nr:!1}function z4(){var A=re.H;return re.H=jp,A===null?jp:A}function K4(){var A=re.A;return re.A=pj,A}function _0(){Zn=4,Oc||(br&4194048)!==br&&Sn.current!==null||(zh=!0),(Lc&134217727)===0&&(df&134217727)===0||cn===null||Rc(cn,br,Ra,!1)}function kb(A,u,p){var y=Pr;Pr|=2;var E=z4(),O=K4();(cn!==A||br!==u)&&(S0=null,qh(A,u)),u=!1;var ee=Zn;e:do try{if($r!==0&&wr!==null){var we=wr,Ne=Ia;switch($r){case 8:_b(),ee=6;break e;case 3:case 2:case 9:case 6:Sn.current===null&&(u=!0);var Ke=$r;if($r=0,Ia=null,Gh(A,we,Ne,Ke),p&&zh){ee=0;break e}break;default:Ke=$r,$r=0,Ia=null,Gh(A,we,Ne,Ke)}}yj(),ee=Zn;break}catch(Je){j4(A,Je)}while(!0);return u&&A.shellSuspendCounter++,lo=kl=null,Pr=y,re.H=E,re.A=O,wr===null&&(cn=null,br=0,tf()),ee}function yj(){for(;wr!==null;)V4(wr)}function wj(A,u){var p=Pr;Pr|=2;var y=z4(),E=K4();cn!==A||br!==u?(S0=null,C0=je()+500,qh(A,u)):zh=zi(A,u);e:do try{if($r!==0&&wr!==null){u=wr;var O=Ia;t:switch($r){case 1:$r=0,Ia=null,Gh(A,u,O,1);break;case 2:case 9:if(Me(O)){$r=0,Ia=null,q4(u);break}u=function(){$r!==2&&$r!==9||cn!==A||($r=7),Rl(A)},O.then(u,u);break e;case 3:$r=7;break e;case 4:$r=5;break e;case 7:Me(O)?($r=0,Ia=null,q4(u)):($r=0,Ia=null,Gh(A,u,O,7));break;case 5:var ee=null;switch(wr.tag){case 26:ee=wr.memoizedState;case 5:case 27:var we=wr;if(ee?Fk(ee):we.stateNode.complete){$r=0,Ia=null;var Ne=we.sibling;if(Ne!==null)wr=Ne;else{var Ke=we.return;Ke!==null?(wr=Ke,k0(Ke)):wr=null}break t}}$r=0,Ia=null,Gh(A,u,O,5);break;case 6:$r=0,Ia=null,Gh(A,u,O,6);break;case 8:_b(),Zn=6;break e;default:throw Error(n(462))}}vj();break}catch(Je){j4(A,Je)}while(!0);return lo=kl=null,re.H=y,re.A=E,Pr=p,wr!==null?0:(cn=null,br=0,tf(),Zn)}function vj(){for(;wr!==null&&!be();)V4(wr)}function V4(A){var u=p4(A.alternate,A,OA);A.memoizedProps=A.pendingProps,u===null?k0(A):wr=u}function q4(A){var u=A,p=u.alternate;switch(u.tag){case 15:case 0:u=A4(p,u,u.pendingProps,u.type,void 0,br);break;case 11:u=A4(p,u,u.pendingProps,u.type.render,u.ref,br);break;case 5:Lh(u);default:g4(p,u),u=wr=sf(u,OA),u=p4(p,u,OA)}A.memoizedProps=A.pendingProps,u===null?k0(A):wr=u}function Gh(A,u,p,y){lo=kl=null,Lh(u),nt=null,kt=0;var E=u.return;try{if(lj(A,E,u,p,br)){Zn=1,p0(A,Aa(p,A.current)),wr=null;return}}catch(O){if(E!==null)throw wr=E,O;Zn=1,p0(A,Aa(p,A.current)),wr=null;return}u.flags&32768?(yr||y===1?A=!0:zh||(br&536870912)!==0?A=!1:(Oc=A=!0,(y===2||y===9||y===3||y===6)&&(y=Sn.current,y!==null&&y.tag===13&&(y.flags|=16384))),G4(u,A)):k0(u)}function k0(A){var u=A;do{if((u.flags&32768)!==0){G4(u,Oc);return}A=u.return;var p=uj(u.alternate,u,OA);if(p!==null){wr=p;return}if(u=u.sibling,u!==null){wr=u;return}wr=u=A}while(u!==null);Zn===0&&(Zn=5)}function G4(A,u){do{var p=fj(A.alternate,A);if(p!==null){p.flags&=32767,wr=p;return}if(p=A.return,p!==null&&(p.flags|=32768,p.subtreeFlags=0,p.deletions=null),!u&&(A=A.sibling,A!==null)){wr=A;return}wr=A=p}while(A!==null);Zn=6,wr=null}function W4(A,u,p,y,E,O,ee,we,Ne){A.cancelPendingCommit=null;do T0();while(Hi!==0);if((Pr&6)!==0)throw Error(n(327));if(u!==null){if(u===A.current)throw Error(n(177));if(O=u.lanes|u.childLanes,O|=vh,ra(A,p,O,ee,we,Ne),A===cn&&(wr=cn=null,br=0),Vh=u,Ic=A,LA=p,Cb=O,Sb=E,R4=y,(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?(A.callbackNode=null,A.callbackPriority=0,Cj(ct,function(){return Z4(),null})):(A.callbackNode=null,A.callbackPriority=0),y=(u.flags&13878)!==0,(u.subtreeFlags&13878)!==0||y){y=re.T,re.T=null,E=Y.p,Y.p=2,ee=Pr,Pr|=4;try{hj(A,u,p)}finally{Pr=ee,Y.p=E,re.T=y}}Hi=1,$4(),Y4(),J4()}}function $4(){if(Hi===1){Hi=0;var A=Ic,u=Vh,p=(u.flags&13878)!==0;if((u.subtreeFlags&13878)!==0||p){p=re.T,re.T=null;var y=Y.p;Y.p=2;var E=Pr;Pr|=4;try{T4(u,A);var O=Hb,ee=qo(A.containerInfo),we=O.focusedElem,Ne=O.selectionRange;if(ee!==we&&we&&we.ownerDocument&&Vo(we.ownerDocument.documentElement,we)){if(Ne!==null&&ao(we)){var Ke=Ne.start,Je=Ne.end;if(Je===void 0&&(Je=Ke),"selectionStart"in we)we.selectionStart=Ke,we.selectionEnd=Math.min(Je,we.value.length);else{var tt=we.ownerDocument||document,qe=tt&&tt.defaultView||window;if(qe.getSelection){var Ge=qe.getSelection(),Et=we.textContent.length,Yt=Math.min(Ne.start,Et),nn=Ne.end===void 0?Yt:Math.min(Ne.end,Et);!Ge.extend&&Yt>nn&&(ee=nn,nn=Yt,Yt=ee);var Re=bc(we,Yt),Le=bc(we,nn);if(Re&&Le&&(Ge.rangeCount!==1||Ge.anchorNode!==Re.node||Ge.anchorOffset!==Re.offset||Ge.focusNode!==Le.node||Ge.focusOffset!==Le.offset)){var ze=tt.createRange();ze.setStart(Re.node,Re.offset),Ge.removeAllRanges(),Yt>nn?(Ge.addRange(ze),Ge.extend(Le.node,Le.offset)):(ze.setEnd(Le.node,Le.offset),Ge.addRange(ze))}}}}for(tt=[],Ge=we;Ge=Ge.parentNode;)Ge.nodeType===1&&tt.push({element:Ge,left:Ge.scrollLeft,top:Ge.scrollTop});for(typeof we.focus=="function"&&we.focus(),we=0;we<tt.length;we++){var et=tt[we];et.element.scrollLeft=et.left,et.element.scrollTop=et.top}}j0=!!Qb,Hb=Qb=null}finally{Pr=E,Y.p=y,re.T=p}}A.current=u,Hi=2}}function Y4(){if(Hi===2){Hi=0;var A=Ic,u=Vh,p=(u.flags&8772)!==0;if((u.subtreeFlags&8772)!==0||p){p=re.T,re.T=null;var y=Y.p;Y.p=2;var E=Pr;Pr|=4;try{C4(A,u.alternate,u)}finally{Pr=E,Y.p=y,re.T=p}}Hi=3}}function J4(){if(Hi===4||Hi===3){Hi=0,Oe();var A=Ic,u=Vh,p=LA,y=R4;(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?Hi=5:(Hi=0,Vh=Ic=null,X4(A,A.pendingLanes));var E=A.pendingLanes;if(E===0&&(Dc=null),mn(p),u=u.stateNode,_t&&typeof _t.onCommitFiberRoot=="function")try{_t.onCommitFiberRoot(yt,u,void 0,(u.current.flags&128)===128)}catch{}if(y!==null){u=re.T,E=Y.p,Y.p=2,re.T=null;try{for(var O=A.onRecoverableError,ee=0;ee<y.length;ee++){var we=y[ee];O(we.value,{componentStack:we.stack})}}finally{re.T=u,Y.p=E}}(LA&3)!==0&&T0(),Rl(A),E=A.pendingLanes,(p&261930)!==0&&(E&42)!==0?A===Eb?Yp++:(Yp=0,Eb=A):Yp=0,Jp(0)}}function X4(A,u){(A.pooledCacheLanes&=u)===0&&(u=A.pooledCache,u!=null&&(A.pooledCache=null,lf(u)))}function T0(){return $4(),Y4(),J4(),Z4()}function Z4(){if(Hi!==5)return!1;var A=Ic,u=Cb;Cb=0;var p=mn(LA),y=re.T,E=Y.p;try{Y.p=32>p?32:p,re.T=null,p=Sb,Sb=null;var O=Ic,ee=LA;if(Hi=0,Vh=Ic=null,LA=0,(Pr&6)!==0)throw Error(n(331));var we=Pr;if(Pr|=4,L4(O.current),F4(O,O.current,ee,p),Pr=we,Jp(0,!1),_t&&typeof _t.onPostCommitFiberRoot=="function")try{_t.onPostCommitFiberRoot(yt,O)}catch{}return!0}finally{Y.p=E,re.T=y,X4(A,u)}}function ek(A,u,p){u=Aa(p,u),u=ib(A.stateNode,u,2),A=Ar(A,u,2),A!==null&&(Lt(A,2),Rl(A))}function Yr(A,u,p){if(A.tag===3)ek(A,A,p);else for(;u!==null;){if(u.tag===3){ek(u,A,p);break}else if(u.tag===1){var y=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof y.componentDidCatch=="function"&&(Dc===null||!Dc.has(y))){A=Aa(p,A),p=t4(2),y=Ar(u,p,2),y!==null&&(r4(p,y,u,A),Lt(y,2),Rl(y));break}}u=u.return}}function Tb(A,u,p){var y=A.pingCache;if(y===null){y=A.pingCache=new mj;var E=new Set;y.set(u,E)}else E=y.get(u),E===void 0&&(E=new Set,y.set(u,E));E.has(p)||(bb=!0,E.add(p),A=bj.bind(null,A,u,p),u.then(A,A))}function bj(A,u,p){var y=A.pingCache;y!==null&&y.delete(u),A.pingedLanes|=A.suspendedLanes&p,A.warmLanes&=~p,cn===A&&(br&p)===p&&(Zn===4||Zn===3&&(br&62914560)===br&&300>je()-B0?(Pr&2)===0&&qh(A,0):xb|=p,Kh===br&&(Kh=0)),Rl(A)}function tk(A,u){u===0&&(u=Qn()),A=Wo(A,u),A!==null&&(Lt(A,u),Rl(A))}function xj(A){var u=A.memoizedState,p=0;u!==null&&(p=u.retryLane),tk(A,p)}function Bj(A,u){var p=0;switch(A.tag){case 31:case 13:var y=A.stateNode,E=A.memoizedState;E!==null&&(p=E.retryLane);break;case 19:y=A.stateNode;break;case 22:y=A.stateNode._retryCache;break;default:throw Error(n(314))}y!==null&&y.delete(u),tk(A,p)}function Cj(A,u){return ge(A,u)}var N0=null,Wh=null,Nb=!1,F0=!1,Fb=!1,Mc=0;function Rl(A){A!==Wh&&A.next===null&&(Wh===null?N0=Wh=A:Wh=Wh.next=A),F0=!0,Nb||(Nb=!0,Ej())}function Jp(A,u){if(!Fb&&F0){Fb=!0;do for(var p=!1,y=N0;y!==null;){if(A!==0){var E=y.pendingLanes;if(E===0)var O=0;else{var ee=y.suspendedLanes,we=y.pingedLanes;O=(1<<31-Pt(42|A)+1)-1,O&=E&~(ee&~we),O=O&201326741?O&201326741|1:O?O|2:0}O!==0&&(p=!0,sk(y,O))}else O=br,O=Xt(y,y===cn?O:0,y.cancelPendingCommit!==null||y.timeoutHandle!==-1),(O&3)===0||zi(y,O)||(p=!0,sk(y,O));y=y.next}while(p);Fb=!1}}function Sj(){rk()}function rk(){F0=Nb=!1;var A=0;Mc!==0&&Ij()&&(A=Mc);for(var u=je(),p=null,y=N0;y!==null;){var E=y.next,O=nk(y,u);O===0?(y.next=null,p===null?N0=E:p.next=E,E===null&&(Wh=p)):(p=y,(A!==0||(O&3)!==0)&&(F0=!0)),y=E}Hi!==0&&Hi!==5||Jp(A),Mc!==0&&(Mc=0)}function nk(A,u){for(var p=A.suspendedLanes,y=A.pingedLanes,E=A.expirationTimes,O=A.pendingLanes&-62914561;0<O;){var ee=31-Pt(O),we=1<<ee,Ne=E[ee];Ne===-1?((we&p)===0||(we&y)!==0)&&(E[ee]=cr(we,u)):Ne<=u&&(A.expiredLanes|=we),O&=~we}if(u=cn,p=br,p=Xt(A,A===u?p:0,A.cancelPendingCommit!==null||A.timeoutHandle!==-1),y=A.callbackNode,p===0||A===u&&($r===2||$r===9)||A.cancelPendingCommit!==null)return y!==null&&y!==null&&Be(y),A.callbackNode=null,A.callbackPriority=0;if((p&3)===0||zi(A,p)){if(u=p&-p,u===A.callbackPriority)return u;switch(y!==null&&Be(y),mn(p)){case 2:case 8:p=at;break;case 32:p=ct;break;case 268435456:p=Ot;break;default:p=ct}return y=ik.bind(null,A),p=ge(p,y),A.callbackPriority=u,A.callbackNode=p,u}return y!==null&&y!==null&&Be(y),A.callbackPriority=2,A.callbackNode=null,2}function ik(A,u){if(Hi!==0&&Hi!==5)return A.callbackNode=null,A.callbackPriority=0,null;var p=A.callbackNode;if(T0()&&A.callbackNode!==p)return null;var y=br;return y=Xt(A,A===cn?y:0,A.cancelPendingCommit!==null||A.timeoutHandle!==-1),y===0?null:(Q4(A,y,u),nk(A,je()),A.callbackNode!=null&&A.callbackNode===p?ik.bind(null,A):null)}function sk(A,u){if(T0())return null;Q4(A,u,!0)}function Ej(){Mj(function(){(Pr&6)!==0?ge(We,Sj):rk()})}function Ub(){if(Mc===0){var A=x;A===0&&(A=Rt,Rt<<=1,(Rt&261888)===0&&(Rt=256)),Mc=A}return Mc}function ak(A){return A==null||typeof A=="symbol"||typeof A=="boolean"?null:typeof A=="function"?A:_s(""+A)}function ok(A,u){var p=u.ownerDocument.createElement("input");return p.name=u.name,p.value=u.value,A.id&&p.setAttribute("form",A.id),u.parentNode.insertBefore(p,u),A=new FormData(A),p.parentNode.removeChild(p),A}function _j(A,u,p,y,E){if(u==="submit"&&p&&p.stateNode===E){var O=ak((E[on]||null).action),ee=y.submitter;ee&&(u=(u=ee[on]||null)?ak(u.formAction):ee.getAttribute("formAction"),u!==null&&(O=u,ee=null));var we=new sa("action","action",null,y,E);A.push({event:we,listeners:[{instance:null,listener:function(){if(y.defaultPrevented){if(Mc!==0){var Ne=ee?ok(E,ee):new FormData(E);Xv(p,{pending:!0,data:Ne,method:E.method,action:O},null,Ne)}}else typeof O=="function"&&(we.preventDefault(),Ne=ee?ok(E,ee):new FormData(E),Xv(p,{pending:!0,data:Ne,method:E.method,action:O},O,Ne))},currentTarget:E}]})}}for(var Ob=0;Ob<wA.length;Ob++){var Lb=wA[Ob],kj=Lb.toLowerCase(),Tj=Lb[0].toUpperCase()+Lb.slice(1);oa(kj,"on"+Tj)}oa(yA,"onAnimationEnd"),oa(Zu,"onAnimationIteration"),oa(Ep,"onAnimationStart"),oa("dblclick","onDoubleClick"),oa("focusin","onFocus"),oa("focusout","onBlur"),oa(r0,"onTransitionRun"),oa(n0,"onTransitionStart"),oa(i0,"onTransitionCancel"),oa(_p,"onTransitionEnd"),To("onMouseEnter",["mouseout","mouseover"]),To("onMouseLeave",["mouseout","mouseover"]),To("onPointerEnter",["pointerout","pointerover"]),To("onPointerLeave",["pointerout","pointerover"]),Ea("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ea("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ea("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ea("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ea("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ea("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Nj=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Xp));function lk(A,u){u=(u&4)!==0;for(var p=0;p<A.length;p++){var y=A[p],E=y.event;y=y.listeners;e:{var O=void 0;if(u)for(var ee=y.length-1;0<=ee;ee--){var we=y[ee],Ne=we.instance,Ke=we.currentTarget;if(we=we.listener,Ne!==O&&E.isPropagationStopped())break e;O=we,E.currentTarget=Ke;try{O(E)}catch(Je){ef(Je)}E.currentTarget=null,O=Ne}else for(ee=0;ee<y.length;ee++){if(we=y[ee],Ne=we.instance,Ke=we.currentTarget,we=we.listener,Ne!==O&&E.isPropagationStopped())break e;O=we,E.currentTarget=Ke;try{O(E)}catch(Je){ef(Je)}E.currentTarget=null,O=Ne}}}}function vr(A,u){var p=u[Gt];p===void 0&&(p=u[Gt]=new Set);var y=A+"__bubble";p.has(y)||(Ak(u,A,2,!1),p.add(y))}function Db(A,u,p){var y=0;u&&(y|=4),Ak(p,A,y,u)}var U0="_reactListening"+Math.random().toString(36).slice(2);function Ib(A){if(!A[U0]){A[U0]=!0,Iu.forEach(function(p){p!=="selectionchange"&&(Nj.has(p)||Db(p,!1,A),Db(p,!0,A))});var u=A.nodeType===9?A:A.ownerDocument;u===null||u[U0]||(u[U0]=!0,Db("selectionchange",!1,u))}}function Ak(A,u,p,y){switch(Mk(u)){case 2:var E=i7;break;case 8:E=s7;break;default:E=Jb}p=E.bind(null,u,p,A),E=void 0,!Wu||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(E=!0),y?E!==void 0?A.addEventListener(u,p,{capture:!0,passive:E}):A.addEventListener(u,p,!0):E!==void 0?A.addEventListener(u,p,{passive:E}):A.addEventListener(u,p,!1)}function Rb(A,u,p,y,E){var O=y;if((u&1)===0&&(u&2)===0&&y!==null)e:for(;;){if(y===null)return;var ee=y.tag;if(ee===3||ee===4){var we=y.stateNode.containerInfo;if(we===E)break;if(ee===4)for(ee=y.return;ee!==null;){var Ne=ee.tag;if((Ne===3||Ne===4)&&ee.stateNode.containerInfo===E)return;ee=ee.return}for(;we!==null;){if(ee=js(we),ee===null)return;if(Ne=ee.tag,Ne===5||Ne===6||Ne===26||Ne===27){y=O=ee;continue e}we=we.parentNode}}y=y.return}ph(function(){var Ke=O,Je=uA(p),tt=[];e:{var qe=kp.get(A);if(qe!==void 0){var Ge=sa,Et=A;switch(A){case"keypress":if(ia(p)===0)break e;case"keydown":case"keyup":Ge=Sr;break;case"focusin":Et="focus",Ge=Ro;break;case"focusout":Et="blur",Ge=Ro;break;case"beforeblur":case"afterblur":Ge=Ro;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ge=$u;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ge=Io;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ge=ci;break;case yA:case Zu:case Ep:Ge=j;break;case _p:Ge=Oi;break;case"scroll":case"scrollend":Ge=dc;break;case"wheel":Ge=Na;break;case"copy":case"cut":case"paste":Ge=_e;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ge=jn;break;case"toggle":case"beforetoggle":Ge=Yu}var Yt=(u&4)!==0,nn=!Yt&&(A==="scroll"||A==="scrollend"),Re=Yt?qe!==null?qe+"Capture":null:qe;Yt=[];for(var Le=Ke,ze;Le!==null;){var et=Le;if(ze=et.stateNode,et=et.tag,et!==5&&et!==26&&et!==27||ze===null||Re===null||(et=Vs(Le,Re),et!=null&&Yt.push(Zp(Le,et,ze))),nn)break;Le=Le.return}0<Yt.length&&(qe=new Ge(qe,Et,null,p,Je),tt.push({event:qe,listeners:Yt}))}}if((u&7)===0){e:{if(qe=A==="mouseover"||A==="pointerover",Ge=A==="mouseout"||A==="pointerout",qe&&p!==Fo&&(Et=p.relatedTarget||p.fromElement)&&(js(Et)||Et[bi]))break e;if((Ge||qe)&&(qe=Je.window===Je?Je:(qe=Je.ownerDocument)?qe.defaultView||qe.parentWindow:window,Ge?(Et=p.relatedTarget||p.toElement,Ge=Ke,Et=Et?js(Et):null,Et!==null&&(nn=s(Et),Yt=Et.tag,Et!==nn||Yt!==5&&Yt!==27&&Yt!==6)&&(Et=null)):(Ge=null,Et=Ke),Ge!==Et)){if(Yt=$u,et="onMouseLeave",Re="onMouseEnter",Le="mouse",(A==="pointerout"||A==="pointerover")&&(Yt=jn,et="onPointerLeave",Re="onPointerEnter",Le="pointer"),nn=Ge==null?qe:AA(Ge),ze=Et==null?qe:AA(Et),qe=new Yt(et,Le+"leave",Ge,p,Je),qe.target=nn,qe.relatedTarget=ze,et=null,js(Je)===Ke&&(Yt=new Yt(Re,Le+"enter",Et,p,Je),Yt.target=ze,Yt.relatedTarget=nn,et=Yt),nn=et,Ge&&Et)t:{for(Yt=Fj,Re=Ge,Le=Et,ze=0,et=Re;et;et=Yt(et))ze++;et=0;for(var Kt=Le;Kt;Kt=Yt(Kt))et++;for(;0<ze-et;)Re=Yt(Re),ze--;for(;0<et-ze;)Le=Yt(Le),et--;for(;ze--;){if(Re===Le||Le!==null&&Re===Le.alternate){Yt=Re;break t}Re=Yt(Re),Le=Yt(Le)}Yt=null}else Yt=null;Ge!==null&&ck(tt,qe,Ge,Yt,!1),Et!==null&&nn!==null&&ck(tt,nn,Et,Yt,!0)}}e:{if(qe=Ke?AA(Ke):window,Ge=qe.nodeName&&qe.nodeName.toLowerCase(),Ge==="select"||Ge==="input"&&qe.type==="file")var Mr=Cl;else if(Ju(qe))if(ks)Mr=io;else{Mr=Pn;var Ft=wc}else Ge=qe.nodeName,!Ge||Ge.toLowerCase()!=="input"||qe.type!=="checkbox"&&qe.type!=="radio"?Ke&&Vu(Ke.elementType)&&(Mr=Cl):Mr=wh;if(Mr&&(Mr=Mr(A,Ke))){Gs(tt,Mr,p,Je);break e}Ft&&Ft(A,qe,Ke),A==="focusout"&&Ke&&qe.type==="number"&&Ke.memoizedProps.value!=null&&Pu(qe,"number",qe.value)}switch(Ft=Ke?AA(Ke):window,A){case"focusin":(Ju(Ft)||Ft.contentEditable==="true")&&(Ws=Ft,Go=Ke,Ki=null);break;case"focusout":Ki=Go=Ws=null;break;case"mousedown":aa=!0;break;case"contextmenu":case"mouseup":case"dragend":aa=!1,Dr(tt,p,Je);break;case"selectionchange":if(gA)break;case"keydown":case"keyup":Dr(tt,p,Je)}var fr;if(eo)e:{switch(A){case"compositionstart":var xr="onCompositionStart";break e;case"compositionend":xr="onCompositionEnd";break e;case"compositionupdate":xr="onCompositionUpdate";break e}xr=void 0}else to?Bl(A,p)&&(xr="onCompositionEnd"):A==="keydown"&&p.keyCode===229&&(xr="onCompositionStart");xr&&(Ho&&p.locale!=="ko"&&(to||xr!=="onCompositionStart"?xr==="onCompositionEnd"&&to&&(fr=mh()):(qs=Je,hA="value"in qs?qs.value:qs.textContent,to=!0)),Ft=O0(Ke,xr),0<Ft.length&&(xr=new Ie(xr,A,null,p,Je),tt.push({event:xr,listeners:Ft}),fr?xr.data=fr:(fr=mc(p),fr!==null&&(xr.data=fr)))),(fr=mA?As(A,p):jo(A,p))&&(xr=O0(Ke,"onBeforeInput"),0<xr.length&&(Ft=new Ie("onBeforeInput","beforeinput",null,p,Je),tt.push({event:Ft,listeners:xr}),Ft.data=fr)),_j(tt,A,Ke,p,Je)}lk(tt,u)})}function Zp(A,u,p){return{instance:A,listener:u,currentTarget:p}}function O0(A,u){for(var p=u+"Capture",y=[];A!==null;){var E=A,O=E.stateNode;if(E=E.tag,E!==5&&E!==26&&E!==27||O===null||(E=Vs(A,p),E!=null&&y.unshift(Zp(A,E,O)),E=Vs(A,u),E!=null&&y.push(Zp(A,E,O))),A.tag===3)return y;A=A.return}return[]}function Fj(A){if(A===null)return null;do A=A.return;while(A&&A.tag!==5&&A.tag!==27);return A||null}function ck(A,u,p,y,E){for(var O=u._reactName,ee=[];p!==null&&p!==y;){var we=p,Ne=we.alternate,Ke=we.stateNode;if(we=we.tag,Ne!==null&&Ne===y)break;we!==5&&we!==26&&we!==27||Ke===null||(Ne=Ke,E?(Ke=Vs(p,O),Ke!=null&&ee.unshift(Zp(p,Ke,Ne))):E||(Ke=Vs(p,O),Ke!=null&&ee.push(Zp(p,Ke,Ne)))),p=p.return}ee.length!==0&&A.push({event:u,listeners:ee})}var Uj=/\r\n?/g,Oj=/\u0000|\uFFFD/g;function uk(A){return(typeof A=="string"?A:""+A).replace(Uj,`
`).replace(Oj,"")}function fk(A,u){return u=uk(u),uk(A)===u}function rn(A,u,p,y,E,O){switch(p){case"children":typeof y=="string"?u==="body"||u==="textarea"&&y===""||ka(A,y):(typeof y=="number"||typeof y=="bigint")&&u!=="body"&&ka(A,""+y);break;case"className":No(A,"class",y);break;case"tabIndex":No(A,"tabindex",y);break;case"dir":case"role":case"viewBox":case"width":case"height":No(A,p,y);break;case"style":fh(A,y,O);break;case"data":if(u!=="object"){No(A,"data",y);break}case"src":case"href":if(y===""&&(u!=="a"||p!=="href")){A.removeAttribute(p);break}if(y==null||typeof y=="function"||typeof y=="symbol"||typeof y=="boolean"){A.removeAttribute(p);break}y=_s(""+y),A.setAttribute(p,y);break;case"action":case"formAction":if(typeof y=="function"){A.setAttribute(p,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof O=="function"&&(p==="formAction"?(u!=="input"&&rn(A,u,"name",E.name,E,null),rn(A,u,"formEncType",E.formEncType,E,null),rn(A,u,"formMethod",E.formMethod,E,null),rn(A,u,"formTarget",E.formTarget,E,null)):(rn(A,u,"encType",E.encType,E,null),rn(A,u,"method",E.method,E,null),rn(A,u,"target",E.target,E,null)));if(y==null||typeof y=="symbol"||typeof y=="boolean"){A.removeAttribute(p);break}y=_s(""+y),A.setAttribute(p,y);break;case"onClick":y!=null&&(A.onclick=Ta);break;case"onScroll":y!=null&&vr("scroll",A);break;case"onScrollEnd":y!=null&&vr("scrollend",A);break;case"dangerouslySetInnerHTML":if(y!=null){if(typeof y!="object"||!("__html"in y))throw Error(n(61));if(p=y.__html,p!=null){if(E.children!=null)throw Error(n(60));A.innerHTML=p}}break;case"multiple":A.multiple=y&&typeof y!="function"&&typeof y!="symbol";break;case"muted":A.muted=y&&typeof y!="function"&&typeof y!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(y==null||typeof y=="function"||typeof y=="boolean"||typeof y=="symbol"){A.removeAttribute("xlink:href");break}p=_s(""+y),A.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",p);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":y!=null&&typeof y!="function"&&typeof y!="symbol"?A.setAttribute(p,""+y):A.removeAttribute(p);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":y&&typeof y!="function"&&typeof y!="symbol"?A.setAttribute(p,""):A.removeAttribute(p);break;case"capture":case"download":y===!0?A.setAttribute(p,""):y!==!1&&y!=null&&typeof y!="function"&&typeof y!="symbol"?A.setAttribute(p,y):A.removeAttribute(p);break;case"cols":case"rows":case"size":case"span":y!=null&&typeof y!="function"&&typeof y!="symbol"&&!isNaN(y)&&1<=y?A.setAttribute(p,y):A.removeAttribute(p);break;case"rowSpan":case"start":y==null||typeof y=="function"||typeof y=="symbol"||isNaN(y)?A.removeAttribute(p):A.setAttribute(p,y);break;case"popover":vr("beforetoggle",A),vr("toggle",A),Ks(A,"popover",y);break;case"xlinkActuate":_a(A,"http://www.w3.org/1999/xlink","xlink:actuate",y);break;case"xlinkArcrole":_a(A,"http://www.w3.org/1999/xlink","xlink:arcrole",y);break;case"xlinkRole":_a(A,"http://www.w3.org/1999/xlink","xlink:role",y);break;case"xlinkShow":_a(A,"http://www.w3.org/1999/xlink","xlink:show",y);break;case"xlinkTitle":_a(A,"http://www.w3.org/1999/xlink","xlink:title",y);break;case"xlinkType":_a(A,"http://www.w3.org/1999/xlink","xlink:type",y);break;case"xmlBase":_a(A,"http://www.w3.org/XML/1998/namespace","xml:base",y);break;case"xmlLang":_a(A,"http://www.w3.org/XML/1998/namespace","xml:lang",y);break;case"xmlSpace":_a(A,"http://www.w3.org/XML/1998/namespace","xml:space",y);break;case"is":Ks(A,"is",y);break;case"innerText":case"textContent":break;default:(!(2<p.length)||p[0]!=="o"&&p[0]!=="O"||p[1]!=="n"&&p[1]!=="N")&&(p=qu.get(p)||p,Ks(A,p,y))}}function Mb(A,u,p,y,E,O){switch(p){case"style":fh(A,y,O);break;case"dangerouslySetInnerHTML":if(y!=null){if(typeof y!="object"||!("__html"in y))throw Error(n(61));if(p=y.__html,p!=null){if(E.children!=null)throw Error(n(60));A.innerHTML=p}}break;case"children":typeof y=="string"?ka(A,y):(typeof y=="number"||typeof y=="bigint")&&ka(A,""+y);break;case"onScroll":y!=null&&vr("scroll",A);break;case"onScrollEnd":y!=null&&vr("scrollend",A);break;case"onClick":y!=null&&(A.onclick=Ta);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!zs.hasOwnProperty(p))e:{if(p[0]==="o"&&p[1]==="n"&&(E=p.endsWith("Capture"),u=p.slice(2,E?p.length-7:void 0),O=A[on]||null,O=O!=null?O[p]:null,typeof O=="function"&&A.removeEventListener(u,O,E),typeof y=="function")){typeof O!="function"&&O!==null&&(p in A?A[p]=null:A.hasAttribute(p)&&A.removeAttribute(p)),A.addEventListener(u,y,E);break e}p in A?A[p]=y:y===!0?A.setAttribute(p,""):Ks(A,p,y)}}}function ds(A,u,p){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":vr("error",A),vr("load",A);var y=!1,E=!1,O;for(O in p)if(p.hasOwnProperty(O)){var ee=p[O];if(ee!=null)switch(O){case"src":y=!0;break;case"srcSet":E=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,u));default:rn(A,u,O,ee,p,null)}}E&&rn(A,u,"srcSet",p.srcSet,p,null),y&&rn(A,u,"src",p.src,p,null);return;case"input":vr("invalid",A);var we=O=ee=E=null,Ne=null,Ke=null;for(y in p)if(p.hasOwnProperty(y)){var Je=p[y];if(Je!=null)switch(y){case"name":E=Je;break;case"type":ee=Je;break;case"checked":Ne=Je;break;case"defaultChecked":Ke=Je;break;case"value":O=Je;break;case"defaultValue":we=Je;break;case"children":case"dangerouslySetInnerHTML":if(Je!=null)throw Error(n(137,u));break;default:rn(A,u,y,Je,p,null)}}ch(A,O,we,Ne,Ke,ee,E,!1);return;case"select":vr("invalid",A),y=ee=O=null;for(E in p)if(p.hasOwnProperty(E)&&(we=p[E],we!=null))switch(E){case"value":O=we;break;case"defaultValue":ee=we;break;case"multiple":y=we;default:rn(A,u,E,we,p,null)}u=O,p=ee,A.multiple=!!y,u!=null?ls(A,!!y,u,!1):p!=null&&ls(A,!!y,p,!0);return;case"textarea":vr("invalid",A),O=E=y=null;for(ee in p)if(p.hasOwnProperty(ee)&&(we=p[ee],we!=null))switch(ee){case"value":y=we;break;case"defaultValue":E=we;break;case"children":O=we;break;case"dangerouslySetInnerHTML":if(we!=null)throw Error(n(91));break;default:rn(A,u,ee,we,p,null)}Ku(A,y,E,O);return;case"option":for(Ne in p)p.hasOwnProperty(Ne)&&(y=p[Ne],y!=null)&&(Ne==="selected"?A.selected=y&&typeof y!="function"&&typeof y!="symbol":rn(A,u,Ne,y,p,null));return;case"dialog":vr("beforetoggle",A),vr("toggle",A),vr("cancel",A),vr("close",A);break;case"iframe":case"object":vr("load",A);break;case"video":case"audio":for(y=0;y<Xp.length;y++)vr(Xp[y],A);break;case"image":vr("error",A),vr("load",A);break;case"details":vr("toggle",A);break;case"embed":case"source":case"link":vr("error",A),vr("load",A);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Ke in p)if(p.hasOwnProperty(Ke)&&(y=p[Ke],y!=null))switch(Ke){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,u));default:rn(A,u,Ke,y,p,null)}return;default:if(Vu(u)){for(Je in p)p.hasOwnProperty(Je)&&(y=p[Je],y!==void 0&&Mb(A,u,Je,y,p,void 0));return}}for(we in p)p.hasOwnProperty(we)&&(y=p[we],y!=null&&rn(A,u,we,y,p,null))}function Lj(A,u,p,y){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var E=null,O=null,ee=null,we=null,Ne=null,Ke=null,Je=null;for(Ge in p){var tt=p[Ge];if(p.hasOwnProperty(Ge)&&tt!=null)switch(Ge){case"checked":break;case"value":break;case"defaultValue":Ne=tt;default:y.hasOwnProperty(Ge)||rn(A,u,Ge,null,y,tt)}}for(var qe in y){var Ge=y[qe];if(tt=p[qe],y.hasOwnProperty(qe)&&(Ge!=null||tt!=null))switch(qe){case"type":O=Ge;break;case"name":E=Ge;break;case"checked":Ke=Ge;break;case"defaultChecked":Je=Ge;break;case"value":ee=Ge;break;case"defaultValue":we=Ge;break;case"children":case"dangerouslySetInnerHTML":if(Ge!=null)throw Error(n(137,u));break;default:Ge!==tt&&rn(A,u,qe,Ge,y,tt)}}uc(A,ee,we,Ne,Ke,Je,O,E);return;case"select":Ge=ee=we=qe=null;for(O in p)if(Ne=p[O],p.hasOwnProperty(O)&&Ne!=null)switch(O){case"value":break;case"multiple":Ge=Ne;default:y.hasOwnProperty(O)||rn(A,u,O,null,y,Ne)}for(E in y)if(O=y[E],Ne=p[E],y.hasOwnProperty(E)&&(O!=null||Ne!=null))switch(E){case"value":qe=O;break;case"defaultValue":we=O;break;case"multiple":ee=O;default:O!==Ne&&rn(A,u,E,O,y,Ne)}u=we,p=ee,y=Ge,qe!=null?ls(A,!!p,qe,!1):!!y!=!!p&&(u!=null?ls(A,!!p,u,!0):ls(A,!!p,p?[]:"",!1));return;case"textarea":Ge=qe=null;for(we in p)if(E=p[we],p.hasOwnProperty(we)&&E!=null&&!y.hasOwnProperty(we))switch(we){case"value":break;case"children":break;default:rn(A,u,we,null,y,E)}for(ee in y)if(E=y[ee],O=p[ee],y.hasOwnProperty(ee)&&(E!=null||O!=null))switch(ee){case"value":qe=E;break;case"defaultValue":Ge=E;break;case"children":break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(n(91));break;default:E!==O&&rn(A,u,ee,E,y,O)}zu(A,qe,Ge);return;case"option":for(var Et in p)qe=p[Et],p.hasOwnProperty(Et)&&qe!=null&&!y.hasOwnProperty(Et)&&(Et==="selected"?A.selected=!1:rn(A,u,Et,null,y,qe));for(Ne in y)qe=y[Ne],Ge=p[Ne],y.hasOwnProperty(Ne)&&qe!==Ge&&(qe!=null||Ge!=null)&&(Ne==="selected"?A.selected=qe&&typeof qe!="function"&&typeof qe!="symbol":rn(A,u,Ne,qe,y,Ge));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Yt in p)qe=p[Yt],p.hasOwnProperty(Yt)&&qe!=null&&!y.hasOwnProperty(Yt)&&rn(A,u,Yt,null,y,qe);for(Ke in y)if(qe=y[Ke],Ge=p[Ke],y.hasOwnProperty(Ke)&&qe!==Ge&&(qe!=null||Ge!=null))switch(Ke){case"children":case"dangerouslySetInnerHTML":if(qe!=null)throw Error(n(137,u));break;default:rn(A,u,Ke,qe,y,Ge)}return;default:if(Vu(u)){for(var nn in p)qe=p[nn],p.hasOwnProperty(nn)&&qe!==void 0&&!y.hasOwnProperty(nn)&&Mb(A,u,nn,void 0,y,qe);for(Je in y)qe=y[Je],Ge=p[Je],!y.hasOwnProperty(Je)||qe===Ge||qe===void 0&&Ge===void 0||Mb(A,u,Je,qe,y,Ge);return}}for(var Re in p)qe=p[Re],p.hasOwnProperty(Re)&&qe!=null&&!y.hasOwnProperty(Re)&&rn(A,u,Re,null,y,qe);for(tt in y)qe=y[tt],Ge=p[tt],!y.hasOwnProperty(tt)||qe===Ge||qe==null&&Ge==null||rn(A,u,tt,qe,y,Ge)}function hk(A){switch(A){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Dj(){if(typeof performance.getEntriesByType=="function"){for(var A=0,u=0,p=performance.getEntriesByType("resource"),y=0;y<p.length;y++){var E=p[y],O=E.transferSize,ee=E.initiatorType,we=E.duration;if(O&&we&&hk(ee)){for(ee=0,we=E.responseEnd,y+=1;y<p.length;y++){var Ne=p[y],Ke=Ne.startTime;if(Ke>we)break;var Je=Ne.transferSize,tt=Ne.initiatorType;Je&&hk(tt)&&(Ne=Ne.responseEnd,ee+=Je*(Ne<we?1:(we-Ke)/(Ne-Ke)))}if(--y,u+=8*(O+ee)/(E.duration/1e3),A++,10<A)break}}if(0<A)return u/A/1e6}return navigator.connection&&(A=navigator.connection.downlink,typeof A=="number")?A:5}var Qb=null,Hb=null;function L0(A){return A.nodeType===9?A:A.ownerDocument}function dk(A){switch(A){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function pk(A,u){if(A===0)switch(u){case"svg":return 1;case"math":return 2;default:return 0}return A===1&&u==="foreignObject"?0:A}function jb(A,u){return A==="textarea"||A==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.children=="bigint"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var Pb=null;function Ij(){var A=window.event;return A&&A.type==="popstate"?A===Pb?!1:(Pb=A,!0):(Pb=null,!1)}var mk=typeof setTimeout=="function"?setTimeout:void 0,Rj=typeof clearTimeout=="function"?clearTimeout:void 0,gk=typeof Promise=="function"?Promise:void 0,Mj=typeof queueMicrotask=="function"?queueMicrotask:typeof gk<"u"?function(A){return gk.resolve(null).then(A).catch(Qj)}:mk;function Qj(A){setTimeout(function(){throw A})}function Qc(A){return A==="head"}function yk(A,u){var p=u,y=0;do{var E=p.nextSibling;if(A.removeChild(p),E&&E.nodeType===8)if(p=E.data,p==="/$"||p==="/&"){if(y===0){A.removeChild(E),Xh(u);return}y--}else if(p==="$"||p==="$?"||p==="$~"||p==="$!"||p==="&")y++;else if(p==="html")em(A.ownerDocument.documentElement);else if(p==="head"){p=A.ownerDocument.head,em(p);for(var O=p.firstChild;O;){var ee=O.nextSibling,we=O.nodeName;O[bn]||we==="SCRIPT"||we==="STYLE"||we==="LINK"&&O.rel.toLowerCase()==="stylesheet"||p.removeChild(O),O=ee}}else p==="body"&&em(A.ownerDocument.body);p=E}while(p);Xh(u)}function wk(A,u){var p=A;A=0;do{var y=p.nextSibling;if(p.nodeType===1?u?(p._stashedDisplay=p.style.display,p.style.display="none"):(p.style.display=p._stashedDisplay||"",p.getAttribute("style")===""&&p.removeAttribute("style")):p.nodeType===3&&(u?(p._stashedText=p.nodeValue,p.nodeValue=""):p.nodeValue=p._stashedText||""),y&&y.nodeType===8)if(p=y.data,p==="/$"){if(A===0)break;A--}else p!=="$"&&p!=="$?"&&p!=="$~"&&p!=="$!"||A++;p=y}while(p)}function zb(A){var u=A.firstChild;for(u&&u.nodeType===10&&(u=u.nextSibling);u;){var p=u;switch(u=u.nextSibling,p.nodeName){case"HTML":case"HEAD":case"BODY":zb(p),na(p);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(p.rel.toLowerCase()==="stylesheet")continue}A.removeChild(p)}}function Hj(A,u,p,y){for(;A.nodeType===1;){var E=p;if(A.nodeName.toLowerCase()!==u.toLowerCase()){if(!y&&(A.nodeName!=="INPUT"||A.type!=="hidden"))break}else if(y){if(!A[bn])switch(u){case"meta":if(!A.hasAttribute("itemprop"))break;return A;case"link":if(O=A.getAttribute("rel"),O==="stylesheet"&&A.hasAttribute("data-precedence"))break;if(O!==E.rel||A.getAttribute("href")!==(E.href==null||E.href===""?null:E.href)||A.getAttribute("crossorigin")!==(E.crossOrigin==null?null:E.crossOrigin)||A.getAttribute("title")!==(E.title==null?null:E.title))break;return A;case"style":if(A.hasAttribute("data-precedence"))break;return A;case"script":if(O=A.getAttribute("src"),(O!==(E.src==null?null:E.src)||A.getAttribute("type")!==(E.type==null?null:E.type)||A.getAttribute("crossorigin")!==(E.crossOrigin==null?null:E.crossOrigin))&&O&&A.hasAttribute("async")&&!A.hasAttribute("itemprop"))break;return A;default:return A}}else if(u==="input"&&A.type==="hidden"){var O=E.name==null?null:""+E.name;if(E.type==="hidden"&&A.getAttribute("name")===O)return A}else return A;if(A=uo(A.nextSibling),A===null)break}return null}function jj(A,u,p){if(u==="")return null;for(;A.nodeType!==3;)if((A.nodeType!==1||A.nodeName!=="INPUT"||A.type!=="hidden")&&!p||(A=uo(A.nextSibling),A===null))return null;return A}function vk(A,u){for(;A.nodeType!==8;)if((A.nodeType!==1||A.nodeName!=="INPUT"||A.type!=="hidden")&&!u||(A=uo(A.nextSibling),A===null))return null;return A}function Kb(A){return A.data==="$?"||A.data==="$~"}function Vb(A){return A.data==="$!"||A.data==="$?"&&A.ownerDocument.readyState!=="loading"}function Pj(A,u){var p=A.ownerDocument;if(A.data==="$~")A._reactRetry=u;else if(A.data!=="$?"||p.readyState!=="loading")u();else{var y=function(){u(),p.removeEventListener("DOMContentLoaded",y)};p.addEventListener("DOMContentLoaded",y),A._reactRetry=y}}function uo(A){for(;A!=null;A=A.nextSibling){var u=A.nodeType;if(u===1||u===3)break;if(u===8){if(u=A.data,u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"||u==="F!"||u==="F")break;if(u==="/$"||u==="/&")return null}}return A}var qb=null;function bk(A){A=A.nextSibling;for(var u=0;A;){if(A.nodeType===8){var p=A.data;if(p==="/$"||p==="/&"){if(u===0)return uo(A.nextSibling);u--}else p!=="$"&&p!=="$!"&&p!=="$?"&&p!=="$~"&&p!=="&"||u++}A=A.nextSibling}return null}function xk(A){A=A.previousSibling;for(var u=0;A;){if(A.nodeType===8){var p=A.data;if(p==="$"||p==="$!"||p==="$?"||p==="$~"||p==="&"){if(u===0)return A;u--}else p!=="/$"&&p!=="/&"||u++}A=A.previousSibling}return null}function Bk(A,u,p){switch(u=L0(p),A){case"html":if(A=u.documentElement,!A)throw Error(n(452));return A;case"head":if(A=u.head,!A)throw Error(n(453));return A;case"body":if(A=u.body,!A)throw Error(n(454));return A;default:throw Error(n(451))}}function em(A){for(var u=A.attributes;u.length;)A.removeAttributeNode(u[0]);na(A)}var fo=new Map,Ck=new Set;function D0(A){return typeof A.getRootNode=="function"?A.getRootNode():A.nodeType===9?A:A.ownerDocument}var DA=Y.d;Y.d={f:zj,r:Kj,D:Vj,C:qj,L:Gj,m:Wj,X:Yj,S:$j,M:Jj};function zj(){var A=DA.f(),u=E0();return A||u}function Kj(A){var u=Ps(A);u!==null&&u.tag===5&&u.type==="form"?j_(u):DA.r(A)}var $h=typeof document>"u"?null:document;function Sk(A,u,p){var y=$h;if(y&&typeof u=="string"&&u){var E=qn(u);E='link[rel="'+A+'"][href="'+E+'"]',typeof p=="string"&&(E+='[crossorigin="'+p+'"]'),Ck.has(E)||(Ck.add(E),A={rel:A,crossOrigin:p,href:u},y.querySelector(E)===null&&(u=y.createElement("link"),ds(u,"link",A),Hn(u),y.head.appendChild(u)))}}function Vj(A){DA.D(A),Sk("dns-prefetch",A,null)}function qj(A,u){DA.C(A,u),Sk("preconnect",A,u)}function Gj(A,u,p){DA.L(A,u,p);var y=$h;if(y&&A&&u){var E='link[rel="preload"][as="'+qn(u)+'"]';u==="image"&&p&&p.imageSrcSet?(E+='[imagesrcset="'+qn(p.imageSrcSet)+'"]',typeof p.imageSizes=="string"&&(E+='[imagesizes="'+qn(p.imageSizes)+'"]')):E+='[href="'+qn(A)+'"]';var O=E;switch(u){case"style":O=Yh(A);break;case"script":O=Jh(A)}fo.has(O)||(A=h({rel:"preload",href:u==="image"&&p&&p.imageSrcSet?void 0:A,as:u},p),fo.set(O,A),y.querySelector(E)!==null||u==="style"&&y.querySelector(tm(O))||u==="script"&&y.querySelector(rm(O))||(u=y.createElement("link"),ds(u,"link",A),Hn(u),y.head.appendChild(u)))}}function Wj(A,u){DA.m(A,u);var p=$h;if(p&&A){var y=u&&typeof u.as=="string"?u.as:"script",E='link[rel="modulepreload"][as="'+qn(y)+'"][href="'+qn(A)+'"]',O=E;switch(y){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":O=Jh(A)}if(!fo.has(O)&&(A=h({rel:"modulepreload",href:A},u),fo.set(O,A),p.querySelector(E)===null)){switch(y){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(p.querySelector(rm(O)))return}y=p.createElement("link"),ds(y,"link",A),Hn(y),p.head.appendChild(y)}}}function $j(A,u,p){DA.S(A,u,p);var y=$h;if(y&&A){var E=Ya(y).hoistableStyles,O=Yh(A);u=u||"default";var ee=E.get(O);if(!ee){var we={loading:0,preload:null};if(ee=y.querySelector(tm(O)))we.loading=5;else{A=h({rel:"stylesheet",href:A,"data-precedence":u},p),(p=fo.get(O))&&Gb(A,p);var Ne=ee=y.createElement("link");Hn(Ne),ds(Ne,"link",A),Ne._p=new Promise(function(Ke,Je){Ne.onload=Ke,Ne.onerror=Je}),Ne.addEventListener("load",function(){we.loading|=1}),Ne.addEventListener("error",function(){we.loading|=2}),we.loading|=4,I0(ee,u,y)}ee={type:"stylesheet",instance:ee,count:1,state:we},E.set(O,ee)}}}function Yj(A,u){DA.X(A,u);var p=$h;if(p&&A){var y=Ya(p).hoistableScripts,E=Jh(A),O=y.get(E);O||(O=p.querySelector(rm(E)),O||(A=h({src:A,async:!0},u),(u=fo.get(E))&&Wb(A,u),O=p.createElement("script"),Hn(O),ds(O,"link",A),p.head.appendChild(O)),O={type:"script",instance:O,count:1,state:null},y.set(E,O))}}function Jj(A,u){DA.M(A,u);var p=$h;if(p&&A){var y=Ya(p).hoistableScripts,E=Jh(A),O=y.get(E);O||(O=p.querySelector(rm(E)),O||(A=h({src:A,async:!0,type:"module"},u),(u=fo.get(E))&&Wb(A,u),O=p.createElement("script"),Hn(O),ds(O,"link",A),p.head.appendChild(O)),O={type:"script",instance:O,count:1,state:null},y.set(E,O))}}function Ek(A,u,p,y){var E=(E=se.current)?D0(E):null;if(!E)throw Error(n(446));switch(A){case"meta":case"title":return null;case"style":return typeof p.precedence=="string"&&typeof p.href=="string"?(u=Yh(p.href),p=Ya(E).hoistableStyles,y=p.get(u),y||(y={type:"style",instance:null,count:0,state:null},p.set(u,y)),y):{type:"void",instance:null,count:0,state:null};case"link":if(p.rel==="stylesheet"&&typeof p.href=="string"&&typeof p.precedence=="string"){A=Yh(p.href);var O=Ya(E).hoistableStyles,ee=O.get(A);if(ee||(E=E.ownerDocument||E,ee={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},O.set(A,ee),(O=E.querySelector(tm(A)))&&!O._p&&(ee.instance=O,ee.state.loading=5),fo.has(A)||(p={rel:"preload",as:"style",href:p.href,crossOrigin:p.crossOrigin,integrity:p.integrity,media:p.media,hrefLang:p.hrefLang,referrerPolicy:p.referrerPolicy},fo.set(A,p),O||Xj(E,A,p,ee.state))),u&&y===null)throw Error(n(528,""));return ee}if(u&&y!==null)throw Error(n(529,""));return null;case"script":return u=p.async,p=p.src,typeof p=="string"&&u&&typeof u!="function"&&typeof u!="symbol"?(u=Jh(p),p=Ya(E).hoistableScripts,y=p.get(u),y||(y={type:"script",instance:null,count:0,state:null},p.set(u,y)),y):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,A))}}function Yh(A){return'href="'+qn(A)+'"'}function tm(A){return'link[rel="stylesheet"]['+A+"]"}function _k(A){return h({},A,{"data-precedence":A.precedence,precedence:null})}function Xj(A,u,p,y){A.querySelector('link[rel="preload"][as="style"]['+u+"]")?y.loading=1:(u=A.createElement("link"),y.preload=u,u.addEventListener("load",function(){return y.loading|=1}),u.addEventListener("error",function(){return y.loading|=2}),ds(u,"link",p),Hn(u),A.head.appendChild(u))}function Jh(A){return'[src="'+qn(A)+'"]'}function rm(A){return"script[async]"+A}function kk(A,u,p){if(u.count++,u.instance===null)switch(u.type){case"style":var y=A.querySelector('style[data-href~="'+qn(p.href)+'"]');if(y)return u.instance=y,Hn(y),y;var E=h({},p,{"data-href":p.href,"data-precedence":p.precedence,href:null,precedence:null});return y=(A.ownerDocument||A).createElement("style"),Hn(y),ds(y,"style",E),I0(y,p.precedence,A),u.instance=y;case"stylesheet":E=Yh(p.href);var O=A.querySelector(tm(E));if(O)return u.state.loading|=4,u.instance=O,Hn(O),O;y=_k(p),(E=fo.get(E))&&Gb(y,E),O=(A.ownerDocument||A).createElement("link"),Hn(O);var ee=O;return ee._p=new Promise(function(we,Ne){ee.onload=we,ee.onerror=Ne}),ds(O,"link",y),u.state.loading|=4,I0(O,p.precedence,A),u.instance=O;case"script":return O=Jh(p.src),(E=A.querySelector(rm(O)))?(u.instance=E,Hn(E),E):(y=p,(E=fo.get(O))&&(y=h({},p),Wb(y,E)),A=A.ownerDocument||A,E=A.createElement("script"),Hn(E),ds(E,"link",y),A.head.appendChild(E),u.instance=E);case"void":return null;default:throw Error(n(443,u.type))}else u.type==="stylesheet"&&(u.state.loading&4)===0&&(y=u.instance,u.state.loading|=4,I0(y,p.precedence,A));return u.instance}function I0(A,u,p){for(var y=p.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),E=y.length?y[y.length-1]:null,O=E,ee=0;ee<y.length;ee++){var we=y[ee];if(we.dataset.precedence===u)O=we;else if(O!==E)break}O?O.parentNode.insertBefore(A,O.nextSibling):(u=p.nodeType===9?p.head:p,u.insertBefore(A,u.firstChild))}function Gb(A,u){A.crossOrigin==null&&(A.crossOrigin=u.crossOrigin),A.referrerPolicy==null&&(A.referrerPolicy=u.referrerPolicy),A.title==null&&(A.title=u.title)}function Wb(A,u){A.crossOrigin==null&&(A.crossOrigin=u.crossOrigin),A.referrerPolicy==null&&(A.referrerPolicy=u.referrerPolicy),A.integrity==null&&(A.integrity=u.integrity)}var R0=null;function Tk(A,u,p){if(R0===null){var y=new Map,E=R0=new Map;E.set(p,y)}else E=R0,y=E.get(p),y||(y=new Map,E.set(p,y));if(y.has(A))return y;for(y.set(A,null),p=p.getElementsByTagName(A),E=0;E<p.length;E++){var O=p[E];if(!(O[bn]||O[Rr]||A==="link"&&O.getAttribute("rel")==="stylesheet")&&O.namespaceURI!=="http://www.w3.org/2000/svg"){var ee=O.getAttribute(u)||"";ee=A+ee;var we=y.get(ee);we?we.push(O):y.set(ee,[O])}}return y}function Nk(A,u,p){A=A.ownerDocument||A,A.head.insertBefore(p,u==="title"?A.querySelector("head > title"):null)}function Zj(A,u,p){if(p===1||u.itemProp!=null)return!1;switch(A){case"meta":case"title":return!0;case"style":if(typeof u.precedence!="string"||typeof u.href!="string"||u.href==="")break;return!0;case"link":if(typeof u.rel!="string"||typeof u.href!="string"||u.href===""||u.onLoad||u.onError)break;return u.rel==="stylesheet"?(A=u.disabled,typeof u.precedence=="string"&&A==null):!0;case"script":if(u.async&&typeof u.async!="function"&&typeof u.async!="symbol"&&!u.onLoad&&!u.onError&&u.src&&typeof u.src=="string")return!0}return!1}function Fk(A){return!(A.type==="stylesheet"&&(A.state.loading&3)===0)}function e7(A,u,p,y){if(p.type==="stylesheet"&&(typeof y.media!="string"||matchMedia(y.media).matches!==!1)&&(p.state.loading&4)===0){if(p.instance===null){var E=Yh(y.href),O=u.querySelector(tm(E));if(O){u=O._p,u!==null&&typeof u=="object"&&typeof u.then=="function"&&(A.count++,A=M0.bind(A),u.then(A,A)),p.state.loading|=4,p.instance=O,Hn(O);return}O=u.ownerDocument||u,y=_k(y),(E=fo.get(E))&&Gb(y,E),O=O.createElement("link"),Hn(O);var ee=O;ee._p=new Promise(function(we,Ne){ee.onload=we,ee.onerror=Ne}),ds(O,"link",y),p.instance=O}A.stylesheets===null&&(A.stylesheets=new Map),A.stylesheets.set(p,u),(u=p.state.preload)&&(p.state.loading&3)===0&&(A.count++,p=M0.bind(A),u.addEventListener("load",p),u.addEventListener("error",p))}}var $b=0;function t7(A,u){return A.stylesheets&&A.count===0&&H0(A,A.stylesheets),0<A.count||0<A.imgCount?function(p){var y=setTimeout(function(){if(A.stylesheets&&H0(A,A.stylesheets),A.unsuspend){var O=A.unsuspend;A.unsuspend=null,O()}},6e4+u);0<A.imgBytes&&$b===0&&($b=62500*Dj());var E=setTimeout(function(){if(A.waitingForImages=!1,A.count===0&&(A.stylesheets&&H0(A,A.stylesheets),A.unsuspend)){var O=A.unsuspend;A.unsuspend=null,O()}},(A.imgBytes>$b?50:800)+u);return A.unsuspend=p,function(){A.unsuspend=null,clearTimeout(y),clearTimeout(E)}}:null}function M0(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)H0(this,this.stylesheets);else if(this.unsuspend){var A=this.unsuspend;this.unsuspend=null,A()}}}var Q0=null;function H0(A,u){A.stylesheets=null,A.unsuspend!==null&&(A.count++,Q0=new Map,u.forEach(r7,A),Q0=null,M0.call(A))}function r7(A,u){if(!(u.state.loading&4)){var p=Q0.get(A);if(p)var y=p.get(null);else{p=new Map,Q0.set(A,p);for(var E=A.querySelectorAll("link[data-precedence],style[data-precedence]"),O=0;O<E.length;O++){var ee=E[O];(ee.nodeName==="LINK"||ee.getAttribute("media")!=="not all")&&(p.set(ee.dataset.precedence,ee),y=ee)}y&&p.set(null,y)}E=u.instance,ee=E.getAttribute("data-precedence"),O=p.get(ee)||y,O===y&&p.set(null,E),p.set(ee,E),this.count++,y=M0.bind(this),E.addEventListener("load",y),E.addEventListener("error",y),O?O.parentNode.insertBefore(E,O.nextSibling):(A=A.nodeType===9?A.head:A,A.insertBefore(E,A.firstChild)),u.state.loading|=4}}var nm={$$typeof:S,Provider:null,Consumer:null,_currentValue:he,_currentValue2:he,_threadCount:0};function n7(A,u,p,y,E,O,ee,we,Ne){this.tag=1,this.containerInfo=A,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Es(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Es(0),this.hiddenUpdates=Es(null),this.identifierPrefix=y,this.onUncaughtError=E,this.onCaughtError=O,this.onRecoverableError=ee,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Ne,this.incompleteTransitions=new Map}function Uk(A,u,p,y,E,O,ee,we,Ne,Ke,Je,tt){return A=new n7(A,u,p,ee,Ne,Ke,Je,tt,we),u=1,O===!0&&(u|=24),O=qi(3,null,null,u),A.current=O,O.stateNode=A,u=_c(),u.refCount++,A.pooledCache=u,u.refCount++,O.memoizedState={element:y,isDehydrated:p,cache:u},ht(O),A}function Ok(A){return A?(A=Di,A):Di}function Lk(A,u,p,y,E,O){E=Ok(E),y.context===null?y.context=E:y.pendingContext=E,y=$t(u),y.payload={element:p},O=O===void 0?null:O,O!==null&&(y.callback=O),p=Ar(A,y,u),p!==null&&(va(p,A,u),Hr(p,A,u))}function Dk(A,u){if(A=A.memoizedState,A!==null&&A.dehydrated!==null){var p=A.retryLane;A.retryLane=p!==0&&p<u?p:u}}function Yb(A,u){Dk(A,u),(A=A.alternate)&&Dk(A,u)}function Ik(A){if(A.tag===13||A.tag===31){var u=Wo(A,67108864);u!==null&&va(u,A,67108864),Yb(A,67108864)}}function Rk(A){if(A.tag===13||A.tag===31){var u=Ma();u=zr(u);var p=Wo(A,u);p!==null&&va(p,A,u),Yb(A,u)}}var j0=!0;function i7(A,u,p,y){var E=re.T;re.T=null;var O=Y.p;try{Y.p=2,Jb(A,u,p,y)}finally{Y.p=O,re.T=E}}function s7(A,u,p,y){var E=re.T;re.T=null;var O=Y.p;try{Y.p=8,Jb(A,u,p,y)}finally{Y.p=O,re.T=E}}function Jb(A,u,p,y){if(j0){var E=Xb(y);if(E===null)Rb(A,u,y,P0,p),Qk(A,y);else if(o7(E,A,u,p,y))y.stopPropagation();else if(Qk(A,y),u&4&&-1<a7.indexOf(A)){for(;E!==null;){var O=Ps(E);if(O!==null)switch(O.tag){case 3:if(O=O.stateNode,O.current.memoizedState.isDehydrated){var ee=dt(O.pendingLanes);if(ee!==0){var we=O;for(we.pendingLanes|=2,we.entangledLanes|=2;ee;){var Ne=1<<31-Pt(ee);we.entanglements[1]|=Ne,ee&=~Ne}Rl(O),(Pr&6)===0&&(C0=je()+500,Jp(0))}}break;case 31:case 13:we=Wo(O,2),we!==null&&va(we,O,2),E0(),Yb(O,2)}if(O=Xb(y),O===null&&Rb(A,u,y,P0,p),O===E)break;E=O}E!==null&&y.stopPropagation()}else Rb(A,u,y,null,p)}}function Xb(A){return A=uA(A),Zb(A)}var P0=null;function Zb(A){if(P0=null,A=js(A),A!==null){var u=s(A);if(u===null)A=null;else{var p=u.tag;if(p===13){if(A=a(u),A!==null)return A;A=null}else if(p===31){if(A=o(u),A!==null)return A;A=null}else if(p===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;A=null}else u!==A&&(A=null)}}return P0=A,null}function Mk(A){switch(A){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(He()){case We:return 2;case at:return 8;case ct:case ft:return 32;case Ot:return 268435456;default:return 32}default:return 32}}var e2=!1,Hc=null,jc=null,Pc=null,im=new Map,sm=new Map,zc=[],a7="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Qk(A,u){switch(A){case"focusin":case"focusout":Hc=null;break;case"dragenter":case"dragleave":jc=null;break;case"mouseover":case"mouseout":Pc=null;break;case"pointerover":case"pointerout":im.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":sm.delete(u.pointerId)}}function am(A,u,p,y,E,O){return A===null||A.nativeEvent!==O?(A={blockedOn:u,domEventName:p,eventSystemFlags:y,nativeEvent:O,targetContainers:[E]},u!==null&&(u=Ps(u),u!==null&&Ik(u)),A):(A.eventSystemFlags|=y,u=A.targetContainers,E!==null&&u.indexOf(E)===-1&&u.push(E),A)}function o7(A,u,p,y,E){switch(u){case"focusin":return Hc=am(Hc,A,u,p,y,E),!0;case"dragenter":return jc=am(jc,A,u,p,y,E),!0;case"mouseover":return Pc=am(Pc,A,u,p,y,E),!0;case"pointerover":var O=E.pointerId;return im.set(O,am(im.get(O)||null,A,u,p,y,E)),!0;case"gotpointercapture":return O=E.pointerId,sm.set(O,am(sm.get(O)||null,A,u,p,y,E)),!0}return!1}function Hk(A){var u=js(A.target);if(u!==null){var p=s(u);if(p!==null){if(u=p.tag,u===13){if(u=a(p),u!==null){A.blockedOn=u,$a(A.priority,function(){Rk(p)});return}}else if(u===31){if(u=o(p),u!==null){A.blockedOn=u,$a(A.priority,function(){Rk(p)});return}}else if(u===3&&p.stateNode.current.memoizedState.isDehydrated){A.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}A.blockedOn=null}function z0(A){if(A.blockedOn!==null)return!1;for(var u=A.targetContainers;0<u.length;){var p=Xb(A.nativeEvent);if(p===null){p=A.nativeEvent;var y=new p.constructor(p.type,p);Fo=y,p.target.dispatchEvent(y),Fo=null}else return u=Ps(p),u!==null&&Ik(u),A.blockedOn=p,!1;u.shift()}return!0}function jk(A,u,p){z0(A)&&p.delete(u)}function l7(){e2=!1,Hc!==null&&z0(Hc)&&(Hc=null),jc!==null&&z0(jc)&&(jc=null),Pc!==null&&z0(Pc)&&(Pc=null),im.forEach(jk),sm.forEach(jk)}function K0(A,u){A.blockedOn===u&&(A.blockedOn=null,e2||(e2=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,l7)))}var V0=null;function Pk(A){V0!==A&&(V0=A,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){V0===A&&(V0=null);for(var u=0;u<A.length;u+=3){var p=A[u],y=A[u+1],E=A[u+2];if(typeof y!="function"){if(Zb(y||p)===null)continue;break}var O=Ps(p);O!==null&&(A.splice(u,3),u-=3,Xv(O,{pending:!0,data:E,method:p.method,action:y},y,E))}}))}function Xh(A){function u(Ne){return K0(Ne,A)}Hc!==null&&K0(Hc,A),jc!==null&&K0(jc,A),Pc!==null&&K0(Pc,A),im.forEach(u),sm.forEach(u);for(var p=0;p<zc.length;p++){var y=zc[p];y.blockedOn===A&&(y.blockedOn=null)}for(;0<zc.length&&(p=zc[0],p.blockedOn===null);)Hk(p),p.blockedOn===null&&zc.shift();if(p=(A.ownerDocument||A).$$reactFormReplay,p!=null)for(y=0;y<p.length;y+=3){var E=p[y],O=p[y+1],ee=E[on]||null;if(typeof O=="function")ee||Pk(p);else if(ee){var we=null;if(O&&O.hasAttribute("formAction")){if(E=O,ee=O[on]||null)we=ee.formAction;else if(Zb(E)!==null)continue}else we=ee.action;typeof we=="function"?p[y+1]=we:(p.splice(y,3),y-=3),Pk(p)}}}function zk(){function A(O){O.canIntercept&&O.info==="react-transition"&&O.intercept({handler:function(){return new Promise(function(ee){return E=ee})},focusReset:"manual",scroll:"manual"})}function u(){E!==null&&(E(),E=null),y||setTimeout(p,20)}function p(){if(!y&&!navigation.transition){var O=navigation.currentEntry;O&&O.url!=null&&navigation.navigate(O.url,{state:O.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var y=!1,E=null;return navigation.addEventListener("navigate",A),navigation.addEventListener("navigatesuccess",u),navigation.addEventListener("navigateerror",u),setTimeout(p,100),function(){y=!0,navigation.removeEventListener("navigate",A),navigation.removeEventListener("navigatesuccess",u),navigation.removeEventListener("navigateerror",u),E!==null&&(E(),E=null)}}}function t2(A){this._internalRoot=A}q0.prototype.render=t2.prototype.render=function(A){var u=this._internalRoot;if(u===null)throw Error(n(409));var p=u.current,y=Ma();Lk(p,y,A,u,null,null)},q0.prototype.unmount=t2.prototype.unmount=function(){var A=this._internalRoot;if(A!==null){this._internalRoot=null;var u=A.containerInfo;Lk(A.current,2,null,A,null,null),E0(),u[bi]=null}};function q0(A){this._internalRoot=A}q0.prototype.unstable_scheduleHydration=function(A){if(A){var u=Tn();A={blockedOn:null,target:A,priority:u};for(var p=0;p<zc.length&&u!==0&&u<zc[p].priority;p++);zc.splice(p,0,A),p===0&&Hk(A)}};var Kk=e.version;if(Kk!=="19.2.4")throw Error(n(527,Kk,"19.2.4"));Y.findDOMNode=function(A){var u=A._reactInternals;if(u===void 0)throw typeof A.render=="function"?Error(n(188)):(A=Object.keys(A).join(","),Error(n(268,A)));return A=c(u),A=A!==null?f(A):null,A=A===null?null:A.stateNode,A};var A7={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:re,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var G0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!G0.isDisabled&&G0.supportsFiber)try{yt=G0.inject(A7),_t=G0}catch{}}return lm.createRoot=function(A,u){if(!i(A))throw Error(n(299));var p=!1,y="",E=J_,O=X_,ee=Z_;return u!=null&&(u.unstable_strictMode===!0&&(p=!0),u.identifierPrefix!==void 0&&(y=u.identifierPrefix),u.onUncaughtError!==void 0&&(E=u.onUncaughtError),u.onCaughtError!==void 0&&(O=u.onCaughtError),u.onRecoverableError!==void 0&&(ee=u.onRecoverableError)),u=Uk(A,1,!1,null,null,p,y,null,E,O,ee,zk),A[bi]=u.current,Ib(A),new t2(u)},lm.hydrateRoot=function(A,u,p){if(!i(A))throw Error(n(299));var y=!1,E="",O=J_,ee=X_,we=Z_,Ne=null;return p!=null&&(p.unstable_strictMode===!0&&(y=!0),p.identifierPrefix!==void 0&&(E=p.identifierPrefix),p.onUncaughtError!==void 0&&(O=p.onUncaughtError),p.onCaughtError!==void 0&&(ee=p.onCaughtError),p.onRecoverableError!==void 0&&(we=p.onRecoverableError),p.formState!==void 0&&(Ne=p.formState)),u=Uk(A,1,!0,u,p??null,y,E,Ne,O,ee,we,zk),u.context=Ok(null),p=u.current,y=Ma(),y=zr(y),E=$t(y),E.callback=null,Ar(p,E,y),p=y,u.current.lanes=p,Lt(u,p),Rl(u),A[bi]=u.current,Ib(A),new q0(u)},lm.version="19.2.4",lm}var eT;function y7(){if(eT)return i2.exports;eT=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),i2.exports=g7(),i2.exports}var w7=y7(),tT={},v7="@vercel/analytics",b7="1.6.1",x7=()=>{window.va||(window.va=function(...e){(window.vaq=window.vaq||[]).push(e)})};function IL(){return typeof window<"u"}function RL(){try{const t="production"}catch{}return"production"}function B7(t="auto"){if(t==="auto"){window.vam=RL();return}window.vam=t}function C7(){return(IL()?window.vam:RL())||"production"}function HB(){return C7()==="development"}function S7(t){return t.scriptSrc?t.scriptSrc:HB()?"https://va.vercel-scripts.com/v1/script.debug.js":t.basePath?`${t.basePath}/insights/script.js`:"/_vercel/insights/script.js"}function E7(t={debug:!0}){var e;if(!IL())return;B7(t.mode),x7(),t.beforeSend&&((e=window.va)==null||e.call(window,"beforeSend",t.beforeSend));const r=S7(t);if(document.head.querySelector(`script[src*="${r}"]`))return;const n=document.createElement("script");n.src=r,n.defer=!0,n.dataset.sdkn=v7+(t.framework?`/${t.framework}`:""),n.dataset.sdkv=b7,t.disableAutoTrack&&(n.dataset.disableAutoTrack="1"),t.endpoint?n.dataset.endpoint=t.endpoint:t.basePath&&(n.dataset.endpoint=`${t.basePath}/insights`),t.dsn&&(n.dataset.dsn=t.dsn),n.onerror=()=>{const i=HB()?"Please check if any ad blockers are enabled and try again.":"Be sure to enable Web Analytics for your project and deploy again. See https://vercel.com/docs/analytics/quickstart for more information.";console.log(`[Vercel Web Analytics] Failed to load script from ${r}. ${i}`)},HB()&&t.debug===!1&&(n.dataset.debug="false"),document.head.appendChild(n)}function _7({route:t,path:e}){var r;(r=window.va)==null||r.call(window,"pageview",{route:t,path:e})}function k7(){if(!(typeof process>"u"||typeof tT>"u"))return tT.REACT_APP_VERCEL_OBSERVABILITY_BASEPATH}function T7(t){return ke.useEffect(()=>{var e;t.beforeSend&&((e=window.va)==null||e.call(window,"beforeSend",t.beforeSend))},[t.beforeSend]),ke.useEffect(()=>{E7({framework:t.framework||"react",basePath:t.basePath??k7(),...t.route!==void 0&&{disableAutoTrack:!0},...t})},[]),ke.useEffect(()=>{t.route&&t.path&&_7({route:t.route,path:t.path})},[t.route,t.path]),null}const ms=[];for(let t=0;t<256;++t)ms.push((t+256).toString(16).slice(1));function N7(t,e=0){return(ms[t[e+0]]+ms[t[e+1]]+ms[t[e+2]]+ms[t[e+3]]+"-"+ms[t[e+4]]+ms[t[e+5]]+"-"+ms[t[e+6]]+ms[t[e+7]]+"-"+ms[t[e+8]]+ms[t[e+9]]+"-"+ms[t[e+10]]+ms[t[e+11]]+ms[t[e+12]]+ms[t[e+13]]+ms[t[e+14]]+ms[t[e+15]]).toLowerCase()}let l2;const F7=new Uint8Array(16);function U7(){if(!l2){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");l2=crypto.getRandomValues.bind(crypto)}return l2(F7)}const O7=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),rT={randomUUID:O7};function L7(t,e,r){t=t||{};const n=t.random??t.rng?.()??U7();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=n[6]&15|64,n[8]=n[8]&63|128,N7(n)}function Xs(t,e,r){return rT.randomUUID&&!t?rT.randomUUID():L7(t)}const A2="diaries",c2="folders",u2="diaries_backups",nT=10;let jB=null;const D7=t=>{jB=t},Yi=t=>jB?`${t}-${jB}`:t,iT=t=>typeof t=="object"&&t!==null?t:{},Ur={getDiaries(){const t=localStorage.getItem(Yi(A2));return t?JSON.parse(t):[]},saveDiaries(t){localStorage.setItem(Yi(A2),JSON.stringify(t));try{this.saveSnapshotIfChanged()}catch(e){console.warn("Failed to save snapshot",e)}},addDiary(t){const e=this.getDiaries();e.push(t),this.saveDiaries(e)},updateDiary(t,e){const r=this.getDiaries(),n=r.findIndex(i=>i.id===t);n!==-1&&(r[n]={...r[n],...e,updatedAt:Date.now()},this.saveDiaries(r))},deleteDiary(t){const e=this.getDiaries();this.saveDiaries(e.filter(r=>r.id!==t))},getFolders(){const t=localStorage.getItem(Yi(c2));return t?JSON.parse(t):[]},saveFolders(t){localStorage.setItem(Yi(c2),JSON.stringify(t));try{this.saveSnapshotIfChanged()}catch(e){console.warn("Failed to save snapshot",e)}},addFolder(t){const e=this.getFolders();e.push(t),this.saveFolders(e)},updateFolder(t,e){const r=this.getFolders(),n=r.findIndex(i=>i.id===t);n!==-1&&(r[n]={...r[n],...e},this.saveFolders(r))},deleteFolder(t){const e=this.getFolders();this.saveFolders(e.filter(i=>i.id!==t));const n=this.getDiaries().map(i=>i.folderId===t?{...i,folderId:null}:i);this.saveDiaries(n)},getTasks(){const t=localStorage.getItem(Yi("tasks"));if(!t)return[];const e=JSON.parse(t);return Array.isArray(e)?e.map(r=>{const n=iT(r);return{...n,taskType:n.taskType||"long-term",startDate:n.startDate||null,endDate:n.endDate||null,completedAt:n.completedAt||null}}):[]},saveTasks(t){localStorage.setItem(Yi("tasks"),JSON.stringify(t))},addTask(t){const e=this.getTasks();e.push(t),this.saveTasks(e)},updateTask(t,e){const r=this.getTasks(),n=r.findIndex(i=>i.id===t);n!==-1&&(r[n]={...r[n],...e},this.saveTasks(r))},deleteTask(t){const e=this.getTasks();this.saveTasks(e.filter(r=>r.id!==t))},getAiSettings(){const t=localStorage.getItem(Yi("ai_settings"));return t?JSON.parse(t):{}},saveAiSettings(t){localStorage.setItem(Yi("ai_settings"),JSON.stringify(t))},getAnalyses(){const t=localStorage.getItem(Yi("analyses"));return t?JSON.parse(t):[]},addAnalysis(t){const e=this.getAnalyses();e.push(t),localStorage.setItem(Yi("analyses"),JSON.stringify(e))},saveAnalyses(t){localStorage.setItem(Yi("analyses"),JSON.stringify(t))},clearUserData(){localStorage.removeItem(Yi(A2)),localStorage.removeItem(Yi(c2)),localStorage.removeItem(Yi("tasks")),localStorage.removeItem(Yi("analyses")),localStorage.removeItem(Yi(u2))},getBackups(){const t=localStorage.getItem(Yi(u2));return t?JSON.parse(t):[]},privateSaveBackups(t){localStorage.setItem(Yi(u2),JSON.stringify(t))},saveSnapshotIfChanged(){const t=this.getDiaries(),e=this.getFolders(),r=this.getBackups(),n=r.length?r[r.length-1]:null;try{if(n&&JSON.stringify(n.diaries)===JSON.stringify(t)&&JSON.stringify(n.folders)===JSON.stringify(e))return;const s={timestamp:Date.now(),diaries:t,folders:e};r.push(s),r.length>nT&&r.splice(0,r.length-nT),this.privateSaveBackups(r)}catch(i){console.warn("saveSnapshotIfChanged error",i)}},restoreBackup(t){const r=this.getBackups().find(n=>n.timestamp===t);return r?(this.saveDiaries(r.diaries),this.saveFolders(r.folders),r):null},getAllData(){return{diaries:this.getDiaries(),folders:this.getFolders()}},importAllData(t,e){try{const r=iT(t),n=Array.isArray(r.diaries)?r.diaries:[],i=Array.isArray(r.folders)?r.folders:[];if(e?.replace){this.saveFolders(i),this.saveDiaries(n);return}const s=this.getFolders(),a=new Map(s.map(c=>[c.id,c]));i.forEach(c=>{c.id||(c.id=sT()),a.set(c.id,{...a.get(c.id),...c})}),this.saveFolders(Array.from(a.values()));const o=this.getDiaries(),l=new Map(o.map(c=>[c.id,c]));n.forEach(c=>{c.id||(c.id=sT()),l.has(c.id)?l.set(c.id,{...l.get(c.id),...c}):l.set(c.id,c)}),this.saveDiaries(Array.from(l.values()))}catch(r){throw console.error("importAllData failed",r),r}}};function sT(){return"id-"+Math.random().toString(36).slice(2,9)}function qw(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function I7(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(f){try{c(n.next(f))}catch(h){a(h)}}function l(f){try{c(n.throw(f))}catch(h){a(h)}}function c(f){f.done?s(f.value):i(f.value).then(o,l)}c((n=n.apply(t,e||[])).next())})}const R7=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class qS extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class M7 extends qS{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class aT extends qS{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class oT extends qS{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var PB;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(PB||(PB={}));class Q7{constructor(e,{headers:r={},customFetch:n,region:i=PB.Any}={}){this.url=e,this.headers=r,this.region=i,this.fetch=R7(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return I7(this,arguments,void 0,function*(r,n={}){var i;let s,a;try{const{headers:o,method:l,body:c,signal:f,timeout:h}=n;let m={},{region:d}=n;d||(d=this.region);const g=new URL(`${this.url}/${r}`);d&&d!=="any"&&(m["x-region"]=d,g.searchParams.set("forceFunctionRegion",d));let v;c&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)?typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(m["Content-Type"]="application/octet-stream",v=c):typeof c=="string"?(m["Content-Type"]="text/plain",v=c):typeof FormData<"u"&&c instanceof FormData?v=c:(m["Content-Type"]="application/json",v=JSON.stringify(c)):c&&typeof c!="string"&&!(typeof Blob<"u"&&c instanceof Blob)&&!(c instanceof ArrayBuffer)&&!(typeof FormData<"u"&&c instanceof FormData)?v=JSON.stringify(c):v=c;let b=f;h&&(a=new AbortController,s=setTimeout(()=>a.abort(),h),f?(b=a.signal,f.addEventListener("abort",()=>a.abort())):b=a.signal);const w=yield this.fetch(g.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},m),this.headers),o),body:v,signal:b}).catch(k=>{throw new M7(k)}),B=w.headers.get("x-relay-error");if(B&&B==="true")throw new aT(w);if(!w.ok)throw new oT(w);let S=((i=w.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),C;return S==="application/json"?C=yield w.json():S==="application/octet-stream"||S==="application/pdf"?C=yield w.blob():S==="text/event-stream"?C=w:S==="multipart/form-data"?C=yield w.formData():C=yield w.text(),{data:C,error:null,response:w}}catch(o){return{data:null,error:o,response:o instanceof oT||o instanceof aT?o.context:void 0}}finally{s&&clearTimeout(s)}})}}var H7=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},j7=class{constructor(t){var e,r,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,this.urlLengthLimit=(n=t.urlLengthLimit)!==null&&n!==void 0?n:8e3,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{let a=null,o=null,l=null,c=s.status,f=s.statusText;if(s.ok){var h,m;if(r.method!=="HEAD"){var d;const w=await s.text();w===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((d=r.headers.get("Accept"))===null||d===void 0)&&d.includes("application/vnd.pgrst.plan+text"))?o=w:o=JSON.parse(w))}const v=(h=r.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),b=(m=s.headers.get("content-range"))===null||m===void 0?void 0:m.split("/");v&&b&&b.length>1&&(l=parseInt(b[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(o)&&(o.length>1?(a={code:"PGRST116",details:`Results contain ${o.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},o=null,l=null,c=406,f="Not Acceptable"):o.length===1?o=o[0]:o=null)}else{var g;const v=await s.text();try{a=JSON.parse(v),Array.isArray(a)&&s.status===404&&(o=[],a=null,c=200,f="OK")}catch{s.status===404&&v===""?(c=204,f="No Content"):a={message:v}}if(a&&r.isMaybeSingle&&(!(a==null||(g=a.details)===null||g===void 0)&&g.includes("0 rows"))&&(a=null,c=200,f="OK"),a&&r.shouldThrowOnError)throw new H7(a)}return{error:a,data:o,count:l,status:c,statusText:f}});return this.shouldThrowOnError||(i=i.catch(s=>{var a;let o="",l="",c="";const f=s?.cause;if(f){var h,m,d,g;const w=(h=f?.message)!==null&&h!==void 0?h:"",B=(m=f?.code)!==null&&m!==void 0?m:"";o=`${(d=s?.name)!==null&&d!==void 0?d:"FetchError"}: ${s?.message}`,o+=`

Caused by: ${(g=f?.name)!==null&&g!==void 0?g:"Error"}: ${w}`,B&&(o+=` (${B})`),f?.stack&&(o+=`
${f.stack}`)}else{var v;o=(v=s?.stack)!==null&&v!==void 0?v:""}const b=this.url.toString().length;return s?.name==="AbortError"||s?.code==="ABORT_ERR"?(c="",l="Request was aborted (timeout or manual cancellation)",b>this.urlLengthLimit&&(l+=`. Note: Your request URL is ${b} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):(f?.name==="HeadersOverflowError"||f?.code==="UND_ERR_HEADERS_OVERFLOW")&&(c="",l="HTTP headers exceeded server limits (typically 16KB)",b>this.urlLengthLimit&&(l+=`. Your request URL is ${b} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(a=s?.name)!==null&&a!==void 0?a:"FetchError"}: ${s?.message}`,details:o,hint:l,code:c},data:null,count:null,status:0,statusText:""}})),i.then(t,e)}returns(){return this}overrideTypes(){return this}},P7=class extends j7{select(t){let e=!1;const r=(t??"*").split("").map(n=>/\s/.test(n)&&!e?"":(n==='"'&&(e=!e),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:r,foreignTable:n,referencedTable:i=n}={}){const s=i?`${i}.order`:"order",a=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${a?`${a},`:""}${t}.${e?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:r=e}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${t}`),this}range(t,e,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"offset":`${n}.offset`,s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(s,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:r=!1,buffers:n=!1,wal:i=!1,format:s="text"}={}){var a;const o=[t?"analyze":null,e?"verbose":null,r?"settings":null,n?"buffers":null,i?"wal":null].filter(Boolean).join("|"),l=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${s}; for="${l}"; options=${o};`),s==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const lT=new RegExp("[,()]");var wd=class extends P7{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const r=Array.from(new Set(e)).map(n=>typeof n=="string"&&lT.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}notIn(t,e){const r=Array.from(new Set(e)).map(n=>typeof n=="string"&&lT.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`not.in.(${r})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:r,type:n}={}){let i="";n==="plain"?i="pl":n==="phrase"?i="ph":n==="websearch"&&(i="w");const s=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${i}fts${s}.${e}`),this}match(t){return Object.entries(t).forEach(([e,r])=>{this.url.searchParams.append(e,`eq.${r}`)}),this}not(t,e,r){return this.url.searchParams.append(t,`not.${e}.${r}`),this}or(t,{foreignTable:e,referencedTable:r=e}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${t})`),this}filter(t,e,r){return this.url.searchParams.append(t,`${e}.${r}`),this}},z7=class{constructor(t,{headers:e={},schema:r,fetch:n,urlLengthLimit:i=8e3}){this.url=t,this.headers=new Headers(e),this.schema=r,this.fetch=n,this.urlLengthLimit=i}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(t,e){const{head:r=!1,count:n}=e??{},i=r?"HEAD":"GET";let s=!1;const a=(t??"*").split("").map(c=>/\s/.test(c)&&!s?"":(c==='"'&&(s=!s),c)).join(""),{url:o,headers:l}=this.cloneRequestState();return o.searchParams.set("select",a),n&&l.append("Prefer",`count=${n}`),new wd({method:i,url:o,headers:l,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(t,{count:e,defaultToNull:r=!0}={}){var n;const i="POST",{url:s,headers:a}=this.cloneRequestState();if(e&&a.append("Prefer",`count=${e}`),r||a.append("Prefer","missing=default"),Array.isArray(t)){const o=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);s.searchParams.set("columns",l.join(","))}}return new wd({method:i,url:s,headers:a,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(t,{onConflict:e,ignoreDuplicates:r=!1,count:n,defaultToNull:i=!0}={}){var s;const a="POST",{url:o,headers:l}=this.cloneRequestState();if(l.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),e!==void 0&&o.searchParams.set("on_conflict",e),n&&l.append("Prefer",`count=${n}`),i||l.append("Prefer","missing=default"),Array.isArray(t)){const c=t.reduce((f,h)=>f.concat(Object.keys(h)),[]);if(c.length>0){const f=[...new Set(c)].map(h=>`"${h}"`);o.searchParams.set("columns",f.join(","))}}return new wd({method:a,url:o,headers:l,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch,urlLengthLimit:this.urlLengthLimit})}update(t,{count:e}={}){var r;const n="PATCH",{url:i,headers:s}=this.cloneRequestState();return e&&s.append("Prefer",`count=${e}`),new wd({method:n,url:i,headers:s,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:t}={}){var e;const r="DELETE",{url:n,headers:i}=this.cloneRequestState();return t&&i.append("Prefer",`count=${t}`),new wd({method:r,url:n,headers:i,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch,urlLengthLimit:this.urlLengthLimit})}};function lg(t){"@babel/helpers - typeof";return lg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lg(t)}function K7(t,e){if(lg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(lg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function V7(t){var e=K7(t,"string");return lg(e)=="symbol"?e:e+""}function q7(t,e,r){return(e=V7(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function AT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function $0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?AT(Object(r),!0).forEach(function(n){q7(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):AT(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var G7=class ML{constructor(e,{headers:r={},schema:n,fetch:i,timeout:s,urlLengthLimit:a=8e3}={}){this.url=e,this.headers=new Headers(r),this.schemaName=n,this.urlLengthLimit=a;const o=i??globalThis.fetch;s!==void 0&&s>0?this.fetch=(l,c)=>{const f=new AbortController,h=setTimeout(()=>f.abort(),s),m=c?.signal;if(m){if(m.aborted)return clearTimeout(h),o(l,c);const d=()=>{clearTimeout(h),f.abort()};return m.addEventListener("abort",d,{once:!0}),o(l,$0($0({},c),{},{signal:f.signal})).finally(()=>{clearTimeout(h),m.removeEventListener("abort",d)})}return o(l,$0($0({},c),{},{signal:f.signal})).finally(()=>clearTimeout(h))}:this.fetch=o}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new z7(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(e){return new ML(this.url,{headers:this.headers,schema:e,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(e,r={},{head:n=!1,get:i=!1,count:s}={}){var a;let o;const l=new URL(`${this.url}/rpc/${e}`);let c;const f=d=>d!==null&&typeof d=="object"&&(!Array.isArray(d)||d.some(f)),h=n&&Object.values(r).some(f);h?(o="POST",c=r):n||i?(o=n?"HEAD":"GET",Object.entries(r).filter(([d,g])=>g!==void 0).map(([d,g])=>[d,Array.isArray(g)?`{${g.join(",")}}`:`${g}`]).forEach(([d,g])=>{l.searchParams.append(d,g)})):(o="POST",c=r);const m=new Headers(this.headers);return h?m.set("Prefer",s?`count=${s},return=minimal`:"return=minimal"):s&&m.set("Prefer",`count=${s}`),new wd({method:o,url:l,headers:m,schema:this.schemaName,body:c,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch,urlLengthLimit:this.urlLengthLimit})}};class W7{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const n=r.versions;if(n&&n.node){const i=n.node,s=parseInt(i.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const $7="2.97.0",Y7=`realtime-js/${$7}`,J7="1.0.0",QL="2.0.0",cT=QL,zB=1e4,X7=1e3,Z7=100;var Xc;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Xc||(Xc={}));var ji;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(ji||(ji={}));var ll;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(ll||(ll={}));var KB;(function(t){t.websocket="websocket"})(KB||(KB={}));var Sf;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Sf||(Sf={}));class eP{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,r){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,n;const i=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(e){var r,n;const i=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},a=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,a)}_encodeUserBroadcastPush(e,r,n){var i,s;const a=e.topic,o=(i=e.ref)!==null&&i!==void 0?i:"",l=(s=e.join_ref)!==null&&s!==void 0?s:"",c=e.payload.event,f=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},h=Object.keys(f).length===0?"":JSON.stringify(f);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`ref length ${o.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`topic length ${a.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`userEvent length ${c.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`metadata length ${h.length} exceeds maximum of 255`);const m=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+o.length+a.length+c.length+h.length,d=new ArrayBuffer(this.HEADER_LENGTH+m);let g=new DataView(d),v=0;g.setUint8(v++,this.KINDS.userBroadcastPush),g.setUint8(v++,l.length),g.setUint8(v++,o.length),g.setUint8(v++,a.length),g.setUint8(v++,c.length),g.setUint8(v++,h.length),g.setUint8(v++,r),Array.from(l,w=>g.setUint8(v++,w.charCodeAt(0))),Array.from(o,w=>g.setUint8(v++,w.charCodeAt(0))),Array.from(a,w=>g.setUint8(v++,w.charCodeAt(0))),Array.from(c,w=>g.setUint8(v++,w.charCodeAt(0))),Array.from(h,w=>g.setUint8(v++,w.charCodeAt(0)));var b=new Uint8Array(d.byteLength+n.byteLength);return b.set(new Uint8Array(d),0),b.set(new Uint8Array(n),d.byteLength),b.buffer}decode(e,r){if(this._isArrayBuffer(e)){let n=this._binaryDecode(e);return r(n)}if(typeof e=="string"){const n=JSON.parse(e),[i,s,a,o,l]=n;return r({join_ref:i,ref:s,topic:a,event:o,payload:l})}return r({})}_binaryDecode(e){const r=new DataView(e),n=r.getUint8(0),i=new TextDecoder;if(n===this.KINDS.userBroadcast)return this._decodeUserBroadcast(e,r,i)}_decodeUserBroadcast(e,r,n){const i=r.getUint8(1),s=r.getUint8(2),a=r.getUint8(3),o=r.getUint8(4);let l=this.HEADER_LENGTH+4;const c=n.decode(e.slice(l,l+i));l=l+i;const f=n.decode(e.slice(l,l+s));l=l+s;const h=n.decode(e.slice(l,l+a));l=l+a;const m=e.slice(l,e.byteLength),d=o===this.JSON_ENCODING?JSON.parse(n.decode(m)):m,g={type:this.BROADCAST_EVENT,event:f,payload:d};return a>0&&(g.meta=JSON.parse(h)),{join_ref:null,ref:null,topic:c,event:this.BROADCAST_EVENT,payload:g}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e?.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(e,r){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([n])=>r.includes(n)))}}class HL{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var gn;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(gn||(gn={}));const uT=(t,e,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((s,a)=>(s[a]=tP(a,t,e,i),s),{}):{}},tP=(t,e,r,n)=>{const i=e.find(o=>o.name===t),s=i?.type,a=r[t];return s&&!n.includes(s)?jL(s,a):VB(a)},jL=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return sP(e,r)}switch(t){case gn.bool:return rP(e);case gn.float4:case gn.float8:case gn.int2:case gn.int4:case gn.int8:case gn.numeric:case gn.oid:return nP(e);case gn.json:case gn.jsonb:return iP(e);case gn.timestamp:return aP(e);case gn.abstime:case gn.date:case gn.daterange:case gn.int4range:case gn.int8range:case gn.money:case gn.reltime:case gn.text:case gn.time:case gn.timestamptz:case gn.timetz:case gn.tsrange:case gn.tstzrange:return VB(e);default:return VB(e)}},VB=t=>t,rP=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},nP=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},iP=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},sP=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let s;const a=t.slice(1,r);try{s=JSON.parse("["+a+"]")}catch{s=a?a.split(","):[]}return s.map(o=>jL(e,o))}return t},aP=t=>typeof t=="string"?t.replace(" ","T"):t,PL=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class f2{constructor(e,r,n={},i=zB){this.channel=e,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var fT;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(fT||(fT={}));class Mm{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:s,onLeave:a,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Mm.syncState(this.state,i,s,a),this.pendingDiffs.forEach(l=>{this.state=Mm.syncDiff(this.state,l,s,a)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},i=>{const{onJoin:s,onLeave:a,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Mm.syncDiff(this.state,i,s,a),o())}),this.onJoin((i,s,a)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:a})}),this.onLeave((i,s,a)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,i){const s=this.cloneDeep(e),a=this.transformState(r),o={},l={};return this.map(s,(c,f)=>{a[c]||(l[c]=f)}),this.map(a,(c,f)=>{const h=s[c];if(h){const m=f.map(b=>b.presence_ref),d=h.map(b=>b.presence_ref),g=f.filter(b=>d.indexOf(b.presence_ref)<0),v=h.filter(b=>m.indexOf(b.presence_ref)<0);g.length>0&&(o[c]=g),v.length>0&&(l[c]=v)}else o[c]=f}),this.syncDiff(s,{joins:o,leaves:l},n,i)}static syncDiff(e,r,n,i){const{joins:s,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(s,(o,l)=>{var c;const f=(c=e[o])!==null&&c!==void 0?c:[];if(e[o]=this.cloneDeep(l),f.length>0){const h=e[o].map(d=>d.presence_ref),m=f.filter(d=>h.indexOf(d.presence_ref)<0);e[o].unshift(...m)}n(o,f,l)}),this.map(a,(o,l)=>{let c=e[o];if(!c)return;const f=l.map(h=>h.presence_ref);c=c.filter(h=>f.indexOf(h.presence_ref)<0),e[o]=c,i(o,c,l),c.length===0&&delete e[o]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const i=e[n];return"metas"in i?r[n]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=i,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var hT;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(hT||(hT={}));var Qm;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Qm||(Qm={}));var GA;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(GA||(GA={}));class Fd{constructor(e,r={config:{}},n){var i,s;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=ji.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new f2(this,ll.join,this.params,this.timeout),this.rejoinTimer=new HL(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ji.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ji.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=ji.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ji.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=ji.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ll.reply,{},(a,o)=>{this._trigger(this._replyEventName(o),a)}),this.presence=new Mm(this),this.broadcastEndpointURL=PL(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,i,s;if(this.socket.isConnected()||this.socket.connect(),this.state==ji.closed){const{config:{broadcast:a,presence:o,private:l}}=this.params,c=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&i!==void 0?i:[],f=!!this.bindings[Qm.PRESENCE]&&this.bindings[Qm.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,h={},m={broadcast:a,presence:Object.assign(Object.assign({},o),{enabled:f}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(d=>e?.(GA.CHANNEL_ERROR,d)),this._onClose(()=>e?.(GA.CLOSED)),this.updateJoinPayload(Object.assign({config:m},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var g;if(this.socket._isManualToken()||this.socket.setAuth(),d===void 0){e?.(GA.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,b=(g=v?.length)!==null&&g!==void 0?g:0,w=[];for(let B=0;B<b;B++){const S=v[B],{filter:{event:C,schema:k,table:M,filter:D}}=S,H=d&&d[B];if(H&&H.event===C&&Fd.isFilterValueEqual(H.schema,k)&&Fd.isFilterValueEqual(H.table,M)&&Fd.isFilterValueEqual(H.filter,D))w.push(Object.assign(Object.assign({},S),{id:H.id}));else{this.unsubscribe(),this.state=ji.errored,e?.(GA.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,e&&e(GA.SUBSCRIBED);return}}).receive("error",d=>{this.state=ji.errored,e?.(GA.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{e?.(GA.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===ji.joined&&e===Qm.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,r,n)}async httpSend(e,r,n={}){var i;if(r==null)return Promise.reject("Payload is required for httpSend()");const s={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(s.Authorization=`Bearer ${this.socket.accessTokenValue}`);const a={method:"POST",headers:s,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},o=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);if(o.status===202)return{success:!0};let l=o.statusText;try{const c=await o.json();l=c.error||c.message||l}catch{}return Promise.reject(new Error(l))}async send(e,r={}){var n,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:a}=e,o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,o,l;const c=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(o=(a=this.params)===null||a===void 0?void 0:a.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),c.receive("ok",()=>s("ok")),c.receive("error",()=>s("error")),c.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ji.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ll.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new f2(this,ll.leave,{},e),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ji.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const i=new AbortController,s=setTimeout(()=>i.abort(),n),a=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(s),a}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new f2(this,e,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Z7){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var i,s;const a=e.toLocaleLowerCase(),{close:o,error:l,leave:c,join:f}=ll;if(n&&[o,l,c,f].indexOf(a)>=0&&n!==this._joinRef())return;let m=this._onMessage(a,r,n);if(r&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(d=>{var g,v,b;return((g=d.filter)===null||g===void 0?void 0:g.event)==="*"||((b=(v=d.filter)===null||v===void 0?void 0:v.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===a}).map(d=>d.callback(m,n)):(s=this.bindings[a])===null||s===void 0||s.filter(d=>{var g,v,b,w,B,S;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in d){const C=d.id,k=(g=d.filter)===null||g===void 0?void 0:g.event;return C&&((v=r.ids)===null||v===void 0?void 0:v.includes(C))&&(k==="*"||k?.toLocaleLowerCase()===((b=r.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const C=(B=(w=d?.filter)===null||w===void 0?void 0:w.event)===null||B===void 0?void 0:B.toLocaleLowerCase();return C==="*"||C===((S=r?.event)===null||S===void 0?void 0:S.toLocaleLowerCase())}else return d.type.toLocaleLowerCase()===a}).map(d=>{if(typeof m=="object"&&"ids"in m){const g=m.data,{schema:v,table:b,commit_timestamp:w,type:B,errors:S}=g;m=Object.assign(Object.assign({},{schema:v,table:b,commit_timestamp:w,eventType:B,new:{},old:{},errors:S}),this._getPayloadRecords(g))}d.callback(m,n)})}_isClosed(){return this.state===ji.closed}_isJoined(){return this.state===ji.joined}_isJoining(){return this.state===ji.joining}_isLeaving(){return this.state===ji.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const i=e.toLocaleLowerCase(),s={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&Fd.isEqual(i.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}static isFilterValueEqual(e,r){return(e??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(ll.close,{},e)}_onError(e){this._on(ll.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ji.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=uT(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=uT(e.columns,e.old_record)),r}}const h2=()=>{},Y0={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},oP=[1e3,2e3,5e3,1e4],lP=1e4,AP=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class cP{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=zB,this.transport=null,this.heartbeatIntervalMs=Y0.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=h2,this.ref=0,this.reconnectTimer=null,this.vsn=cT,this.logger=h2,this.conn=null,this.sendBuffer=[],this.serializer=new eP,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=i=>i?(...s)=>i(...s):(...s)=>fetch(...s),!(!((n=r?.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${KB.websocket}`,this.httpEndpoint=PL(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=W7.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Xc.connecting:return Sf.Connecting;case Xc.open:return Sf.Open;case Xc.closing:return Sf.Closing;default:return Sf.Closed}}isConnected(){return this.connectionState()===Sf.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,i=this.getChannels().find(s=>s.topic===n);if(i)return i;{const s=new Fd(`realtime:${e}`,r,this);return this.channels.push(s),s}}push(e){const{topic:r,event:n,payload:i,ref:s}=e,a=()=>{this.encode(e,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${r} ${n} (${s})`,i),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(X7,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Y0.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const c=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",c)}catch(f){this.log("error","error in heartbeat callback",f)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:i,payload:s,ref:a}=r,o=a?`(${a})`:"",l=s.status||"";this.log("receive",`${l} ${n} ${i} ${o}`.trim(),s),this.channels.filter(c=>c._isMember(n)).forEach(c=>c._trigger(i,s,a)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===Xc.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Xc.open||this.conn.readyState===Xc.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e);try{this.heartbeatCallback("error")}catch(r){this.log("error","error in heartbeat callback",r)}}_triggerChanError(){this.channels.forEach(e=>e._trigger(ll.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${e}${n}${i}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([AP],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r,n=!1;if(e)r=e,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(i=>{const s={access_token:r,version:Y7};r&&i.updateJoinPayload(s),i.joinedOnce&&i._isJoined()&&i._push(ll.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new HL(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Y0.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,i,s,a,o,l,c,f,h,m,d;switch(this.transport=(r=e?.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e?.timeout)!==null&&n!==void 0?n:zB,this.heartbeatIntervalMs=(i=e?.heartbeatIntervalMs)!==null&&i!==void 0?i:Y0.HEARTBEAT_INTERVAL,this.worker=(s=e?.worker)!==null&&s!==void 0?s:!1,this.accessToken=(a=e?.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(o=e?.heartbeatCallback)!==null&&o!==void 0?o:h2,this.vsn=(l=e?.vsn)!==null&&l!==void 0?l:cT,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=e?.reconnectAfterMs)!==null&&c!==void 0?c:(g=>oP[g-1]||lP),this.vsn){case J7:this.encode=(f=e?.encode)!==null&&f!==void 0?f:((g,v)=>v(JSON.stringify(g))),this.decode=(h=e?.decode)!==null&&h!==void 0?h:((g,v)=>v(JSON.parse(g)));break;case QL:this.encode=(m=e?.encode)!==null&&m!==void 0?m:this.serializer.encode.bind(this.serializer),this.decode=(d=e?.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}var Ag=class extends Error{constructor(t,e){super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&e.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function uP(t,e,r){const n=new URL(e,t);if(r)for(const[i,s]of Object.entries(r))s!==void 0&&n.searchParams.set(i,s);return n.toString()}async function fP(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function hP(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:i,body:s,headers:a}){const o=uP(t.baseUrl,n,i),l=await fP(t.auth),c=await e(o,{method:r,headers:{...s?{"Content-Type":"application/json"}:{},...l,...a},body:s?JSON.stringify(s):void 0}),f=await c.text(),h=(c.headers.get("content-type")||"").includes("application/json"),m=h&&f?JSON.parse(f):f;if(!c.ok){const d=h?m:void 0,g=d?.error;throw new Ag(g?.message??`Request failed with status ${c.status}`,{status:c.status,icebergType:g?.type,icebergCode:g?.code,details:d})}return{status:c.status,headers:c.headers,data:m}}}}function J0(t){return t.join("")}var dP=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:J0(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(t,e){const r={namespace:t.namespace,properties:e?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${J0(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${J0(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${J0(t.namespace)}`}),!0}catch(e){if(e instanceof Ag&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(r){if(r instanceof Ag&&r.status===409)return;throw r}}};function Zh(t){return t.join("")}var pP=class{constructor(t,e="",r){this.client=t,this.prefix=e,this.accessDelegation=r}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Zh(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Zh(t.namespace)}/tables`,body:e,headers:r})).data.metadata}async updateTable(t,e){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Zh(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Zh(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String(e?.purge??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Zh(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Zh(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(r){if(r instanceof Ag&&r.status===404)return!1;throw r}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(r){if(r instanceof Ag&&r.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw r}}},mP=class{constructor(t){let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const r=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=hP({baseUrl:r,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=t.accessDelegation?.join(","),this.namespaceOps=new dP(this.client,e),this.tableOps=new pP(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},Gw=class extends Error{constructor(t,e="storage",r,n){super(t),this.__isStorageError=!0,this.namespace=e,this.name=e==="vectors"?"StorageVectorsError":"StorageError",this.status=r,this.statusCode=n}};function Ww(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var X0=class extends Gw{constructor(t,e,r,n="storage"){super(t,n,e,r),this.name=n==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},zL=class extends Gw{constructor(t,e,r="storage"){super(t,r),this.name=r==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=e}};const gP=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),yP=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},qB=t=>{if(Array.isArray(t))return t.map(r=>qB(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[i]=qB(n)}),e},wP=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function cg(t){"@babel/helpers - typeof";return cg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cg(t)}function vP(t,e){if(cg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(cg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bP(t){var e=vP(t,"string");return cg(e)=="symbol"?e:e+""}function xP(t,e,r){return(e=bP(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Jt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dT(Object(r),!0).forEach(function(n){xP(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dT(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}const pT=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},BP=async(t,e,r,n)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!r?.noResolveJson){const i=t,s=i.status||500;if(typeof i.json=="function")i.json().then(a=>{const o=a?.statusCode||a?.code||s+"";e(new X0(pT(a),s,o,n))}).catch(()=>{if(n==="vectors"){const a=s+"";e(new X0(i.statusText||`HTTP ${s} error`,s,a,n))}else{const a=s+"";e(new X0(i.statusText||`HTTP ${s} error`,s,a,n))}});else{const a=s+"";e(new X0(i.statusText||`HTTP ${s} error`,s,a,n))}}else e(new zL(pT(t),t,n))},CP=(t,e,r,n)=>{const i={method:t,headers:e?.headers||{}};return t==="GET"||t==="HEAD"||!n?Jt(Jt({},i),r):(yP(n)?(i.headers=Jt({"Content-Type":"application/json"},e?.headers),i.body=JSON.stringify(n)):i.body=n,e?.duplex&&(i.duplex=e.duplex),Jt(Jt({},i),r))};async function Am(t,e,r,n,i,s,a){return new Promise((o,l)=>{t(r,CP(e,n,i,s)).then(c=>{if(!c.ok)throw c;if(n?.noResolveJson)return c;if(a==="vectors"){const f=c.headers.get("content-type");if(c.headers.get("content-length")==="0"||c.status===204)return{};if(!f||!f.includes("application/json"))return{}}return c.json()}).then(c=>o(c)).catch(c=>BP(c,l,n,a))})}function KL(t="storage"){return{get:async(e,r,n,i)=>Am(e,"GET",r,n,i,void 0,t),post:async(e,r,n,i,s)=>Am(e,"POST",r,i,s,n,t),put:async(e,r,n,i,s)=>Am(e,"PUT",r,i,s,n,t),head:async(e,r,n,i)=>Am(e,"HEAD",r,Jt(Jt({},n),{},{noResolveJson:!0}),i,void 0,t),remove:async(e,r,n,i,s)=>Am(e,"DELETE",r,i,s,n,t)}}const SP=KL("storage"),{get:ug,post:ol,put:GB,head:EP,remove:GS}=SP,Pa=KL("vectors");var gp=class{constructor(t,e={},r,n="storage"){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.fetch=gP(r),this.namespace=n}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=Jt(Jt({},this.headers),{},{[t]:e}),this}async handleOperation(t){var e=this;try{return{data:await t(),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Ww(r))return{data:null,error:r};throw r}}},_P=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Ww(e))return{data:null,error:e};throw e}}};let VL;VL=Symbol.toStringTag;var kP=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[VL]="BlobDownloadBuilder",this.promise=null}asStream(){return new _P(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Ww(e))return{data:null,error:e};throw e}}};const TP={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},mT={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var NP=class extends gp{constructor(t,e={},r,n){super(t,e,n,"storage"),this.bucketId=r}async uploadOrUpdate(t,e,r,n){var i=this;return i.handleOperation(async()=>{let s;const a=Jt(Jt({},mT),n);let o=Jt(Jt({},i.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const l=a.metadata;typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",a.cacheControl),l&&s.append("metadata",i.encodeMetadata(l)),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.has("cacheControl")||s.append("cacheControl",a.cacheControl),l&&!s.has("metadata")&&s.append("metadata",i.encodeMetadata(l))):(s=r,o["cache-control"]=`max-age=${a.cacheControl}`,o["content-type"]=a.contentType,l&&(o["x-metadata"]=i.toBase64(i.encodeMetadata(l))),(typeof ReadableStream<"u"&&s instanceof ReadableStream||s&&typeof s=="object"&&"pipe"in s&&typeof s.pipe=="function")&&!a.duplex&&(a.duplex="half")),n?.headers&&(o=Jt(Jt({},o),n.headers));const c=i._removeEmptyFolders(e),f=i._getFinalPath(c),h=await(t=="PUT"?GB:ol)(i.fetch,`${i.url}/object/${f}`,s,Jt({headers:o},a?.duplex?{duplex:a.duplex}:{}));return{path:c,id:h.Id,fullPath:h.Key}})}async upload(t,e,r){return this.uploadOrUpdate("POST",t,e,r)}async uploadToSignedUrl(t,e,r,n){var i=this;const s=i._removeEmptyFolders(t),a=i._getFinalPath(s),o=new URL(i.url+`/object/upload/sign/${a}`);return o.searchParams.set("token",e),i.handleOperation(async()=>{let l;const c=Jt({upsert:mT.upsert},n),f=Jt(Jt({},i.headers),{"x-upsert":String(c.upsert)});return typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,f["cache-control"]=`max-age=${c.cacheControl}`,f["content-type"]=c.contentType),{path:s,fullPath:(await GB(i.fetch,o.toString(),l,{headers:f})).Key}})}async createSignedUploadUrl(t,e){var r=this;return r.handleOperation(async()=>{let n=r._getFinalPath(t);const i=Jt({},r.headers);e?.upsert&&(i["x-upsert"]="true");const s=await ol(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:i}),a=new URL(r.url+s.url),o=a.searchParams.get("token");if(!o)throw new Gw("No token returned by API");return{signedUrl:a.toString(),path:t,token:o}})}async update(t,e,r){return this.uploadOrUpdate("PUT",t,e,r)}async move(t,e,r){var n=this;return n.handleOperation(async()=>await ol(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r?.destinationBucket},{headers:n.headers}))}async copy(t,e,r){var n=this;return n.handleOperation(async()=>({path:(await ol(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r?.destinationBucket},{headers:n.headers})).Key}))}async createSignedUrl(t,e,r){var n=this;return n.handleOperation(async()=>{let i=n._getFinalPath(t),s=await ol(n.fetch,`${n.url}/object/sign/${i}`,Jt({expiresIn:e},r?.transform?{transform:r.transform}:{}),{headers:n.headers});const a=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{signedUrl:encodeURI(`${n.url}${s.signedURL}${a}`)}})}async createSignedUrls(t,e,r){var n=this;return n.handleOperation(async()=>{const i=await ol(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:e,paths:t},{headers:n.headers}),s=r?.download?`&download=${r.download===!0?"":r.download}`:"";return i.map(a=>Jt(Jt({},a),{},{signedUrl:a.signedURL?encodeURI(`${n.url}${a.signedURL}${s}`):null}))})}download(t,e,r){const n=typeof e?.transform<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString(e?.transform||{}),s=i?`?${i}`:"",a=this._getFinalPath(t),o=()=>ug(this.fetch,`${this.url}/${n}/${a}${s}`,{headers:this.headers,noResolveJson:!0},r);return new kP(o,this.shouldThrowOnError)}async info(t){var e=this;const r=e._getFinalPath(t);return e.handleOperation(async()=>qB(await ug(e.fetch,`${e.url}/object/info/${r}`,{headers:e.headers})))}async exists(t){var e=this;const r=e._getFinalPath(t);try{return await EP(e.fetch,`${e.url}/object/${r}`,{headers:e.headers}),{data:!0,error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Ww(n)&&n instanceof zL){const i=n.originalError;if([400,404].includes(i?.status))return{data:!1,error:n}}throw n}}getPublicUrl(t,e){const r=this._getFinalPath(t),n=[],i=e?.download?`download=${e.download===!0?"":e.download}`:"";i!==""&&n.push(i);const s=typeof e?.transform<"u"?"render/image":"object",a=this.transformOptsToQueryString(e?.transform||{});a!==""&&n.push(a);let o=n.join("&");return o!==""&&(o=`?${o}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${r}${o}`)}}}async remove(t){var e=this;return e.handleOperation(async()=>await GS(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}))}async list(t,e,r){var n=this;return n.handleOperation(async()=>{const i=Jt(Jt(Jt({},TP),e),{},{prefix:t||""});return await ol(n.fetch,`${n.url}/object/list/${n.bucketId}`,i,{headers:n.headers},r)})}async listV2(t,e){var r=this;return r.handleOperation(async()=>{const n=Jt({},t);return await ol(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},e)})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const FP="2.97.0",Rg={"X-Client-Info":`storage-js/${FP}`};var UP=class extends gp{constructor(t,e={},r,n){const i=new URL(t);n?.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase."));const s=i.href.replace(/\/$/,""),a=Jt(Jt({},Rg),e);super(s,a,r,"storage")}async listBuckets(t){var e=this;return e.handleOperation(async()=>{const r=e.listBucketOptionsToQueryString(t);return await ug(e.fetch,`${e.url}/bucket${r}`,{headers:e.headers})})}async getBucket(t){var e=this;return e.handleOperation(async()=>await ug(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}))}async createBucket(t,e={public:!1}){var r=this;return r.handleOperation(async()=>await ol(r.fetch,`${r.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}))}async updateBucket(t,e){var r=this;return r.handleOperation(async()=>await GB(r.fetch,`${r.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}))}async emptyBucket(t){var e=this;return e.handleOperation(async()=>await ol(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}))}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await GS(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}))}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},OP=class extends gp{constructor(t,e={},r){const n=t.replace(/\/$/,""),i=Jt(Jt({},Rg),e);super(n,i,r,"storage")}async createBucket(t){var e=this;return e.handleOperation(async()=>await ol(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}))}async listBuckets(t){var e=this;return e.handleOperation(async()=>{const r=new URLSearchParams;t?.limit!==void 0&&r.set("limit",t.limit.toString()),t?.offset!==void 0&&r.set("offset",t.offset.toString()),t?.sortColumn&&r.set("sortColumn",t.sortColumn),t?.sortOrder&&r.set("sortOrder",t.sortOrder),t?.search&&r.set("search",t.search);const n=r.toString(),i=n?`${e.url}/bucket?${n}`:`${e.url}/bucket`;return await ug(e.fetch,i,{headers:e.headers})})}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await GS(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}))}from(t){var e=this;if(!wP(t))throw new Gw("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new mP({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(i,s){const a=i[s];return typeof a!="function"?a:async(...o)=>{try{return{data:await a.apply(i,o),error:null}}catch(l){if(n)throw l;return{data:null,error:l}}}}})}},LP=class extends gp{constructor(t,e={},r){const n=t.replace(/\/$/,""),i=Jt(Jt({},Rg),{},{"Content-Type":"application/json"},e);super(n,i,r,"vectors")}async createIndex(t){var e=this;return e.handleOperation(async()=>await Pa.post(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{})}async getIndex(t,e){var r=this;return r.handleOperation(async()=>await Pa.post(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers}))}async listIndexes(t){var e=this;return e.handleOperation(async()=>await Pa.post(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}))}async deleteIndex(t,e){var r=this;return r.handleOperation(async()=>await Pa.post(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers})||{})}},DP=class extends gp{constructor(t,e={},r){const n=t.replace(/\/$/,""),i=Jt(Jt({},Rg),{},{"Content-Type":"application/json"},e);super(n,i,r,"vectors")}async putVectors(t){var e=this;if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return e.handleOperation(async()=>await Pa.post(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{})}async getVectors(t){var e=this;return e.handleOperation(async()=>await Pa.post(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}))}async listVectors(t){var e=this;if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return e.handleOperation(async()=>await Pa.post(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}))}async queryVectors(t){var e=this;return e.handleOperation(async()=>await Pa.post(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}))}async deleteVectors(t){var e=this;if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return e.handleOperation(async()=>await Pa.post(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{})}},IP=class extends gp{constructor(t,e={},r){const n=t.replace(/\/$/,""),i=Jt(Jt({},Rg),{},{"Content-Type":"application/json"},e);super(n,i,r,"vectors")}async createBucket(t){var e=this;return e.handleOperation(async()=>await Pa.post(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{})}async getBucket(t){var e=this;return e.handleOperation(async()=>await Pa.post(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}))}async listBuckets(t={}){var e=this;return e.handleOperation(async()=>await Pa.post(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}))}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await Pa.post(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{})}},RP=class extends IP{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new MP(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,r=this;return e().call(r,t)}async getBucket(t){var e=()=>super.getBucket,r=this;return e().call(r,t)}async listBuckets(t={}){var e=()=>super.listBuckets,r=this;return e().call(r,t)}async deleteBucket(t){var e=()=>super.deleteBucket,r=this;return e().call(r,t)}},MP=class extends LP{constructor(t,e,r,n){super(t,e,n),this.vectorBucketName=r}async createIndex(t){var e=()=>super.createIndex,r=this;return e().call(r,Jt(Jt({},t),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,r=this;return e().call(r,Jt(Jt({},t),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,r=this;return e().call(r,r.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,r=this;return e().call(r,r.vectorBucketName,t)}index(t){return new QP(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},QP=class extends DP{constructor(t,e,r,n,i){super(t,e,i),this.vectorBucketName=r,this.indexName=n}async putVectors(t){var e=()=>super.putVectors,r=this;return e().call(r,Jt(Jt({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(t){var e=()=>super.getVectors,r=this;return e().call(r,Jt(Jt({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,r=this;return e().call(r,Jt(Jt({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,r=this;return e().call(r,Jt(Jt({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,r=this;return e().call(r,Jt(Jt({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},HP=class extends UP{constructor(t,e={},r,n){super(t,e,r,n)}from(t){return new NP(this.url,this.headers,t,this.fetch)}get vectors(){return new RP(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new OP(this.url+"/iceberg",this.headers,this.fetch)}};const qL="2.97.0",vd=30*1e3,WB=3,d2=WB*vd,jP="http://localhost:9999",PP="supabase.auth.token",zP={"X-Client-Info":`gotrue-js/${qL}`},$B="X-Supabase-Api-Version",GL={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},KP=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,VP=600*1e3;class fg extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Dt(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class qP extends fg{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function GP(t){return Dt(t)&&t.name==="AuthApiError"}class Ef extends fg{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class ic extends fg{constructor(e,r,n,i){super(e,n,i),this.name=r,this.status=n}}class Ha extends ic{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function p2(t){return Dt(t)&&t.name==="AuthSessionMissingError"}class ed extends ic{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Z0 extends ic{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class ey extends ic{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function WP(t){return Dt(t)&&t.name==="AuthImplicitGrantRedirectError"}class gT extends ic{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class $P extends ic{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class YB extends ic{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function m2(t){return Dt(t)&&t.name==="AuthRetryableFetchError"}class yT extends ic{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class JB extends ic{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const F1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),wT=` 	
\r=`.split(""),YP=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<wT.length;e+=1)t[wT[e].charCodeAt(0)]=-2;for(let e=0;e<F1.length;e+=1)t[F1[e].charCodeAt(0)]=e;return t})();function vT(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(F1[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(F1[n]),e.queuedBits-=6}}function WL(t,e,r){const n=YP[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function bT(t){const e=[],r=a=>{e.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=a=>{ZP(a,n,r)};for(let a=0;a<t.length;a+=1)WL(t.charCodeAt(a),i,s);return e.join("")}function JP(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function XP(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}JP(n,e)}}function ZP(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if((t>>7-n&1)===0){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function jd(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)WL(t.charCodeAt(i),r,n);return new Uint8Array(e)}function e9(t){const e=[];return XP(t,r=>e.push(r)),new Uint8Array(e)}function Nf(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};return t.forEach(i=>vT(i,r,n)),vT(null,r,n),e.join("")}function t9(t){return Math.round(Date.now()/1e3)+t}function r9(){return Symbol("auth-callback")}const gs=()=>typeof window<"u"&&typeof document<"u",pf={tested:!1,writable:!1},$L=()=>{if(!gs())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(pf.tested)return pf.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),pf.tested=!0,pf.writable=!0}catch{pf.tested=!0,pf.writable=!1}return pf.writable};function n9(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,s)=>{e[s]=i})}catch{}return r.searchParams.forEach((n,i)=>{e[i]=n}),e}const YL=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),i9=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",bd=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},mf=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},ps=async(t,e)=>{await t.removeItem(e)};class $w{constructor(){this.promise=new $w.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}$w.promiseConstructor=Promise;function ty(t){const e=t.split(".");if(e.length!==3)throw new JB("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!KP.test(e[n]))throw new JB("JWT not in base64url format");return{header:JSON.parse(bT(e[0])),payload:JSON.parse(bT(e[1])),signature:jd(e[2]),raw:{header:e[0],payload:e[1]}}}async function s9(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function a9(t,e){return new Promise((n,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const a=await t(s);if(!e(s,null,a)){n(a);return}}catch(a){if(!e(s,a)){i(a);return}}})()})}function o9(t){return("0"+t.toString(16)).substr(-2)}function l9(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let s=0;s<56;s++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(e),Array.from(e,o9).join("")}async function A9(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function c9(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await A9(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function td(t,e,r=!1){const n=l9();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await bd(t,`${e}-code-verifier`,i);const s=await c9(n);return[s,n===s?"plain":"s256"]}const u9=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function f9(t){const e=t.headers.get($B);if(!e||!e.match(u9))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function h9(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function d9(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const p9=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function rd(t){if(!p9.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function g2(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function m9(t,e){return new Proxy(t,{get:(r,n,i)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)"||s==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,i)}return!e.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,n,i)}})}function xT(t){return JSON.parse(JSON.stringify(t))}const Bf=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),g9=[502,503,504];async function BT(t){var e;if(!i9(t))throw new YB(Bf(t),0);if(g9.includes(t.status))throw new YB(Bf(t),t.status);let r;try{r=await t.json()}catch(s){throw new Ef(Bf(s),s)}let n;const i=f9(t);if(i&&i.getTime()>=GL["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new yT(Bf(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Ha}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,a)=>s&&typeof a=="string",!0))throw new yT(Bf(r),t.status,r.weak_password.reasons);throw new qP(Bf(r),t.status||500,n)}const y9=(t,e,r,n)=>{const i={method:t,headers:e?.headers||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function er(t,e,r,n){var i;const s=Object.assign({},n?.headers);s[$B]||(s[$B]=GL["2024-01-01"].name),n?.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const a=(i=n?.query)!==null&&i!==void 0?i:{};n?.redirectTo&&(a.redirect_to=n.redirectTo);const o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await w9(t,e,r+o,{headers:s,noResolveJson:n?.noResolveJson},{},n?.body);return n?.xform?n?.xform(l):{data:Object.assign({},l),error:null}}async function w9(t,e,r,n,i,s){const a=y9(e,n,i,s);let o;try{o=await t(r,Object.assign({},a))}catch(l){throw console.error(l),new YB(Bf(l),0)}if(o.ok||await BT(o),n?.noResolveJson)return o;try{return await o.json()}catch(l){await BT(l)}}function sl(t){var e;let r=null;x9(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=t9(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function CT(t){const e=sl(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function nu(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function v9(t){return{data:t,error:null}}function b9(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s}=t,a=qw(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s},l=Object.assign({},a);return{data:{properties:o,user:l},error:null}}function ST(t){return t}function x9(t){return t.access_token&&t.refresh_token&&t.expires_in}const y2=["global","local","others"];class B9{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=YL(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=y2[0]){if(y2.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${y2.join(", ")}`);try{return await er(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Dt(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await er(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:nu})}catch(n){if(Dt(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=qw(e,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n?.newEmail,delete i.newEmail),await er(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:b9,redirectTo:r?.redirectTo})}catch(r){if(Dt(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await er(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:nu})}catch(r){if(Dt(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,i,s,a,o,l;try{const c={nextPage:null,lastPage:0,total:0},f=await er(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:ST});if(f.error)throw f.error;const h=await f.json(),m=(a=f.headers.get("x-total-count"))!==null&&a!==void 0?a:0,d=(l=(o=f.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return d.length>0&&(d.forEach(g=>{const v=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(g.split(";")[1].split("=")[1]);c[`${b}Page`]=v}),c.total=parseInt(m)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(Dt(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){rd(e);try{return await er(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:nu})}catch(r){if(Dt(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){rd(e);try{return await er(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:nu})}catch(n){if(Dt(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){rd(e);try{return await er(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:nu})}catch(n){if(Dt(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){rd(e.userId);try{const{data:r,error:n}=await er(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(Dt(r))return{data:null,error:r};throw r}}async _deleteFactor(e){rd(e.userId),rd(e.id);try{return{data:await er(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(Dt(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,i,s,a,o,l;try{const c={nextPage:null,lastPage:0,total:0},f=await er(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:ST});if(f.error)throw f.error;const h=await f.json(),m=(a=f.headers.get("x-total-count"))!==null&&a!==void 0?a:0,d=(l=(o=f.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return d.length>0&&(d.forEach(g=>{const v=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(g.split(";")[1].split("=")[1]);c[`${b}Page`]=v}),c.total=parseInt(m)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(Dt(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(e){try{return await er(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Dt(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await er(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Dt(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await er(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Dt(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await er(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Dt(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await er(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Dt(r))return{data:null,error:r};throw r}}}function ET(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const nd={debug:!!(globalThis&&$L()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class JL extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class _T extends JL{}async function C9(t,e,r){nd.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;e>0&&setTimeout(()=>{n.abort(),nd.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve();try{return await globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){nd.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await r()}finally{nd.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw nd.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new _T(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(nd.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}})}catch(i){throw i?.name==="AbortError"?new _T(`Acquiring an exclusive Navigator LockManager lock "${t}" timed out waiting ${e}ms`):i}}function S9(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function XL(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function E9(t){return parseInt(t,16)}function _9(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function k9(t){var e;const{chainId:r,domain:n,expirationTime:i,issuedAt:s=new Date,nonce:a,notBefore:o,requestId:l,resources:c,scheme:f,uri:h,version:m}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(m!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${m}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const d=XL(t.address),g=f?`${f}://${n}`:n,v=t.statement?`${t.statement}
`:"",b=`${g} wants you to sign in with your Ethereum account:
${d}

${v}`;let w=`URI: ${h}
Version: ${m}
Chain ID: ${r}${a?`
Nonce: ${a}`:""}
Issued At: ${s.toISOString()}`;if(i&&(w+=`
Expiration Time: ${i.toISOString()}`),o&&(w+=`
Not Before: ${o.toISOString()}`),l&&(w+=`
Request ID: ${l}`),c){let B=`
Resources:`;for(const S of c){if(!S||typeof S!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${S}`);B+=`
- ${S}`}w+=B}return`${b}
${w}`}class _i extends Error{constructor({message:e,code:r,cause:n,name:i}){var s;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(s=i??(n instanceof Error?n.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=r}}class U1 extends _i{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function T9({error:t,options:e}){var r,n,i;const{publicKey:s}=e;if(!s)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new _i({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=s.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new _i({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=s.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new _i({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=s.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new _i({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new _i({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new _i({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return s.pubKeyCredParams.filter(o=>o.type==="public-key").length===0?new _i({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new _i({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const a=window.location.hostname;if(ZL(a)){if(s.rp.id!==a)return new _i({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new _i({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new _i({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new _i({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new _i({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function N9({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new _i({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new _i({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(ZL(n)){if(r.rpId!==n)return new _i({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new _i({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new _i({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new _i({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class F9{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const U9=new F9;function O9(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,i=qw(t,["challenge","user","excludeCredentials"]),s=jd(e).buffer,a=Object.assign(Object.assign({},r),{id:jd(r.id).buffer}),o=Object.assign(Object.assign({},i),{challenge:s,user:a});if(n&&n.length>0){o.excludeCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const c=n[l];o.excludeCredentials[l]=Object.assign(Object.assign({},c),{id:jd(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return o}function L9(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=qw(t,["challenge","allowCredentials"]),i=jd(e).buffer,s=Object.assign(Object.assign({},n),{challenge:i});if(r&&r.length>0){s.allowCredentials=new Array(r.length);for(let a=0;a<r.length;a++){const o=r[a];s.allowCredentials[a]=Object.assign(Object.assign({},o),{id:jd(o.id).buffer,type:o.type||"public-key",transports:o.transports})}}return s}function D9(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:Nf(new Uint8Array(t.response.attestationObject)),clientDataJSON:Nf(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function I9(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Nf(new Uint8Array(i.authenticatorData)),clientDataJSON:Nf(new Uint8Array(i.clientDataJSON)),signature:Nf(new Uint8Array(i.signature)),userHandle:i.userHandle?Nf(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function ZL(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function kT(){var t,e;return!!(gs()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function R9(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new U1("Browser returned unexpected credential type",e)}:{data:null,error:new U1("Empty credential response",e)}}catch(e){return{data:null,error:T9({error:e,options:t})}}}async function M9(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new U1("Browser returned unexpected credential type",e)}:{data:null,error:new U1("Empty credential response",e)}}catch(e){return{data:null,error:N9({error:e,options:t})}}}const Q9={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},H9={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function O1(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),r=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),n={};for(const i of t)if(i)for(const s in i){const a=i[s];if(a!==void 0)if(Array.isArray(a))n[s]=a;else if(r(a))n[s]=a;else if(e(a)){const o=n[s];e(o)?n[s]=O1(o,a):n[s]=O1(a)}else n[s]=a}return n}function j9(t,e){return O1(Q9,t,e||{})}function P9(t,e){return O1(H9,t,e||{})}class z9{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:i},s){var a;try{const{data:o,error:l}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!o)return{data:null,error:l};const c=i??U9.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:f}=o.webauthn.credential_options.publicKey;if(!f.name){const h=n;if(h)f.name=`${f.id}:${h}`;else{const d=(await this.client.getUser()).data.user,g=((a=d?.user_metadata)===null||a===void 0?void 0:a.name)||d?.email||d?.id||"User";f.name=`${f.id}:${g}`}}f.displayName||(f.displayName=f.name)}switch(o.webauthn.type){case"create":{const f=j9(o.webauthn.credential_options.publicKey,s?.create),{data:h,error:m}=await R9({publicKey:f,signal:c});return h?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:h}},error:null}:{data:null,error:m}}case"request":{const f=P9(o.webauthn.credential_options.publicKey,s?.request),{data:h,error:m}=await M9(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:f,signal:c}));return h?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:h}},error:null}:{data:null,error:m}}}}catch(o){return Dt(o)?{data:null,error:o}:{data:null,error:new Ef("Unexpected error in challenge",o)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},s){if(!r)return{data:null,error:new fg("rpId is required for WebAuthn authentication")};try{if(!kT())return{data:null,error:new Ef("Browser does not support WebAuthn",null)};const{data:a,error:o}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:i},{request:s});if(!a)return{data:null,error:o};const{webauthn:l}=a;return this._verify({factorId:e,challengeId:a.challengeId,webauthn:{type:l.type,rpId:r,rpOrigins:n,credential_response:l.credential_response}})}catch(a){return Dt(a)?{data:null,error:a}:{data:null,error:new Ef("Unexpected error in authenticate",a)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},s){if(!r)return{data:null,error:new fg("rpId is required for WebAuthn registration")};try{if(!kT())return{data:null,error:new Ef("Browser does not support WebAuthn",null)};const{data:a,error:o}=await this._enroll({friendlyName:e});if(!a)return await this.client.mfa.listFactors().then(f=>{var h;return(h=f.data)===null||h===void 0?void 0:h.all.find(m=>m.factor_type==="webauthn"&&m.friendly_name===e&&m.status!=="unverified")}).then(f=>f?this.client.mfa.unenroll({factorId:f?.id}):void 0),{data:null,error:o};const{data:l,error:c}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:i},{create:s});return l?this._verify({factorId:a.id,challengeId:l.challengeId,webauthn:{rpId:r,rpOrigins:n,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:c}}catch(a){return Dt(a)?{data:null,error:a}:{data:null,error:new Ef("Unexpected error in register",a)}}}}S9();const K9={url:jP,storageKey:PP,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:zP,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4,skipAutoInitialize:!1};async function TT(t,e,r){return await r()}const id={};class hg{get jwks(){var e,r;return(r=(e=id[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){id[this.storageKey]=Object.assign(Object.assign({},id[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=id[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){id[this.storageKey]=Object.assign(Object.assign({},id[this.storageKey]),{cachedAt:e})}constructor(e){var r,n,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const s=Object.assign(Object.assign({},K9),e);if(this.storageKey=s.storageKey,this.instanceID=(r=hg.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,hg.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.instanceID>0&&gs()){const a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=s.persistSession,this.autoRefreshToken=s.autoRefreshToken,this.admin=new B9({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=YL(s.fetch),this.lock=s.lock||TT,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.throwOnError=s.throwOnError,this.lockAcquireTimeout=s.lockAcquireTimeout,s.lock?this.lock=s.lock:this.persistSession&&gs()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=C9:this.lock=TT,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new z9(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:$L()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=ET(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=ET(this.memoryStorage)),gs()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a);try{await this._notifyAllSubscribers(a.data.event,a.data.session,!1)}catch(o){this._debug("#broadcastChannel","error",o)}})}s.skipAutoInitialize||this.initialize().catch(a=>{this._debug("#initialize()","error",a)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${qL}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},n="none";if(gs()&&(r=n9(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),gs()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:s}=await this._getSessionFromURL(r,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),WP(s)){const l=(e=s.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:s}}return{error:s}}const{session:a,redirectType:o}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",o),await this._saveSession(a),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Dt(r)?this._returnResult({error:r}):this._returnResult({error:new Ef("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,i;try{const s=await er(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e?.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=e?.options)===null||i===void 0?void 0:i.captchaToken}},xform:sl}),{data:a,error:o}=s;if(o||!a)return this._returnResult({data:{user:null,session:null},error:o});const l=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(s){if(Dt(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signUp(e){var r,n,i;try{let s;if("email"in e){const{email:f,password:h,options:m}=e;let d=null,g=null;this.flowType==="pkce"&&([d,g]=await td(this.storage,this.storageKey)),s=await er(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m?.emailRedirectTo,body:{email:f,password:h,data:(r=m?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:m?.captchaToken},code_challenge:d,code_challenge_method:g},xform:sl})}else if("phone"in e){const{phone:f,password:h,options:m}=e;s=await er(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:f,password:h,data:(n=m?.data)!==null&&n!==void 0?n:{},channel:(i=m?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:sl})}else throw new Z0("You must provide either an email or phone number and a password");const{data:a,error:o}=s;if(o||!a)return await ps(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:o});const l=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(s){if(await ps(this.storage,`${this.storageKey}-code-verifier`),Dt(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithPassword(e){try{let r;if("email"in e){const{email:s,password:a,options:o}=e;r=await er(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:o?.captchaToken}},xform:CT})}else if("phone"in e){const{phone:s,password:a,options:o}=e;r=await er(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:o?.captchaToken}},xform:CT})}else throw new Z0("You must provide either an email or phone number and a password");const{data:n,error:i}=r;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!n||!n.session||!n.user){const s=new ed;return this._returnResult({data:{user:null,session:null},error:s})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(Dt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,n,i,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,i,s,a,o,l,c,f,h,m;let d,g;if("message"in e)d=e.message,g=e.signature;else{const{chain:v,wallet:b,statement:w,options:B}=e;let S;if(gs())if(typeof b=="object")S=b;else{const F=window;if("ethereum"in F&&typeof F.ethereum=="object"&&"request"in F.ethereum&&typeof F.ethereum.request=="function")S=F.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!B?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=b}const C=new URL((r=B?.url)!==null&&r!==void 0?r:window.location.href),k=await S.request({method:"eth_requestAccounts"}).then(F=>F).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!k||k.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const M=XL(k[0]);let D=(n=B?.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!D){const F=await S.request({method:"eth_chainId"});D=E9(F)}const H={domain:C.host,address:M,statement:w,uri:C.href,version:"1",chainId:D,nonce:(i=B?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(a=(s=B?.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(o=B?.signInWithEthereum)===null||o===void 0?void 0:o.expirationTime,notBefore:(l=B?.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(c=B?.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(f=B?.signInWithEthereum)===null||f===void 0?void 0:f.resources};d=k9(H),g=await S.request({method:"personal_sign",params:[_9(d),M]})}try{const{data:v,error:b}=await er(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:d,signature:g},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=e.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:sl});if(b)throw b;if(!v||!v.session||!v.user){const w=new ed;return this._returnResult({data:{user:null,session:null},error:w})}return v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),this._returnResult({data:Object.assign({},v),error:b})}catch(v){if(Dt(v))return this._returnResult({data:{user:null,session:null},error:v});throw v}}async signInWithSolana(e){var r,n,i,s,a,o,l,c,f,h,m,d;let g,v;if("message"in e)g=e.message,v=e.signature;else{const{chain:b,wallet:w,statement:B,options:S}=e;let C;if(gs())if(typeof w=="object")C=w;else{const M=window;if("solana"in M&&typeof M.solana=="object"&&("signIn"in M.solana&&typeof M.solana.signIn=="function"||"signMessage"in M.solana&&typeof M.solana.signMessage=="function"))C=M.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!S?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");C=w}const k=new URL((r=S?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in C&&C.signIn){const M=await C.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},S?.signInWithSolana),{version:"1",domain:k.host,uri:k.href}),B?{statement:B}:null));let D;if(Array.isArray(M)&&M[0]&&typeof M[0]=="object")D=M[0];else if(M&&typeof M=="object"&&"signedMessage"in M&&"signature"in M)D=M;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in D&&"signature"in D&&(typeof D.signedMessage=="string"||D.signedMessage instanceof Uint8Array)&&D.signature instanceof Uint8Array)g=typeof D.signedMessage=="string"?D.signedMessage:new TextDecoder().decode(D.signedMessage),v=D.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in C)||typeof C.signMessage!="function"||!("publicKey"in C)||typeof C!="object"||!C.publicKey||!("toBase58"in C.publicKey)||typeof C.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${k.host} wants you to sign in with your Solana account:`,C.publicKey.toBase58(),...B?["",B,""]:[""],"Version: 1",`URI: ${k.href}`,`Issued At: ${(i=(n=S?.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=S?.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${S.signInWithSolana.notBefore}`]:[],...!((a=S?.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${S.signInWithSolana.expirationTime}`]:[],...!((o=S?.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${S.signInWithSolana.chainId}`]:[],...!((l=S?.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${S.signInWithSolana.nonce}`]:[],...!((c=S?.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${S.signInWithSolana.requestId}`]:[],...!((h=(f=S?.signInWithSolana)===null||f===void 0?void 0:f.resources)===null||h===void 0)&&h.length?["Resources",...S.signInWithSolana.resources.map(D=>`- ${D}`)]:[]].join(`
`);const M=await C.signMessage(new TextEncoder().encode(g),"utf8");if(!M||!(M instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=M}}try{const{data:b,error:w}=await er(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:Nf(v)},!((m=e.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(d=e.options)===null||d===void 0?void 0:d.captchaToken}}:null),xform:sl});if(w)throw w;if(!b||!b.session||!b.user){const B=new ed;return this._returnResult({data:{user:null,session:null},error:B})}return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:Object.assign({},b),error:w})}catch(b){if(Dt(b))return this._returnResult({data:{user:null,session:null},error:b});throw b}}async _exchangeCodeForSession(e){const r=await mf(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new $P;const{data:s,error:a}=await er(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:sl});if(await ps(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!s||!s.session||!s.user){const o=new ed;return this._returnResult({data:{user:null,session:null,redirectType:null},error:o})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:a})}catch(s){if(await ps(this.storage,`${this.storageKey}-code-verifier`),Dt(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}}async signInWithIdToken(e){try{const{options:r,provider:n,token:i,access_token:s,nonce:a}=e,o=await er(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:sl}),{data:l,error:c}=o;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l||!l.session||!l.user){const f=new ed;return this._returnResult({data:{user:null,session:null},error:f})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:c})}catch(r){if(Dt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,n,i,s,a;try{if("email"in e){const{email:o,options:l}=e;let c=null,f=null;this.flowType==="pkce"&&([c,f]=await td(this.storage,this.storageKey));const{error:h}=await er(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=l?.data)!==null&&r!==void 0?r:{},create_user:(n=l?.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},code_challenge:c,code_challenge_method:f},redirectTo:l?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in e){const{phone:o,options:l}=e,{data:c,error:f}=await er(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(i=l?.data)!==null&&i!==void 0?i:{},create_user:(s=l?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},channel:(a=l?.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:c?.message_id},error:f})}throw new Z0("You must provide either an email or phone number.")}catch(o){if(await ps(this.storage,`${this.storageKey}-code-verifier`),Dt(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async verifyOtp(e){var r,n;try{let i,s;"options"in e&&(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo,s=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:o}=await er(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:sl});if(o)throw o;if(!a)throw new Error("An error occurred on token verification.");const l=a.session,c=a.user;return l?.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(i){if(Dt(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(e){var r,n,i,s,a;try{let o=null,l=null;this.flowType==="pkce"&&([o,l]=await td(this.storage,this.storageKey));const c=await er(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=e?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:l}),headers:this.headers,xform:v9});return!((s=c.data)===null||s===void 0)&&s.url&&gs()&&!(!((a=e.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(c.data.url),this._returnResult(c)}catch(o){if(await ps(this.storage,`${this.storageKey}-code-verifier`),Dt(o))return this._returnResult({data:null,error:o});throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new Ha;const{error:i}=await er(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(e){if(Dt(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:i,options:s}=e,{error:a}=await er(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in e){const{phone:n,type:i,options:s}=e,{data:a,error:o}=await er(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a?.message_id},error:o})}throw new Z0("You must provide either an email or phone number and a type")}catch(r){if(Dt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await mf(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<d2:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const a=await mf(this.userStorage,this.storageKey+"-user");a?.user?e.user=a.user:e.user=g2()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};e.user=m9(e.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(e){try{return e?await er(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:nu}):await this._useSession(async r=>{var n,i,s;const{data:a,error:o}=r;if(o)throw o;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ha}:await er(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:nu})})}catch(r){if(Dt(r))return p2(r)&&(await this._removeSession(),await ps(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:i,error:s}=n;if(s)throw s;if(!i.session)throw new Ha;const a=i.session;let o=null,l=null;this.flowType==="pkce"&&e.email!=null&&([o,l]=await td(this.storage,this.storageKey));const{data:c,error:f}=await er(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:l}),jwt:a.access_token,xform:nu});if(f)throw f;return a.user=c.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(n){if(await ps(this.storage,`${this.storageKey}-code-verifier`),Dt(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Ha;const r=Date.now()/1e3;let n=r,i=!0,s=null;const{payload:a}=ty(e.access_token);if(a.exp&&(n=a.exp,i=n<=r),i){const{data:o,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!o)return{data:{user:null,session:null},error:null};s=o}else{const{data:o,error:l}=await this._getUser(e.access_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});s={access_token:e.access_token,refresh_token:e.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(r){if(Dt(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:a,error:o}=r;if(o)throw o;e=(n=a.session)!==null&&n!==void 0?n:void 0}if(!e?.refresh_token)throw new Ha;const{data:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(Dt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!gs())throw new ey("No browser detected.");if(e.error||e.error_description||e.error_code)throw new ey(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new gT("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ey("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new gT("No code detected.");const{data:B,error:S}=await this._exchangeCodeForSession(e.code);if(S)throw S;const C=new URL(window.location.href);return C.searchParams.delete("code"),window.history.replaceState(window.history.state,"",C.toString()),{data:{session:B.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:s,refresh_token:a,expires_in:o,expires_at:l,token_type:c}=e;if(!s||!o||!a||!c)throw new ey("No session defined in URL");const f=Math.round(Date.now()/1e3),h=parseInt(o);let m=f+h;l&&(m=parseInt(l));const d=m-f;d*1e3<=vd&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${d}s, should have been closer to ${h}s`);const g=m-h;f-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,m,f):f-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,m,f);const{data:v,error:b}=await this._getUser(s);if(b)throw b;const w={provider_token:n,provider_refresh_token:i,access_token:s,expires_in:h,expires_at:m,refresh_token:a,token_type:c,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:w,redirectType:e.type},error:null})}catch(n){if(Dt(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await mf(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s&&!p2(s))return this._returnResult({error:s});const a=(n=i.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:o}=await this.admin.signOut(a,e);if(o&&!(GP(o)&&(o.status===404||o.status===401||o.status===403)||p2(o)))return this._returnResult({error:o})}return e!=="others"&&(await this._removeSession(),await ps(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=r9(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,i;try{const{data:{session:s},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await td(this.storage,this.storageKey,!0));try{return await er(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(await ps(this.storage,`${this.storageKey}-code-verifier`),Dt(s))return this._returnResult({data:null,error:s});throw s}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(Dt(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:i}=await this._useSession(async s=>{var a,o,l,c,f;const{data:h,error:m}=s;if(m)throw m;const d=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await er(this.fetch,"GET",d,{headers:this.headers,jwt:(f=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&f!==void 0?f:void 0})});if(i)throw i;return gs()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n?.url),this._returnResult({data:{provider:e.provider,url:n?.url},error:null})}catch(n){if(Dt(n))return this._returnResult({data:{provider:e.provider,url:null},error:n});throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:i,data:{session:s}}=r;if(i)throw i;const{options:a,provider:o,token:l,access_token:c,nonce:f}=e,h=await er(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=s?.access_token)!==null&&n!==void 0?n:void 0,body:{provider:o,id_token:l,access_token:c,nonce:f,link_identity:!0,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:sl}),{data:m,error:d}=h;return d?this._returnResult({data:{user:null,session:null},error:d}):!m||!m.session||!m.user?this._returnResult({data:{user:null,session:null},error:new ed}):(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("USER_UPDATED",m.session)),this._returnResult({data:m,error:d}))}catch(i){if(await ps(this.storage,`${this.storageKey}-code-verifier`),Dt(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,i;const{data:s,error:a}=r;if(a)throw a;return await er(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(Dt(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await a9(async i=>(i>0&&await s9(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await er(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:sl})),(i,s)=>{const a=200*Math.pow(2,i);return s&&m2(s)&&Date.now()+a-n<vd})}catch(n){if(this._debug(r,"error",n),Dt(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),gs()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await mf(this.storage,this.storageKey);if(i&&this.userStorage){let a=await mf(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:i.user},await bd(this.userStorage,this.storageKey+"-user",a)),i.user=(e=a?.user)!==null&&e!==void 0?e:g2()}else if(i&&!i.user&&!i.user){const a=await mf(this.storage,this.storageKey+"-user");a&&a?.user?(i.user=a.user,await ps(this.storage,this.storageKey+"-user"),await bd(this.storage,this.storageKey,i)):i.user=g2()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const s=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<d2;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${d2}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:a}=await this._callRefreshToken(i.refresh_token);a&&(console.error(a),m2(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:o}=await this._getUser(i.access_token);!o&&a?.user?(i.user=a.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(n,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new Ha;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new $w;const{data:s,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!s.session)throw new Ha;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const o={data:s.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(s){if(this._debug(i,"error",s),Dt(s)){const a={data:null,error:s};return m2(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,r,n=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const s=[],a=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(e,r)}catch(l){s.push(l)}});if(await Promise.all(a),s.length>0){for(let o=0;o<s.length;o+=1)console.error(s[o]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await ps(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await bd(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const s=xT(i);await bd(this.storage,this.storageKey,s)}else{const i=xT(r);await bd(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await ps(this.storage,this.storageKey),await ps(this.storage,this.storageKey+"-code-verifier"),await ps(this.storage,this.storageKey+"-user"),this.userStorage&&await ps(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&gs()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),vd);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-e)/vd);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${vd}ms, refresh threshold is ${WB} ticks`),i<=WB&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof JL)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!gs()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(e){this._debug("#visibilityChangedCallback","error",e)}},window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n?.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,a]=await td(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(o.toString())}if(n?.queryParams){const s=new URLSearchParams(n.queryParams);i.push(s.toString())}return n?.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;return s?this._returnResult({data:null,error:s}):await er(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Dt(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,i;const{data:s,error:a}=r;if(a)return this._returnResult({data:null,error:a});const o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:c}=await er(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=s?.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(e.factorType==="totp"&&l.type==="totp"&&(!((i=l?.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(r){if(Dt(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return this._returnResult({data:null,error:s});const a=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?D9(e.webauthn.credential_response):I9(e.webauthn.credential_response)})}:{code:e.code}),{data:o,error:l}=await er(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:a,headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),this._returnResult({data:o,error:l}))})}catch(r){if(Dt(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return this._returnResult({data:null,error:s});const a=await er(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token});if(a.error)return a;const{data:o}=a;if(o.type!=="webauthn")return{data:o,error:null};switch(o.webauthn.type){case"create":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:O9(o.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:L9(o.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Dt(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const i={all:[],phone:[],totp:[],webauthn:[]};for(const s of(e=r?.factors)!==null&&e!==void 0?e:[])i.all.push(s),s.status==="verified"&&i[s.factor_type].push(s);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(e){var r,n,i,s;if(e)try{const{payload:d}=ty(e);let g=null;d.aal&&(g=d.aal);let v=g;const{data:{user:b},error:w}=await this.getUser(e);if(w)return this._returnResult({data:null,error:w});((n=(r=b?.factors)===null||r===void 0?void 0:r.filter(C=>C.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(v="aal2");const S=d.amr||[];return{data:{currentLevel:g,nextLevel:v,currentAuthenticationMethods:S},error:null}}catch(d){if(Dt(d))return this._returnResult({data:null,error:d});throw d}const{data:{session:a},error:o}=await this.getSession();if(o)return this._returnResult({data:null,error:o});if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=ty(a.access_token);let c=null;l.aal&&(c=l.aal);let f=c;((s=(i=a.user.factors)===null||i===void 0?void 0:i.filter(d=>d.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(f="aal2");const m=l.amr||[];return{data:{currentLevel:c,nextLevel:f,currentAuthenticationMethods:m},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?await er(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Ha})})}catch(r){if(Dt(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:i},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new Ha});const a=await er(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:o=>({data:o,error:null})});return a.data&&a.data.redirect_url&&gs()&&!r?.skipBrowserRedirect&&window.location.assign(a.data.redirect_url),a})}catch(n){if(Dt(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:i},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new Ha});const a=await er(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:o=>({data:o,error:null})});return a.data&&a.data.redirect_url&&gs()&&!r?.skipBrowserRedirect&&window.location.assign(a.data.redirect_url),a})}catch(n){if(Dt(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;return n?this._returnResult({data:null,error:n}):r?await er(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Ha})})}catch(e){if(Dt(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?(await er(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Ha})})}catch(r){if(Dt(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(o=>o.kid===e);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(o=>o.kid===e),n&&this.jwks_cached_at+VP>i)return n;const{data:s,error:a}=await er(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,n=s.keys.find(o=>o.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:d,error:g}=await this.getSession();if(g||!d.session)return this._returnResult({data:null,error:g});n=d.session.access_token}const{header:i,payload:s,signature:a,raw:{header:o,payload:l}}=ty(n);r?.allowExpired||h9(s.exp);const c=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!c){const{error:d}=await this.getUser(n);if(d)throw d;return{data:{claims:s,header:i,signature:a},error:null}}const f=d9(i.alg),h=await crypto.subtle.importKey("jwk",c,f,!0,["verify"]);if(!await crypto.subtle.verify(f,h,a,e9(`${o}.${l}`)))throw new JB("Invalid JWT signature");return{data:{claims:s,header:i,signature:a},error:null}}catch(n){if(Dt(n))return this._returnResult({data:null,error:n});throw n}}}hg.nextInstanceID={};const V9=hg,q9="2.97.0";let Cm="";typeof Deno<"u"?Cm="deno":typeof document<"u"?Cm="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Cm="react-native":Cm="node";const G9={"X-Client-Info":`supabase-js-${Cm}/${q9}`},W9={headers:G9},$9={schema:"public"},Y9={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},J9={};function dg(t){"@babel/helpers - typeof";return dg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dg(t)}function X9(t,e){if(dg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(dg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Z9(t){var e=X9(t,"string");return dg(e)=="symbol"?e:e+""}function ez(t,e,r){return(e=Z9(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function NT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ii(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?NT(Object(r),!0).forEach(function(n){ez(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):NT(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}const tz=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),rz=()=>Headers,nz=(t,e,r)=>{const n=tz(r),i=rz();return async(s,a)=>{var o;const l=(o=await e())!==null&&o!==void 0?o:t;let c=new i(a?.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),n(s,ii(ii({},a),{},{headers:c}))}};function iz(t){return t.endsWith("/")?t:t+"/"}function sz(t,e){var r,n;const{db:i,auth:s,realtime:a,global:o}=t,{db:l,auth:c,realtime:f,global:h}=e,m={db:ii(ii({},l),i),auth:ii(ii({},c),s),realtime:ii(ii({},f),a),storage:{},global:ii(ii(ii({},h),o),{},{headers:ii(ii({},(r=h?.headers)!==null&&r!==void 0?r:{}),(n=o?.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?m.accessToken=t.accessToken:delete m.accessToken,m}function az(t){const e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(iz(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var oz=class extends V9{constructor(t){super(t)}},lz=class{constructor(t,e,r){var n,i;this.supabaseUrl=t,this.supabaseKey=e;const s=az(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",s),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",s),this.storageUrl=new URL("storage/v1",s),this.functionsUrl=new URL("functions/v1",s);const a=`sb-${s.hostname.split(".")[0]}-auth-token`,o={db:$9,realtime:J9,auth:ii(ii({},Y9),{},{storageKey:a}),global:W9},l=sz(r??{},o);if(this.storageKey=(n=l.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(i=l.global.headers)!==null&&i!==void 0?i:{},l.accessToken)this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}});else{var c;this.auth=this._initSupabaseAuthClient((c=l.auth)!==null&&c!==void 0?c:{},this.headers,l.global.fetch)}this.fetch=nz(e,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(ii({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(f=>this.realtime.setAuth(f)).catch(f=>console.warn("Failed to set initial Realtime auth token:",f)),this.rest=new G7(new URL("rest/v1",s).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch,timeout:l.db.timeout,urlLengthLimit:l.db.urlLengthLimit}),this.storage=new HP(this.storageUrl.href,this.headers,this.fetch,r?.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new Q7(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,r)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,r;if(t.accessToken)return await t.accessToken();const{data:n}=await t.auth.getSession();return(e=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:n,userStorage:i,storageKey:s,flowType:a,lock:o,debug:l,throwOnError:c},f,h){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new oz({url:this.authUrl.href,headers:ii(ii({},m),f),storageKey:s,autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:n,userStorage:i,flowType:a,lock:o,debug:l,throwOnError:c,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(d=>d.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new cP(this.realtimeUrl.href,ii(ii({},t),{},{params:ii(ii({},{apikey:this.supabaseKey}),t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e?.access_token)})}_handleTokenChanged(t,e,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const Az=(t,e,r)=>new lz(t,e,r);function cz(){if(typeof window<"u")return!1;const t=globalThis.process;if(!t)return!1;const e=t.version;if(e==null)return!1;const r=e.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}cz()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const eD="",uz="",Pd=!!eD,mo=Pd?Az(eD,uz):null,Ml=()=>{if(!mo)throw new Error("Supabase is not configured.");return mo},iu=(t,e)=>{if(!t)return e;if(typeof t=="number")return t;const r=Date.parse(t);return isNaN(r)?e:r},FT=t=>{const e=iu(t.created_at,Date.now());return{id:t.id,title:t.title??"",content:t.content??"",folderId:t.folder_id??null,tags:t.tags??[],createdAt:e,updatedAt:iu(t.updated_at,e)}},UT=(t,e)=>({id:e.id,user_id:t,title:e.title,content:e.content,folder_id:e.folderId,tags:e.tags,created_at:e.createdAt,updated_at:e.updatedAt??e.createdAt}),fz=t=>({id:t.id,name:t.name,parentId:t.parent_id,color:t.color??void 0,createdAt:iu(t.created_at,Date.now())}),hz=(t,e)=>({id:e.id,user_id:t,name:e.name,parent_id:e.parentId,color:e.color??null,created_at:e.createdAt}),dz=t=>{const e=iu(t.created_at,Date.now());return{id:t.id,title:t.title,notes:t.notes??void 0,createdAt:e,dueAt:t.due_at?iu(t.due_at,e):null,completed:t.completed,recurring:t.recurring,relatedDiaryId:t.related_diary_id,taskType:t.task_type,startDate:t.start_date?iu(t.start_date,e):null,endDate:t.end_date?iu(t.end_date,e):null,completedAt:t.completed_at?iu(t.completed_at,e):null,order:t.sort_order??void 0}},pz=(t,e)=>({id:e.id,user_id:t,title:e.title,notes:e.notes??null,created_at:e.createdAt,due_at:e.dueAt??null,completed:e.completed,recurring:e.recurring??null,related_diary_id:e.relatedDiaryId??null,task_type:e.taskType,start_date:e.startDate??null,end_date:e.endDate??null,completed_at:e.completedAt??null,sort_order:e.order??null}),In={async fetchDiaries(t){const e=Ml(),r=await e.from("diaries").select("*").eq("user_id",t).order("updated_at",{ascending:!1});if(!r.error)return r.data?.map(FT)??[];if(r.error.code==="42703"){const n=await e.from("diaries").select("*").eq("user_id",t).order("created_at",{ascending:!1});return n.error?[]:n.data?.map(FT)??[]}return[]},async insertDiary(t,e){const r=Ml(),n=UT(t,e),{error:i}=await r.from("diaries").insert(n);if(i)throw i},async upsertDiary(t,e){const r=Ml(),n=UT(t,e),{error:i}=await r.from("diaries").upsert(n,{onConflict:"id"});if(i)throw i},async deleteDiary(t,e){const r=Ml(),{error:n}=await r.from("diaries").delete().eq("id",e).eq("user_id",t);if(n)throw n},async fetchFolders(t){const e=Ml(),{data:r,error:n}=await e.from("folders").select("*").eq("user_id",t).order("created_at",{ascending:!1});if(n)throw n;return r?.map(fz)??[]},async upsertFolder(t,e){const r=Ml(),n=hz(t,e),{error:i}=await r.from("folders").upsert(n,{onConflict:"id"});if(i)throw i},async deleteFolder(t,e){const r=Ml(),{error:n}=await r.from("folders").delete().eq("id",e).eq("user_id",t);if(n)throw n;const{error:i}=await r.from("diaries").update({folder_id:null}).eq("user_id",t).eq("folder_id",e);if(i)throw i},async fetchTasks(t){const e=Ml(),{data:r,error:n}=await e.from("tasks").select("*").eq("user_id",t).order("sort_order",{ascending:!0,nullsFirst:!1}).order("created_at",{ascending:!0});if(n)throw n;return r?.map(dz)??[]},async upsertTask(t,e){const r=Ml(),n=pz(t,e),{error:i}=await r.from("tasks").upsert(n,{onConflict:"id"});if(i)throw i},async deleteTask(t,e){const r=Ml(),{error:n}=await r.from("tasks").delete().eq("id",e).eq("user_id",t);if(n)throw n}},tD=ke.createContext(null),yp=()=>{const t=ke.useContext(tD);if(!t)throw new Error("useAuth must be used within AuthProvider");return t},rD=ke.createContext(null),mz=({children:t})=>{const[e,r]=ke.useState("idle"),[n,i]=ke.useState(0),[s,a]=ke.useState(null),o=ke.useCallback(d=>{r(d)},[]),l=ke.useCallback(()=>{r("syncing"),a(null)},[]),c=ke.useCallback(()=>{r("synced"),a(null),setTimeout(()=>{r(d=>d==="synced"?"idle":d)},2e3)},[]),f=ke.useCallback(d=>{r("error"),a(d)},[]),h=ke.useCallback(d=>{a(d),d&&r("error")},[]),m=ke.useMemo(()=>({status:e,pendingCount:n,lastError:s,setSyncStatus:o,setPendingCount:i,setError:h,startSync:l,finishSync:c,failSync:f}),[e,n,s,o,i,h,l,c,f]);return _.jsx(rD.Provider,{value:m,children:t})},nD=()=>{const t=ke.useContext(rD);if(!t)throw new Error("useSyncStatus must be used within SyncStatusProvider");return t},sd="sync_queue",gz=5;class Ud{static instance;constructor(){}static getInstance(){return Ud.instance||(Ud.instance=new Ud),Ud.instance}getAll(){try{const e=localStorage.getItem(sd);return e?JSON.parse(e):[]}catch(e){return console.error("Failed to read sync queue",e),[]}}enqueue(e){try{const r=this.getAll(),n={...e,id:`${e.type}_${e.action}_${Date.now()}_${Math.random().toString(36).slice(2,9)}`,timestamp:Date.now(),retryCount:0};r.push(n),localStorage.setItem(sd,JSON.stringify(r))}catch(r){console.error("Failed to enqueue operation",r)}}dequeue(e){try{const n=this.getAll().filter(i=>i.id!==e);localStorage.setItem(sd,JSON.stringify(n))}catch(r){console.error("Failed to dequeue operation",r)}}updateRetry(e,r){try{const i=this.getAll().map(s=>s.id===e?{...s,retryCount:s.retryCount+1,lastError:r}:s);localStorage.setItem(sd,JSON.stringify(i))}catch(n){console.error("Failed to update retry count",n)}}pruneExpired(){try{const r=this.getAll().filter(n=>n.retryCount<gz);localStorage.setItem(sd,JSON.stringify(r))}catch(e){console.error("Failed to prune expired operations",e)}}clear(){try{localStorage.removeItem(sd)}catch(e){console.error("Failed to clear sync queue",e)}}getCount(){return this.getAll().length}getByType(e){return this.getAll().filter(r=>r.type===e)}}const su=Ud.getInstance();class Od{static instance;isProcessing=!1;listeners=[];constructor(){typeof window<"u"&&window.addEventListener("online",()=>{this.processQueue()})}static getInstance(){return Od.instance||(Od.instance=new Od),Od.instance}addListener(e){return this.listeners.push(e),()=>{this.listeners=this.listeners.filter(r=>r!==e)}}notifyListeners(){this.listeners.forEach(e=>e())}async processQueue(e){if(this.isProcessing||!navigator.onLine)return;this.isProcessing=!0;const r=su.getAll();for(const n of r)try{await this.executeOperation(n),su.dequeue(n.id),e?.(!0)}catch(i){const s=i instanceof Error?i.message:"Unknown error";su.updateRetry(n.id,s),e?.(!1,s)}su.pruneExpired(),this.isProcessing=!1,this.notifyListeners()}async executeOperation(e){switch(e.type){case"diary":await this.executeDiaryOperation(e);break;case"folder":await this.executeFolderOperation(e);break;case"task":await this.executeTaskOperation(e);break}}async executeDiaryOperation(e){const r=e.data;switch(e.action){case"create":case"update":await In.upsertDiary(e.userId,r);break;case"delete":await In.deleteDiary(e.userId,r.id);break}}async executeFolderOperation(e){const r=e.data;switch(e.action){case"create":case"update":await In.upsertFolder(e.userId,r);break;case"delete":await In.deleteFolder(e.userId,r.id);break}}async executeTaskOperation(e){const r=e.data;switch(e.action){case"create":case"update":await In.upsertTask(e.userId,r);break;case"delete":await In.deleteTask(e.userId,r.id);break}}getPendingCount(){return su.getCount()}}const xd=Od.getInstance(),w2="sync_history",OT=50;class Ld{static instance;listeners=[];constructor(){}static getInstance(){return Ld.instance||(Ld.instance=new Ld),Ld.instance}addListener(e){return this.listeners.push(e),()=>{this.listeners=this.listeners.filter(r=>r!==e)}}notifyListeners(){this.listeners.forEach(e=>e())}getAll(){try{const e=localStorage.getItem(w2);return e?JSON.parse(e):[]}catch(e){return console.error("Failed to read sync history",e),[]}}add(e){try{const r=this.getAll(),n={...e,id:`${e.type}_${e.action}_${Date.now()}_${Math.random().toString(36).slice(2,9)}`,timestamp:Date.now()};r.unshift(n),r.length>OT&&r.splice(OT),localStorage.setItem(w2,JSON.stringify(r)),this.notifyListeners()}catch(r){console.error("Failed to add sync history",r)}}clear(){try{localStorage.removeItem(w2),this.notifyListeners()}catch(e){console.error("Failed to clear sync history",e)}}getRecent(e=10){return this.getAll().slice(0,e)}getByType(e,r=10){return this.getAll().filter(n=>n.type===e).slice(0,r)}getStats(){const e=this.getAll();return{total:e.length,success:e.filter(r=>r.status==="success").length,error:e.filter(r=>r.status==="error").length,byType:{diary:e.filter(r=>r.type==="diary").length,folder:e.filter(r=>r.type==="folder").length,task:e.filter(r=>r.type==="task").length}}}}const yo=Ld.getInstance(),iD="diary-app:toast",yz=()=>`toast-${Date.now()}-${Math.random().toString(36).slice(2,8)}`,Cr=(t,e="info",r=2800)=>{const n={id:yz(),message:t,type:e,duration:r};return window.dispatchEvent(new CustomEvent(iD,{detail:n})),n.id},LT=iD,vs=t=>{if(t instanceof Error)return t.message;if(typeof t=="object"&&t!==null){const e=t;if(typeof e.message=="string"&&e.message)return e.message}return String(t)},wz={Menu:"",Settings:"","Import Files":"","Export Diaries":"","Export Scope":"","Current Diary":"","All Diaries":"","Export Format":"","Note: Word and PDF formats currently support single diary export only.":"Word  PDF ","No diaries to export":"","Exporting...":"...","Import diaries and folders":"","Export current diary":"","Import files (JSON/MD/HTML/TXT/DOCX/PDF)":" JSON/MD/HTML/TXT/DOCX/PDF","Export all diaries":"",Cancel:"",Save:"",Pin:"",Unpin:"","Loading...":"...","Cloud Sync":"","Syncing...":"...",Synced:"","Sync Failed":"","Retry sync":"","operations pending":"",Status:"","Just now":"","minutes ago":"","hours ago":"","days ago":"","Sync History":"","Clear History":"","No sync history yet":"","Fetched diaries from cloud":"","Failed to fetch diaries":"","Created diary":"","Failed to create diary":"","Updated diary":"","Failed to update diary":"","Deleted diary":"","Failed to delete diary":"","Created folder":"","Failed to create folder":"","Updated folder":"","Failed to update folder":"","Deleted folder":"","Failed to delete folder":"","Created task":"","Failed to create task":"","Updated task":"","Failed to update task":"","Deleted task":"","Failed to delete task":"","Network error":"","Cloud Sync Login":"","Sign in to access your cloud diaries across devices.":"","Supabase is not configured. Please set VITE_SUPABASE_URL and VITE_SUPABASE_ANON_KEY.":"Supabase  VITE_SUPABASE_URL  VITE_SUPABASE_ANON_KEY",Email:"",Password:"","Enter your email":"","Enter your password":"","Please enter email and password":"","Sign in":"","Create account":"","No account? Sign up":"","Have an account? Sign in":"","Account created. Please check your email to confirm.":"","Sign in failed.":"","Sign out":"","Sign out failed.":"","Switch Account":"","Log out":"","Switched account. Please sign in again.":"","Logged out successfully":"","Cloud sync failed":"","Calendar View":"",Calendar:"","New Diary":"","No diaries on this date":"","Create one":"","Change Diary Date":"","Change Date":"","New Folder":"","Create New Folder":"","Rename Folder":"","Delete Folder":"",Delete:"",Edit:"",Rename:"","Delete Diary":"","Delete Tag":"",'Are you sure you want to delete this folder? Diaries in this folder will be moved to "All Diaries".':"","Delete tag confirm":"{tag}",Tags:"","Change color":"","Rename Tag":"","Merge Tags":"","Choose Tag Color":"","Move to Folder":"","Select destination folder":"",Move:"",Folders:"","Folder name":"",Create:"",Diaries:"","Search diaries...":"...","Sort by":"","Last edited (newest first)":"","Last edited (oldest first)":"","Created date (newest first)":"","Created date (oldest first)":"","Title A-Z":"","Title Z-A":"","No diaries found":"","No diaries yet. Create one!":"","Create first diary":"","Showing diaries summary":" {visible} /  {total} ","No content":"","Are you sure you want to delete this diary? This action cannot be undone.":"",Clear:"",Merge:"","No tags yet":"","New tag name":"","New merged tag name":"","Select tags to merge (minimum 2):":"",Untitled:"","Add tags (press Enter)...":"...","No diary selected":"","Select a diary from the list or create a new one":"","Export All Diaries":"","Last edited:":"",words:"","Supported formats":"",Files:"","Files to import":"","Replace existing data (instead of merging)":"",Ready:"","Parsing...":"...","Unsupported or failed to parse":"",Error:"","Unable to parse .docx file content":" .docx ","Unable to parse PDF file content":" PDF ",:"","Imported diaries successfully":"","Imported folders successfully":"","Imported successfully":"","No importable data found":"","Import failed. Please try again.":"","Importing...":"...",Import:"",Export:"","Export completed":"","Diary moved successfully":"","Export All Data":"",Backups:"","No backups found":"","Backup created at":"","Restore backup":"","Download backup":"","This will replace existing data. Are you sure?":"",Markdown:"Markdown",Word:"Word","Export all":"","Exporting all diaries to Word format will create separate files. Please export one at a time for now.":" Word ","Exporting all diaries to PDF format will create separate files. Please export one at a time for now.":" PDF ","Export failed. Please try again.":"","Import JSON":" JSON","Supported formats list":"JSONMarkdown.mdHTMLTXTWord.docxPDF","Enter URL:":"",Undo:"",Redo:"",Bold:"",Italic:"",Underline:"",Strikethrough:"",Code:"","Text Color":"","Color Hex Value":"","Preset Colors":"","Saved Colors":"","Save Color":"",Apply:"","Table of Contents":"","No headings in this article":"","Toggle Table of Contents":"","Heading 1":" 1","Heading 2":" 2","Heading 3":" 3","Heading 4":" 4","Heading 5":" 5","Heading 6":" 6","Bullet List":"","Ordered List":"","Task List":"",Quote:"","Code Block":"","Add Link":"","Add Image":"","Insert Table":"","Horizontal Rule":"",JSON:"JSON",MARKDOWN:"Markdown",HTML:"HTML",TXT:"TXT",DOCX:"Word",PDF:"PDF",UNKNOWN:"","No diaries":"",Diary:"",Search:"",Tasks:"",Task:"","New task":"","Create New Task":"","Edit Task":"","Search tasks...":"...","In Progress":"",Future:"",Completed:"","No tasks found":"","No tasks yet":"","AI Parse Plans":"AI ","Plan Text":"","Paste your plan text here":"","Parse Plans":"","Parsed Tasks":"","Please complete dates":"","Create Tasks":"","No tasks extracted":"","Please enter your plan text":"","Optional notes":"","Long-term task":"","Time-range task":"","Move Up":"","Move Down":"","Task Title":"","Enter task title":"",Notes:"",Optional:"","Add notes...":"...","Task Type":"","Start Date":"","End Date":"","No diaries or tasks on this date":"","Create diary":"","Create task":"","AI Settings":"AI ","Gemini API Key":"Gemini API Key","DeepSeek API Key":"DeepSeek API Key","DeepSeek Base URL":"DeepSeek  URL","DeepSeek Model":"DeepSeek ","Paste your DeepSeek API Key (OpenAI-compatible)":" DeepSeek API Key OpenAI","If provided, DeepSeek will be used preferentially for analysis.":"DeepSeek ","DeepSeek base URL (e.g., https://api.deepseek.com)":"DeepSeek  URL https://api.deepseek.com","Analyze current diary":"",Analyze:"","AI Analysis":"AI ","Analyzing...":"...",Summary:"",Source:"",Suggestions:"","Add as task":"","Generate Tasks":"","Generated Tasks":"","No tasks generated":"",Selected:"",days:"",tasks:"",General:"","Data Management":"","Export diaries":"","Manual sync":"","Sync data with cloud storage":"","Import from JSON, MD, HTML, TXT, DOCX, PDF":" JSONMDHTMLTXTDOCXPDF ","Export to JSON, MD, HTML, DOCX, PDF":" JSONMDHTMLDOCXPDF","Paste your Gemini free API key (stored locally)":" Gemini  API Key","If empty, the app will use a local heuristic fallback (no network).":"","deepseek-chat (non-reasoning)":"deepseek-chat","deepseek-reasoner (reasoning)":"deepseek-reasoner",:"",:""};function me(t){return wz[t]??t}const vz=()=>{const{user:t}=yp(),e=t?.id??null,{startSync:r,finishSync:n,failSync:i,setPendingCount:s}=nD(),[a,o]=ke.useState(()=>Ur.getDiaries()),[l,c]=ke.useState(()=>{const k=Ur.getDiaries();return k.length>0?k[0].id:null}),[f,h]=ke.useState("");ke.useEffect(()=>{const k=()=>{s(xd.getPendingCount())};return k(),xd.addListener(k)},[s]),ke.useEffect(()=>{D7(e)},[e]);const m=ke.useCallback(async k=>{const M=await In.fetchDiaries(k);if(M.length===0)return;const D=Ur.getDiaries(),H=new Map(D.map($=>[$.id,$]));M.forEach($=>{const q=H.get($.id);(!q||($.updatedAt??$.createdAt)>=(q.updatedAt??q.createdAt))&&H.set($.id,$)});const F=Array.from(H.values()).sort(($,q)=>(q.updatedAt??q.createdAt)-($.updatedAt??$.createdAt));Ur.saveDiaries(F),o(F),c($=>$&&F.some(q=>q.id===$)?$:F.length>0?F[0].id:null)},[]);ke.useEffect(()=>{let k=!0;return(async()=>{const D=Ur.getDiaries();if(k&&(o(D),c(H=>H??(D.length>0?D[0].id:null))),!!e)try{const H=await In.fetchDiaries(e);if(!k)return;if(H.length===0){D.length>0&&Promise.all(D.map(q=>In.upsertDiary(e,q))).catch(()=>{}),yo.add({type:"diary",action:"fetch",status:"success",message:me("Fetched diaries from cloud"),count:0});return}const F=new Map(D.map(q=>[q.id,q]));H.forEach(q=>{const R=F.get(q.id);(!R||(q.updatedAt??q.createdAt)>=(R.updatedAt??R.createdAt))&&F.set(q.id,q)});const $=Array.from(F.values()).sort((q,R)=>(R.updatedAt??R.createdAt)-(q.updatedAt??q.createdAt));Ur.saveDiaries($),o($),c(q=>q&&$.some(R=>R.id===q)?q:$.length>0?$[0].id:null),yo.add({type:"diary",action:"fetch",status:"success",message:me("Fetched diaries from cloud"),count:H.length})}catch{yo.add({type:"diary",action:"fetch",status:"error",message:me("Failed to fetch diaries"),error:me("Network error")})}})(),()=>{k=!1}},[e]);const d=ke.useCallback((k=null)=>{const M={id:Xs(),title:"Untitled",content:"",folderId:k,tags:[],createdAt:Date.now(),updatedAt:Date.now()};return Ur.addDiary(M),o(D=>[M,...D]),c(M.id),e&&(r(),(async()=>{try{await In.insertDiary(e,M),await m(e),n(),yo.add({type:"diary",action:"create",status:"success",message:me("Created diary")})}catch(D){const H=vs(D)||me("Cloud sync failed");i(H),su.enqueue({type:"diary",action:"create",data:M,userId:e}),s(xd.getPendingCount()),Cr(H),yo.add({type:"diary",action:"create",status:"error",message:me("Failed to create diary"),error:H})}})()),M},[m,e,r,n,i,s]),g=ke.useCallback((k,M)=>{const D=Date.now();if(Ur.updateDiary(k,{...M,updatedAt:D}),o(H=>H.map(F=>F.id===k?{...F,...M,updatedAt:D}:F)),e){const H=a.find($=>$.id===k),F=H?{...H,...M,updatedAt:D}:null;F&&(r(),In.upsertDiary(e,F).then(()=>{n(),yo.add({type:"diary",action:"update",status:"success",message:me("Updated diary")})}).catch($=>{const q=vs($)||me("Cloud sync failed");i(q),su.enqueue({type:"diary",action:"update",data:F,userId:e}),s(xd.getPendingCount()),Cr(q),yo.add({type:"diary",action:"update",status:"error",message:me("Failed to update diary"),error:q})}))}},[a,e,r,n,i,s]),v=ke.useCallback(k=>{const M=a.find(D=>D.id===k);if(Ur.deleteDiary(k),o(D=>D.filter(H=>H.id!==k)),l===k){const D=a.filter(H=>H.id!==k);c(D.length>0?D[0].id:null)}e&&M&&(r(),In.deleteDiary(e,k).then(()=>{n(),yo.add({type:"diary",action:"delete",status:"success",message:me("Deleted diary")})}).catch(D=>{const H=vs(D)||me("Cloud sync failed");i(H),su.enqueue({type:"diary",action:"delete",data:M,userId:e}),s(xd.getPendingCount()),Cr(H),yo.add({type:"diary",action:"delete",status:"error",message:me("Failed to delete diary"),error:H})}))},[l,a,e,r,n,i,s]),b=ke.useCallback((k,M)=>{try{if(M?.replace){Ur.saveDiaries(k),o(k),k.length>0&&c(k[0].id),e&&Promise.all(k.map($=>In.upsertDiary(e,$))).catch($=>{Cr(vs($)||me("Cloud sync failed"))});return}const D=Ur.getDiaries(),H=new Map(D.map($=>[$.id,$]));k.forEach($=>{const q={...$,id:$.id||Xs()};H.has(q.id)?H.set(q.id,{...H.get(q.id),...q}):H.set(q.id,q)});const F=Array.from(H.values()).sort(($,q)=>q.updatedAt-$.updatedAt);Ur.saveDiaries(F),o(F),F.length>0&&!l&&c(F[0].id),e&&Promise.all(F.map($=>In.upsertDiary(e,$))).catch($=>{Cr(vs($)||me("Cloud sync failed"))})}catch(D){throw console.error("Import diaries failed",D),D}},[l,e]),w=ke.useCallback((k,M)=>{g(k,{folderId:M})},[g]),B=ke.useCallback(k=>{h(k)},[]),S=a.filter(k=>{if(!f)return!0;const M=f.toLowerCase();return k.title.toLowerCase().includes(M)||k.content.toLowerCase().includes(M)||k.tags.some(D=>D.toLowerCase().includes(M))}),C=a.find(k=>k.id===l)||null;return{diaries:S,currentDiary:C,currentDiaryId:l,searchQuery:f,createDiary:d,updateDiary:g,deleteDiary:v,moveDiary:w,setCurrentDiaryId:c,searchDiaries:B,importDiaries:b}},bz=()=>{const{user:t}=yp(),e=t?.id??null,[r,n]=ke.useState(()=>Ur.getFolders());ke.useEffect(()=>{let l=!0;return(async()=>{try{if(e){const h=await In.fetchFolders(e);if(!l)return;Ur.saveFolders(h),n(h);return}const f=Ur.getFolders();if(!l)return;n(f)}catch(f){Cr(vs(f)||me("Cloud sync failed"))}})(),()=>{l=!1}},[e]);const i=ke.useCallback((l,c=null)=>{const f={id:Xs(),name:l,parentId:c,createdAt:Date.now()};return Ur.addFolder(f),n(h=>[...h,f]),e&&In.upsertFolder(e,f).catch(h=>{Cr(vs(h)||me("Cloud sync failed"))}),f},[e]),s=ke.useCallback((l,c)=>{if(Ur.updateFolder(l,c),n(f=>f.map(h=>h.id===l?{...h,...c}:h)),e){const f=r.find(m=>m.id===l),h=f?{...f,...c}:null;h&&In.upsertFolder(e,h).catch(m=>{Cr(vs(m)||me("Cloud sync failed"))})}},[r,e]),a=ke.useCallback(l=>{Ur.deleteFolder(l),n(c=>c.filter(f=>f.id!==l)),e&&In.deleteFolder(e,l).catch(c=>{Cr(vs(c)||me("Cloud sync failed"))})},[e]),o=ke.useCallback((l,c)=>{try{if(c?.replace){Ur.saveFolders(l),n(l),e&&Promise.all(l.map(d=>In.upsertFolder(e,d))).catch(d=>{Cr(vs(d)||me("Cloud sync failed"))});return}const f=Ur.getFolders(),h=new Map(f.map(d=>[d.id,d]));l.forEach(d=>{const g={...d,id:d.id||Xs()};h.has(g.id)?h.set(g.id,{...h.get(g.id),...g}):h.set(g.id,g)});const m=Array.from(h.values()).sort((d,g)=>g.createdAt-d.createdAt);Ur.saveFolders(m),n(m),e&&Promise.all(m.map(d=>In.upsertFolder(e,d))).catch(d=>{Cr(vs(d)||me("Cloud sync failed"))})}catch(f){throw console.error("Import folders failed",f),f}},[e]);return{folders:r,createFolder:i,updateFolder:s,deleteFolder:a,importFolders:o}};const sD=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim();const xz=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const Bz=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,n)=>n?n.toUpperCase():r.toLowerCase());const DT=t=>{const e=Bz(t);return e.charAt(0).toUpperCase()+e.slice(1)};var Cz={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Sz=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const Ez=ke.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:s,iconNode:a,...o},l)=>ke.createElement("svg",{ref:l,...Cz,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:sD("lucide",i),...!s&&!Sz(o)&&{"aria-hidden":"true"},...o},[...a.map(([c,f])=>ke.createElement(c,f)),...Array.isArray(s)?s:[s]]));const Ut=(t,e)=>{const r=ke.forwardRef(({className:n,...i},s)=>ke.createElement(Ez,{ref:s,iconNode:e,className:sD(`lucide-${xz(DT(t))}`,`lucide-${t}`,n),...i}));return r.displayName=DT(t),r};const _z=[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]],kz=Ut("bold",_z);const Tz=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],XB=Ut("book-open",Tz);const Nz=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],YA=Ut("calendar",Nz);const Fz=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],IT=Ut("check",Fz);const Uz=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Oz=Ut("chevron-down",Uz);const Lz=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Dz=Ut("chevron-left",Lz);const Iz=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Rz=Ut("chevron-up",Iz);const Mz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],L1=Ut("circle-alert",Mz);const Qz=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],RT=Ut("circle-check-big",Qz);const Hz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],jz=Ut("circle-check",Hz);const Pz=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Hm=Ut("clock",Pz);const zz=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],Kz=Ut("cloud",zz);const Vz=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],aD=Ut("code",Vz);const qz=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],ZB=Ut("download",qz);const Gz=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],Wz=Ut("ellipsis-vertical",Gz);const $z=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]],Yz=Ut("file-braces",$z);const Jz=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],jm=Ut("file-text",Jz);const Xz=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M11 18h2",key:"12mj7e"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"M9 13v-.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 .5.5v.5",key:"qbrxap"}]],Zz=Ut("file-type",Xz);const eK=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}]],tK=Ut("file",eK);const rK=[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],nK=Ut("folder-plus",rK);const iK=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],WS=Ut("folder",iK);const sK=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"m17 12 3-2v8",key:"1hhhft"}]],aK=Ut("heading-1",sK);const oK=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M21 18h-4c0-4 4-3 4-6 0-1.5-2-2.5-4-1",key:"9jr5yi"}]],lK=Ut("heading-2",oK);const AK=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M17.5 10.5c1.7-1 3.5 0 3.5 1.5a2 2 0 0 1-2 2",key:"68ncm8"}],["path",{d:"M17 17.5c2 1.5 4 .3 4-1.5a2 2 0 0 0-2-2",key:"1ejuhz"}]],cK=Ut("heading-3",AK);const uK=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],fK=Ut("history",uK);const hK=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],dK=Ut("image",hK);const pK=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],mK=Ut("info",pK);const gK=[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]],yK=Ut("italic",gK);const wK=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],vK=Ut("link",wK);const bK=[["path",{d:"M13 5h8",key:"a7qcls"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 19h8",key:"c3s6r1"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}]],xK=Ut("list-checks",bK);const BK=[["path",{d:"M11 5h10",key:"1cz7ny"}],["path",{d:"M11 12h10",key:"1438ji"}],["path",{d:"M11 19h10",key:"11t30w"}],["path",{d:"M4 4h1v5",key:"10yrso"}],["path",{d:"M4 9h2",key:"r1h2o0"}],["path",{d:"M6.5 20H3.4c0-1 2.6-1.925 2.6-3.5a1.5 1.5 0 0 0-2.6-1.02",key:"xtkcd5"}]],CK=Ut("list-ordered",BK);const SK=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],oD=Ut("list",SK);const EK=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],lD=Ut("loader-circle",EK);const _K=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]],MT=Ut("lock-open",_K);const kK=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],QT=Ut("lock",kK);const TK=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],NK=Ut("log-out",TK);const FK=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],AD=Ut("menu",FK);const UK=[["path",{d:"M5 12h14",key:"1ays0h"}]],OK=Ut("minus",UK);const LK=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],cD=Ut("palette",LK);const DK=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],uD=Ut("pen",DK);const IK=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],$S=Ut("plus",IK);const RK=[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]],MK=Ut("quote",RK);const QK=[["path",{d:"M21 7v6h-6",key:"3ptur4"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7",key:"1kgawr"}]],HK=Ut("redo",QK);const jK=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],eC=Ut("refresh-cw",jK);const PK=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],fD=Ut("search",PK);const zK=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],v2=Ut("settings",zK);const KK=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],VK=Ut("square-check-big",KK);const qK=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],GK=Ut("square-pen",qK);const WK=[["path",{d:"M16 4H9a3 3 0 0 0-2.83 4",key:"43sutm"}],["path",{d:"M14 12a4 4 0 0 1 0 8H6",key:"nlfj13"}],["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}]],$K=Ut("strikethrough",WK);const YK=[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]],JK=Ut("table",YK);const XK=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],tC=Ut("tag",XK);const ZK=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],pg=Ut("trash-2",ZK);const eV=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],tV=Ut("triangle-alert",eV);const rV=[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]],nV=Ut("underline",rV);const iV=[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]],sV=Ut("undo",iV);const aV=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],rC=Ut("upload",aV);const oV=[["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m14.305 16.53.923-.382",key:"1itpsq"}],["path",{d:"m15.228 13.852-.923-.383",key:"eplpkm"}],["path",{d:"m16.852 12.228-.383-.923",key:"13v3q0"}],["path",{d:"m16.852 17.772-.383.924",key:"1i8mnm"}],["path",{d:"m19.148 12.228.383-.923",key:"1q8j1v"}],["path",{d:"m19.53 18.696-.382-.924",key:"vk1qj3"}],["path",{d:"m20.772 13.852.924-.383",key:"n880s0"}],["path",{d:"m20.772 16.148.924.383",key:"1g6xey"}],["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],lV=Ut("user-cog",oV);const AV=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],cV=Ut("user",AV);const uV=[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]],fV=Ut("wand-sparkles",uV);const hV=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Mg=Ut("x",hV);const dV=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],nC=Ut("zap",dV),si=({variant:t="primary",size:e="md",children:r,className:n="",...i})=>{const s=`
    inline-flex items-center justify-center
    font-medium
    transition-all duration-200 ease-apple
    focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-accent-500
    disabled:opacity-40 disabled:cursor-not-allowed disabled:transform-none
    active:scale-[0.97]
  `.replace(/\s+/g," ").trim(),a={primary:`
      bg-gradient-to-b from-accent-500 to-accent-600
      text-white
      shadow-apple-sm
      hover:from-accent-400 hover:to-accent-500
      hover:shadow-apple
      active:from-accent-600 active:to-accent-700
    `.replace(/\s+/g," ").trim(),secondary:`
      bg-primary-100
      text-primary-900
      hover:bg-primary-200
      active:bg-primary-300
    `.replace(/\s+/g," ").trim(),ghost:`
      bg-transparent
      text-primary-700
      hover:bg-primary-100
      active:bg-primary-200
    `.replace(/\s+/g," ").trim(),danger:`
      bg-gradient-to-b from-semantic-error to-red-600
      text-white
      shadow-apple-sm
      hover:from-red-500 hover:to-red-600
      hover:shadow-apple
      active:from-red-600 active:to-red-700
    `.replace(/\s+/g," ").trim(),glass:`
      bg-white/60 backdrop-blur-apple
      text-primary-900
      border border-white/30
      shadow-apple-sm
      hover:bg-white/80
      active:bg-white/95
    `.replace(/\s+/g," ").trim()},o={sm:"px-3 py-1.5 text-sm rounded-apple-sm gap-1.5",md:"px-4 py-2 text-sm rounded-apple gap-2",lg:"px-6 py-3 text-base rounded-apple-lg gap-2.5"};return _.jsx("button",{className:`${s} ${a[t]} ${o[e]} ${n}`,...i,children:r})},es=({isOpen:t,onClose:e,title:r,children:n,maxWidth:i="md"})=>{if(ke.useEffect(()=>{const a=o=>{o.key==="Escape"&&e()};return t&&(document.addEventListener("keydown",a),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",a),document.body.style.overflow="unset"}},[t,e]),!t)return null;const s={sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl","2xl":"max-w-2xl","4xl":"max-w-4xl"};return _.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center animate-fade-in",children:[_.jsx("div",{className:"absolute inset-0 bg-primary-900/20 backdrop-blur-sm",onClick:e}),_.jsxs("div",{className:`
          relative 
          bg-white/95 backdrop-blur-apple
          rounded-apple-xl 
          shadow-apple-elevated
          ${s[i]} 
          w-full mx-4 
          max-h-[85vh] 
          overflow-hidden
          animate-scale-in
          border border-white/50
        `,children:[_.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-primary-100/80",children:[_.jsx("h2",{className:"text-lg font-semibold text-primary-900 tracking-tight",children:r}),_.jsx("button",{onClick:e,className:`
              p-2 -mr-2
              text-primary-400 
              hover:text-primary-700 
              hover:bg-primary-100 
              rounded-apple-sm
              transition-all duration-200
              active:scale-95
            `,children:_.jsx(Mg,{size:18,strokeWidth:2})})]}),_.jsx("div",{className:"px-6 py-5 overflow-y-auto max-h-[calc(85vh-70px)]",children:n})]})]})},ep=({label:t,error:e,variant:r="default",className:n="",...i})=>{const s=`
    w-full
    font-medium
    transition-all duration-200 ease-apple
    placeholder:text-primary-400
    disabled:opacity-50 disabled:cursor-not-allowed
  `.replace(/\s+/g," ").trim(),a={default:`
      px-4 py-2.5
      bg-white
      border border-primary-200
      rounded-apple
      shadow-apple-inner
      focus:border-accent-500 focus:ring-2 focus:ring-accent-500/20 focus:outline-none
      hover:border-primary-300
      ${e?"border-semantic-error focus:border-semantic-error focus:ring-semantic-error/20":""}
    `.replace(/\s+/g," ").trim(),filled:`
      px-4 py-2.5
      bg-primary-100
      border border-transparent
      rounded-apple
      focus:bg-white focus:border-accent-500 focus:ring-2 focus:ring-accent-500/20 focus:outline-none
      hover:bg-primary-50
      ${e?"bg-red-50 focus:border-semantic-error focus:ring-semantic-error/20":""}
    `.replace(/\s+/g," ").trim(),minimal:`
      px-2 py-1.5
      bg-transparent
      border-b-2 border-primary-200
      rounded-none
      focus:border-accent-500 focus:outline-none
      hover:border-primary-300
      ${e?"border-semantic-error focus:border-semantic-error":""}
    `.replace(/\s+/g," ").trim()};return _.jsxs("div",{className:"w-full",children:[t&&_.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-1.5 tracking-tight",children:t}),_.jsx("input",{className:`${s} ${a[r]} ${n}`,...i}),e&&_.jsx("p",{className:"mt-1.5 text-sm text-semantic-error font-medium",children:e})]})},HT=({folders:t,onCreateFolder:e,onUpdateFolder:r,onDeleteFolder:n,onMoveDiary:i,selectedFolderId:s,onSelectFolder:a})=>{const[o,l]=ke.useState(!1),[c,f]=ke.useState(!1),[h,m]=ke.useState(!1),[d,g]=ke.useState(""),[v,b]=ke.useState(null),[w,B]=ke.useState(null),[S,C]=ke.useState(null),k=G=>G.dataTransfer.getData("application/x-diary-id")||null,M=(G,U)=>{G.preventDefault();const ae=k(G);if(!ae){C(null);return}i(ae,U),Cr(me("Diary moved successfully"),"success"),C(null)},D=()=>{d.trim()&&(e(d.trim(),null),g(""),l(!1))},H=()=>{v&&d.trim()&&(r(v.id,d.trim()),g(""),b(null),f(!1))},F=()=>{w&&(n(w),B(null),m(!1))},$=G=>{b(G),g(G.name),f(!0)},q=G=>{B(G),m(!0)},R=t.filter(G=>!G.parentId);return _.jsxs("div",{className:"h-full flex flex-col",style:{backgroundColor:"rgba(255, 255, 255, 0.75)"},children:[_.jsxs("div",{className:"p-4",style:{borderBottom:"1px solid rgba(255, 255, 255, 0.2)"},children:[_.jsxs("div",{className:"flex items-center justify-between mb-3",children:[_.jsx("h2",{className:"text-lg font-semibold",style:{color:"var(--aurora-primary)"},children:me("Folders")}),_.jsx("button",{onClick:()=>l(!0),className:"p-1.5 rounded-xl transition-all duration-200",style:{color:"var(--aurora-accent)"},onMouseEnter:G=>{G.currentTarget.style.backgroundColor="rgba(14, 165, 233, 0.15)"},onMouseLeave:G=>{G.currentTarget.style.backgroundColor="transparent"},title:me("New Folder"),children:_.jsx(nK,{size:18})})]}),_.jsx("button",{onClick:()=>a(null),className:`w-full text-left px-3 py-2.5 rounded-xl transition-colors duration-200 border border-slate-200/60 ${S==="all"?"shadow-sm":""}`,style:{backgroundColor:s===null?"rgba(14, 165, 233, 0.15)":"rgba(255, 255, 255, 0.4)",color:s===null?"var(--aurora-accent)":"var(--aurora-primary)",borderColor:s===null?"var(--aurora-accent)":"rgba(255, 255, 255, 0.3)"},onMouseEnter:G=>{s!==null&&(G.currentTarget.style.backgroundColor="rgba(255, 255, 255, 0.6)")},onMouseLeave:G=>{s!==null&&(G.currentTarget.style.backgroundColor="rgba(255, 255, 255, 0.4)")},onDragOver:G=>{G.preventDefault(),C("all")},onDragLeave:()=>C(null),onDrop:G=>M(G,null),children:me("All Diaries")})]}),_.jsx("div",{className:"flex-1 overflow-y-auto p-3",children:R.map(G=>_.jsx("div",{className:"mb-1.5",children:_.jsxs("div",{className:`flex items-center justify-between px-3 py-2.5 rounded-xl cursor-pointer transition-colors duration-200 group border border-slate-200/60 ${S===G.id?"shadow-sm":""}`,style:{backgroundColor:s===G.id?"rgba(14, 165, 233, 0.15)":"rgba(255, 255, 255, 0.4)",color:s===G.id?"var(--aurora-accent)":"var(--aurora-primary)",borderColor:s===G.id?"var(--aurora-accent)":"rgba(255, 255, 255, 0.3)"},onMouseEnter:U=>{s!==G.id&&(U.currentTarget.style.backgroundColor="rgba(255, 255, 255, 0.6)")},onMouseLeave:U=>{s!==G.id&&(U.currentTarget.style.backgroundColor="rgba(255, 255, 255, 0.4)")},onDragOver:U=>{U.preventDefault(),C(G.id)},onDragLeave:()=>C(null),onDrop:U=>M(U,G.id),children:[_.jsxs("div",{className:"flex items-center flex-1",onClick:()=>a(G.id),children:[_.jsx(WS,{size:16,className:"mr-2"}),_.jsx("span",{className:"text-sm font-medium truncate",children:G.name})]}),_.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[_.jsx("button",{onClick:U=>{U.stopPropagation(),$(G)},className:"p-1.5 hover:bg-white/50 rounded-lg transition-all duration-200",title:me("Edit"),children:_.jsx(uD,{size:14})}),_.jsx("button",{onClick:U=>{U.stopPropagation(),q(G.id)},className:"p-1.5 hover:bg-red-100/50 text-red-500 rounded-lg transition-all duration-200",title:me("Delete"),children:_.jsx(pg,{size:14})})]})]})},G.id))}),_.jsxs(es,{isOpen:o,onClose:()=>{l(!1),g("")},title:me("Create New Folder"),children:[_.jsx(ep,{value:d,onChange:G=>g(G.target.value),placeholder:me("Folder name"),onKeyPress:G=>G.key==="Enter"&&D(),autoFocus:!0}),_.jsxs("div",{className:"flex gap-2 mt-4",children:[_.jsx(si,{onClick:D,className:"flex-1",children:me("Create")}),_.jsx(si,{variant:"secondary",onClick:()=>{l(!1),g("")},className:"flex-1",children:me("Cancel")})]})]}),_.jsxs(es,{isOpen:c,onClose:()=>{f(!1),b(null),g("")},title:me("Rename Folder"),children:[_.jsx(ep,{value:d,onChange:G=>g(G.target.value),placeholder:me("Folder name"),onKeyPress:G=>G.key==="Enter"&&H(),autoFocus:!0}),_.jsxs("div",{className:"flex gap-2 mt-4",children:[_.jsx(si,{onClick:H,className:"flex-1",children:me("Save")}),_.jsx(si,{variant:"secondary",onClick:()=>{f(!1),b(null),g("")},className:"flex-1",children:me("Cancel")})]})]}),_.jsxs(es,{isOpen:h,onClose:()=>{m(!1),B(null)},title:me("Delete Folder"),children:[_.jsx("p",{className:"text-slate-600 mb-4 leading-relaxed",children:me('Are you sure you want to delete this folder? Diaries in this folder will be moved to "All Diaries".')}),_.jsxs("div",{className:"flex gap-2",children:[_.jsx(si,{variant:"danger",onClick:F,className:"flex-1",children:me("Delete")}),_.jsx(si,{variant:"secondary",onClick:()=>{m(!1),B(null)},className:"flex-1",children:me("Cancel")})]})]})]})},jT=({diaries:t,selectedTags:e,onSelectTag:r,onClearTags:n,onRenameTag:i,onMergeTags:s,onDeleteTag:a})=>{const[o,l]=ke.useState(!1),[c,f]=ke.useState(!1),[h,m]=ke.useState(!1),[d,g]=ke.useState(!1),[v,b]=ke.useState(""),[w,B]=ke.useState(""),[S,C]=ke.useState([]),[k,M]=ke.useState({}),[D,H]=ke.useState(""),F=Ce=>{const X=["bg-blue-100 text-blue-700 border-blue-200","bg-green-100 text-green-700 border-green-200","bg-purple-100 text-purple-700 border-purple-200","bg-pink-100 text-pink-700 border-pink-200","bg-yellow-100 text-yellow-700 border-yellow-200","bg-indigo-100 text-indigo-700 border-indigo-200","bg-red-100 text-red-700 border-red-200","bg-orange-100 text-orange-700 border-orange-200"],I=Ce.split("").reduce((J,te)=>J+te.charCodeAt(0),0);return X[I%X.length]},$=Wa.useMemo(()=>{const Ce=new Map;return t.forEach(X=>{X.tags.forEach(I=>{Ce.set(I,(Ce.get(I)||0)+1)})}),Array.from(Ce.entries()).map(([X,I])=>({name:X,count:I,color:k[X]||F(X)})).sort((X,I)=>I.count-X.count)},[t,k]),q=()=>{w.trim()&&v&&(i(v,w.trim().toLowerCase()),l(!1),b(""),B(""))},R=()=>{w.trim()&&S.length>1&&(s(S,w.trim().toLowerCase()),f(!1),C([]),B(""))},G=Ce=>{b(Ce),B(Ce),l(!0)},U=()=>{f(!0)},ae=Ce=>{H(Ce),g(!0)},re=()=>{D&&(a(D),H(""),g(!1))},Y=Ce=>{C(X=>X.includes(Ce)?X.filter(I=>I!==Ce):[...X,Ce])},he=[{name:"Blue",class:"bg-blue-100 text-blue-700 border-blue-200"},{name:"Green",class:"bg-green-100 text-green-700 border-green-200"},{name:"Purple",class:"bg-purple-100 text-purple-700 border-purple-200"},{name:"Pink",class:"bg-pink-100 text-pink-700 border-pink-200"},{name:"Yellow",class:"bg-yellow-100 text-yellow-700 border-yellow-200"},{name:"Indigo",class:"bg-indigo-100 text-indigo-700 border-indigo-200"},{name:"Red",class:"bg-red-100 text-red-700 border-red-200"},{name:"Orange",class:"bg-orange-100 text-orange-700 border-orange-200"}],de=(Ce,X)=>{M(I=>({...I,[Ce]:X})),m(!1),b("")};return _.jsxs("div",{className:"h-full flex flex-col",style:{backgroundColor:"rgba(255, 255, 255, 0.75)"},children:[_.jsxs("div",{className:"p-4",style:{borderBottom:"1px solid rgba(200, 210, 220, 0.4)"},children:[_.jsxs("div",{className:"flex items-center justify-between mb-3",children:[_.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2",style:{color:"var(--aurora-primary)"},children:[_.jsx(tC,{size:20}),me("Tags")]}),e.length>0&&_.jsx(si,{variant:"ghost",size:"sm",onClick:n,className:"text-sm",children:me("Clear")})]}),$.length>0&&_.jsx("div",{className:"flex gap-2",children:_.jsx(si,{variant:"ghost",size:"sm",onClick:U,className:"flex-1 text-xs",children:me("Merge")})})]}),_.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:$.length===0?_.jsxs("div",{className:"text-center py-8 rounded-xl",style:{backgroundColor:"rgba(255, 255, 255, 0.8)",color:"var(--aurora-muted)"},children:[_.jsx(tC,{size:48,className:"mx-auto mb-2 opacity-50"}),_.jsx("p",{className:"text-sm",children:me("No tags yet")})]}):_.jsx("div",{className:"space-y-2",children:$.map(({name:Ce,count:X,color:I})=>_.jsxs("div",{className:`group flex items-center justify-between p-2 rounded-xl border cursor-pointer transition-colors ${I} ${e.includes(Ce)?"ring-2 ring-offset-1 ring-[var(--aurora-accent)]":"hover:shadow-sm"}`,onClick:()=>r(Ce),children:[_.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[_.jsx("span",{className:"font-medium truncate",children:Ce}),_.jsxs("span",{className:"text-xs opacity-70",children:["(",X,")"]})]}),_.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[_.jsx("button",{onClick:J=>{J.stopPropagation(),b(Ce),m(!0)},className:"p-1 hover:bg-white/50 rounded",title:me("Change color"),children:_.jsx(cD,{size:14})}),_.jsx("button",{onClick:J=>{J.stopPropagation(),G(Ce)},className:"p-1 hover:bg-white/50 rounded",title:me("Rename"),children:_.jsx(uD,{size:14})}),_.jsx("button",{onClick:J=>{J.stopPropagation(),ae(Ce)},className:"p-1 hover:bg-white/50 rounded",title:me("Delete"),children:_.jsx(Mg,{size:14})})]})]},Ce))})}),_.jsxs(es,{isOpen:o,onClose:()=>{l(!1),b(""),B("")},title:me("Rename Tag"),children:[_.jsx(ep,{value:w,onChange:Ce=>B(Ce.target.value),placeholder:me("New tag name"),onKeyPress:Ce=>Ce.key==="Enter"&&q(),autoFocus:!0}),_.jsxs("div",{className:"flex gap-2 mt-4",children:[_.jsx(si,{onClick:q,className:"flex-1",children:me("Rename")}),_.jsx(si,{variant:"secondary",onClick:()=>{l(!1),b(""),B("")},className:"flex-1",children:me("Cancel")})]})]}),_.jsxs(es,{isOpen:d,onClose:()=>{g(!1),H("")},title:me("Delete Tag"),children:[_.jsx("p",{className:"text-gray-600 mb-4",children:me("Delete tag confirm").replace("{tag}",D)}),_.jsxs("div",{className:"flex gap-2",children:[_.jsx(si,{variant:"danger",onClick:re,className:"flex-1",children:me("Delete")}),_.jsx(si,{variant:"secondary",onClick:()=>{g(!1),H("")},className:"flex-1",children:me("Cancel")})]})]}),_.jsxs(es,{isOpen:c,onClose:()=>{f(!1),C([]),B("")},title:me("Merge Tags"),children:[_.jsxs("div",{className:"mb-4",children:[_.jsx("p",{className:"text-sm text-gray-600 mb-3",children:me("Select tags to merge (minimum 2):")}),_.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:$.map(({name:Ce,color:X})=>_.jsxs("label",{className:`flex items-center gap-2 p-2 rounded cursor-pointer ${S.includes(Ce)?"bg-blue-50":"hover:bg-gray-50"}`,children:[_.jsx("input",{type:"checkbox",checked:S.includes(Ce),onChange:()=>Y(Ce),className:"rounded"}),_.jsx("span",{className:`px-2 py-1 rounded text-sm ${X}`,children:Ce})]},Ce))})]}),_.jsx(ep,{value:w,onChange:Ce=>B(Ce.target.value),placeholder:me("New merged tag name"),onKeyPress:Ce=>Ce.key==="Enter"&&R()}),_.jsxs("div",{className:"flex gap-2 mt-4",children:[_.jsxs(si,{onClick:R,disabled:S.length<2||!w.trim(),className:"flex-1",children:[me("Merge")," (",S.length,")"]}),_.jsx(si,{variant:"secondary",onClick:()=>{f(!1),C([]),B("")},className:"flex-1",children:me("Cancel")})]})]}),_.jsx(es,{isOpen:h,onClose:()=>{m(!1),b("")},title:me("Choose Tag Color"),children:_.jsx("div",{className:"grid grid-cols-2 gap-2",children:he.map(({name:Ce,class:X})=>_.jsx("button",{onClick:()=>de(v,X),className:`p-3 rounded-lg border-2 ${X} hover:shadow-md transition-shadow`,children:Ce},Ce))})})]})};function hD(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=hD(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function Yw(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=hD(t))&&(n&&(n+=" "),n+=e);return n}const pV=(t,e,r,n)=>{if(r==="length"||r==="prototype"||r==="arguments"||r==="caller")return;const i=Object.getOwnPropertyDescriptor(t,r),s=Object.getOwnPropertyDescriptor(e,r);!mV(i,s)&&n||Object.defineProperty(t,r,s)},mV=function(t,e){return t===void 0||t.configurable||t.writable===e.writable&&t.enumerable===e.enumerable&&t.configurable===e.configurable&&(t.writable||t.value===e.value)},gV=(t,e)=>{const r=Object.getPrototypeOf(e);r!==Object.getPrototypeOf(t)&&Object.setPrototypeOf(t,r)},yV=(t,e)=>`/* Wrapped ${t}*/
${e}`,wV=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),vV=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),bV=(t,e,r)=>{const n=r===""?"":`with ${r.trim()}() `,i=yV.bind(null,n,e.toString());Object.defineProperty(i,"name",vV);const{writable:s,enumerable:a,configurable:o}=wV;Object.defineProperty(t,"toString",{value:i,writable:s,enumerable:a,configurable:o})};function xV(t,e,{ignoreNonConfigurable:r=!1}={}){const{name:n}=t;for(const i of Reflect.ownKeys(e))pV(t,e,i,r);return gV(t,e),bV(t,e,n),t}const ry=2147483647,BV=new WeakMap,b2=new WeakMap,CV=new WeakMap;function SV(t,e){const r=t.get(e);if(r){if(r.maxAge<=Date.now()){t.delete(e);return}return r}}function dD(t,{cacheKey:e,cache:r=new Map,maxAge:n}={}){if(n===0)return t;if(typeof n=="number"&&Number.isFinite(n)){if(n>ry)throw new TypeError(`The \`maxAge\` option cannot exceed ${ry}.`);if(n<0)throw new TypeError("The `maxAge` option should not be a negative number.")}const i=function(...s){const a=e?e(s):s[0],o=SV(r,a);if(o)return o.data;const l=t.apply(this,s),c=typeof n=="function"?n(...s):n;if(c!==void 0&&c!==Number.POSITIVE_INFINITY){if(!Number.isFinite(c))throw new TypeError("The `maxAge` function must return a finite number, `0`, or `Infinity`.");if(c<=0)return l;if(c>ry)throw new TypeError(`The \`maxAge\` function result cannot exceed ${ry}.`)}if(r.set(a,{data:l,maxAge:c===void 0||c===Number.POSITIVE_INFINITY?Number.POSITIVE_INFINITY:Date.now()+c}),c!==void 0&&c!==Number.POSITIVE_INFINITY){const f=setTimeout(()=>{r.delete(a),b2.get(i)?.delete(f)},c);f.unref?.();const h=b2.get(i)??new Set;h.add(f),b2.set(i,h)}return l};return xV(i,t,{ignoreNonConfigurable:!0}),BV.set(i,r),CV.set(i,e??(s=>s[0])),i}function EV(t){return typeof t=="string"}function _V(t,e,r){return r.indexOf(t)===e}function kV(t){return t.toLowerCase()===t}function PT(t){return t.indexOf(",")===-1?t:t.split(",")}function iC(t){if(!t)return t;if(t==="C"||t==="posix"||t==="POSIX")return"en-US";if(t.indexOf(".")!==-1){var e=t.split(".")[0],r=e===void 0?"":e;return iC(r)}if(t.indexOf("@")!==-1){var n=t.split("@")[0],r=n===void 0?"":n;return iC(r)}if(t.indexOf("-")===-1||!kV(t))return t;var i=t.split("-"),s=i[0],a=i[1],o=a===void 0?"":a;return"".concat(s,"-").concat(o.toUpperCase())}function TV(t){var e=t===void 0?{}:t,r=e.useFallbackLocale,n=r===void 0?!0:r,i=e.fallbackLocale,s=i===void 0?"en-US":i,a=[];if(typeof navigator<"u"){for(var o=navigator.languages||[],l=[],c=0,f=o;c<f.length;c++){var h=f[c];l=l.concat(PT(h))}var m=navigator.language,d=m&&PT(m);a=a.concat(l,d)}return n&&a.push(s),a.filter(EV).map(iC).filter(_V)}var NV=dD(TV,{cacheKey:JSON.stringify});function FV(t){return NV(t)[0]||null}var pD=dD(FV,{cacheKey:JSON.stringify});function sc(t,e,r){return function(i,s=r){const a=t(i)+s;return e(a)}}function Qg(t){return function(r){return new Date(t(r).getTime()-1)}}function Hg(t,e){return function(n){return[t(n),e(n)]}}function Rn(t){if(t instanceof Date)return t.getFullYear();if(typeof t=="number")return t;const e=Number.parseInt(t,10);if(typeof t=="string"&&!Number.isNaN(e))return e;throw new Error(`Failed to get year from date: ${t}.`)}function Tu(t){if(t instanceof Date)return t.getMonth();throw new Error(`Failed to get month from date: ${t}.`)}function Jw(t){if(t instanceof Date)return t.getDate();throw new Error(`Failed to get year from date: ${t}.`)}function wp(t){const e=Rn(t),r=e+(-e+1)%100,n=new Date;return n.setFullYear(r,0,1),n.setHours(0,0,0,0),n}const UV=sc(Rn,wp,-100),mD=sc(Rn,wp,100),YS=Qg(mD),OV=sc(Rn,YS,-100),gD=Hg(wp,YS);function Nu(t){const e=Rn(t),r=e+(-e+1)%10,n=new Date;return n.setFullYear(r,0,1),n.setHours(0,0,0,0),n}const yD=sc(Rn,Nu,-10),JS=sc(Rn,Nu,10),Xw=Qg(JS),wD=sc(Rn,Xw,-10),vD=Hg(Nu,Xw);function vp(t){const e=Rn(t),r=new Date;return r.setFullYear(e,0,1),r.setHours(0,0,0,0),r}const bD=sc(Rn,vp,-1),XS=sc(Rn,vp,1),Zw=Qg(XS),xD=sc(Rn,Zw,-1),LV=Hg(vp,Zw);function ZS(t,e){return function(n,i=e){const s=Rn(n),a=Tu(n)+i,o=new Date;return o.setFullYear(s,a,1),o.setHours(0,0,0,0),t(o)}}function th(t){const e=Rn(t),r=Tu(t),n=new Date;return n.setFullYear(e,r,1),n.setHours(0,0,0,0),n}const BD=ZS(th,-1),eE=ZS(th,1),jg=Qg(eE),CD=ZS(jg,-1),DV=Hg(th,jg);function IV(t,e){return function(n,i=e){const s=Rn(n),a=Tu(n),o=Jw(n)+i,l=new Date;return l.setFullYear(s,a,o),l.setHours(0,0,0,0),t(l)}}function Pg(t){const e=Rn(t),r=Tu(t),n=Jw(t),i=new Date;return i.setFullYear(e,r,n),i.setHours(0,0,0,0),i}const RV=IV(Pg,1),tE=Qg(RV),MV=Hg(Pg,tE);function SD(t){return Jw(jg(t))}var Bs={GREGORY:"gregory",HEBREW:"hebrew",ISLAMIC:"islamic",ISO_8601:"iso8601"},QV={gregory:["en-CA","en-US","es-AR","es-BO","es-CL","es-CO","es-CR","es-DO","es-EC","es-GT","es-HN","es-MX","es-NI","es-PA","es-PE","es-PR","es-SV","es-VE","pt-BR"],hebrew:["he","he-IL"],islamic:["ar","ar-AE","ar-BH","ar-DZ","ar-EG","ar-IQ","ar-JO","ar-KW","ar-LY","ar-OM","ar-QA","ar-SA","ar-SD","ar-SY","ar-YE","dv","dv-MV","ps","ps-AR"]},rE=[0,1,2,3,4,5,6],x2=new Map;function HV(t){return function(r,n){var i=r||pD();x2.has(i)||x2.set(i,new Map);var s=x2.get(i);return s.has(t)||s.set(t,new Intl.DateTimeFormat(i||void 0,t).format),s.get(t)(n)}}function jV(t){var e=new Date(t);return new Date(e.setHours(12))}function rh(t){return function(e,r){return HV(t)(e,jV(r))}}var PV={day:"numeric"},zV={day:"numeric",month:"long",year:"numeric"},KV={month:"long"},VV={month:"long",year:"numeric"},qV={weekday:"short"},GV={weekday:"long"},WV={year:"numeric"},$V=rh(PV),YV=rh(zV),JV=rh(KV),ED=rh(VV),XV=rh(qV),ZV=rh(GV),ev=rh(WV),eq=rE[0],tq=rE[5],zT=rE[6];function mg(t,e){e===void 0&&(e=Bs.ISO_8601);var r=t.getDay();switch(e){case Bs.ISO_8601:return(r+6)%7;case Bs.ISLAMIC:return(r+1)%7;case Bs.HEBREW:case Bs.GREGORY:return r;default:throw new Error("Unsupported calendar type.")}}function rq(t){var e=wp(t);return Rn(e)}function nq(t){var e=Nu(t);return Rn(e)}function sC(t,e){e===void 0&&(e=Bs.ISO_8601);var r=Rn(t),n=Tu(t),i=t.getDate()-mg(t,e);return new Date(r,n,i)}function iq(t,e){e===void 0&&(e=Bs.ISO_8601);var r=e===Bs.GREGORY?Bs.GREGORY:Bs.ISO_8601,n=sC(t,e),i=Rn(t)+1,s,a;do s=new Date(i,0,r===Bs.ISO_8601?4:1),a=sC(s,e),i-=1;while(t<a);return Math.round((n.getTime()-a.getTime())/(864e5*7))+1}function Rf(t,e){switch(t){case"century":return wp(e);case"decade":return Nu(e);case"year":return vp(e);case"month":return th(e);case"day":return Pg(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function sq(t,e){switch(t){case"century":return UV(e);case"decade":return yD(e);case"year":return bD(e);case"month":return BD(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function _D(t,e){switch(t){case"century":return mD(e);case"decade":return JS(e);case"year":return XS(e);case"month":return eE(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function aq(t,e){switch(t){case"decade":return yD(e,-100);case"year":return bD(e,-10);case"month":return BD(e,-12);default:throw new Error("Invalid rangeType: ".concat(t))}}function oq(t,e){switch(t){case"decade":return JS(e,100);case"year":return XS(e,10);case"month":return eE(e,12);default:throw new Error("Invalid rangeType: ".concat(t))}}function kD(t,e){switch(t){case"century":return YS(e);case"decade":return Xw(e);case"year":return Zw(e);case"month":return jg(e);case"day":return tE(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function lq(t,e){switch(t){case"century":return OV(e);case"decade":return wD(e);case"year":return xD(e);case"month":return CD(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function Aq(t,e){switch(t){case"decade":return wD(e,-100);case"year":return xD(e,-10);case"month":return CD(e,-12);default:throw new Error("Invalid rangeType: ".concat(t))}}function KT(t,e){switch(t){case"century":return gD(e);case"decade":return vD(e);case"year":return LV(e);case"month":return DV(e);case"day":return MV(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function cq(t,e,r){var n=[e,r].sort(function(i,s){return i.getTime()-s.getTime()});return[Rf(t,n[0]),kD(t,n[1])]}function TD(t,e,r){return r.map(function(n){return(e||ev)(t,n)}).join("  ")}function uq(t,e,r){return TD(t,e,gD(r))}function ND(t,e,r){return TD(t,e,vD(r))}function fq(t){return t.getDay()===new Date().getDay()}function FD(t,e){e===void 0&&(e=Bs.ISO_8601);var r=t.getDay();switch(e){case Bs.ISLAMIC:case Bs.HEBREW:return r===tq||r===zT;case Bs.ISO_8601:case Bs.GREGORY:return r===zT||r===eq;default:throw new Error("Unsupported calendar type.")}}var Ql="react-calendar__navigation";function hq(t){var e=t.activeStartDate,r=t.drillUp,n=t.formatMonthYear,i=n===void 0?ED:n,s=t.formatYear,a=s===void 0?ev:s,o=t.locale,l=t.maxDate,c=t.minDate,f=t.navigationAriaLabel,h=f===void 0?"":f,m=t.navigationAriaLive,d=t.navigationLabel,g=t.next2AriaLabel,v=g===void 0?"":g,b=t.next2Label,w=b===void 0?"":b,B=t.nextAriaLabel,S=B===void 0?"":B,C=t.nextLabel,k=C===void 0?"":C,M=t.prev2AriaLabel,D=M===void 0?"":M,H=t.prev2Label,F=H===void 0?"":H,$=t.prevAriaLabel,q=$===void 0?"":$,R=t.prevLabel,G=R===void 0?"":R,U=t.setActiveStartDate,ae=t.showDoubleView,re=t.view,Y=t.views,he=Y.indexOf(re)>0,de=re!=="century",Ce=sq(re,e),X=de?aq(re,e):void 0,I=_D(re,e),J=de?oq(re,e):void 0,te=(function(){if(Ce.getFullYear()<0)return!0;var V=lq(re,e);return c&&c>=V})(),Ae=de&&(function(){if(X.getFullYear()<0)return!0;var V=Aq(re,e);return c&&c>=V})(),se=l&&l<I,Q=de&&l&&l<J;function P(){U(Ce,"prev")}function le(){U(X,"prev2")}function oe(){U(I,"next")}function ie(){U(J,"next2")}function fe(V){var ne=(function(){switch(re){case"century":return uq(o,a,V);case"decade":return ND(o,a,V);case"year":return a(o,V);case"month":return i(o,V);default:throw new Error("Invalid view: ".concat(re,"."))}})();return d?d({date:V,label:ne,locale:o||pD()||void 0,view:re}):ne}function Te(){var V="".concat(Ql,"__label");return _.jsxs("button",{"aria-label":h,"aria-live":m,className:V,disabled:!he,onClick:r,style:{flexGrow:1},type:"button",children:[_.jsx("span",{className:"".concat(V,"__labelText ").concat(V,"__labelText--from"),children:fe(e)}),ae?_.jsxs(_.Fragment,{children:[_.jsx("span",{className:"".concat(V,"__divider"),children:"  "}),_.jsx("span",{className:"".concat(V,"__labelText ").concat(V,"__labelText--to"),children:fe(I)})]}):null]})}return _.jsxs("div",{className:Ql,children:[F!==null&&de?_.jsx("button",{"aria-label":D,className:"".concat(Ql,"__arrow ").concat(Ql,"__prev2-button"),disabled:Ae,onClick:le,type:"button",children:F}):null,G!==null&&_.jsx("button",{"aria-label":q,className:"".concat(Ql,"__arrow ").concat(Ql,"__prev-button"),disabled:te,onClick:P,type:"button",children:G}),Te(),k!==null&&_.jsx("button",{"aria-label":S,className:"".concat(Ql,"__arrow ").concat(Ql,"__next-button"),disabled:se,onClick:oe,type:"button",children:k}),w!==null&&de?_.jsx("button",{"aria-label":v,className:"".concat(Ql,"__arrow ").concat(Ql,"__next2-button"),disabled:Q,onClick:ie,type:"button",children:w}):null]})}var Dd=function(){return Dd=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Dd.apply(this,arguments)},dq=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};function VT(t){return"".concat(t,"%")}function nE(t){var e=t.children,r=t.className,n=t.count,i=t.direction,s=t.offset,a=t.style,o=t.wrap,l=dq(t,["children","className","count","direction","offset","style","wrap"]);return _.jsx("div",Dd({className:r,style:Dd({display:"flex",flexDirection:i,flexWrap:o?"wrap":"nowrap"},a)},l,{children:ke.Children.map(e,function(c,f){var h=s&&f===0?VT(100*s/n):null;return ke.cloneElement(c,Dd(Dd({},c.props),{style:{flexBasis:VT(100/n),flexShrink:0,flexGrow:0,overflow:"hidden",marginLeft:h,marginInlineStart:h,marginInlineEnd:0}}))})}))}function pq(t,e,r){return e&&e>t?e:r&&r<t?r:t}function gg(t,e){return e[0]<=t&&e[1]>=t}function mq(t,e){return t[0]<=e[0]&&t[1]>=e[1]}function UD(t,e){return gg(t[0],e)||gg(t[1],e)}function qT(t,e,r){var n=UD(e,t),i=[];if(n){i.push(r);var s=gg(t[0],e),a=gg(t[1],e);s&&i.push("".concat(r,"Start")),a&&i.push("".concat(r,"End")),s&&a&&i.push("".concat(r,"BothEnds"))}return i}function gq(t){return Array.isArray(t)?t[0]!==null&&t[1]!==null:t!==null}function yq(t){if(!t)throw new Error("args is required");var e=t.value,r=t.date,n=t.hover,i="react-calendar__tile",s=[i];if(!r)return s;var a=new Date,o=(function(){if(Array.isArray(r))return r;var d=t.dateType;if(!d)throw new Error("dateType is required when date is not an array of two dates");return KT(d,r)})();if(gg(a,o)&&s.push("".concat(i,"--now")),!e||!gq(e))return s;var l=(function(){if(Array.isArray(e))return e;var d=t.valueType;if(!d)throw new Error("valueType is required when value is not an array of two dates");return KT(d,e)})();mq(l,o)?s.push("".concat(i,"--active")):UD(l,o)&&s.push("".concat(i,"--hasActive"));var c=qT(l,o,"".concat(i,"--range"));s.push.apply(s,c);var f=Array.isArray(e)?e:[e];if(n&&f.length===1){var h=n>l[0]?[l[0],n]:[n,l[0]],m=qT(h,o,"".concat(i,"--hover"));s.push.apply(s,m)}return s}function tv(t){for(var e=t.className,r=t.count,n=r===void 0?3:r,i=t.dateTransform,s=t.dateType,a=t.end,o=t.hover,l=t.offset,c=t.renderTile,f=t.start,h=t.step,m=h===void 0?1:h,d=t.value,g=t.valueType,v=[],b=f;b<=a;b+=m){var w=i(b);v.push(c({classes:yq({date:w,dateType:s,hover:o,value:d,valueType:g}),date:w}))}return _.jsx(nE,{className:e,count:n,offset:l,wrap:!0,children:v})}function rv(t){var e=t.activeStartDate,r=t.children,n=t.classes,i=t.date,s=t.formatAbbr,a=t.locale,o=t.maxDate,l=t.maxDateTransform,c=t.minDate,f=t.minDateTransform,h=t.onClick,m=t.onMouseOver,d=t.style,g=t.tileClassName,v=t.tileContent,b=t.tileDisabled,w=t.view,B=ke.useMemo(function(){var C={activeStartDate:e,date:i,view:w};return typeof g=="function"?g(C):g},[e,i,g,w]),S=ke.useMemo(function(){var C={activeStartDate:e,date:i,view:w};return typeof v=="function"?v(C):v},[e,i,v,w]);return _.jsxs("button",{className:Yw(n,B),disabled:c&&f(c)>i||o&&l(o)<i||b?.({activeStartDate:e,date:i,view:w}),onClick:h?function(C){return h(i,C)}:void 0,onFocus:m?function(){return m(i)}:void 0,onMouseOver:m?function(){return m(i)}:void 0,style:d,type:"button",children:[s?_.jsx("abbr",{"aria-label":s(a,i),children:r}):r,S]})}var aC=function(){return aC=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},aC.apply(this,arguments)},wq=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r},GT="react-calendar__century-view__decades__decade";function vq(t){var e=t.classes,r=e===void 0?[]:e,n=t.currentCentury,i=t.formatYear,s=i===void 0?ev:i,a=wq(t,["classes","currentCentury","formatYear"]),o=a.date,l=a.locale,c=[];return r&&c.push.apply(c,r),c.push(GT),wp(o).getFullYear()!==n&&c.push("".concat(GT,"--neighboringCentury")),_.jsx(rv,aC({},a,{classes:c,maxDateTransform:Xw,minDateTransform:Nu,view:"century",children:ND(l,s,o)}))}var oC=function(){return oC=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},oC.apply(this,arguments)},WT=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};function bq(t){var e=t.activeStartDate,r=t.hover,n=t.showNeighboringCentury,i=t.value,s=t.valueType,a=WT(t,["activeStartDate","hover","showNeighboringCentury","value","valueType"]),o=rq(e),l=o+(n?119:99);return _.jsx(tv,{className:"react-calendar__century-view__decades",dateTransform:Nu,dateType:"decade",end:l,hover:r,renderTile:function(c){var f=c.date,h=WT(c,["date"]);return _.jsx(vq,oC({},a,h,{activeStartDate:e,currentCentury:o,date:f}),f.getTime())},start:o,step:10,value:i,valueType:s})}var lC=function(){return lC=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},lC.apply(this,arguments)};function xq(t){function e(){return _.jsx(bq,lC({},t))}return _.jsx("div",{className:"react-calendar__century-view",children:e()})}var AC=function(){return AC=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},AC.apply(this,arguments)},Bq=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r},$T="react-calendar__decade-view__years__year";function Cq(t){var e=t.classes,r=e===void 0?[]:e,n=t.currentDecade,i=t.formatYear,s=i===void 0?ev:i,a=Bq(t,["classes","currentDecade","formatYear"]),o=a.date,l=a.locale,c=[];return r&&c.push.apply(c,r),c.push($T),Nu(o).getFullYear()!==n&&c.push("".concat($T,"--neighboringDecade")),_.jsx(rv,AC({},a,{classes:c,maxDateTransform:Zw,minDateTransform:vp,view:"decade",children:s(l,o)}))}var cC=function(){return cC=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},cC.apply(this,arguments)},YT=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};function Sq(t){var e=t.activeStartDate,r=t.hover,n=t.showNeighboringDecade,i=t.value,s=t.valueType,a=YT(t,["activeStartDate","hover","showNeighboringDecade","value","valueType"]),o=nq(e),l=o+(n?11:9);return _.jsx(tv,{className:"react-calendar__decade-view__years",dateTransform:vp,dateType:"year",end:l,hover:r,renderTile:function(c){var f=c.date,h=YT(c,["date"]);return _.jsx(Cq,cC({},a,h,{activeStartDate:e,currentDecade:o,date:f}),f.getTime())},start:o,value:i,valueType:s})}var uC=function(){return uC=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},uC.apply(this,arguments)};function Eq(t){function e(){return _.jsx(Sq,uC({},t))}return _.jsx("div",{className:"react-calendar__decade-view",children:e()})}var fC=function(){return fC=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},fC.apply(this,arguments)},_q=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r},JT=function(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||Array.prototype.slice.call(e))},kq="react-calendar__year-view__months__month";function Tq(t){var e=t.classes,r=e===void 0?[]:e,n=t.formatMonth,i=n===void 0?JV:n,s=t.formatMonthYear,a=s===void 0?ED:s,o=_q(t,["classes","formatMonth","formatMonthYear"]),l=o.date,c=o.locale;return _.jsx(rv,fC({},o,{classes:JT(JT([],r,!0),[kq],!1),formatAbbr:a,maxDateTransform:jg,minDateTransform:th,view:"year",children:i(c,l)}))}var hC=function(){return hC=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},hC.apply(this,arguments)},XT=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};function Nq(t){var e=t.activeStartDate,r=t.hover,n=t.value,i=t.valueType,s=XT(t,["activeStartDate","hover","value","valueType"]),a=0,o=11,l=Rn(e);return _.jsx(tv,{className:"react-calendar__year-view__months",dateTransform:function(c){var f=new Date;return f.setFullYear(l,c,1),th(f)},dateType:"month",end:o,hover:r,renderTile:function(c){var f=c.date,h=XT(c,["date"]);return _.jsx(Tq,hC({},s,h,{activeStartDate:e,date:f}),f.getTime())},start:a,value:n,valueType:i})}var dC=function(){return dC=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},dC.apply(this,arguments)};function Fq(t){function e(){return _.jsx(Nq,dC({},t))}return _.jsx("div",{className:"react-calendar__year-view",children:e()})}var pC=function(){return pC=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},pC.apply(this,arguments)},Uq=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r},B2="react-calendar__month-view__days__day";function Oq(t){var e=t.calendarType,r=t.classes,n=r===void 0?[]:r,i=t.currentMonthIndex,s=t.formatDay,a=s===void 0?$V:s,o=t.formatLongDate,l=o===void 0?YV:o,c=Uq(t,["calendarType","classes","currentMonthIndex","formatDay","formatLongDate"]),f=c.date,h=c.locale,m=[];return n&&m.push.apply(m,n),m.push(B2),FD(f,e)&&m.push("".concat(B2,"--weekend")),f.getMonth()!==i&&m.push("".concat(B2,"--neighboringMonth")),_.jsx(rv,pC({},c,{classes:m,formatAbbr:l,maxDateTransform:tE,minDateTransform:Pg,view:"month",children:a(h,f)}))}var mC=function(){return mC=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},mC.apply(this,arguments)},ZT=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};function Lq(t){var e=t.activeStartDate,r=t.calendarType,n=t.hover,i=t.showFixedNumberOfWeeks,s=t.showNeighboringMonth,a=t.value,o=t.valueType,l=ZT(t,["activeStartDate","calendarType","hover","showFixedNumberOfWeeks","showNeighboringMonth","value","valueType"]),c=Rn(e),f=Tu(e),h=i||s,m=mg(e,r),d=h?0:m,g=(h?-m:0)+1,v=(function(){if(i)return g+42-1;var b=SD(e);if(s){var w=new Date;w.setFullYear(c,f,b),w.setHours(0,0,0,0);var B=7-mg(w,r)-1;return b+B}return b})();return _.jsx(tv,{className:"react-calendar__month-view__days",count:7,dateTransform:function(b){var w=new Date;return w.setFullYear(c,f,b),Pg(w)},dateType:"day",hover:n,end:v,renderTile:function(b){var w=b.date,B=ZT(b,["date"]);return _.jsx(Oq,mC({},l,B,{activeStartDate:e,calendarType:r,currentMonthIndex:f,date:w}),w.getTime())},offset:d,start:g,value:a,valueType:o})}var OD="react-calendar__month-view__weekdays",C2="".concat(OD,"__weekday");function Dq(t){for(var e=t.calendarType,r=t.formatShortWeekday,n=r===void 0?XV:r,i=t.formatWeekday,s=i===void 0?ZV:i,a=t.locale,o=t.onMouseLeave,l=new Date,c=th(l),f=Rn(c),h=Tu(c),m=[],d=1;d<=7;d+=1){var g=new Date(f,h,d-mg(c,e)),v=s(a,g);m.push(_.jsx("div",{className:Yw(C2,fq(g)&&"".concat(C2,"--current"),FD(g,e)&&"".concat(C2,"--weekend")),children:_.jsx("abbr",{"aria-label":v,title:v,children:n(a,g).replace(".","")})},d))}return _.jsx(nE,{className:OD,count:7,onFocus:o,onMouseOver:o,children:m})}var D1=function(){return D1=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},D1.apply(this,arguments)},e3=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r},t3="react-calendar__tile";function Iq(t){var e=t.onClickWeekNumber,r=t.weekNumber,n=_.jsx("span",{children:r});if(e){var i=t.date,s=t.onClickWeekNumber,a=t.weekNumber,o=e3(t,["date","onClickWeekNumber","weekNumber"]);return _.jsx("button",D1({},o,{className:t3,onClick:function(l){return s(a,i,l)},type:"button",children:n}))}else{t.date,t.onClickWeekNumber,t.weekNumber;var o=e3(t,["date","onClickWeekNumber","weekNumber"]);return _.jsx("div",D1({},o,{className:t3,children:n}))}}function Rq(t){var e=t.activeStartDate,r=t.calendarType,n=t.onClickWeekNumber,i=t.onMouseLeave,s=t.showFixedNumberOfWeeks,a=(function(){if(s)return 6;var c=SD(e),f=mg(e,r),h=c-(7-f);return 1+Math.ceil(h/7)})(),o=(function(){for(var c=Rn(e),f=Tu(e),h=Jw(e),m=[],d=0;d<a;d+=1)m.push(sC(new Date(c,f,h+d*7),r));return m})(),l=o.map(function(c){return iq(c,r)});return _.jsx(nE,{className:"react-calendar__month-view__weekNumbers",count:a,direction:"column",onFocus:i,onMouseOver:i,style:{flexBasis:"calc(100% * (1 / 8)",flexShrink:0},children:l.map(function(c,f){var h=o[f];if(!h)throw new Error("date is not defined");return _.jsx(Iq,{date:h,onClickWeekNumber:n,weekNumber:c},c)})})}var gC=function(){return gC=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},gC.apply(this,arguments)},Mq=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};function Qq(t){if(t)for(var e=0,r=Object.entries(QV);e<r.length;e++){var n=r[e],i=n[0],s=n[1];if(s.includes(t))return i}return Bs.ISO_8601}function Hq(t){var e=t.activeStartDate,r=t.locale,n=t.onMouseLeave,i=t.showFixedNumberOfWeeks,s=t.calendarType,a=s===void 0?Qq(r):s,o=t.formatShortWeekday,l=t.formatWeekday,c=t.onClickWeekNumber,f=t.showWeekNumbers,h=Mq(t,["calendarType","formatShortWeekday","formatWeekday","onClickWeekNumber","showWeekNumbers"]);function m(){return _.jsx(Dq,{calendarType:a,formatShortWeekday:o,formatWeekday:l,locale:r,onMouseLeave:n})}function d(){return f?_.jsx(Rq,{activeStartDate:e,calendarType:a,onClickWeekNumber:c,onMouseLeave:n,showFixedNumberOfWeeks:i}):null}function g(){return _.jsx(Lq,gC({calendarType:a},h))}var v="react-calendar__month-view";return _.jsx("div",{className:Yw(v,f?"".concat(v,"--weekNumbers"):""),children:_.jsxs("div",{style:{display:"flex",alignItems:"flex-end"},children:[d(),_.jsxs("div",{style:{flexGrow:1,width:"100%"},children:[m(),g()]})]})})}var Id=function(){return Id=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Id.apply(this,arguments)},ny="react-calendar",u1=["century","decade","year","month"],jq=["decade","year","month","day"],iE=new Date;iE.setFullYear(1,0,1);iE.setHours(0,0,0,0);var Pq=new Date(864e13);function Sm(t){return t instanceof Date?t:new Date(t)}function LD(t,e){return u1.slice(u1.indexOf(t),u1.indexOf(e)+1)}function zq(t,e,r){var n=LD(e,r);return n.indexOf(t)!==-1}function sE(t,e,r){return t&&zq(t,e,r)?t:r}function DD(t){var e=u1.indexOf(t);return jq[e]}function Kq(t,e){var r=Array.isArray(t)?t[e]:t;if(!r)return null;var n=Sm(r);if(Number.isNaN(n.getTime()))throw new Error("Invalid date: ".concat(t));return n}function ID(t,e){var r=t.value,n=t.minDate,i=t.maxDate,s=t.maxDetail,a=Kq(r,e);if(!a)return null;var o=DD(s),l=(function(){switch(e){case 0:return Rf(o,a);case 1:return kD(o,a);default:throw new Error("Invalid index value: ".concat(e))}})();return pq(l,n,i)}var aE=function(t){return ID(t,0)},RD=function(t){return ID(t,1)},Vq=function(t){return[aE,RD].map(function(e){return e(t)})};function MD(t){var e=t.maxDate,r=t.maxDetail,n=t.minDate,i=t.minDetail,s=t.value,a=t.view,o=sE(a,i,r),l=aE({value:s,minDate:n,maxDate:e,maxDetail:r})||new Date;return Rf(o,l)}function qq(t){var e=t.activeStartDate,r=t.defaultActiveStartDate,n=t.defaultValue,i=t.defaultView,s=t.maxDate,a=t.maxDetail,o=t.minDate,l=t.minDetail,c=t.value,f=t.view,h=sE(f,l,a),m=e||r;return m?Rf(h,m):MD({maxDate:s,maxDetail:a,minDate:o,minDetail:l,value:c||n,view:f||i})}function S2(t){return t&&(!Array.isArray(t)||t.length===1)}function iy(t,e){return t instanceof Date&&e instanceof Date&&t.getTime()===e.getTime()}var Gq=ke.forwardRef(function(e,r){var n=e.activeStartDate,i=e.allowPartialRange,s=e.calendarType,a=e.className,o=e.defaultActiveStartDate,l=e.defaultValue,c=e.defaultView,f=e.formatDay,h=e.formatLongDate,m=e.formatMonth,d=e.formatMonthYear,g=e.formatShortWeekday,v=e.formatWeekday,b=e.formatYear,w=e.goToRangeStartOnSelect,B=w===void 0?!0:w,S=e.inputRef,C=e.locale,k=e.maxDate,M=k===void 0?Pq:k,D=e.maxDetail,H=D===void 0?"month":D,F=e.minDate,$=F===void 0?iE:F,q=e.minDetail,R=q===void 0?"century":q,G=e.navigationAriaLabel,U=e.navigationAriaLive,ae=e.navigationLabel,re=e.next2AriaLabel,Y=e.next2Label,he=e.nextAriaLabel,de=e.nextLabel,Ce=e.onActiveStartDateChange,X=e.onChange,I=e.onClickDay,J=e.onClickDecade,te=e.onClickMonth,Ae=e.onClickWeekNumber,se=e.onClickYear,Q=e.onDrillDown,P=e.onDrillUp,le=e.onViewChange,oe=e.prev2AriaLabel,ie=e.prev2Label,fe=e.prevAriaLabel,Te=e.prevLabel,V=e.returnValue,ne=V===void 0?"start":V,W=e.selectRange,L=e.showDoubleView,N=e.showFixedNumberOfWeeks,z=e.showNavigation,ge=z===void 0?!0:z,Be=e.showNeighboringCentury,be=e.showNeighboringDecade,Oe=e.showNeighboringMonth,je=Oe===void 0?!0:Oe,He=e.showWeekNumbers,We=e.tileClassName,at=e.tileContent,ct=e.tileDisabled,ft=e.value,Ot=e.view,mt=ke.useState(o),kr=mt[0],yt=mt[1],_t=ke.useState(null),It=_t[0],Pt=_t[1],Ve=ke.useState(Array.isArray(l)?l.map(function(Gt){return Gt!==null?Sm(Gt):null}):l!=null?Sm(l):null),gt=Ve[0],Bt=Ve[1],Rt=ke.useState(c),ur=Rt[0],Vt=Rt[1],dt=n||kr||qq({activeStartDate:n,defaultActiveStartDate:o,defaultValue:l,defaultView:c,maxDate:M,maxDetail:H,minDate:$,minDetail:R,value:ft,view:Ot}),Xt=(function(){var Gt=(function(){return W&&S2(gt)?gt:ft!==void 0?ft:gt})();return Gt?Array.isArray(Gt)?Gt.map(function(gr){return gr!==null?Sm(gr):null}):Gt!==null?Sm(Gt):null:null})(),zi=DD(H),cr=sE(Ot||ur,R,H),Qn=LD(R,H),Es=W?It:null,Lt=Qn.indexOf(cr)<Qn.length-1,ra=Qn.indexOf(cr)>0,Hs=ke.useCallback(function(Gt){var gr=(function(){switch(ne){case"start":return aE;case"end":return RD;case"range":return Vq;default:throw new Error("Invalid returnValue.")}})();return gr({maxDate:M,maxDetail:H,minDate:$,value:Gt})},[M,H,$,ne]),Fi=ke.useCallback(function(Gt,gr){yt(Gt);var Kr={action:gr,activeStartDate:Gt,value:Xt,view:cr};Ce&&!iy(dt,Gt)&&Ce(Kr)},[dt,Ce,Xt,cr]),vi=ke.useCallback(function(Gt,gr){var Kr=(function(){switch(cr){case"century":return J;case"decade":return se;case"year":return te;case"month":return I;default:throw new Error("Invalid view: ".concat(cr,"."))}})();Kr&&Kr(Gt,gr)},[I,J,te,se,cr]),zr=ke.useCallback(function(Gt,gr){if(Lt){vi(Gt,gr);var Kr=Qn[Qn.indexOf(cr)+1];if(!Kr)throw new Error("Attempted to drill down from the lowest view.");yt(Gt),Vt(Kr);var vn={action:"drillDown",activeStartDate:Gt,value:Xt,view:Kr};Ce&&!iy(dt,Gt)&&Ce(vn),le&&cr!==Kr&&le(vn),Q&&Q(vn)}},[dt,Lt,Ce,vi,Q,le,Xt,cr,Qn]),mn=ke.useCallback(function(){if(ra){var Gt=Qn[Qn.indexOf(cr)-1];if(!Gt)throw new Error("Attempted to drill up from the highest view.");var gr=Rf(Gt,dt);yt(gr),Vt(Gt);var Kr={action:"drillUp",activeStartDate:gr,value:Xt,view:Gt};Ce&&!iy(dt,gr)&&Ce(Kr),le&&cr!==Gt&&le(Kr),P&&P(Kr)}},[dt,ra,Ce,P,le,Xt,cr,Qn]),Tn=ke.useCallback(function(Gt,gr){var Kr=Xt;vi(Gt,gr);var vn=W&&!S2(Kr),bn;if(W)if(vn)bn=Rf(zi,Gt);else{if(!Kr)throw new Error("previousValue is required");if(Array.isArray(Kr))throw new Error("previousValue must not be an array");bn=cq(zi,Kr,Gt)}else bn=Hs(Gt);var na=!W||vn||B?MD({maxDate:M,maxDetail:H,minDate:$,minDetail:R,value:bn,view:cr}):null;gr.persist(),yt(na),Bt(bn);var js={action:"onChange",activeStartDate:na,value:bn,view:cr};if(Ce&&!iy(dt,na)&&Ce(js),X)if(W){var Ps=S2(bn);if(!Ps)X(bn||null,gr);else if(i){if(Array.isArray(bn))throw new Error("value must not be an array");X([bn||null,null],gr)}}else X(bn||null,gr)},[dt,i,Hs,B,M,H,$,R,Ce,X,vi,W,Xt,zi,cr]);function $a(Gt){Pt(Gt)}function li(){Pt(null)}ke.useImperativeHandle(r,function(){return{activeStartDate:dt,drillDown:zr,drillUp:mn,onChange:Tn,setActiveStartDate:Fi,value:Xt,view:cr}},[dt,zr,mn,Tn,Fi,Xt,cr]);function Rr(Gt){var gr=Gt?_D(cr,dt):Rf(cr,dt),Kr=Lt?zr:Tn,vn={activeStartDate:gr,hover:Es,locale:C,maxDate:M,minDate:$,onClick:Kr,onMouseOver:W?$a:void 0,tileClassName:We,tileContent:at,tileDisabled:ct,value:Xt,valueType:zi};switch(cr){case"century":return _.jsx(xq,Id({formatYear:b,showNeighboringCentury:Be},vn));case"decade":return _.jsx(Eq,Id({formatYear:b,showNeighboringDecade:be},vn));case"year":return _.jsx(Fq,Id({formatMonth:m,formatMonthYear:d},vn));case"month":return _.jsx(Hq,Id({calendarType:s,formatDay:f,formatLongDate:h,formatShortWeekday:g,formatWeekday:v,onClickWeekNumber:Ae,onMouseLeave:W?li:void 0,showFixedNumberOfWeeks:typeof N<"u"?N:L,showNeighboringMonth:je,showWeekNumbers:He},vn));default:throw new Error("Invalid view: ".concat(cr,"."))}}function on(){return ge?_.jsx(hq,{activeStartDate:dt,drillUp:mn,formatMonthYear:d,formatYear:b,locale:C,maxDate:M,minDate:$,navigationAriaLabel:G,navigationAriaLive:U,navigationLabel:ae,next2AriaLabel:re,next2Label:Y,nextAriaLabel:he,nextLabel:de,prev2AriaLabel:oe,prev2Label:ie,prevAriaLabel:fe,prevLabel:Te,setActiveStartDate:Fi,showDoubleView:L,view:cr,views:Qn}):null}var bi=Array.isArray(Xt)?Xt:[Xt];return _.jsxs("div",{className:Yw(ny,W&&bi.length===1&&"".concat(ny,"--selectRange"),L&&"".concat(ny,"--doubleView"),a),ref:S,children:[on(),_.jsxs("div",{className:"".concat(ny,"__viewContainer"),onBlur:W?li:void 0,onMouseLeave:W?li:void 0,children:[Rr(),L?Rr(!0):null]})]})});const Rd=t=>new Date(t).toLocaleDateString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit"}),Wq=t=>{const r=Date.now()-t,n=r<0,i=Math.abs(r),s=60*1e3,a=60*s,o=24*a;let l,c;return i<s?n?"":"":(i<a?(l=Math.floor(i/s),c=""):i<o?(l=Math.floor(i/a),c=""):(l=Math.floor(i/o),c=""),n?`${l}${c}`:`${l}${c}`)};function QD(){const{user:t}=yp(),e=t?.id??null,[r,n]=ke.useState(()=>Ur.getTasks()),[i,s]=ke.useState("");ke.useEffect(()=>{Ur.saveTasks(r)},[r]),ke.useEffect(()=>{let k=!0;return(async()=>{try{if(e){const H=await In.fetchTasks(e);if(!k)return;Ur.saveTasks(H),n(H);return}const D=Ur.getTasks();if(!k)return;n(D)}catch(D){Cr(vs(D)||me("Cloud sync failed"))}})(),()=>{k=!1}},[e]);const a=ke.useCallback(k=>{e&&In.upsertTask(e,k).catch(M=>{Cr(vs(M)||me("Cloud sync failed"))})},[e]),o=ke.useCallback(k=>{e&&Promise.all(k.map(M=>In.upsertTask(e,M))).catch(M=>{Cr(vs(M)||me("Cloud sync failed"))})},[e]),l=ke.useMemo(()=>{const k=new Date;k.setHours(0,0,0,0);const M=k.getTime();return r.filter(D=>!D.completed).filter(D=>D.taskType==="time-range"&&D.startDate?D.startDate<=M:!0).sort((D,H)=>D.order!==void 0&&H.order!==void 0?D.order-H.order:D.order!==void 0?-1:H.order!==void 0?1:D.createdAt-H.createdAt)},[r]),c=ke.useMemo(()=>{const k=new Date;k.setHours(0,0,0,0);const M=k.getTime();return r.filter(D=>!D.completed).filter(D=>D.taskType==="time-range"&&D.startDate?D.startDate>M:!1).sort((D,H)=>D.startDate&&H.startDate?D.startDate-H.startDate:D.createdAt-H.createdAt)},[r]),f=ke.useMemo(()=>r.filter(k=>k.completed).sort((k,M)=>k.completedAt&&M.completedAt?M.completedAt-k.completedAt:M.createdAt-k.createdAt),[r]),h=ke.useCallback(k=>{if(!i.trim())return k;const M=i.toLowerCase();return k.filter(D=>D.title.toLowerCase().includes(M)||D.notes&&D.notes.toLowerCase().includes(M))},[i]),m=ke.useCallback((k,M)=>{const D=r.filter(F=>!F.completed).reduce((F,$)=>Math.max(F,$.order??0),0),H={id:Xs(),title:k,notes:M?.notes||void 0,createdAt:Date.now(),dueAt:M?.dueAt||null,completed:!1,recurring:M?.recurring||null,relatedDiaryId:M?.relatedDiaryId||null,taskType:M?.taskType||"long-term",startDate:M?.startDate||null,endDate:M?.endDate||null,completedAt:null,order:D+1};return n(F=>[...F,H]),a(H),H},[r,a]),d=ke.useCallback((k,M)=>{n(H=>H.map(F=>F.id===k?{...F,...M}:F));const D=r.find(H=>H.id===k);D&&a({...D,...M})},[r,a]),g=ke.useCallback(k=>{n(M=>M.filter(D=>D.id!==k)),e&&In.deleteTask(e,k).catch(M=>{Cr(vs(M)||me("Cloud sync failed"))})},[e]),v=ke.useCallback(k=>{n(D=>D.map(H=>{if(H.id===k){const F=!H.completed;return{...H,completed:F,completedAt:F?Date.now():null}}return H}));const M=r.find(D=>D.id===k);if(M){const D=!M.completed;a({...M,completed:D,completedAt:D?Date.now():null})}},[r,a]),b=ke.useCallback(k=>{const M=new Date(k);M.setHours(0,0,0,0);const D=new Date(k);D.setHours(23,59,59,999);const H=M.getTime(),F=D.getTime();return r.filter($=>$.taskType!=="time-range"||!$.startDate||!$.endDate?!1:$.startDate<=F&&$.endDate>=H)},[r]),w=ke.useCallback((k,M)=>{const D=new Date(k).setHours(0,0,0,0),H=new Date(M).setHours(23,59,59,999);return r.filter(F=>F.taskType!=="time-range"||!F.startDate||!F.endDate?!1:F.startDate<=H&&F.endDate>=D)},[r]),B=ke.useCallback(()=>{n(Ur.getTasks())},[]),S=ke.useCallback(k=>{n(M=>{const D=new Date;D.setHours(0,0,0,0);const H=D.getTime(),F=M.filter(U=>!U.completed).filter(U=>U.taskType==="time-range"&&U.startDate?U.startDate<=H:!0).sort((U,ae)=>U.order!==void 0&&ae.order!==void 0?U.order-ae.order:U.order!==void 0?-1:ae.order!==void 0?1:U.createdAt-ae.createdAt),$=F.findIndex(U=>U.id===k);if($<=0)return M;[F[$-1],F[$]]=[F[$],F[$-1]];const q=F.map((U,ae)=>({...U,order:ae})),R=new Map(q.map(U=>[U.id,U.order])),G=M.map(U=>{const ae=R.get(U.id);return ae!==void 0?{...U,order:ae}:U});return e&&o(G),G})},[o,e]),C=ke.useCallback(k=>{n(M=>{const D=new Date;D.setHours(0,0,0,0);const H=D.getTime(),F=M.filter(U=>!U.completed).filter(U=>U.taskType==="time-range"&&U.startDate?U.startDate<=H:!0).sort((U,ae)=>U.order!==void 0&&ae.order!==void 0?U.order-ae.order:U.order!==void 0?-1:ae.order!==void 0?1:U.createdAt-ae.createdAt),$=F.findIndex(U=>U.id===k);if($>=F.length-1)return M;[F[$],F[$+1]]=[F[$+1],F[$]];const q=F.map((U,ae)=>({...U,order:ae})),R=new Map(q.map(U=>[U.id,U.order])),G=M.map(U=>{const ae=R.get(U.id);return ae!==void 0?{...U,order:ae}:U});return e&&o(G),G})},[o,e]);return{tasks:r,activeTasks:l,futureTasks:c,completedTasks:f,searchQuery:i,setSearchQuery:s,filterTasksBySearch:h,addTask:m,updateTask:d,deleteTask:g,toggleComplete:v,getTasksForDate:b,getTasksForDateRange:w,moveTaskUp:S,moveTaskDown:C,reload:B}}const r3=({diaries:t,onSelectDiary:e,onCreateDiary:r,onChangeDiaryDate:n})=>{const[i,s]=ke.useState(new Date),[a,o]=ke.useState(!1),[l,c]=ke.useState(null),[f,h]=ke.useState(""),{getTasksForDate:m,addTask:d,toggleComplete:g}=QD(),[v,b]=ke.useState(!1),[w,B]=ke.useState(""),[S,C]=ke.useState(""),[k,M]=ke.useState("time-range"),[D,H]=ke.useState(""),[F,$]=ke.useState(""),q=Q=>{c(Q),h(new Date(Q.createdAt).toISOString().slice(0,10)),o(!0)},R=()=>{o(!1),c(null),h("")},G=()=>{if(!l||!f)return;const Q=new Date(f);n(l.id,Q),R()},U=Wa.useMemo(()=>{const Q=new Map;return t.forEach(P=>{const le=new Date(P.createdAt).toDateString();Q.has(le)||Q.set(le,[]),Q.get(le).push(P)}),Q},[t]),ae=Wa.useMemo(()=>{const Q=new Map,P=new Date,le=new Date(P.getFullYear(),P.getMonth(),1),oe=new Date(P.getFullYear(),P.getMonth()+1,0);for(let ie=new Date(le);ie<=oe;ie.setDate(ie.getDate()+1)){const fe=m(new Date(ie));fe.length>0&&Q.set(new Date(ie).toDateString(),fe)}return Q},[m]),re=Q=>{const P=Q.toDateString();return U.get(P)?.length||0},Y=Q=>{const P=Q.toDateString();return ae.get(P)?.length||0},he=U.get(i.toDateString())||[],de=m(i),Ce=({date:Q,view:P})=>{if(P==="month"){const le=re(Q),oe=Y(Q);if(le>0||oe>0)return _.jsxs("div",{className:"flex justify-center gap-1 mt-1",children:[le>0&&_.jsx("div",{className:"w-1.5 h-1.5 bg-blue-600 rounded-full"}),oe>0&&_.jsx("div",{className:"w-1.5 h-1.5 bg-orange-500 rounded-full"})]})}return null},X=({date:Q,view:P})=>{if(P==="month"){const le=re(Q),oe=Y(Q),ie=Q.toDateString()===i.toDateString(),fe=Q.toDateString()===new Date().toDateString();let Te="relative ";return(le>0||oe>0)&&(Te+="font-semibold "),ie&&(Te+="bg-blue-100 "),fe&&(Te+="text-blue-600 "),Te}return""},I=Q=>{s(Q)},J=()=>{r(i)},te=()=>{const Q=i.getFullYear(),P=String(i.getMonth()+1).padStart(2,"0"),le=String(i.getDate()).padStart(2,"0"),oe=`${Q}-${P}-${le}`;H(oe),$(oe),M("time-range"),b(!0)},Ae=()=>{if(!w.trim())return;const Q={notes:S.trim()||void 0,taskType:k};k==="time-range"&&(D&&(Q.startDate=new Date(D).getTime()),F&&(Q.endDate=new Date(F).setHours(23,59,59,999))),d(w.trim(),Q),B(""),C(""),M("time-range"),H(""),$(""),b(!1)},se=(Q,P)=>{if(!Q||!P)return"";const le=new Date(Q).toLocaleDateString("zh-CN",{month:"short",day:"numeric"}),oe=new Date(P).toLocaleDateString("zh-CN",{month:"short",day:"numeric"});return`${le} - ${oe}`};return _.jsxs("div",{className:"h-full flex flex-col",style:{backgroundColor:"rgba(255, 255, 255, 0.75)"},children:[_.jsx("div",{className:"p-4",style:{borderBottom:"1px solid rgba(255, 255, 255, 0.2)"},children:_.jsx("h2",{className:"text-lg font-semibold",style:{color:"var(--aurora-primary)"},children:me("Calendar View")})}),_.jsxs("div",{className:"flex-1 overflow-y-auto",children:[_.jsx("div",{className:"p-4",children:_.jsx("div",{className:"calendar-container",children:_.jsx(Gq,{onChange:Q=>I(Q),value:i,tileContent:Ce,tileClassName:X,locale:"zh-CN",className:"w-full border-none shadow-sm rounded-xl"})})}),_.jsx("div",{className:"px-4 py-3",style:{backgroundColor:"rgba(255, 255, 255, 0.5)"},children:_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsx("h3",{className:"font-semibold",style:{color:"var(--aurora-primary)"},children:Rd(i.getTime())}),_.jsxs("div",{className:"flex gap-2",children:[_.jsxs("button",{onClick:te,className:"text-sm font-medium px-2 py-1 rounded-xl transition-all duration-200",style:{color:"var(--aurora-accent)"},onMouseEnter:Q=>{Q.currentTarget.style.backgroundColor="rgba(255, 255, 255, 0.4)"},onMouseLeave:Q=>{Q.currentTarget.style.backgroundColor="transparent"},children:["+ ",me("Task")]}),_.jsxs("button",{onClick:J,className:"text-sm font-medium px-2 py-1 rounded-xl transition-all duration-200",style:{color:"var(--aurora-accent)"},onMouseEnter:Q=>{Q.currentTarget.style.backgroundColor="rgba(255, 255, 255, 0.4)"},onMouseLeave:Q=>{Q.currentTarget.style.backgroundColor="transparent"},children:["+ ",me("Diary")]})]})]})}),_.jsx("div",{className:"p-4 min-h-[120px]",children:he.length===0&&de.length===0?_.jsxs("div",{className:"text-center py-6 rounded-xl",style:{backgroundColor:"rgba(255, 255, 255, 0.8)",color:"var(--aurora-muted)"},children:[_.jsx("p",{className:"text-sm",children:me("No diaries or tasks on this date")}),_.jsxs("div",{className:"flex justify-center gap-3 mt-2",children:[_.jsx("button",{onClick:J,className:"text-sm px-3 py-1.5 rounded-xl transition-all duration-200",style:{color:"var(--aurora-accent)"},onMouseEnter:Q=>{Q.currentTarget.style.backgroundColor="rgba(255, 255, 255, 0.5)"},onMouseLeave:Q=>{Q.currentTarget.style.backgroundColor="transparent"},children:me("Create diary")}),_.jsx("button",{onClick:te,className:"text-sm px-3 py-1.5 rounded-xl transition-all duration-200",style:{color:"var(--aurora-accent)"},onMouseEnter:Q=>{Q.currentTarget.style.backgroundColor="rgba(255, 255, 255, 0.5)"},onMouseLeave:Q=>{Q.currentTarget.style.backgroundColor="transparent"},children:me("Create task")})]})]}):_.jsxs("div",{className:"space-y-4",children:[de.length>0&&_.jsxs("div",{children:[_.jsxs("h4",{className:"text-sm font-semibold mb-2 flex items-center gap-1",style:{color:"var(--aurora-secondary)"},children:[_.jsx(YA,{size:14,style:{color:"var(--aurora-accent)"}}),me("Tasks")," (",de.length,")"]}),_.jsx("div",{className:"space-y-2",children:de.map(Q=>_.jsx("div",{className:"p-2.5 border border-orange-100 bg-gradient-to-r from-orange-50 to-amber-50/80 rounded-xl shadow-sm",children:_.jsxs("div",{className:"flex items-start gap-2",children:[_.jsx("input",{type:"checkbox",checked:Q.completed,onChange:()=>g(Q.id),className:"mt-0.5 cursor-pointer"}),_.jsxs("div",{className:"flex-1 min-w-0",children:[_.jsx("span",{className:`text-sm font-medium ${Q.completed?"line-through text-gray-400":"text-gray-800"}`,children:Q.title}),Q.notes&&_.jsx("p",{className:"text-xs text-gray-500 mt-1 line-clamp-2",children:Q.notes}),Q.startDate&&Q.endDate&&_.jsx("p",{className:"text-xs text-orange-600 mt-1",children:se(Q.startDate,Q.endDate)})]})]})},Q.id))})]}),he.length>0&&_.jsxs("div",{children:[_.jsxs("h4",{className:"text-sm font-semibold text-gray-700 mb-2 flex items-center gap-1",children:[_.jsx(YA,{size:14,className:"text-blue-600"}),me("Diaries")," (",he.length,")"]}),_.jsx("div",{className:"space-y-2",children:he.map(Q=>_.jsx("div",{onClick:()=>e(Q.id),className:"p-3 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer transition-colors",children:_.jsxs("div",{className:"flex items-start justify-between",children:[_.jsxs("div",{className:"mr-4 min-w-0",children:[_.jsx("h4",{className:"font-medium text-gray-900 mb-1 truncate",children:Q.title||me("Untitled")}),Q.tags.length>0&&_.jsx("div",{className:"flex flex-wrap gap-1",children:Q.tags.slice(0,3).map(P=>_.jsx("span",{className:"inline-block px-2 py-0.5 text-xs rounded-full bg-blue-100 text-blue-700",children:P},P))})]}),_.jsx("div",{className:"flex-shrink-0 ml-2",children:_.jsx("button",{onClick:P=>{P.stopPropagation(),q(Q)},className:"text-sm text-gray-500 hover:text-blue-600 p-1 rounded",title:me("Change Date"),children:_.jsx(YA,{size:16})})})]})},Q.id))})]}),_.jsx(es,{isOpen:a,onClose:R,title:me("Change Diary Date"),children:_.jsxs("div",{children:[_.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[me("Diary"),": ",_.jsx("strong",{children:l?.title||me("Untitled")})]}),_.jsx("input",{type:"date",value:f,onChange:Q=>h(Q.target.value),className:"border rounded px-3 py-2 w-full"}),_.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[_.jsx("button",{onClick:R,className:"px-3 py-2 bg-gray-100 rounded",children:me("Cancel")}),_.jsx("button",{onClick:G,className:"px-3 py-2 bg-blue-600 text-white rounded",children:me("Save")})]})]})})]})})]}),_.jsx(es,{isOpen:v,onClose:()=>b(!1),title:me("Create New Task"),children:_.jsxs("div",{className:"space-y-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:me("Task Title")}),_.jsx("input",{type:"text",className:"w-full border rounded px-3 py-2 text-sm",placeholder:me("Enter task title"),value:w,onChange:Q=>B(Q.target.value),autoFocus:!0})]}),_.jsxs("div",{children:[_.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[me("Notes")," ",_.jsxs("span",{className:"text-gray-400 text-xs",children:["(",me("Optional"),")"]})]}),_.jsx("textarea",{className:"w-full border rounded px-3 py-2 text-sm resize-none",placeholder:me("Add notes..."),value:S,onChange:Q=>C(Q.target.value),rows:3})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:me("Task Type")}),_.jsxs("div",{className:"flex gap-3",children:[_.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[_.jsx("input",{type:"radio",name:"taskType",value:"long-term",checked:k==="long-term",onChange:Q=>M(Q.target.value)}),_.jsx(Hm,{size:16,className:"text-gray-600"}),_.jsx("span",{className:"text-sm",children:me("Long-term task")})]}),_.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[_.jsx("input",{type:"radio",name:"taskType",value:"time-range",checked:k==="time-range",onChange:Q=>M(Q.target.value)}),_.jsx(YA,{size:16,className:"text-orange-500"}),_.jsx("span",{className:"text-sm",children:me("Time-range task")})]})]})]}),k==="time-range"&&_.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:me("Start Date")}),_.jsx("input",{type:"date",className:"w-full border rounded px-3 py-2 text-sm",value:D,onChange:Q=>H(Q.target.value)})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:me("End Date")}),_.jsx("input",{type:"date",className:"w-full border rounded px-3 py-2 text-sm",value:F,onChange:Q=>$(Q.target.value),min:D})]})]}),_.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[_.jsx("button",{onClick:()=>b(!1),className:"px-4 py-2 text-sm text-gray-600 hover:text-gray-800",children:me("Cancel")}),_.jsx("button",{onClick:Ae,disabled:!w.trim(),className:"px-4 py-2 text-sm bg-blue-600 text-white rounded hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed",children:me("Create")})]})]})}),_.jsx("style",{children:`
        .calendar-container .react-calendar {
          border: none;
          font-family: inherit;
        }
        .calendar-container .react-calendar__tile {
          padding: 0.75em 0.5em;
          border-radius: 0.375rem;
        }
        .calendar-container .react-calendar__tile:enabled:hover {
          background-color: #f3f4f6;
        }
        .calendar-container .react-calendar__tile--active {
          background-color: #dbeafe !important;
          color: #1e40af;
        }
        .calendar-container .react-calendar__tile--now {
          background-color: #fef3c7;
        }
        .calendar-container .react-calendar__navigation button {
          font-size: 1rem;
          font-weight: 600;
        }
        .calendar-container .react-calendar__navigation button:enabled:hover {
          background-color: #f3f4f6;
        }
        .calendar-container .react-calendar__month-view__weekdays {
          font-size: 0.875rem;
          font-weight: 600;
          color: #6b7280;
        }
      `})]})},$q=t=>t.replace(/<[^>]*>/g," ").replace(/&nbsp;/g," ").replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&#39;/g,"'").replace(/&quot;/g,'"').replace(/\s+/g," ").trim(),HD=t=>{if(!t)return 0;const e=$q(t);if(!e)return 0;const n=(e.match(/[\p{Script=Han}\p{Script=Hiragana}\p{Script=Katakana}\p{Script=Hangul}]/gu)??[]).length,s=e.replace(/[\p{Script=Han}\p{Script=Hiragana}\p{Script=Katakana}\p{Script=Hangul}]/gu," ").match(/[\p{L}\p{N}]+(?:['-][\p{L}\p{N}]+)*/gu)??[];return n+s.length},n3=({diaries:t,currentDiaryId:e,onSelectDiary:r,onCreateDiary:n,onDeleteDiary:i,onMoveDiary:s,searchQuery:a,onSearch:o,selectedFolderId:l,folders:c})=>{const[f,h]=ke.useState(()=>{const Y=localStorage.getItem("diary-sort-mode");return Y&&["updated-desc","updated-asc","created-desc","created-asc","title-asc","title-desc"].includes(Y)?Y:"updated-desc"}),m=Y=>{h(Y),localStorage.setItem("diary-sort-mode",Y)},[d,g]=ke.useState(!1),[v,b]=ke.useState(null),[w,B]=ke.useState(!1),[S,C]=ke.useState(null),[k,M]=ke.useState(null),D=Y=>{const he=["bg-blue-100 text-blue-700 border-blue-200","bg-green-100 text-green-700 border-green-200","bg-purple-100 text-purple-700 border-purple-200","bg-pink-100 text-pink-700 border-pink-200","bg-yellow-100 text-yellow-700 border-yellow-200","bg-indigo-100 text-indigo-700 border-indigo-200","bg-red-100 text-red-700 border-red-200","bg-orange-100 text-orange-700 border-orange-200"],de=Y.split("").reduce((Ce,X)=>Ce+X.charCodeAt(0),0);return he[de%he.length]},H=t.filter(Y=>l===null||Y.folderId===l),F=ke.useMemo(()=>{const Y=de=>(de||"").trim().toLocaleLowerCase();return[...H].sort((de,Ce)=>{switch(f){case"updated-asc":return de.updatedAt-Ce.updatedAt;case"created-desc":return Ce.createdAt-de.createdAt;case"created-asc":return de.createdAt-Ce.createdAt;case"title-asc":return Y(de.title).localeCompare(Y(Ce.title),"zh-CN",{sensitivity:"base"});case"title-desc":return Y(Ce.title).localeCompare(Y(de.title),"zh-CN",{sensitivity:"base"});default:return Ce.updatedAt-de.updatedAt}})},[H,f]),$=t.length,q=F.length,R=Y=>{b(Y),g(!0)},G=()=>{v&&(i(v),b(null),g(!1))},U=Y=>{C(Y.id),M(Y.folderId),B(!0)},ae=()=>{S&&(s(S,k),Cr(me("Diary moved successfully"),"success"),B(!1),C(null),M(null))},re=Y=>{const he=document.createElement("div");he.innerHTML=Y;const de=he.textContent||he.innerText||"";return de.slice(0,100)+(de.length>100?"...":"")};return _.jsxs("div",{className:"h-full flex flex-col border-r border-slate-200/60",style:{backgroundColor:"rgba(255, 255, 255, 0.75)"},children:[_.jsxs("div",{className:"p-4",style:{backgroundColor:"rgba(255, 255, 255, 0.5)",borderBottom:"1px solid rgba(200, 210, 220, 0.4)"},children:[_.jsxs("div",{className:"flex items-center justify-between mb-4",children:[_.jsx("button",{onClick:()=>{const Y=new CustomEvent("openSidebar");window.dispatchEvent(Y)},className:"p-2 rounded-lg text-primary-600 hover:bg-primary-50 transition-colors md:hidden","aria-label":"Open sidebar",children:_.jsx(AD,{size:20})}),_.jsxs("div",{className:"flex-1 text-center",children:[_.jsx("h2",{className:"text-lg font-semibold tracking-tight",style:{color:"var(--aurora-primary)"},children:me("Diaries")}),_.jsx("p",{className:"text-xs mt-1",style:{color:"var(--aurora-muted)"},children:me("Showing diaries summary").replace("{visible}",String(q)).replace("{total}",String($))})]}),_.jsx("button",{onClick:n,className:"p-2.5 text-white rounded-xl shadow-sm hover:shadow-md transition-all duration-200 active:scale-95",style:{background:"linear-gradient(135deg, var(--aurora-accent) 0%, var(--aurora-accent-alt) 100%)"},title:me("New Diary"),children:_.jsx($S,{size:18,strokeWidth:2})})]}),_.jsxs("div",{className:"relative",children:[_.jsx(fD,{size:18,strokeWidth:1.75,className:"absolute left-3 top-1/2 transform -translate-y-1/2",style:{color:"var(--aurora-muted)"}}),_.jsx("input",{type:"text",placeholder:me("Search diaries..."),value:a,onChange:Y=>o(Y.target.value),className:"w-full pl-10 pr-4 py-2.5 rounded-xl focus:outline-none transition-colors duration-200",style:{backgroundColor:"rgba(255, 255, 255, 0.8)",border:"1px solid rgba(255, 255, 255, 0.3)",color:"var(--aurora-primary)"}})]}),_.jsxs("div",{className:"mt-3",children:[_.jsx("label",{className:"block text-xs font-medium mb-1.5",style:{color:"var(--aurora-muted)"},children:me("Sort by")}),_.jsxs("select",{value:f,onChange:Y=>m(Y.target.value),className:"w-full px-3 py-2.5 rounded-xl text-sm focus:outline-none transition-colors duration-200",style:{backgroundColor:"rgba(255, 255, 255, 0.85)",border:"1px solid rgba(255, 255, 255, 0.3)",color:"var(--aurora-primary)"},children:[_.jsx("option",{value:"updated-desc",children:me("Last edited (newest first)")}),_.jsx("option",{value:"updated-asc",children:me("Last edited (oldest first)")}),_.jsx("option",{value:"created-desc",children:me("Created date (newest first)")}),_.jsx("option",{value:"created-asc",children:me("Created date (oldest first)")}),_.jsx("option",{value:"title-asc",children:me("Title A-Z")}),_.jsx("option",{value:"title-desc",children:me("Title Z-A")})]})]})]}),_.jsx("div",{className:"flex-1 overflow-y-auto p-2",children:F.length===0?_.jsxs("div",{className:"flex flex-col items-center justify-center h-full p-6",children:[_.jsx("div",{className:"w-16 h-16 rounded-2xl flex items-center justify-center mb-4",style:{backgroundColor:"rgba(241, 245, 249, 0.9)"},children:_.jsx(YA,{size:32,strokeWidth:1.5,style:{color:"var(--aurora-muted)"}})}),_.jsx("p",{className:"text-sm text-center",style:{color:"var(--aurora-muted)"},children:me(a?"No diaries found":"No diaries yet. Create one!")}),!a&&_.jsx("button",{onClick:n,className:"mt-4 px-4 py-2 text-sm text-white rounded-xl font-medium shadow-sm hover:shadow-md transition-all duration-200 active:scale-95",style:{background:"linear-gradient(135deg, var(--aurora-accent) 0%, var(--aurora-accent-alt) 100%)"},children:me("Create first diary")})]}):F.map(Y=>_.jsx("div",{draggable:!0,className:`p-4 cursor-pointer transition-colors duration-200 group relative mx-1 my-1.5 rounded-xl border border-slate-200/60 ${e===Y.id?"shadow-md":"hover:shadow-sm"}`,style:{backgroundColor:e===Y.id?"rgba(14, 165, 233, 0.12)":"rgba(255, 255, 255, 0.85)",borderColor:e===Y.id?"var(--aurora-accent)":"rgba(226, 232, 240, 0.6)"},onMouseEnter:he=>{e!==Y.id&&(he.currentTarget.style.backgroundColor="rgba(255, 255, 255, 0.7)")},onMouseLeave:he=>{e!==Y.id&&(he.currentTarget.style.backgroundColor="rgba(255, 255, 255, 0.5)")},onClick:()=>r(Y.id),onDragStart:he=>{he.dataTransfer.effectAllowed="move",he.dataTransfer.setData("application/x-diary-id",Y.id)},children:_.jsxs("div",{className:"flex flex-col",children:[_.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[_.jsx("h3",{className:"font-semibold truncate tracking-tight flex-1",style:{color:"var(--aurora-primary)"},children:Y.title||me("Untitled")}),_.jsxs("div",{className:"flex items-center gap-1 ml-2",children:[_.jsx("button",{onClick:he=>{he.stopPropagation(),U(Y)},className:"p-1.5 rounded-lg transition-all duration-200 active:scale-95",style:{color:"var(--aurora-accent)"},onMouseEnter:he=>{he.currentTarget.style.backgroundColor="rgba(14, 165, 233, 0.15)"},onMouseLeave:he=>{he.currentTarget.style.backgroundColor="transparent"},title:me("Move to Folder"),children:_.jsx(WS,{size:16,strokeWidth:1.75})}),_.jsx("button",{onClick:he=>{he.stopPropagation(),R(Y.id)},className:"p-1.5 hover:bg-red-100/50 text-red-500 rounded-lg transition-all duration-200 active:scale-95",title:me("Delete"),children:_.jsx(pg,{size:16,strokeWidth:1.75})})]})]}),_.jsx("p",{className:"text-sm line-clamp-2 mb-2 leading-relaxed",style:{color:"var(--aurora-secondary)"},children:re(Y.content)||me("No content")}),Y.tags.length>0&&_.jsxs("div",{className:"flex flex-wrap gap-1.5 mb-2",children:[Y.tags.slice(0,3).map(he=>_.jsx("span",{className:`inline-block px-2 py-0.5 text-xs font-medium rounded-full border ${D(he)}`,children:he},he)),Y.tags.length>3&&_.jsxs("span",{className:"inline-block px-2 py-0.5 text-xs font-medium rounded-full bg-primary-100 text-primary-600 border border-primary-200",children:["+",Y.tags.length-3]})]}),_.jsxs("div",{className:"flex items-center gap-2 text-xs",style:{color:"var(--aurora-muted)"},children:[_.jsxs("span",{className:"font-medium",children:[HD(Y.content)," ",me("words")]}),_.jsx("span",{children:""}),_.jsx("span",{children:Wq(Y.updatedAt)}),_.jsx("span",{children:""}),_.jsx("span",{children:Rd(Y.createdAt)})]})]})},Y.id))}),_.jsxs(es,{isOpen:w,onClose:()=>{B(!1),C(null),M(null)},title:me("Move to Folder"),children:[_.jsxs("div",{className:"mb-5",children:[_.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-2",children:me("Select destination folder")}),_.jsxs("select",{className:"w-full px-4 py-2.5 bg-primary-50/80 border border-primary-200 rounded-apple text-primary-900 focus:bg-white focus:border-accent-500 focus:ring-2 focus:ring-accent-500/20 focus:outline-none transition-all duration-200",value:k??"",onChange:Y=>M(Y.target.value||null),children:[_.jsx("option",{value:"",children:me("All Diaries")}),c.map(Y=>_.jsx("option",{value:Y.id,children:Y.name},Y.id))]})]}),_.jsxs("div",{className:"flex gap-3",children:[_.jsx(si,{onClick:ae,className:"flex-1",children:me("Move")}),_.jsx(si,{variant:"secondary",onClick:()=>{B(!1),C(null),M(null)},className:"flex-1",children:me("Cancel")})]})]}),_.jsxs(es,{isOpen:d,onClose:()=>{g(!1),b(null)},title:me("Delete Diary"),children:[_.jsx("p",{className:"text-primary-600 mb-5 leading-relaxed",children:me("Are you sure you want to delete this diary? This action cannot be undone.")}),_.jsxs("div",{className:"flex gap-3",children:[_.jsx(si,{variant:"danger",onClick:G,className:"flex-1",children:me("Delete")}),_.jsx(si,{variant:"secondary",onClick:()=>{g(!1),b(null)},className:"flex-1",children:me("Cancel")})]})]})]})};var oE=DL();const Yq=LL(oE);var E2={exports:{}},_2={};var i3;function Jq(){if(i3)return _2;i3=1;var t=Ig();function e(h,m){return h===m&&(h!==0||1/h===1/m)||h!==h&&m!==m}var r=typeof Object.is=="function"?Object.is:e,n=t.useState,i=t.useEffect,s=t.useLayoutEffect,a=t.useDebugValue;function o(h,m){var d=m(),g=n({inst:{value:d,getSnapshot:m}}),v=g[0].inst,b=g[1];return s(function(){v.value=d,v.getSnapshot=m,l(v)&&b({inst:v})},[h,d,m]),i(function(){return l(v)&&b({inst:v}),h(function(){l(v)&&b({inst:v})})},[h]),a(d),d}function l(h){var m=h.getSnapshot;h=h.value;try{var d=m();return!r(h,d)}catch{return!0}}function c(h,m){return m()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?c:o;return _2.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:f,_2}var s3;function jD(){return s3||(s3=1,E2.exports=Jq()),E2.exports}var PD=jD();function ys(t){this.content=t}ys.prototype={constructor:ys,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,r){var n=r&&r!=t?this.remove(r):this,i=n.find(t),s=n.content.slice();return i==-1?s.push(r||t,e):(s[i+1]=e,r&&(s[i]=r)),new ys(s)},remove:function(t){var e=this.find(t);if(e==-1)return this;var r=this.content.slice();return r.splice(e,2),new ys(r)},addToStart:function(t,e){return new ys([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var r=this.remove(t).content.slice();return r.push(t,e),new ys(r)},addBefore:function(t,e,r){var n=this.remove(e),i=n.content.slice(),s=n.find(t);return i.splice(s==-1?i.length:s,0,e,r),new ys(i)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=ys.from(t),t.size?new ys(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=ys.from(t),t.size?new ys(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=ys.from(t);for(var r=0;r<t.content.length;r+=2)e=e.remove(t.content[r]);return e},toObject:function(){var t={};return this.forEach(function(e,r){t[e]=r}),t},get size(){return this.content.length>>1}};ys.from=function(t){if(t instanceof ys)return t;var e=[];if(t)for(var r in t)e.push(r,t[r]);return new ys(e)};function zD(t,e,r){for(let n=0;;n++){if(n==t.childCount||n==e.childCount)return t.childCount==e.childCount?null:r;let i=t.child(n),s=e.child(n);if(i==s){r+=i.nodeSize;continue}if(!i.sameMarkup(s))return r;if(i.isText&&i.text!=s.text){for(let a=0;i.text[a]==s.text[a];a++)r++;return r}if(i.content.size||s.content.size){let a=zD(i.content,s.content,r+1);if(a!=null)return a}r+=i.nodeSize}}function KD(t,e,r,n){for(let i=t.childCount,s=e.childCount;;){if(i==0||s==0)return i==s?null:{a:r,b:n};let a=t.child(--i),o=e.child(--s),l=a.nodeSize;if(a==o){r-=l,n-=l;continue}if(!a.sameMarkup(o))return{a:r,b:n};if(a.isText&&a.text!=o.text){let c=0,f=Math.min(a.text.length,o.text.length);for(;c<f&&a.text[a.text.length-c-1]==o.text[o.text.length-c-1];)c++,r--,n--;return{a:r,b:n}}if(a.content.size||o.content.size){let c=KD(a.content,o.content,r-1,n-1);if(c)return c}r-=l,n-=l}}class it{constructor(e,r){if(this.content=e,this.size=r||0,r==null)for(let n=0;n<e.length;n++)this.size+=e[n].nodeSize}nodesBetween(e,r,n,i=0,s){for(let a=0,o=0;o<r;a++){let l=this.content[a],c=o+l.nodeSize;if(c>e&&n(l,i+o,s||null,a)!==!1&&l.content.size){let f=o+1;l.nodesBetween(Math.max(0,e-f),Math.min(l.content.size,r-f),n,i+f)}o=c}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,r,n,i){let s="",a=!0;return this.nodesBetween(e,r,(o,l)=>{let c=o.isText?o.text.slice(Math.max(e,l)-l,r-l):o.isLeaf?i?typeof i=="function"?i(o):i:o.type.spec.leafText?o.type.spec.leafText(o):"":"";o.isBlock&&(o.isLeaf&&c||o.isTextblock)&&n&&(a?a=!1:s+=n),s+=c},0),s}append(e){if(!e.size)return this;if(!this.size)return e;let r=this.lastChild,n=e.firstChild,i=this.content.slice(),s=0;for(r.isText&&r.sameMarkup(n)&&(i[i.length-1]=r.withText(r.text+n.text),s=1);s<e.content.length;s++)i.push(e.content[s]);return new it(i,this.size+e.size)}cut(e,r=this.size){if(e==0&&r==this.size)return this;let n=[],i=0;if(r>e)for(let s=0,a=0;a<r;s++){let o=this.content[s],l=a+o.nodeSize;l>e&&((a<e||l>r)&&(o.isText?o=o.cut(Math.max(0,e-a),Math.min(o.text.length,r-a)):o=o.cut(Math.max(0,e-a-1),Math.min(o.content.size,r-a-1))),n.push(o),i+=o.nodeSize),a=l}return new it(n,i)}cutByIndex(e,r){return e==r?it.empty:e==0&&r==this.content.length?this:new it(this.content.slice(e,r))}replaceChild(e,r){let n=this.content[e];if(n==r)return this;let i=this.content.slice(),s=this.size+r.nodeSize-n.nodeSize;return i[e]=r,new it(i,s)}addToStart(e){return new it([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new it(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let r=0;r<this.content.length;r++)if(!this.content[r].eq(e.content[r]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let r=this.content[e];if(!r)throw new RangeError("Index "+e+" out of range for "+this);return r}maybeChild(e){return this.content[e]||null}forEach(e){for(let r=0,n=0;r<this.content.length;r++){let i=this.content[r];e(i,n,r),n+=i.nodeSize}}findDiffStart(e,r=0){return zD(this,e,r)}findDiffEnd(e,r=this.size,n=e.size){return KD(this,e,r,n)}findIndex(e){if(e==0)return sy(0,e);if(e==this.size)return sy(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let r=0,n=0;;r++){let i=this.child(r),s=n+i.nodeSize;if(s>=e)return s==e?sy(r+1,s):sy(r,n);n=s}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,r){if(!r)return it.empty;if(!Array.isArray(r))throw new RangeError("Invalid input for Fragment.fromJSON");return new it(r.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return it.empty;let r,n=0;for(let i=0;i<e.length;i++){let s=e[i];n+=s.nodeSize,i&&s.isText&&e[i-1].sameMarkup(s)?(r||(r=e.slice(0,i)),r[r.length-1]=s.withText(r[r.length-1].text+s.text)):r&&r.push(s)}return new it(r||e,n)}static from(e){if(!e)return it.empty;if(e instanceof it)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new it([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}it.empty=new it([],0);const k2={index:0,offset:0};function sy(t,e){return k2.index=t,k2.offset=e,k2}function I1(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let r=Array.isArray(t);if(Array.isArray(e)!=r)return!1;if(r){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!I1(t[n],e[n]))return!1}else{for(let n in t)if(!(n in e)||!I1(t[n],e[n]))return!1;for(let n in e)if(!(n in t))return!1}return!0}let fn=class yC{constructor(e,r){this.type=e,this.attrs=r}addToSet(e){let r,n=!1;for(let i=0;i<e.length;i++){let s=e[i];if(this.eq(s))return e;if(this.type.excludes(s.type))r||(r=e.slice(0,i));else{if(s.type.excludes(this.type))return e;!n&&s.type.rank>this.type.rank&&(r||(r=e.slice(0,i)),r.push(this),n=!0),r&&r.push(s)}}return r||(r=e.slice()),n||r.push(this),r}removeFromSet(e){for(let r=0;r<e.length;r++)if(this.eq(e[r]))return e.slice(0,r).concat(e.slice(r+1));return e}isInSet(e){for(let r=0;r<e.length;r++)if(this.eq(e[r]))return!0;return!1}eq(e){return this==e||this.type==e.type&&I1(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let r in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,r){if(!r)throw new RangeError("Invalid input for Mark.fromJSON");let n=e.marks[r.type];if(!n)throw new RangeError(`There is no mark type ${r.type} in this schema`);let i=n.create(r.attrs);return n.checkAttrs(i.attrs),i}static sameSet(e,r){if(e==r)return!0;if(e.length!=r.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].eq(r[n]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return yC.none;if(e instanceof yC)return[e];let r=e.slice();return r.sort((n,i)=>n.type.rank-i.type.rank),r}};fn.none=[];class R1 extends Error{}class pt{constructor(e,r,n){this.content=e,this.openStart=r,this.openEnd=n}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,r){let n=qD(this.content,e+this.openStart,r);return n&&new pt(n,this.openStart,this.openEnd)}removeBetween(e,r){return new pt(VD(this.content,e+this.openStart,r+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,r){if(!r)return pt.empty;let n=r.openStart||0,i=r.openEnd||0;if(typeof n!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new pt(it.fromJSON(e,r.content),n,i)}static maxOpen(e,r=!0){let n=0,i=0;for(let s=e.firstChild;s&&!s.isLeaf&&(r||!s.type.spec.isolating);s=s.firstChild)n++;for(let s=e.lastChild;s&&!s.isLeaf&&(r||!s.type.spec.isolating);s=s.lastChild)i++;return new pt(e,n,i)}}pt.empty=new pt(it.empty,0,0);function VD(t,e,r){let{index:n,offset:i}=t.findIndex(e),s=t.maybeChild(n),{index:a,offset:o}=t.findIndex(r);if(i==e||s.isText){if(o!=r&&!t.child(a).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(r))}if(n!=a)throw new RangeError("Removing non-flat range");return t.replaceChild(n,s.copy(VD(s.content,e-i-1,r-i-1)))}function qD(t,e,r,n){let{index:i,offset:s}=t.findIndex(e),a=t.maybeChild(i);if(s==e||a.isText)return n&&!n.canReplace(i,i,r)?null:t.cut(0,e).append(r).append(t.cut(e));let o=qD(a.content,e-s-1,r,a);return o&&t.replaceChild(i,a.copy(o))}function Xq(t,e,r){if(r.openStart>t.depth)throw new R1("Inserted content deeper than insertion position");if(t.depth-r.openStart!=e.depth-r.openEnd)throw new R1("Inconsistent open depths");return GD(t,e,r,0)}function GD(t,e,r,n){let i=t.index(n),s=t.node(n);if(i==e.index(n)&&n<t.depth-r.openStart){let a=GD(t,e,r,n+1);return s.copy(s.content.replaceChild(i,a))}else if(r.content.size)if(!r.openStart&&!r.openEnd&&t.depth==n&&e.depth==n){let a=t.parent,o=a.content;return Qf(a,o.cut(0,t.parentOffset).append(r.content).append(o.cut(e.parentOffset)))}else{let{start:a,end:o}=Zq(r,t);return Qf(s,$D(t,a,o,e,n))}else return Qf(s,M1(t,e,n))}function WD(t,e){if(!e.type.compatibleContent(t.type))throw new R1("Cannot join "+e.type.name+" onto "+t.type.name)}function wC(t,e,r){let n=t.node(r);return WD(n,e.node(r)),n}function Mf(t,e){let r=e.length-1;r>=0&&t.isText&&t.sameMarkup(e[r])?e[r]=t.withText(e[r].text+t.text):e.push(t)}function Pm(t,e,r,n){let i=(e||t).node(r),s=0,a=e?e.index(r):i.childCount;t&&(s=t.index(r),t.depth>r?s++:t.textOffset&&(Mf(t.nodeAfter,n),s++));for(let o=s;o<a;o++)Mf(i.child(o),n);e&&e.depth==r&&e.textOffset&&Mf(e.nodeBefore,n)}function Qf(t,e){return t.type.checkContent(e),t.copy(e)}function $D(t,e,r,n,i){let s=t.depth>i&&wC(t,e,i+1),a=n.depth>i&&wC(r,n,i+1),o=[];return Pm(null,t,i,o),s&&a&&e.index(i)==r.index(i)?(WD(s,a),Mf(Qf(s,$D(t,e,r,n,i+1)),o)):(s&&Mf(Qf(s,M1(t,e,i+1)),o),Pm(e,r,i,o),a&&Mf(Qf(a,M1(r,n,i+1)),o)),Pm(n,null,i,o),new it(o)}function M1(t,e,r){let n=[];if(Pm(null,t,r,n),t.depth>r){let i=wC(t,e,r+1);Mf(Qf(i,M1(t,e,r+1)),n)}return Pm(e,null,r,n),new it(n)}function Zq(t,e){let r=e.depth-t.openStart,i=e.node(r).copy(t.content);for(let s=r-1;s>=0;s--)i=e.node(s).copy(it.from(i));return{start:i.resolveNoCache(t.openStart+r),end:i.resolveNoCache(i.content.size-t.openEnd-r)}}class yg{constructor(e,r,n){this.pos=e,this.path=r,this.parentOffset=n,this.depth=r.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,r=this.index(this.depth);if(r==e.childCount)return null;let n=this.pos-this.path[this.path.length-1],i=e.child(r);return n?e.child(r).cut(n):i}get nodeBefore(){let e=this.index(this.depth),r=this.pos-this.path[this.path.length-1];return r?this.parent.child(e).cut(0,r):e==0?null:this.parent.child(e-1)}posAtIndex(e,r){r=this.resolveDepth(r);let n=this.path[r*3],i=r==0?0:this.path[r*3-1]+1;for(let s=0;s<e;s++)i+=n.child(s).nodeSize;return i}marks(){let e=this.parent,r=this.index();if(e.content.size==0)return fn.none;if(this.textOffset)return e.child(r).marks;let n=e.maybeChild(r-1),i=e.maybeChild(r);if(!n){let o=n;n=i,i=o}let s=n.marks;for(var a=0;a<s.length;a++)s[a].type.spec.inclusive===!1&&(!i||!s[a].isInSet(i.marks))&&(s=s[a--].removeFromSet(s));return s}marksAcross(e){let r=this.parent.maybeChild(this.index());if(!r||!r.isInline)return null;let n=r.marks,i=e.parent.maybeChild(e.index());for(var s=0;s<n.length;s++)n[s].type.spec.inclusive===!1&&(!i||!n[s].isInSet(i.marks))&&(n=n[s--].removeFromSet(n));return n}sharedDepth(e){for(let r=this.depth;r>0;r--)if(this.start(r)<=e&&this.end(r)>=e)return r;return 0}blockRange(e=this,r){if(e.pos<this.pos)return e.blockRange(this);for(let n=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);n>=0;n--)if(e.pos<=this.end(n)&&(!r||r(this.node(n))))return new Q1(this,e,n);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let r=1;r<=this.depth;r++)e+=(e?"/":"")+this.node(r).type.name+"_"+this.index(r-1);return e+":"+this.parentOffset}static resolve(e,r){if(!(r>=0&&r<=e.content.size))throw new RangeError("Position "+r+" out of range");let n=[],i=0,s=r;for(let a=e;;){let{index:o,offset:l}=a.content.findIndex(s),c=s-l;if(n.push(a,o,i+l),!c||(a=a.child(o),a.isText))break;s=c-1,i+=l+1}return new yg(r,n,s)}static resolveCached(e,r){let n=a3.get(e);if(n)for(let s=0;s<n.elts.length;s++){let a=n.elts[s];if(a.pos==r)return a}else a3.set(e,n=new eG);let i=n.elts[n.i]=yg.resolve(e,r);return n.i=(n.i+1)%tG,i}}class eG{constructor(){this.elts=[],this.i=0}}const tG=12,a3=new WeakMap;class Q1{constructor(e,r,n){this.$from=e,this.$to=r,this.depth=n}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const rG=Object.create(null);let gu=class vC{constructor(e,r,n,i=fn.none){this.type=e,this.attrs=r,this.marks=i,this.content=n||it.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,r,n,i=0){this.content.nodesBetween(e,r,n,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,r,n,i){return this.content.textBetween(e,r,n,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,r,n){return this.type==e&&I1(this.attrs,r||e.defaultAttrs||rG)&&fn.sameSet(this.marks,n||fn.none)}copy(e=null){return e==this.content?this:new vC(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new vC(this.type,this.attrs,this.content,e)}cut(e,r=this.content.size){return e==0&&r==this.content.size?this:this.copy(this.content.cut(e,r))}slice(e,r=this.content.size,n=!1){if(e==r)return pt.empty;let i=this.resolve(e),s=this.resolve(r),a=n?0:i.sharedDepth(r),o=i.start(a),c=i.node(a).content.cut(i.pos-o,s.pos-o);return new pt(c,i.depth-a,s.depth-a)}replace(e,r,n){return Xq(this.resolve(e),this.resolve(r),n)}nodeAt(e){for(let r=this;;){let{index:n,offset:i}=r.content.findIndex(e);if(r=r.maybeChild(n),!r)return null;if(i==e||r.isText)return r;e-=i+1}}childAfter(e){let{index:r,offset:n}=this.content.findIndex(e);return{node:this.content.maybeChild(r),index:r,offset:n}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:r,offset:n}=this.content.findIndex(e);if(n<e)return{node:this.content.child(r),index:r,offset:n};let i=this.content.child(r-1);return{node:i,index:r-1,offset:n-i.nodeSize}}resolve(e){return yg.resolveCached(this,e)}resolveNoCache(e){return yg.resolve(this,e)}rangeHasMark(e,r,n){let i=!1;return r>e&&this.nodesBetween(e,r,s=>(n.isInSet(s.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),YD(this.marks,e)}contentMatchAt(e){let r=this.type.contentMatch.matchFragment(this.content,0,e);if(!r)throw new Error("Called contentMatchAt on a node with invalid content");return r}canReplace(e,r,n=it.empty,i=0,s=n.childCount){let a=this.contentMatchAt(e).matchFragment(n,i,s),o=a&&a.matchFragment(this.content,r);if(!o||!o.validEnd)return!1;for(let l=i;l<s;l++)if(!this.type.allowsMarks(n.child(l).marks))return!1;return!0}canReplaceWith(e,r,n,i){if(i&&!this.type.allowsMarks(i))return!1;let s=this.contentMatchAt(e).matchType(n),a=s&&s.matchFragment(this.content,r);return a?a.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=fn.none;for(let r=0;r<this.marks.length;r++){let n=this.marks[r];n.type.checkAttrs(n.attrs),e=n.addToSet(e)}if(!fn.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(r=>r.type.name)}`);this.content.forEach(r=>r.check())}toJSON(){let e={type:this.type.name};for(let r in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(r=>r.toJSON())),e}static fromJSON(e,r){if(!r)throw new RangeError("Invalid input for Node.fromJSON");let n;if(r.marks){if(!Array.isArray(r.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=r.marks.map(e.markFromJSON)}if(r.type=="text"){if(typeof r.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(r.text,n)}let i=it.fromJSON(e,r.content),s=e.nodeType(r.type).create(r.attrs,i,n);return s.type.checkAttrs(s.attrs),s}};gu.prototype.text=void 0;class H1 extends gu{constructor(e,r,n,i){if(super(e,r,null,i),!n)throw new RangeError("Empty text nodes are not allowed");this.text=n}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):YD(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,r){return this.text.slice(e,r)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new H1(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new H1(this.type,this.attrs,e,this.marks)}cut(e=0,r=this.text.length){return e==0&&r==this.text.length?this:this.withText(this.text.slice(e,r))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function YD(t,e){for(let r=t.length-1;r>=0;r--)e=t[r].type.name+"("+e+")";return e}class qf{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,r){let n=new nG(e,r);if(n.next==null)return qf.empty;let i=JD(n);n.next&&n.err("Unexpected trailing text");let s=cG(AG(i));return uG(s,n),s}matchType(e){for(let r=0;r<this.next.length;r++)if(this.next[r].type==e)return this.next[r].next;return null}matchFragment(e,r=0,n=e.childCount){let i=this;for(let s=r;i&&s<n;s++)i=i.matchType(e.child(s).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:r}=this.next[e];if(!(r.isText||r.hasRequiredAttrs()))return r}return null}compatible(e){for(let r=0;r<this.next.length;r++)for(let n=0;n<e.next.length;n++)if(this.next[r].type==e.next[n].type)return!0;return!1}fillBefore(e,r=!1,n=0){let i=[this];function s(a,o){let l=a.matchFragment(e,n);if(l&&(!r||l.validEnd))return it.from(o.map(c=>c.createAndFill()));for(let c=0;c<a.next.length;c++){let{type:f,next:h}=a.next[c];if(!(f.isText||f.hasRequiredAttrs())&&i.indexOf(h)==-1){i.push(h);let m=s(h,o.concat(f));if(m)return m}}return null}return s(this,[])}findWrapping(e){for(let n=0;n<this.wrapCache.length;n+=2)if(this.wrapCache[n]==e)return this.wrapCache[n+1];let r=this.computeWrapping(e);return this.wrapCache.push(e,r),r}computeWrapping(e){let r=Object.create(null),n=[{match:this,type:null,via:null}];for(;n.length;){let i=n.shift(),s=i.match;if(s.matchType(e)){let a=[];for(let o=i;o.type;o=o.via)a.push(o.type);return a.reverse()}for(let a=0;a<s.next.length;a++){let{type:o,next:l}=s.next[a];!o.isLeaf&&!o.hasRequiredAttrs()&&!(o.name in r)&&(!i.type||l.validEnd)&&(n.push({match:o.contentMatch,type:o,via:i}),r[o.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function r(n){e.push(n);for(let i=0;i<n.next.length;i++)e.indexOf(n.next[i].next)==-1&&r(n.next[i].next)}return r(this),e.map((n,i)=>{let s=i+(n.validEnd?"*":" ")+" ";for(let a=0;a<n.next.length;a++)s+=(a?", ":"")+n.next[a].type.name+"->"+e.indexOf(n.next[a].next);return s}).join(`
`)}}qf.empty=new qf(!0);class nG{constructor(e,r){this.string=e,this.nodeTypes=r,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function JD(t){let e=[];do e.push(iG(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function iG(t){let e=[];do e.push(sG(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function sG(t){let e=lG(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=aG(t,e);else break;return e}function o3(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function aG(t,e){let r=o3(t),n=r;return t.eat(",")&&(t.next!="}"?n=o3(t):n=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:r,max:n,expr:e}}function oG(t,e){let r=t.nodeTypes,n=r[e];if(n)return[n];let i=[];for(let s in r){let a=r[s];a.isInGroup(e)&&i.push(a)}return i.length==0&&t.err("No node type or group '"+e+"' found"),i}function lG(t){if(t.eat("(")){let e=JD(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=oG(t,t.next).map(r=>(t.inline==null?t.inline=r.isInline:t.inline!=r.isInline&&t.err("Mixing inline and block content"),{type:"name",value:r}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function AG(t){let e=[[]];return i(s(t,0),r()),e;function r(){return e.push([])-1}function n(a,o,l){let c={term:l,to:o};return e[a].push(c),c}function i(a,o){a.forEach(l=>l.to=o)}function s(a,o){if(a.type=="choice")return a.exprs.reduce((l,c)=>l.concat(s(c,o)),[]);if(a.type=="seq")for(let l=0;;l++){let c=s(a.exprs[l],o);if(l==a.exprs.length-1)return c;i(c,o=r())}else if(a.type=="star"){let l=r();return n(o,l),i(s(a.expr,l),l),[n(l)]}else if(a.type=="plus"){let l=r();return i(s(a.expr,o),l),i(s(a.expr,l),l),[n(l)]}else{if(a.type=="opt")return[n(o)].concat(s(a.expr,o));if(a.type=="range"){let l=o;for(let c=0;c<a.min;c++){let f=r();i(s(a.expr,l),f),l=f}if(a.max==-1)i(s(a.expr,l),l);else for(let c=a.min;c<a.max;c++){let f=r();n(l,f),i(s(a.expr,l),f),l=f}return[n(l)]}else{if(a.type=="name")return[n(o,void 0,a.value)];throw new Error("Unknown expr type")}}}}function XD(t,e){return e-t}function l3(t,e){let r=[];return n(e),r.sort(XD);function n(i){let s=t[i];if(s.length==1&&!s[0].term)return n(s[0].to);r.push(i);for(let a=0;a<s.length;a++){let{term:o,to:l}=s[a];!o&&r.indexOf(l)==-1&&n(l)}}}function cG(t){let e=Object.create(null);return r(l3(t,0));function r(n){let i=[];n.forEach(a=>{t[a].forEach(({term:o,to:l})=>{if(!o)return;let c;for(let f=0;f<i.length;f++)i[f][0]==o&&(c=i[f][1]);l3(t,l).forEach(f=>{c||i.push([o,c=[]]),c.indexOf(f)==-1&&c.push(f)})})});let s=e[n.join(",")]=new qf(n.indexOf(t.length-1)>-1);for(let a=0;a<i.length;a++){let o=i[a][1].sort(XD);s.next.push({type:i[a][0],next:e[o.join(",")]||r(o)})}return s}}function uG(t,e){for(let r=0,n=[t];r<n.length;r++){let i=n[r],s=!i.validEnd,a=[];for(let o=0;o<i.next.length;o++){let{type:l,next:c}=i.next[o];a.push(l.name),s&&!(l.isText||l.hasRequiredAttrs())&&(s=!1),n.indexOf(c)==-1&&n.push(c)}s&&e.err("Only non-generatable nodes ("+a.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function ZD(t){let e=Object.create(null);for(let r in t){let n=t[r];if(!n.hasDefault)return null;e[r]=n.default}return e}function eI(t,e){let r=Object.create(null);for(let n in t){let i=e&&e[n];if(i===void 0){let s=t[n];if(s.hasDefault)i=s.default;else throw new RangeError("No value supplied for attribute "+n)}r[n]=i}return r}function tI(t,e,r,n){for(let i in e)if(!(i in t))throw new RangeError(`Unsupported attribute ${i} for ${r} of type ${i}`);for(let i in t){let s=t[i];s.validate&&s.validate(e[i])}}function rI(t,e){let r=Object.create(null);if(e)for(let n in e)r[n]=new hG(t,n,e[n]);return r}let A3=class nI{constructor(e,r,n){this.name=e,this.schema=r,this.spec=n,this.markSet=null,this.groups=n.group?n.group.split(" "):[],this.attrs=rI(e,n.attrs),this.defaultAttrs=ZD(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(n.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==qf.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:eI(this.attrs,e)}create(e=null,r,n){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new gu(this,this.computeAttrs(e),it.from(r),fn.setFrom(n))}createChecked(e=null,r,n){return r=it.from(r),this.checkContent(r),new gu(this,this.computeAttrs(e),r,fn.setFrom(n))}createAndFill(e=null,r,n){if(e=this.computeAttrs(e),r=it.from(r),r.size){let a=this.contentMatch.fillBefore(r);if(!a)return null;r=a.append(r)}let i=this.contentMatch.matchFragment(r),s=i&&i.fillBefore(it.empty,!0);return s?new gu(this,e,r.append(s),fn.setFrom(n)):null}validContent(e){let r=this.contentMatch.matchFragment(e);if(!r||!r.validEnd)return!1;for(let n=0;n<e.childCount;n++)if(!this.allowsMarks(e.child(n).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){tI(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let r=0;r<e.length;r++)if(!this.allowsMarkType(e[r].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let r;for(let n=0;n<e.length;n++)this.allowsMarkType(e[n].type)?r&&r.push(e[n]):r||(r=e.slice(0,n));return r?r.length?r:fn.none:e}static compile(e,r){let n=Object.create(null);e.forEach((s,a)=>n[s]=new nI(s,r,a));let i=r.spec.topNode||"doc";if(!n[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!n.text)throw new RangeError("Every schema needs a 'text' type");for(let s in n.text.attrs)throw new RangeError("The text node type should not have attributes");return n}};function fG(t,e,r){let n=r.split("|");return i=>{let s=i===null?"null":typeof i;if(n.indexOf(s)<0)throw new RangeError(`Expected value of type ${n} for attribute ${e} on type ${t}, got ${s}`)}}class hG{constructor(e,r,n){this.hasDefault=Object.prototype.hasOwnProperty.call(n,"default"),this.default=n.default,this.validate=typeof n.validate=="string"?fG(e,r,n.validate):n.validate}get isRequired(){return!this.hasDefault}}class nv{constructor(e,r,n,i){this.name=e,this.rank=r,this.schema=n,this.spec=i,this.attrs=rI(e,i.attrs),this.excluded=null;let s=ZD(this.attrs);this.instance=s?new fn(this,s):null}create(e=null){return!e&&this.instance?this.instance:new fn(this,eI(this.attrs,e))}static compile(e,r){let n=Object.create(null),i=0;return e.forEach((s,a)=>n[s]=new nv(s,i++,r,a)),n}removeFromSet(e){for(var r=0;r<e.length;r++)e[r].type==this&&(e=e.slice(0,r).concat(e.slice(r+1)),r--);return e}isInSet(e){for(let r=0;r<e.length;r++)if(e[r].type==this)return e[r]}checkAttrs(e){tI(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class iI{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let r=this.spec={};for(let i in e)r[i]=e[i];r.nodes=ys.from(e.nodes),r.marks=ys.from(e.marks||{}),this.nodes=A3.compile(this.spec.nodes,this),this.marks=nv.compile(this.spec.marks,this);let n=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let s=this.nodes[i],a=s.spec.content||"",o=s.spec.marks;if(s.contentMatch=n[a]||(n[a]=qf.parse(a,this.nodes)),s.inlineContent=s.contentMatch.inlineContent,s.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!s.isInline||!s.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=s}s.markSet=o=="_"?null:o?c3(this,o.split(" ")):o==""||!s.inlineContent?[]:null}for(let i in this.marks){let s=this.marks[i],a=s.spec.excludes;s.excluded=a==null?[s]:a==""?[]:c3(this,a.split(" "))}this.nodeFromJSON=i=>gu.fromJSON(this,i),this.markFromJSON=i=>fn.fromJSON(this,i),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,r=null,n,i){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof A3){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(r,n,i)}text(e,r){let n=this.nodes.text;return new H1(n,n.defaultAttrs,e,fn.setFrom(r))}mark(e,r){return typeof e=="string"&&(e=this.marks[e]),e.create(r)}nodeType(e){let r=this.nodes[e];if(!r)throw new RangeError("Unknown node type: "+e);return r}}function c3(t,e){let r=[];for(let n=0;n<e.length;n++){let i=e[n],s=t.marks[i],a=s;if(s)r.push(s);else for(let o in t.marks){let l=t.marks[o];(i=="_"||l.spec.group&&l.spec.group.split(" ").indexOf(i)>-1)&&r.push(a=l)}if(!a)throw new SyntaxError("Unknown mark type: '"+e[n]+"'")}return r}function dG(t){return t.tag!=null}function pG(t){return t.style!=null}let zm=class bC{constructor(e,r){this.schema=e,this.rules=r,this.tags=[],this.styles=[];let n=this.matchedStyles=[];r.forEach(i=>{if(dG(i))this.tags.push(i);else if(pG(i)){let s=/[^=]*/.exec(i.style)[0];n.indexOf(s)<0&&n.push(s),this.styles.push(i)}}),this.normalizeLists=!this.tags.some(i=>{if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;let s=e.nodes[i.node];return s.contentMatch.matchType(s)})}parse(e,r={}){let n=new f3(this,r,!1);return n.addAll(e,fn.none,r.from,r.to),n.finish()}parseSlice(e,r={}){let n=new f3(this,r,!0);return n.addAll(e,fn.none,r.from,r.to),pt.maxOpen(n.finish())}matchTag(e,r,n){for(let i=n?this.tags.indexOf(n)+1:0;i<this.tags.length;i++){let s=this.tags[i];if(yG(e,s.tag)&&(s.namespace===void 0||e.namespaceURI==s.namespace)&&(!s.context||r.matchesContext(s.context))){if(s.getAttrs){let a=s.getAttrs(e);if(a===!1)continue;s.attrs=a||void 0}return s}}}matchStyle(e,r,n,i){for(let s=i?this.styles.indexOf(i)+1:0;s<this.styles.length;s++){let a=this.styles[s],o=a.style;if(!(o.indexOf(e)!=0||a.context&&!n.matchesContext(a.context)||o.length>e.length&&(o.charCodeAt(e.length)!=61||o.slice(e.length+1)!=r))){if(a.getAttrs){let l=a.getAttrs(r);if(l===!1)continue;a.attrs=l||void 0}return a}}}static schemaRules(e){let r=[];function n(i){let s=i.priority==null?50:i.priority,a=0;for(;a<r.length;a++){let o=r[a];if((o.priority==null?50:o.priority)<s)break}r.splice(a,0,i)}for(let i in e.marks){let s=e.marks[i].spec.parseDOM;s&&s.forEach(a=>{n(a=h3(a)),a.mark||a.ignore||a.clearMark||(a.mark=i)})}for(let i in e.nodes){let s=e.nodes[i].spec.parseDOM;s&&s.forEach(a=>{n(a=h3(a)),a.node||a.ignore||a.mark||(a.node=i)})}return r}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new bC(e,bC.schemaRules(e)))}};const sI={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},mG={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},aI={ol:!0,ul:!0},wg=1,xC=2,Km=4;function u3(t,e,r){return e!=null?(e?wg:0)|(e==="full"?xC:0):t&&t.whitespace=="pre"?wg|xC:r&~Km}class ay{constructor(e,r,n,i,s,a){this.type=e,this.attrs=r,this.marks=n,this.solid=i,this.options=a,this.content=[],this.activeMarks=fn.none,this.match=s||(a&Km?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let r=this.type.contentMatch.fillBefore(it.from(e));if(r)this.match=this.type.contentMatch.matchFragment(r);else{let n=this.type.contentMatch,i;return(i=n.findWrapping(e.type))?(this.match=n,i):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&wg)){let n=this.content[this.content.length-1],i;if(n&&n.isText&&(i=/[ \t\r\n\u000c]+$/.exec(n.text))){let s=n;n.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=s.withText(s.text.slice(0,s.text.length-i[0].length))}}let r=it.from(this.content);return!e&&this.match&&(r=r.append(this.match.fillBefore(it.empty,!0))),this.type?this.type.create(this.attrs,r,this.marks):r}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!sI.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class f3{constructor(e,r,n){this.parser=e,this.options=r,this.isOpen=n,this.open=0,this.localPreserveWS=!1;let i=r.topNode,s,a=u3(null,r.preserveWhitespace,0)|(n?Km:0);i?s=new ay(i.type,i.attrs,fn.none,!0,r.topMatch||i.type.contentMatch,a):n?s=new ay(null,null,fn.none,!0,null,a):s=new ay(e.schema.topNodeType,null,fn.none,!0,null,a),this.nodes=[s],this.find=r.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,r){e.nodeType==3?this.addTextNode(e,r):e.nodeType==1&&this.addElement(e,r)}addTextNode(e,r){let n=e.nodeValue,i=this.top,s=i.options&xC?"full":this.localPreserveWS||(i.options&wg)>0,{schema:a}=this.parser;if(s==="full"||i.inlineContext(e)||/[^ \t\r\n\u000c]/.test(n)){if(s)if(s==="full")n=n.replace(/\r\n?/g,`
`);else if(a.linebreakReplacement&&/[\r\n]/.test(n)&&this.top.findWrapping(a.linebreakReplacement.create())){let o=n.split(/\r?\n|\r/);for(let l=0;l<o.length;l++)l&&this.insertNode(a.linebreakReplacement.create(),r,!0),o[l]&&this.insertNode(a.text(o[l]),r,!/\S/.test(o[l]));n=""}else n=n.replace(/\r?\n|\r/g," ");else if(n=n.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(n)&&this.open==this.nodes.length-1){let o=i.content[i.content.length-1],l=e.previousSibling;(!o||l&&l.nodeName=="BR"||o.isText&&/[ \t\r\n\u000c]$/.test(o.text))&&(n=n.slice(1))}n&&this.insertNode(a.text(n),r,!/\S/.test(n)),this.findInText(e)}else this.findInside(e)}addElement(e,r,n){let i=this.localPreserveWS,s=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let a=e.nodeName.toLowerCase(),o;aI.hasOwnProperty(a)&&this.parser.normalizeLists&&gG(e);let l=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(o=this.parser.matchTag(e,this,n));e:if(l?l.ignore:mG.hasOwnProperty(a))this.findInside(e),this.ignoreFallback(e,r);else if(!l||l.skip||l.closeParent){l&&l.closeParent?this.open=Math.max(0,this.open-1):l&&l.skip.nodeType&&(e=l.skip);let c,f=this.needsBlock;if(sI.hasOwnProperty(a))s.content.length&&s.content[0].isInline&&this.open&&(this.open--,s=this.top),c=!0,s.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,r);break e}let h=l&&l.skip?r:this.readStyles(e,r);h&&this.addAll(e,h),c&&this.sync(s),this.needsBlock=f}else{let c=this.readStyles(e,r);c&&this.addElementByRule(e,l,c,l.consuming===!1?o:void 0)}this.localPreserveWS=i}leafFallback(e,r){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),r)}ignoreFallback(e,r){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),r,!0)}readStyles(e,r){let n=e.style;if(n&&n.length)for(let i=0;i<this.parser.matchedStyles.length;i++){let s=this.parser.matchedStyles[i],a=n.getPropertyValue(s);if(a)for(let o=void 0;;){let l=this.parser.matchStyle(s,a,this,o);if(!l)break;if(l.ignore)return null;if(l.clearMark?r=r.filter(c=>!l.clearMark(c)):r=r.concat(this.parser.schema.marks[l.mark].create(l.attrs)),l.consuming===!1)o=l;else break}}return r}addElementByRule(e,r,n,i){let s,a;if(r.node)if(a=this.parser.schema.nodes[r.node],a.isLeaf)this.insertNode(a.create(r.attrs),n,e.nodeName=="BR")||this.leafFallback(e,n);else{let l=this.enter(a,r.attrs||null,n,r.preserveWhitespace);l&&(s=!0,n=l)}else{let l=this.parser.schema.marks[r.mark];n=n.concat(l.create(r.attrs))}let o=this.top;if(a&&a.isLeaf)this.findInside(e);else if(i)this.addElement(e,n,i);else if(r.getContent)this.findInside(e),r.getContent(e,this.parser.schema).forEach(l=>this.insertNode(l,n,!1));else{let l=e;typeof r.contentElement=="string"?l=e.querySelector(r.contentElement):typeof r.contentElement=="function"?l=r.contentElement(e):r.contentElement&&(l=r.contentElement),this.findAround(e,l,!0),this.addAll(l,n),this.findAround(e,l,!1)}s&&this.sync(o)&&this.open--}addAll(e,r,n,i){let s=n||0;for(let a=n?e.childNodes[n]:e.firstChild,o=i==null?null:e.childNodes[i];a!=o;a=a.nextSibling,++s)this.findAtPoint(e,s),this.addDOM(a,r);this.findAtPoint(e,s)}findPlace(e,r,n){let i,s;for(let a=this.open,o=0;a>=0;a--){let l=this.nodes[a],c=l.findWrapping(e);if(c&&(!i||i.length>c.length+o)&&(i=c,s=l,!c.length))break;if(l.solid){if(n)break;o+=2}}if(!i)return null;this.sync(s);for(let a=0;a<i.length;a++)r=this.enterInner(i[a],null,r,!1);return r}insertNode(e,r,n){if(e.isInline&&this.needsBlock&&!this.top.type){let s=this.textblockFromContext();s&&(r=this.enterInner(s,null,r))}let i=this.findPlace(e,r,n);if(i){this.closeExtra();let s=this.top;s.match&&(s.match=s.match.matchType(e.type));let a=fn.none;for(let o of i.concat(e.marks))(s.type?s.type.allowsMarkType(o.type):d3(o.type,e.type))&&(a=o.addToSet(a));return s.content.push(e.mark(a)),!0}return!1}enter(e,r,n,i){let s=this.findPlace(e.create(r),n,!1);return s&&(s=this.enterInner(e,r,n,!0,i)),s}enterInner(e,r,n,i=!1,s){this.closeExtra();let a=this.top;a.match=a.match&&a.match.matchType(e);let o=u3(e,s,a.options);a.options&Km&&a.content.length==0&&(o|=Km);let l=fn.none;return n=n.filter(c=>(a.type?a.type.allowsMarkType(c.type):d3(c.type,e))?(l=c.addToSet(l),!1):!0),this.nodes.push(new ay(e,r,l,i,null,o)),this.open++,n}closeExtra(e=!1){let r=this.nodes.length-1;if(r>this.open){for(;r>this.open;r--)this.nodes[r-1].content.push(this.nodes[r].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let r=this.open;r>=0;r--){if(this.nodes[r]==e)return this.open=r,!0;this.localPreserveWS&&(this.nodes[r].options|=wg)}return!1}get currentPos(){this.closeExtra();let e=0;for(let r=this.open;r>=0;r--){let n=this.nodes[r].content;for(let i=n.length-1;i>=0;i--)e+=n[i].nodeSize;r&&e++}return e}findAtPoint(e,r){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&this.find[n].offset==r&&(this.find[n].pos=this.currentPos)}findInside(e){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].pos==null&&e.nodeType==1&&e.contains(this.find[r].node)&&(this.find[r].pos=this.currentPos)}findAround(e,r,n){if(e!=r&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)&&r.compareDocumentPosition(this.find[i].node)&(n?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&(this.find[r].pos=this.currentPos-(e.nodeValue.length-this.find[r].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let r=e.split("/"),n=this.options.context,i=!this.isOpen&&(!n||n.parent.type==this.nodes[0].type),s=-(n?n.depth+1:0)+(i?0:1),a=(o,l)=>{for(;o>=0;o--){let c=r[o];if(c==""){if(o==r.length-1||o==0)continue;for(;l>=s;l--)if(a(o-1,l))return!0;return!1}else{let f=l>0||l==0&&i?this.nodes[l].type:n&&l>=s?n.node(l-s).type:null;if(!f||f.name!=c&&!f.isInGroup(c))return!1;l--}}return!0};return a(r.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let r=e.depth;r>=0;r--){let n=e.node(r).contentMatchAt(e.indexAfter(r)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(let r in this.parser.schema.nodes){let n=this.parser.schema.nodes[r];if(n.isTextblock&&n.defaultAttrs)return n}}}function gG(t){for(let e=t.firstChild,r=null;e;e=e.nextSibling){let n=e.nodeType==1?e.nodeName.toLowerCase():null;n&&aI.hasOwnProperty(n)&&r?(r.appendChild(e),e=r):n=="li"?r=e:n&&(r=null)}}function yG(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function h3(t){let e={};for(let r in t)e[r]=t[r];return e}function d3(t,e){let r=e.schema.nodes;for(let n in r){let i=r[n];if(!i.allowsMarkType(t))continue;let s=[],a=o=>{s.push(o);for(let l=0;l<o.edgeCount;l++){let{type:c,next:f}=o.edge(l);if(c==e||s.indexOf(f)<0&&a(f))return!0}};if(a(i.contentMatch))return!0}}class nh{constructor(e,r){this.nodes=e,this.marks=r}serializeFragment(e,r={},n){n||(n=T2(r).createDocumentFragment());let i=n,s=[];return e.forEach(a=>{if(s.length||a.marks.length){let o=0,l=0;for(;o<s.length&&l<a.marks.length;){let c=a.marks[l];if(!this.marks[c.type.name]){l++;continue}if(!c.eq(s[o][0])||c.type.spec.spanning===!1)break;o++,l++}for(;o<s.length;)i=s.pop()[1];for(;l<a.marks.length;){let c=a.marks[l++],f=this.serializeMark(c,a.isInline,r);f&&(s.push([c,i]),i.appendChild(f.dom),i=f.contentDOM||f.dom)}}i.appendChild(this.serializeNodeInner(a,r))}),n}serializeNodeInner(e,r){let{dom:n,contentDOM:i}=f1(T2(r),this.nodes[e.type.name](e),null,e.attrs);if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,r,i)}return n}serializeNode(e,r={}){let n=this.serializeNodeInner(e,r);for(let i=e.marks.length-1;i>=0;i--){let s=this.serializeMark(e.marks[i],e.isInline,r);s&&((s.contentDOM||s.dom).appendChild(n),n=s.dom)}return n}serializeMark(e,r,n={}){let i=this.marks[e.type.name];return i&&f1(T2(n),i(e,r),null,e.attrs)}static renderSpec(e,r,n=null,i){return f1(e,r,n,i)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new nh(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let r=p3(e.nodes);return r.text||(r.text=n=>n.text),r}static marksFromSchema(e){return p3(e.marks)}}function p3(t){let e={};for(let r in t){let n=t[r].spec.toDOM;n&&(e[r]=n)}return e}function T2(t){return t.document||window.document}const m3=new WeakMap;function wG(t){let e=m3.get(t);return e===void 0&&m3.set(t,e=vG(t)),e}function vG(t){let e=null;function r(n){if(n&&typeof n=="object")if(Array.isArray(n))if(typeof n[0]=="string")e||(e=[]),e.push(n);else for(let i=0;i<n.length;i++)r(n[i]);else for(let i in n)r(n[i])}return r(t),e}function f1(t,e,r,n){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let i=e[0],s;if(typeof i!="string")throw new RangeError("Invalid array passed to renderSpec");if(n&&(s=wG(n))&&s.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let a=i.indexOf(" ");a>0&&(r=i.slice(0,a),i=i.slice(a+1));let o,l=r?t.createElementNS(r,i):t.createElement(i),c=e[1],f=1;if(c&&typeof c=="object"&&c.nodeType==null&&!Array.isArray(c)){f=2;for(let h in c)if(c[h]!=null){let m=h.indexOf(" ");m>0?l.setAttributeNS(h.slice(0,m),h.slice(m+1),c[h]):h=="style"&&l.style?l.style.cssText=c[h]:l.setAttribute(h,c[h])}}for(let h=f;h<e.length;h++){let m=e[h];if(m===0){if(h<e.length-1||h>f)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}else{let{dom:d,contentDOM:g}=f1(t,m,r,n);if(l.appendChild(d),g){if(o)throw new RangeError("Multiple content holes");o=g}}}return{dom:l,contentDOM:o}}const oI=65535,lI=Math.pow(2,16);function bG(t,e){return t+e*lI}function g3(t){return t&oI}function xG(t){return(t-(t&oI))/lI}const AI=1,cI=2,h1=4,uI=8;class BC{constructor(e,r,n){this.pos=e,this.delInfo=r,this.recover=n}get deleted(){return(this.delInfo&uI)>0}get deletedBefore(){return(this.delInfo&(AI|h1))>0}get deletedAfter(){return(this.delInfo&(cI|h1))>0}get deletedAcross(){return(this.delInfo&h1)>0}}class za{constructor(e,r=!1){if(this.ranges=e,this.inverted=r,!e.length&&za.empty)return za.empty}recover(e){let r=0,n=g3(e);if(!this.inverted)for(let i=0;i<n;i++)r+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[n*3]+r+xG(e)}mapResult(e,r=1){return this._map(e,r,!1)}map(e,r=1){return this._map(e,r,!0)}_map(e,r,n){let i=0,s=this.inverted?2:1,a=this.inverted?1:2;for(let o=0;o<this.ranges.length;o+=3){let l=this.ranges[o]-(this.inverted?i:0);if(l>e)break;let c=this.ranges[o+s],f=this.ranges[o+a],h=l+c;if(e<=h){let m=c?e==l?-1:e==h?1:r:r,d=l+i+(m<0?0:f);if(n)return d;let g=e==(r<0?l:h)?null:bG(o/3,e-l),v=e==l?cI:e==h?AI:h1;return(r<0?e!=l:e!=h)&&(v|=uI),new BC(d,v,g)}i+=f-c}return n?e+i:new BC(e+i,0,null)}touches(e,r){let n=0,i=g3(r),s=this.inverted?2:1,a=this.inverted?1:2;for(let o=0;o<this.ranges.length;o+=3){let l=this.ranges[o]-(this.inverted?n:0);if(l>e)break;let c=this.ranges[o+s],f=l+c;if(e<=f&&o==i*3)return!0;n+=this.ranges[o+a]-c}return!1}forEach(e){let r=this.inverted?2:1,n=this.inverted?1:2;for(let i=0,s=0;i<this.ranges.length;i+=3){let a=this.ranges[i],o=a-(this.inverted?s:0),l=a+(this.inverted?0:s),c=this.ranges[i+r],f=this.ranges[i+n];e(o,o+c,l,l+f),s+=f-c}}invert(){return new za(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?za.empty:new za(e<0?[0,-e,0]:[0,0,e])}}za.empty=new za([]);class vg{constructor(e,r,n=0,i=e?e.length:0){this.mirror=r,this.from=n,this.to=i,this._maps=e||[],this.ownData=!(e||r)}get maps(){return this._maps}slice(e=0,r=this.maps.length){return new vg(this._maps,this.mirror,e,r)}appendMap(e,r){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),r!=null&&this.setMirror(this._maps.length-1,r)}appendMapping(e){for(let r=0,n=this._maps.length;r<e._maps.length;r++){let i=e.getMirror(r);this.appendMap(e._maps[r],i!=null&&i<r?n+i:void 0)}}getMirror(e){if(this.mirror){for(let r=0;r<this.mirror.length;r++)if(this.mirror[r]==e)return this.mirror[r+(r%2?-1:1)]}}setMirror(e,r){this.mirror||(this.mirror=[]),this.mirror.push(e,r)}appendMappingInverted(e){for(let r=e.maps.length-1,n=this._maps.length+e._maps.length;r>=0;r--){let i=e.getMirror(r);this.appendMap(e._maps[r].invert(),i!=null&&i>r?n-i-1:void 0)}}invert(){let e=new vg;return e.appendMappingInverted(this),e}map(e,r=1){if(this.mirror)return this._map(e,r,!0);for(let n=this.from;n<this.to;n++)e=this._maps[n].map(e,r);return e}mapResult(e,r=1){return this._map(e,r,!1)}_map(e,r,n){let i=0;for(let s=this.from;s<this.to;s++){let a=this._maps[s],o=a.mapResult(e,r);if(o.recover!=null){let l=this.getMirror(s);if(l!=null&&l>s&&l<this.to){s=l,e=this._maps[l].recover(o.recover);continue}}i|=o.delInfo,e=o.pos}return n?e:new BC(e,i,null)}}const N2=Object.create(null);class Qs{getMap(){return za.empty}merge(e){return null}static fromJSON(e,r){if(!r||!r.stepType)throw new RangeError("Invalid input for Step.fromJSON");let n=N2[r.stepType];if(!n)throw new RangeError(`No step type ${r.stepType} defined`);return n.fromJSON(e,r)}static jsonID(e,r){if(e in N2)throw new RangeError("Duplicate use of step JSON ID "+e);return N2[e]=r,r.prototype.jsonID=e,r}}class Ti{constructor(e,r){this.doc=e,this.failed=r}static ok(e){return new Ti(e,null)}static fail(e){return new Ti(null,e)}static fromReplace(e,r,n,i){try{return Ti.ok(e.replace(r,n,i))}catch(s){if(s instanceof R1)return Ti.fail(s.message);throw s}}}function lE(t,e,r){let n=[];for(let i=0;i<t.childCount;i++){let s=t.child(i);s.content.size&&(s=s.copy(lE(s.content,e,s))),s.isInline&&(s=e(s,r,i)),n.push(s)}return it.fromArray(n)}class cu extends Qs{constructor(e,r,n){super(),this.from=e,this.to=r,this.mark=n}apply(e){let r=e.slice(this.from,this.to),n=e.resolve(this.from),i=n.node(n.sharedDepth(this.to)),s=new pt(lE(r.content,(a,o)=>!a.isAtom||!o.type.allowsMarkType(this.mark.type)?a:a.mark(this.mark.addToSet(a.marks)),i),r.openStart,r.openEnd);return Ti.fromReplace(e,this.from,this.to,s)}invert(){return new ul(this.from,this.to,this.mark)}map(e){let r=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return r.deleted&&n.deleted||r.pos>=n.pos?null:new cu(r.pos,n.pos,this.mark)}merge(e){return e instanceof cu&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new cu(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,r){if(typeof r.from!="number"||typeof r.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new cu(r.from,r.to,e.markFromJSON(r.mark))}}Qs.jsonID("addMark",cu);class ul extends Qs{constructor(e,r,n){super(),this.from=e,this.to=r,this.mark=n}apply(e){let r=e.slice(this.from,this.to),n=new pt(lE(r.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),r.openStart,r.openEnd);return Ti.fromReplace(e,this.from,this.to,n)}invert(){return new cu(this.from,this.to,this.mark)}map(e){let r=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return r.deleted&&n.deleted||r.pos>=n.pos?null:new ul(r.pos,n.pos,this.mark)}merge(e){return e instanceof ul&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new ul(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,r){if(typeof r.from!="number"||typeof r.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new ul(r.from,r.to,e.markFromJSON(r.mark))}}Qs.jsonID("removeMark",ul);class uu extends Qs{constructor(e,r){super(),this.pos=e,this.mark=r}apply(e){let r=e.nodeAt(this.pos);if(!r)return Ti.fail("No node at mark step's position");let n=r.type.create(r.attrs,null,this.mark.addToSet(r.marks));return Ti.fromReplace(e,this.pos,this.pos+1,new pt(it.from(n),0,r.isLeaf?0:1))}invert(e){let r=e.nodeAt(this.pos);if(r){let n=this.mark.addToSet(r.marks);if(n.length==r.marks.length){for(let i=0;i<r.marks.length;i++)if(!r.marks[i].isInSet(n))return new uu(this.pos,r.marks[i]);return new uu(this.pos,this.mark)}}return new Gf(this.pos,this.mark)}map(e){let r=e.mapResult(this.pos,1);return r.deletedAfter?null:new uu(r.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,r){if(typeof r.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new uu(r.pos,e.markFromJSON(r.mark))}}Qs.jsonID("addNodeMark",uu);class Gf extends Qs{constructor(e,r){super(),this.pos=e,this.mark=r}apply(e){let r=e.nodeAt(this.pos);if(!r)return Ti.fail("No node at mark step's position");let n=r.type.create(r.attrs,null,this.mark.removeFromSet(r.marks));return Ti.fromReplace(e,this.pos,this.pos+1,new pt(it.from(n),0,r.isLeaf?0:1))}invert(e){let r=e.nodeAt(this.pos);return!r||!this.mark.isInSet(r.marks)?this:new uu(this.pos,this.mark)}map(e){let r=e.mapResult(this.pos,1);return r.deletedAfter?null:new Gf(r.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,r){if(typeof r.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Gf(r.pos,e.markFromJSON(r.mark))}}Qs.jsonID("removeNodeMark",Gf);class Zi extends Qs{constructor(e,r,n,i=!1){super(),this.from=e,this.to=r,this.slice=n,this.structure=i}apply(e){return this.structure&&CC(e,this.from,this.to)?Ti.fail("Structure replace would overwrite content"):Ti.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new za([this.from,this.to-this.from,this.slice.size])}invert(e){return new Zi(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let r=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return r.deletedAcross&&n.deletedAcross?null:new Zi(r.pos,Math.max(r.pos,n.pos),this.slice,this.structure)}merge(e){if(!(e instanceof Zi)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let r=this.slice.size+e.slice.size==0?pt.empty:new pt(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new Zi(this.from,this.to+(e.to-e.from),r,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let r=this.slice.size+e.slice.size==0?pt.empty:new pt(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new Zi(e.from,this.to,r,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,r){if(typeof r.from!="number"||typeof r.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Zi(r.from,r.to,pt.fromJSON(e,r.slice),!!r.structure)}}Qs.jsonID("replace",Zi);class ns extends Qs{constructor(e,r,n,i,s,a,o=!1){super(),this.from=e,this.to=r,this.gapFrom=n,this.gapTo=i,this.slice=s,this.insert=a,this.structure=o}apply(e){if(this.structure&&(CC(e,this.from,this.gapFrom)||CC(e,this.gapTo,this.to)))return Ti.fail("Structure gap-replace would overwrite content");let r=e.slice(this.gapFrom,this.gapTo);if(r.openStart||r.openEnd)return Ti.fail("Gap is not a flat range");let n=this.slice.insertAt(this.insert,r.content);return n?Ti.fromReplace(e,this.from,this.to,n):Ti.fail("Content does not fit in gap")}getMap(){return new za([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let r=this.gapTo-this.gapFrom;return new ns(this.from,this.from+this.slice.size+r,this.from+this.insert,this.from+this.insert+r,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let r=e.mapResult(this.from,1),n=e.mapResult(this.to,-1),i=this.from==this.gapFrom?r.pos:e.map(this.gapFrom,-1),s=this.to==this.gapTo?n.pos:e.map(this.gapTo,1);return r.deletedAcross&&n.deletedAcross||i<r.pos||s>n.pos?null:new ns(r.pos,n.pos,i,s,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,r){if(typeof r.from!="number"||typeof r.to!="number"||typeof r.gapFrom!="number"||typeof r.gapTo!="number"||typeof r.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new ns(r.from,r.to,r.gapFrom,r.gapTo,pt.fromJSON(e,r.slice),r.insert,!!r.structure)}}Qs.jsonID("replaceAround",ns);function CC(t,e,r){let n=t.resolve(e),i=r-e,s=n.depth;for(;i>0&&s>0&&n.indexAfter(s)==n.node(s).childCount;)s--,i--;if(i>0){let a=n.node(s).maybeChild(n.indexAfter(s));for(;i>0;){if(!a||a.isLeaf)return!0;a=a.firstChild,i--}}return!1}function BG(t,e,r,n){let i=[],s=[],a,o;t.doc.nodesBetween(e,r,(l,c,f)=>{if(!l.isInline)return;let h=l.marks;if(!n.isInSet(h)&&f.type.allowsMarkType(n.type)){let m=Math.max(c,e),d=Math.min(c+l.nodeSize,r),g=n.addToSet(h);for(let v=0;v<h.length;v++)h[v].isInSet(g)||(a&&a.to==m&&a.mark.eq(h[v])?a.to=d:i.push(a=new ul(m,d,h[v])));o&&o.to==m?o.to=d:s.push(o=new cu(m,d,n))}}),i.forEach(l=>t.step(l)),s.forEach(l=>t.step(l))}function CG(t,e,r,n){let i=[],s=0;t.doc.nodesBetween(e,r,(a,o)=>{if(!a.isInline)return;s++;let l=null;if(n instanceof nv){let c=a.marks,f;for(;f=n.isInSet(c);)(l||(l=[])).push(f),c=f.removeFromSet(c)}else n?n.isInSet(a.marks)&&(l=[n]):l=a.marks;if(l&&l.length){let c=Math.min(o+a.nodeSize,r);for(let f=0;f<l.length;f++){let h=l[f],m;for(let d=0;d<i.length;d++){let g=i[d];g.step==s-1&&h.eq(i[d].style)&&(m=g)}m?(m.to=c,m.step=s):i.push({style:h,from:Math.max(o,e),to:c,step:s})}}}),i.forEach(a=>t.step(new ul(a.from,a.to,a.style)))}function AE(t,e,r,n=r.contentMatch,i=!0){let s=t.doc.nodeAt(e),a=[],o=e+1;for(let l=0;l<s.childCount;l++){let c=s.child(l),f=o+c.nodeSize,h=n.matchType(c.type);if(!h)a.push(new Zi(o,f,pt.empty));else{n=h;for(let m=0;m<c.marks.length;m++)r.allowsMarkType(c.marks[m].type)||t.step(new ul(o,f,c.marks[m]));if(i&&c.isText&&r.whitespace!="pre"){let m,d=/\r?\n|\r/g,g;for(;m=d.exec(c.text);)g||(g=new pt(it.from(r.schema.text(" ",r.allowedMarks(c.marks))),0,0)),a.push(new Zi(o+m.index,o+m.index+m[0].length,g))}}o=f}if(!n.validEnd){let l=n.fillBefore(it.empty,!0);t.replace(o,o,new pt(l,0,0))}for(let l=a.length-1;l>=0;l--)t.step(a[l])}function SG(t,e,r){return(e==0||t.canReplace(e,t.childCount))&&(r==t.childCount||t.canReplace(0,r))}function bp(t){let r=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let n=t.depth,i=0,s=0;;--n){let a=t.$from.node(n),o=t.$from.index(n)+i,l=t.$to.indexAfter(n)-s;if(n<t.depth&&a.canReplace(o,l,r))return n;if(n==0||a.type.spec.isolating||!SG(a,o,l))break;o&&(i=1),l<a.childCount&&(s=1)}return null}function EG(t,e,r){let{$from:n,$to:i,depth:s}=e,a=n.before(s+1),o=i.after(s+1),l=a,c=o,f=it.empty,h=0;for(let g=s,v=!1;g>r;g--)v||n.index(g)>0?(v=!0,f=it.from(n.node(g).copy(f)),h++):l--;let m=it.empty,d=0;for(let g=s,v=!1;g>r;g--)v||i.after(g+1)<i.end(g)?(v=!0,m=it.from(i.node(g).copy(m)),d++):c++;t.step(new ns(l,c,a,o,new pt(f.append(m),h,d),f.size-h,!0))}function cE(t,e,r=null,n=t){let i=_G(t,e),s=i&&kG(n,e);return s?i.map(y3).concat({type:e,attrs:r}).concat(s.map(y3)):null}function y3(t){return{type:t,attrs:null}}function _G(t,e){let{parent:r,startIndex:n,endIndex:i}=t,s=r.contentMatchAt(n).findWrapping(e);if(!s)return null;let a=s.length?s[0]:e;return r.canReplaceWith(n,i,a)?s:null}function kG(t,e){let{parent:r,startIndex:n,endIndex:i}=t,s=r.child(n),a=e.contentMatch.findWrapping(s.type);if(!a)return null;let l=(a.length?a[a.length-1]:e).contentMatch;for(let c=n;l&&c<i;c++)l=l.matchType(r.child(c).type);return!l||!l.validEnd?null:a}function TG(t,e,r){let n=it.empty;for(let a=r.length-1;a>=0;a--){if(n.size){let o=r[a].type.contentMatch.matchFragment(n);if(!o||!o.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}n=it.from(r[a].type.create(r[a].attrs,n))}let i=e.start,s=e.end;t.step(new ns(i,s,i,s,new pt(n,0,0),r.length,!0))}function NG(t,e,r,n,i){if(!n.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let s=t.steps.length;t.doc.nodesBetween(e,r,(a,o)=>{let l=typeof i=="function"?i(a):i;if(a.isTextblock&&!a.hasMarkup(n,l)&&FG(t.doc,t.mapping.slice(s).map(o),n)){let c=null;if(n.schema.linebreakReplacement){let d=n.whitespace=="pre",g=!!n.contentMatch.matchType(n.schema.linebreakReplacement);d&&!g?c=!1:!d&&g&&(c=!0)}c===!1&&hI(t,a,o,s),AE(t,t.mapping.slice(s).map(o,1),n,void 0,c===null);let f=t.mapping.slice(s),h=f.map(o,1),m=f.map(o+a.nodeSize,1);return t.step(new ns(h,m,h+1,m-1,new pt(it.from(n.create(l,null,a.marks)),0,0),1,!0)),c===!0&&fI(t,a,o,s),!1}})}function fI(t,e,r,n){e.forEach((i,s)=>{if(i.isText){let a,o=/\r?\n|\r/g;for(;a=o.exec(i.text);){let l=t.mapping.slice(n).map(r+1+s+a.index);t.replaceWith(l,l+1,e.type.schema.linebreakReplacement.create())}}})}function hI(t,e,r,n){e.forEach((i,s)=>{if(i.type==i.type.schema.linebreakReplacement){let a=t.mapping.slice(n).map(r+1+s);t.replaceWith(a,a+1,e.type.schema.text(`
`))}})}function FG(t,e,r){let n=t.resolve(e),i=n.index();return n.parent.canReplaceWith(i,i+1,r)}function UG(t,e,r,n,i){let s=t.doc.nodeAt(e);if(!s)throw new RangeError("No node at given position");r||(r=s.type);let a=r.create(n,null,i||s.marks);if(s.isLeaf)return t.replaceWith(e,e+s.nodeSize,a);if(!r.validContent(s.content))throw new RangeError("Invalid content for node type "+r.name);t.step(new ns(e,e+s.nodeSize,e+1,e+s.nodeSize-1,new pt(it.from(a),0,0),1,!0))}function ec(t,e,r=1,n){let i=t.resolve(e),s=i.depth-r,a=n&&n[n.length-1]||i.parent;if(s<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!a.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let c=i.depth-1,f=r-2;c>s;c--,f--){let h=i.node(c),m=i.index(c);if(h.type.spec.isolating)return!1;let d=h.content.cutByIndex(m,h.childCount),g=n&&n[f+1];g&&(d=d.replaceChild(0,g.type.create(g.attrs)));let v=n&&n[f]||h;if(!h.canReplace(m+1,h.childCount)||!v.type.validContent(d))return!1}let o=i.indexAfter(s),l=n&&n[0];return i.node(s).canReplaceWith(o,o,l?l.type:i.node(s+1).type)}function OG(t,e,r=1,n){let i=t.doc.resolve(e),s=it.empty,a=it.empty;for(let o=i.depth,l=i.depth-r,c=r-1;o>l;o--,c--){s=it.from(i.node(o).copy(s));let f=n&&n[c];a=it.from(f?f.type.create(f.attrs,a):i.node(o).copy(a))}t.step(new Zi(e,e,new pt(s.append(a),r,r),!0))}function Fu(t,e){let r=t.resolve(e),n=r.index();return dI(r.nodeBefore,r.nodeAfter)&&r.parent.canReplace(n,n+1)}function LG(t,e){e.content.size||t.type.compatibleContent(e.type);let r=t.contentMatchAt(t.childCount),{linebreakReplacement:n}=t.type.schema;for(let i=0;i<e.childCount;i++){let s=e.child(i),a=s.type==n?t.type.schema.nodes.text:s.type;if(r=r.matchType(a),!r||!t.type.allowsMarks(s.marks))return!1}return r.validEnd}function dI(t,e){return!!(t&&e&&!t.isLeaf&&LG(t,e))}function iv(t,e,r=-1){let n=t.resolve(e);for(let i=n.depth;;i--){let s,a,o=n.index(i);if(i==n.depth?(s=n.nodeBefore,a=n.nodeAfter):r>0?(s=n.node(i+1),o++,a=n.node(i).maybeChild(o)):(s=n.node(i).maybeChild(o-1),a=n.node(i+1)),s&&!s.isTextblock&&dI(s,a)&&n.node(i).canReplace(o,o+1))return e;if(i==0)break;e=r<0?n.before(i):n.after(i)}}function DG(t,e,r){let n=null,{linebreakReplacement:i}=t.doc.type.schema,s=t.doc.resolve(e-r),a=s.node().type;if(i&&a.inlineContent){let f=a.whitespace=="pre",h=!!a.contentMatch.matchType(i);f&&!h?n=!1:!f&&h&&(n=!0)}let o=t.steps.length;if(n===!1){let f=t.doc.resolve(e+r);hI(t,f.node(),f.before(),o)}a.inlineContent&&AE(t,e+r-1,a,s.node().contentMatchAt(s.index()),n==null);let l=t.mapping.slice(o),c=l.map(e-r);if(t.step(new Zi(c,l.map(e+r,-1),pt.empty,!0)),n===!0){let f=t.doc.resolve(c);fI(t,f.node(),f.before(),t.steps.length)}return t}function IG(t,e,r){let n=t.resolve(e);if(n.parent.canReplaceWith(n.index(),n.index(),r))return e;if(n.parentOffset==0)for(let i=n.depth-1;i>=0;i--){let s=n.index(i);if(n.node(i).canReplaceWith(s,s,r))return n.before(i+1);if(s>0)return null}if(n.parentOffset==n.parent.content.size)for(let i=n.depth-1;i>=0;i--){let s=n.indexAfter(i);if(n.node(i).canReplaceWith(s,s,r))return n.after(i+1);if(s<n.node(i).childCount)return null}return null}function pI(t,e,r){let n=t.resolve(e);if(!r.content.size)return e;let i=r.content;for(let s=0;s<r.openStart;s++)i=i.firstChild.content;for(let s=1;s<=(r.openStart==0&&r.size?2:1);s++)for(let a=n.depth;a>=0;a--){let o=a==n.depth?0:n.pos<=(n.start(a+1)+n.end(a+1))/2?-1:1,l=n.index(a)+(o>0?1:0),c=n.node(a),f=!1;if(s==1)f=c.canReplace(l,l,i);else{let h=c.contentMatchAt(l).findWrapping(i.firstChild.type);f=h&&c.canReplaceWith(l,l,h[0])}if(f)return o==0?n.pos:o<0?n.before(a+1):n.after(a+1)}return null}function sv(t,e,r=e,n=pt.empty){if(e==r&&!n.size)return null;let i=t.resolve(e),s=t.resolve(r);return mI(i,s,n)?new Zi(e,r,n):new RG(i,s,n).fit()}function mI(t,e,r){return!r.openStart&&!r.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),r.content)}class RG{constructor(e,r,n){this.$from=e,this.$to=r,this.unplaced=n,this.frontier=[],this.placed=it.empty;for(let i=0;i<=e.depth;i++){let s=e.node(i);this.frontier.push({type:s.type,match:s.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=it.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let c=this.findFittable();c?this.placeNodes(c):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),r=this.placed.size-this.depth-this.$from.depth,n=this.$from,i=this.close(e<0?this.$to:n.doc.resolve(e));if(!i)return null;let s=this.placed,a=n.depth,o=i.depth;for(;a&&o&&s.childCount==1;)s=s.firstChild.content,a--,o--;let l=new pt(s,a,o);return e>-1?new ns(n.pos,e,this.$to.pos,this.$to.end(),l,r):l.size||n.pos!=this.$to.pos?new Zi(n.pos,i.pos,l):null}findFittable(){let e=this.unplaced.openStart;for(let r=this.unplaced.content,n=0,i=this.unplaced.openEnd;n<e;n++){let s=r.firstChild;if(r.childCount>1&&(i=0),s.type.spec.isolating&&i<=n){e=n;break}r=s.content}for(let r=1;r<=2;r++)for(let n=r==1?e:this.unplaced.openStart;n>=0;n--){let i,s=null;n?(s=F2(this.unplaced.content,n-1).firstChild,i=s.content):i=this.unplaced.content;let a=i.firstChild;for(let o=this.depth;o>=0;o--){let{type:l,match:c}=this.frontier[o],f,h=null;if(r==1&&(a?c.matchType(a.type)||(h=c.fillBefore(it.from(a),!1)):s&&l.compatibleContent(s.type)))return{sliceDepth:n,frontierDepth:o,parent:s,inject:h};if(r==2&&a&&(f=c.findWrapping(a.type)))return{sliceDepth:n,frontierDepth:o,parent:s,wrap:f};if(s&&c.matchType(s.type))break}}}openMore(){let{content:e,openStart:r,openEnd:n}=this.unplaced,i=F2(e,r);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new pt(e,r+1,Math.max(n,i.size+r>=e.size-n?r+1:0)),!0)}dropNode(){let{content:e,openStart:r,openEnd:n}=this.unplaced,i=F2(e,r);if(i.childCount<=1&&r>0){let s=e.size-r<=r+i.size;this.unplaced=new pt(Em(e,r-1,1),r-1,s?r-1:n)}else this.unplaced=new pt(Em(e,r,1),r,n)}placeNodes({sliceDepth:e,frontierDepth:r,parent:n,inject:i,wrap:s}){for(;this.depth>r;)this.closeFrontierNode();if(s)for(let v=0;v<s.length;v++)this.openFrontierNode(s[v]);let a=this.unplaced,o=n?n.content:a.content,l=a.openStart-e,c=0,f=[],{match:h,type:m}=this.frontier[r];if(i){for(let v=0;v<i.childCount;v++)f.push(i.child(v));h=h.matchFragment(i)}let d=o.size+e-(a.content.size-a.openEnd);for(;c<o.childCount;){let v=o.child(c),b=h.matchType(v.type);if(!b)break;c++,(c>1||l==0||v.content.size)&&(h=b,f.push(gI(v.mark(m.allowedMarks(v.marks)),c==1?l:0,c==o.childCount?d:-1)))}let g=c==o.childCount;g||(d=-1),this.placed=_m(this.placed,r,it.from(f)),this.frontier[r].match=h,g&&d<0&&n&&n.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let v=0,b=o;v<d;v++){let w=b.lastChild;this.frontier.push({type:w.type,match:w.contentMatchAt(w.childCount)}),b=w.content}this.unplaced=g?e==0?pt.empty:new pt(Em(a.content,e-1,1),e-1,d<0?a.openEnd:e-1):new pt(Em(a.content,e,c),a.openStart,a.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],r;if(!e.type.isTextblock||!U2(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(r=this.findCloseLevel(this.$to))&&r.depth==this.depth)return-1;let{depth:n}=this.$to,i=this.$to.after(n);for(;n>1&&i==this.$to.end(--n);)++i;return i}findCloseLevel(e){e:for(let r=Math.min(this.depth,e.depth);r>=0;r--){let{match:n,type:i}=this.frontier[r],s=r<e.depth&&e.end(r+1)==e.pos+(e.depth-(r+1)),a=U2(e,r,i,n,s);if(a){for(let o=r-1;o>=0;o--){let{match:l,type:c}=this.frontier[o],f=U2(e,o,c,l,!0);if(!f||f.childCount)continue e}return{depth:r,fit:a,move:s?e.doc.resolve(e.after(r+1)):e}}}}close(e){let r=this.findCloseLevel(e);if(!r)return null;for(;this.depth>r.depth;)this.closeFrontierNode();r.fit.childCount&&(this.placed=_m(this.placed,r.depth,r.fit)),e=r.move;for(let n=r.depth+1;n<=e.depth;n++){let i=e.node(n),s=i.type.contentMatch.fillBefore(i.content,!0,e.index(n));this.openFrontierNode(i.type,i.attrs,s)}return e}openFrontierNode(e,r=null,n){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=_m(this.placed,this.depth,it.from(e.create(r,n))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let r=this.frontier.pop().match.fillBefore(it.empty,!0);r.childCount&&(this.placed=_m(this.placed,this.frontier.length,r))}}function Em(t,e,r){return e==0?t.cutByIndex(r,t.childCount):t.replaceChild(0,t.firstChild.copy(Em(t.firstChild.content,e-1,r)))}function _m(t,e,r){return e==0?t.append(r):t.replaceChild(t.childCount-1,t.lastChild.copy(_m(t.lastChild.content,e-1,r)))}function F2(t,e){for(let r=0;r<e;r++)t=t.firstChild.content;return t}function gI(t,e,r){if(e<=0)return t;let n=t.content;return e>1&&(n=n.replaceChild(0,gI(n.firstChild,e-1,n.childCount==1?r-1:0))),e>0&&(n=t.type.contentMatch.fillBefore(n).append(n),r<=0&&(n=n.append(t.type.contentMatch.matchFragment(n).fillBefore(it.empty,!0)))),t.copy(n)}function U2(t,e,r,n,i){let s=t.node(e),a=i?t.indexAfter(e):t.index(e);if(a==s.childCount&&!r.compatibleContent(s.type))return null;let o=n.fillBefore(s.content,!0,a);return o&&!MG(r,s.content,a)?o:null}function MG(t,e,r){for(let n=r;n<e.childCount;n++)if(!t.allowsMarks(e.child(n).marks))return!0;return!1}function QG(t){return t.spec.defining||t.spec.definingForContent}function HG(t,e,r,n){if(!n.size)return t.deleteRange(e,r);let i=t.doc.resolve(e),s=t.doc.resolve(r);if(mI(i,s,n))return t.step(new Zi(e,r,n));let a=wI(i,s);a[a.length-1]==0&&a.pop();let o=-(i.depth+1);a.unshift(o);for(let m=i.depth,d=i.pos-1;m>0;m--,d--){let g=i.node(m).type.spec;if(g.defining||g.definingAsContext||g.isolating)break;a.indexOf(m)>-1?o=m:i.before(m)==d&&a.splice(1,0,-m)}let l=a.indexOf(o),c=[],f=n.openStart;for(let m=n.content,d=0;;d++){let g=m.firstChild;if(c.push(g),d==n.openStart)break;m=g.content}for(let m=f-1;m>=0;m--){let d=c[m],g=QG(d.type);if(g&&!d.sameMarkup(i.node(Math.abs(o)-1)))f=m;else if(g||!d.type.isTextblock)break}for(let m=n.openStart;m>=0;m--){let d=(m+f+1)%(n.openStart+1),g=c[d];if(g)for(let v=0;v<a.length;v++){let b=a[(v+l)%a.length],w=!0;b<0&&(w=!1,b=-b);let B=i.node(b-1),S=i.index(b-1);if(B.canReplaceWith(S,S,g.type,g.marks))return t.replace(i.before(b),w?s.after(b):r,new pt(yI(n.content,0,n.openStart,d),d,n.openEnd))}}let h=t.steps.length;for(let m=a.length-1;m>=0&&(t.replace(e,r,n),!(t.steps.length>h));m--){let d=a[m];d<0||(e=i.before(d),r=s.after(d))}}function yI(t,e,r,n,i){if(e<r){let s=t.firstChild;t=t.replaceChild(0,s.copy(yI(s.content,e+1,r,n,s)))}if(e>n){let s=i.contentMatchAt(0),a=s.fillBefore(t).append(t);t=a.append(s.matchFragment(a).fillBefore(it.empty,!0))}return t}function jG(t,e,r,n){if(!n.isInline&&e==r&&t.doc.resolve(e).parent.content.size){let i=IG(t.doc,e,n.type);i!=null&&(e=r=i)}t.replaceRange(e,r,new pt(it.from(n),0,0))}function PG(t,e,r){let n=t.doc.resolve(e),i=t.doc.resolve(r),s=wI(n,i);for(let a=0;a<s.length;a++){let o=s[a],l=a==s.length-1;if(l&&o==0||n.node(o).type.contentMatch.validEnd)return t.delete(n.start(o),i.end(o));if(o>0&&(l||n.node(o-1).canReplace(n.index(o-1),i.indexAfter(o-1))))return t.delete(n.before(o),i.after(o))}for(let a=1;a<=n.depth&&a<=i.depth;a++)if(e-n.start(a)==n.depth-a&&r>n.end(a)&&i.end(a)-r!=i.depth-a&&n.start(a-1)==i.start(a-1)&&n.node(a-1).canReplace(n.index(a-1),i.index(a-1)))return t.delete(n.before(a),r);t.delete(e,r)}function wI(t,e){let r=[],n=Math.min(t.depth,e.depth);for(let i=n;i>=0;i--){let s=t.start(i);if(s<t.pos-(t.depth-i)||e.end(i)>e.pos+(e.depth-i)||t.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(s==e.start(i)||i==t.depth&&i==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==s-1)&&r.push(i)}return r}class zd extends Qs{constructor(e,r,n){super(),this.pos=e,this.attr=r,this.value=n}apply(e){let r=e.nodeAt(this.pos);if(!r)return Ti.fail("No node at attribute step's position");let n=Object.create(null);for(let s in r.attrs)n[s]=r.attrs[s];n[this.attr]=this.value;let i=r.type.create(n,null,r.marks);return Ti.fromReplace(e,this.pos,this.pos+1,new pt(it.from(i),0,r.isLeaf?0:1))}getMap(){return za.empty}invert(e){return new zd(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let r=e.mapResult(this.pos,1);return r.deletedAfter?null:new zd(r.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,r){if(typeof r.pos!="number"||typeof r.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new zd(r.pos,r.attr,r.value)}}Qs.jsonID("attr",zd);class bg extends Qs{constructor(e,r){super(),this.attr=e,this.value=r}apply(e){let r=Object.create(null);for(let i in e.attrs)r[i]=e.attrs[i];r[this.attr]=this.value;let n=e.type.create(r,e.content,e.marks);return Ti.ok(n)}getMap(){return za.empty}invert(e){return new bg(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,r){if(typeof r.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new bg(r.attr,r.value)}}Qs.jsonID("docAttr",bg);let tp=class extends Error{};tp=function t(e){let r=Error.call(this,e);return r.__proto__=t.prototype,r};tp.prototype=Object.create(Error.prototype);tp.prototype.constructor=tp;tp.prototype.name="TransformError";class uE{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new vg}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let r=this.maybeStep(e);if(r.failed)throw new tp(r.failed);return this}maybeStep(e){let r=e.apply(this.doc);return r.failed||this.addStep(e,r.doc),r}get docChanged(){return this.steps.length>0}changedRange(){let e=1e9,r=-1e9;for(let n=0;n<this.mapping.maps.length;n++){let i=this.mapping.maps[n];n&&(e=i.map(e,1),r=i.map(r,-1)),i.forEach((s,a,o,l)=>{e=Math.min(e,o),r=Math.max(r,l)})}return e==1e9?null:{from:e,to:r}}addStep(e,r){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=r}replace(e,r=e,n=pt.empty){let i=sv(this.doc,e,r,n);return i&&this.step(i),this}replaceWith(e,r,n){return this.replace(e,r,new pt(it.from(n),0,0))}delete(e,r){return this.replace(e,r,pt.empty)}insert(e,r){return this.replaceWith(e,e,r)}replaceRange(e,r,n){return HG(this,e,r,n),this}replaceRangeWith(e,r,n){return jG(this,e,r,n),this}deleteRange(e,r){return PG(this,e,r),this}lift(e,r){return EG(this,e,r),this}join(e,r=1){return DG(this,e,r),this}wrap(e,r){return TG(this,e,r),this}setBlockType(e,r=e,n,i=null){return NG(this,e,r,n,i),this}setNodeMarkup(e,r,n=null,i){return UG(this,e,r,n,i),this}setNodeAttribute(e,r,n){return this.step(new zd(e,r,n)),this}setDocAttribute(e,r){return this.step(new bg(e,r)),this}addNodeMark(e,r){return this.step(new uu(e,r)),this}removeNodeMark(e,r){let n=this.doc.nodeAt(e);if(!n)throw new RangeError("No node at position "+e);if(r instanceof fn)r.isInSet(n.marks)&&this.step(new Gf(e,r));else{let i=n.marks,s,a=[];for(;s=r.isInSet(i);)a.push(new Gf(e,s)),i=s.removeFromSet(i);for(let o=a.length-1;o>=0;o--)this.step(a[o])}return this}split(e,r=1,n){return OG(this,e,r,n),this}addMark(e,r,n){return BG(this,e,r,n),this}removeMark(e,r,n){return CG(this,e,r,n),this}clearIncompatible(e,r,n){return AE(this,e,r,n),this}}const O2=Object.create(null);class tr{constructor(e,r,n){this.$anchor=e,this.$head=r,this.ranges=n||[new vI(e.min(r),e.max(r))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let r=0;r<e.length;r++)if(e[r].$from.pos!=e[r].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,r=pt.empty){let n=r.content.lastChild,i=null;for(let o=0;o<r.openEnd;o++)i=n,n=n.lastChild;let s=e.steps.length,a=this.ranges;for(let o=0;o<a.length;o++){let{$from:l,$to:c}=a[o],f=e.mapping.slice(s);e.replaceRange(f.map(l.pos),f.map(c.pos),o?pt.empty:r),o==0&&b3(e,s,(n?n.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,r){let n=e.steps.length,i=this.ranges;for(let s=0;s<i.length;s++){let{$from:a,$to:o}=i[s],l=e.mapping.slice(n),c=l.map(a.pos),f=l.map(o.pos);s?e.deleteRange(c,f):(e.replaceRangeWith(c,f,r),b3(e,n,r.isInline?-1:1))}}static findFrom(e,r,n=!1){let i=e.parent.inlineContent?new qt(e):Bd(e.node(0),e.parent,e.pos,e.index(),r,n);if(i)return i;for(let s=e.depth-1;s>=0;s--){let a=r<0?Bd(e.node(0),e.node(s),e.before(s+1),e.index(s),r,n):Bd(e.node(0),e.node(s),e.after(s+1),e.index(s)+1,r,n);if(a)return a}return null}static near(e,r=1){return this.findFrom(e,r)||this.findFrom(e,-r)||new qa(e.node(0))}static atStart(e){return Bd(e,e,0,0,1)||new qa(e)}static atEnd(e){return Bd(e,e,e.content.size,e.childCount,-1)||new qa(e)}static fromJSON(e,r){if(!r||!r.type)throw new RangeError("Invalid input for Selection.fromJSON");let n=O2[r.type];if(!n)throw new RangeError(`No selection type ${r.type} defined`);return n.fromJSON(e,r)}static jsonID(e,r){if(e in O2)throw new RangeError("Duplicate use of selection JSON ID "+e);return O2[e]=r,r.prototype.jsonID=e,r}getBookmark(){return qt.between(this.$anchor,this.$head).getBookmark()}}tr.prototype.visible=!0;class vI{constructor(e,r){this.$from=e,this.$to=r}}let w3=!1;function v3(t){!w3&&!t.parent.inlineContent&&(w3=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class qt extends tr{constructor(e,r=e){v3(e),v3(r),super(e,r)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,r){let n=e.resolve(r.map(this.head));if(!n.parent.inlineContent)return tr.near(n);let i=e.resolve(r.map(this.anchor));return new qt(i.parent.inlineContent?i:n,n)}replace(e,r=pt.empty){if(super.replace(e,r),r==pt.empty){let n=this.$from.marksAcross(this.$to);n&&e.ensureMarks(n)}}eq(e){return e instanceof qt&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new av(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,r){if(typeof r.anchor!="number"||typeof r.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new qt(e.resolve(r.anchor),e.resolve(r.head))}static create(e,r,n=r){let i=e.resolve(r);return new this(i,n==r?i:e.resolve(n))}static between(e,r,n){let i=e.pos-r.pos;if((!n||i)&&(n=i>=0?1:-1),!r.parent.inlineContent){let s=tr.findFrom(r,n,!0)||tr.findFrom(r,-n,!0);if(s)r=s.$head;else return tr.near(r,n)}return e.parent.inlineContent||(i==0?e=r:(e=(tr.findFrom(e,-n,!0)||tr.findFrom(e,n,!0)).$anchor,e.pos<r.pos!=i<0&&(e=r))),new qt(e,r)}}tr.jsonID("text",qt);class av{constructor(e,r){this.anchor=e,this.head=r}map(e){return new av(e.map(this.anchor),e.map(this.head))}resolve(e){return qt.between(e.resolve(this.anchor),e.resolve(this.head))}}class jt extends tr{constructor(e){let r=e.nodeAfter,n=e.node(0).resolve(e.pos+r.nodeSize);super(e,n),this.node=r}map(e,r){let{deleted:n,pos:i}=r.mapResult(this.anchor),s=e.resolve(i);return n?tr.near(s):new jt(s)}content(){return new pt(it.from(this.node),0,0)}eq(e){return e instanceof jt&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new fE(this.anchor)}static fromJSON(e,r){if(typeof r.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new jt(e.resolve(r.anchor))}static create(e,r){return new jt(e.resolve(r))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}jt.prototype.visible=!1;tr.jsonID("node",jt);class fE{constructor(e){this.anchor=e}map(e){let{deleted:r,pos:n}=e.mapResult(this.anchor);return r?new av(n,n):new fE(n)}resolve(e){let r=e.resolve(this.anchor),n=r.nodeAfter;return n&&jt.isSelectable(n)?new jt(r):tr.near(r)}}class qa extends tr{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,r=pt.empty){if(r==pt.empty){e.delete(0,e.doc.content.size);let n=tr.atStart(e.doc);n.eq(e.selection)||e.setSelection(n)}else super.replace(e,r)}toJSON(){return{type:"all"}}static fromJSON(e){return new qa(e)}map(e){return new qa(e)}eq(e){return e instanceof qa}getBookmark(){return zG}}tr.jsonID("all",qa);const zG={map(){return this},resolve(t){return new qa(t)}};function Bd(t,e,r,n,i,s=!1){if(e.inlineContent)return qt.create(t,r);for(let a=n-(i>0?0:1);i>0?a<e.childCount:a>=0;a+=i){let o=e.child(a);if(o.isAtom){if(!s&&jt.isSelectable(o))return jt.create(t,r-(i<0?o.nodeSize:0))}else{let l=Bd(t,o,r+i,i<0?o.childCount:0,i,s);if(l)return l}r+=o.nodeSize*i}return null}function b3(t,e,r){let n=t.steps.length-1;if(n<e)return;let i=t.steps[n];if(!(i instanceof Zi||i instanceof ns))return;let s=t.mapping.maps[n],a;s.forEach((o,l,c,f)=>{a==null&&(a=f)}),t.setSelection(tr.near(t.doc.resolve(a),r))}const x3=1,oy=2,B3=4;class KG extends uE{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|x3)&~oy,this.storedMarks=null,this}get selectionSet(){return(this.updated&x3)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=oy,this}ensureMarks(e){return fn.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&oy)>0}addStep(e,r){super.addStep(e,r),this.updated=this.updated&~oy,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,r=!0){let n=this.selection;return r&&(e=e.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||fn.none))),n.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,r,n){let i=this.doc.type.schema;if(r==null)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();{if(n==null&&(n=r),!e)return this.deleteRange(r,n);let s=this.storedMarks;if(!s){let a=this.doc.resolve(r);s=n==r?a.marks():a.marksAcross(this.doc.resolve(n))}return this.replaceRangeWith(r,n,i.text(e,s)),!this.selection.empty&&this.selection.to==r+e.length&&this.setSelection(tr.near(this.selection.$to)),this}}setMeta(e,r){return this.meta[typeof e=="string"?e:e.key]=r,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=B3,this}get scrolledIntoView(){return(this.updated&B3)>0}}function C3(t,e){return!e||!t?t:t.bind(e)}class km{constructor(e,r,n){this.name=e,this.init=C3(r.init,n),this.apply=C3(r.apply,n)}}const VG=[new km("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new km("selection",{init(t,e){return t.selection||tr.atStart(e.doc)},apply(t){return t.selection}}),new km("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,r,n){return n.selection.$cursor?t.storedMarks:null}}),new km("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class L2{constructor(e,r){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=VG.slice(),r&&r.forEach(n=>{if(this.pluginsByKey[n.key])throw new RangeError("Adding different instances of a keyed plugin ("+n.key+")");this.plugins.push(n),this.pluginsByKey[n.key]=n,n.spec.state&&this.fields.push(new km(n.key,n.spec.state,n))})}}class Md{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,r=-1){for(let n=0;n<this.config.plugins.length;n++)if(n!=r){let i=this.config.plugins[n];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let r=[e],n=this.applyInner(e),i=null;for(;;){let s=!1;for(let a=0;a<this.config.plugins.length;a++){let o=this.config.plugins[a];if(o.spec.appendTransaction){let l=i?i[a].n:0,c=i?i[a].state:this,f=l<r.length&&o.spec.appendTransaction.call(o,l?r.slice(l):r,c,n);if(f&&n.filterTransaction(f,a)){if(f.setMeta("appendedTransaction",e),!i){i=[];for(let h=0;h<this.config.plugins.length;h++)i.push(h<a?{state:n,n:r.length}:{state:this,n:0})}r.push(f),n=n.applyInner(f),s=!0}i&&(i[a]={state:n,n:r.length})}}if(!s)return{state:n,transactions:r}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let r=new Md(this.config),n=this.config.fields;for(let i=0;i<n.length;i++){let s=n[i];r[s.name]=s.apply(e,this[s.name],this,r)}return r}get tr(){return new KG(this)}static create(e){let r=new L2(e.doc?e.doc.type.schema:e.schema,e.plugins),n=new Md(r);for(let i=0;i<r.fields.length;i++)n[r.fields[i].name]=r.fields[i].init(e,n);return n}reconfigure(e){let r=new L2(this.schema,e.plugins),n=r.fields,i=new Md(r);for(let s=0;s<n.length;s++){let a=n[s].name;i[a]=this.hasOwnProperty(a)?this[a]:n[s].init(e,i)}return i}toJSON(e){let r={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(r.storedMarks=this.storedMarks.map(n=>n.toJSON())),e&&typeof e=="object")for(let n in e){if(n=="doc"||n=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=e[n],s=i.spec.state;s&&s.toJSON&&(r[n]=s.toJSON.call(i,this[i.key]))}return r}static fromJSON(e,r,n){if(!r)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let i=new L2(e.schema,e.plugins),s=new Md(i);return i.fields.forEach(a=>{if(a.name=="doc")s.doc=gu.fromJSON(e.schema,r.doc);else if(a.name=="selection")s.selection=tr.fromJSON(s.doc,r.selection);else if(a.name=="storedMarks")r.storedMarks&&(s.storedMarks=r.storedMarks.map(e.schema.markFromJSON));else{if(n)for(let o in n){let l=n[o],c=l.spec.state;if(l.key==a.name&&c&&c.fromJSON&&Object.prototype.hasOwnProperty.call(r,o)){s[a.name]=c.fromJSON.call(l,e,r[o],s);return}}s[a.name]=a.init(e,s)}}),s}}function bI(t,e,r){for(let n in t){let i=t[n];i instanceof Function?i=i.bind(e):n=="handleDOMEvents"&&(i=bI(i,e,{})),r[n]=i}return r}class pn{constructor(e){this.spec=e,this.props={},e.props&&bI(e.props,this,this.props),this.key=e.key?e.key.key:xI("plugin")}getState(e){return e[this.key]}}const D2=Object.create(null);function xI(t){return t in D2?t+"$"+ ++D2[t]:(D2[t]=0,t+"$")}class Mn{constructor(e="key"){this.key=xI(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const hE=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function BI(t,e){let{$cursor:r}=t.selection;return!r||(e?!e.endOfTextblock("backward",t):r.parentOffset>0)?null:r}const CI=(t,e,r)=>{let n=BI(t,r);if(!n)return!1;let i=dE(n);if(!i){let a=n.blockRange(),o=a&&bp(a);return o==null?!1:(e&&e(t.tr.lift(a,o).scrollIntoView()),!0)}let s=i.nodeBefore;if(OI(t,i,e,-1))return!0;if(n.parent.content.size==0&&(rp(s,"end")||jt.isSelectable(s)))for(let a=n.depth;;a--){let o=sv(t.doc,n.before(a),n.after(a),pt.empty);if(o&&o.slice.size<o.to-o.from){if(e){let l=t.tr.step(o);l.setSelection(rp(s,"end")?tr.findFrom(l.doc.resolve(l.mapping.map(i.pos,-1)),-1):jt.create(l.doc,i.pos-s.nodeSize)),e(l.scrollIntoView())}return!0}if(a==1||n.node(a-1).childCount>1)break}return s.isAtom&&i.depth==n.depth-1?(e&&e(t.tr.delete(i.pos-s.nodeSize,i.pos).scrollIntoView()),!0):!1},qG=(t,e,r)=>{let n=BI(t,r);if(!n)return!1;let i=dE(n);return i?SI(t,i,e):!1},GG=(t,e,r)=>{let n=_I(t,r);if(!n)return!1;let i=pE(n);return i?SI(t,i,e):!1};function SI(t,e,r){let n=e.nodeBefore,i=n,s=e.pos-1;for(;!i.isTextblock;s--){if(i.type.spec.isolating)return!1;let f=i.lastChild;if(!f)return!1;i=f}let a=e.nodeAfter,o=a,l=e.pos+1;for(;!o.isTextblock;l++){if(o.type.spec.isolating)return!1;let f=o.firstChild;if(!f)return!1;o=f}let c=sv(t.doc,s,l,pt.empty);if(!c||c.from!=s||c instanceof Zi&&c.slice.size>=l-s)return!1;if(r){let f=t.tr.step(c);f.setSelection(qt.create(f.doc,s)),r(f.scrollIntoView())}return!0}function rp(t,e,r=!1){for(let n=t;n;n=e=="start"?n.firstChild:n.lastChild){if(n.isTextblock)return!0;if(r&&n.childCount!=1)return!1}return!1}const EI=(t,e,r)=>{let{$head:n,empty:i}=t.selection,s=n;if(!i)return!1;if(n.parent.isTextblock){if(r?!r.endOfTextblock("backward",t):n.parentOffset>0)return!1;s=dE(n)}let a=s&&s.nodeBefore;return!a||!jt.isSelectable(a)?!1:(e&&e(t.tr.setSelection(jt.create(t.doc,s.pos-a.nodeSize)).scrollIntoView()),!0)};function dE(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function _I(t,e){let{$cursor:r}=t.selection;return!r||(e?!e.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)?null:r}const kI=(t,e,r)=>{let n=_I(t,r);if(!n)return!1;let i=pE(n);if(!i)return!1;let s=i.nodeAfter;if(OI(t,i,e,1))return!0;if(n.parent.content.size==0&&(rp(s,"start")||jt.isSelectable(s))){let a=sv(t.doc,n.before(),n.after(),pt.empty);if(a&&a.slice.size<a.to-a.from){if(e){let o=t.tr.step(a);o.setSelection(rp(s,"start")?tr.findFrom(o.doc.resolve(o.mapping.map(i.pos)),1):jt.create(o.doc,o.mapping.map(i.pos))),e(o.scrollIntoView())}return!0}}return s.isAtom&&i.depth==n.depth-1?(e&&e(t.tr.delete(i.pos,i.pos+s.nodeSize).scrollIntoView()),!0):!1},TI=(t,e,r)=>{let{$head:n,empty:i}=t.selection,s=n;if(!i)return!1;if(n.parent.isTextblock){if(r?!r.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)return!1;s=pE(n)}let a=s&&s.nodeAfter;return!a||!jt.isSelectable(a)?!1:(e&&e(t.tr.setSelection(jt.create(t.doc,s.pos)).scrollIntoView()),!0)};function pE(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let r=t.node(e);if(t.index(e)+1<r.childCount)return t.doc.resolve(t.after(e+1));if(r.type.spec.isolating)break}return null}const WG=(t,e)=>{let r=t.selection,n=r instanceof jt,i;if(n){if(r.node.isTextblock||!Fu(t.doc,r.from))return!1;i=r.from}else if(i=iv(t.doc,r.from,-1),i==null)return!1;if(e){let s=t.tr.join(i);n&&s.setSelection(jt.create(s.doc,i-t.doc.resolve(i).nodeBefore.nodeSize)),e(s.scrollIntoView())}return!0},$G=(t,e)=>{let r=t.selection,n;if(r instanceof jt){if(r.node.isTextblock||!Fu(t.doc,r.to))return!1;n=r.to}else if(n=iv(t.doc,r.to,1),n==null)return!1;return e&&e(t.tr.join(n).scrollIntoView()),!0},YG=(t,e)=>{let{$from:r,$to:n}=t.selection,i=r.blockRange(n),s=i&&bp(i);return s==null?!1:(e&&e(t.tr.lift(i,s).scrollIntoView()),!0)},NI=(t,e)=>{let{$head:r,$anchor:n}=t.selection;return!r.parent.type.spec.code||!r.sameParent(n)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function mE(t){for(let e=0;e<t.edgeCount;e++){let{type:r}=t.edge(e);if(r.isTextblock&&!r.hasRequiredAttrs())return r}return null}const JG=(t,e)=>{let{$head:r,$anchor:n}=t.selection;if(!r.parent.type.spec.code||!r.sameParent(n))return!1;let i=r.node(-1),s=r.indexAfter(-1),a=mE(i.contentMatchAt(s));if(!a||!i.canReplaceWith(s,s,a))return!1;if(e){let o=r.after(),l=t.tr.replaceWith(o,o,a.createAndFill());l.setSelection(tr.near(l.doc.resolve(o),1)),e(l.scrollIntoView())}return!0},FI=(t,e)=>{let r=t.selection,{$from:n,$to:i}=r;if(r instanceof qa||n.parent.inlineContent||i.parent.inlineContent)return!1;let s=mE(i.parent.contentMatchAt(i.indexAfter()));if(!s||!s.isTextblock)return!1;if(e){let a=(!n.parentOffset&&i.index()<i.parent.childCount?n:i).pos,o=t.tr.insert(a,s.createAndFill());o.setSelection(qt.create(o.doc,a+1)),e(o.scrollIntoView())}return!0},UI=(t,e)=>{let{$cursor:r}=t.selection;if(!r||r.parent.content.size)return!1;if(r.depth>1&&r.after()!=r.end(-1)){let s=r.before();if(ec(t.doc,s))return e&&e(t.tr.split(s).scrollIntoView()),!0}let n=r.blockRange(),i=n&&bp(n);return i==null?!1:(e&&e(t.tr.lift(n,i).scrollIntoView()),!0)};function XG(t){return(e,r)=>{let{$from:n,$to:i}=e.selection;if(e.selection instanceof jt&&e.selection.node.isBlock)return!n.parentOffset||!ec(e.doc,n.pos)?!1:(r&&r(e.tr.split(n.pos).scrollIntoView()),!0);if(!n.depth)return!1;let s=[],a,o,l=!1,c=!1;for(let d=n.depth;;d--)if(n.node(d).isBlock){l=n.end(d)==n.pos+(n.depth-d),c=n.start(d)==n.pos-(n.depth-d),o=mE(n.node(d-1).contentMatchAt(n.indexAfter(d-1))),s.unshift(l&&o?{type:o}:null),a=d;break}else{if(d==1)return!1;s.unshift(null)}let f=e.tr;(e.selection instanceof qt||e.selection instanceof qa)&&f.deleteSelection();let h=f.mapping.map(n.pos),m=ec(f.doc,h,s.length,s);if(m||(s[0]=o?{type:o}:null,m=ec(f.doc,h,s.length,s)),!m)return!1;if(f.split(h,s.length,s),!l&&c&&n.node(a).type!=o){let d=f.mapping.map(n.before(a)),g=f.doc.resolve(d);o&&n.node(a-1).canReplaceWith(g.index(),g.index()+1,o)&&f.setNodeMarkup(f.mapping.map(n.before(a)),o)}return r&&r(f.scrollIntoView()),!0}}const ZG=XG(),eW=(t,e)=>{let{$from:r,to:n}=t.selection,i,s=r.sharedDepth(n);return s==0?!1:(i=r.before(s),e&&e(t.tr.setSelection(jt.create(t.doc,i))),!0)};function tW(t,e,r){let n=e.nodeBefore,i=e.nodeAfter,s=e.index();return!n||!i||!n.type.compatibleContent(i.type)?!1:!n.content.size&&e.parent.canReplace(s-1,s)?(r&&r(t.tr.delete(e.pos-n.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(s,s+1)||!(i.isTextblock||Fu(t.doc,e.pos))?!1:(r&&r(t.tr.join(e.pos).scrollIntoView()),!0)}function OI(t,e,r,n){let i=e.nodeBefore,s=e.nodeAfter,a,o,l=i.type.spec.isolating||s.type.spec.isolating;if(!l&&tW(t,e,r))return!0;let c=!l&&e.parent.canReplace(e.index(),e.index()+1);if(c&&(a=(o=i.contentMatchAt(i.childCount)).findWrapping(s.type))&&o.matchType(a[0]||s.type).validEnd){if(r){let d=e.pos+s.nodeSize,g=it.empty;for(let w=a.length-1;w>=0;w--)g=it.from(a[w].create(null,g));g=it.from(i.copy(g));let v=t.tr.step(new ns(e.pos-1,d,e.pos,d,new pt(g,1,0),a.length,!0)),b=v.doc.resolve(d+2*a.length);b.nodeAfter&&b.nodeAfter.type==i.type&&Fu(v.doc,b.pos)&&v.join(b.pos),r(v.scrollIntoView())}return!0}let f=s.type.spec.isolating||n>0&&l?null:tr.findFrom(e,1),h=f&&f.$from.blockRange(f.$to),m=h&&bp(h);if(m!=null&&m>=e.depth)return r&&r(t.tr.lift(h,m).scrollIntoView()),!0;if(c&&rp(s,"start",!0)&&rp(i,"end")){let d=i,g=[];for(;g.push(d),!d.isTextblock;)d=d.lastChild;let v=s,b=1;for(;!v.isTextblock;v=v.firstChild)b++;if(d.canReplace(d.childCount,d.childCount,v.content)){if(r){let w=it.empty;for(let S=g.length-1;S>=0;S--)w=it.from(g[S].copy(w));let B=t.tr.step(new ns(e.pos-g.length,e.pos+s.nodeSize,e.pos+b,e.pos+s.nodeSize-b,new pt(w,g.length,0),0,!0));r(B.scrollIntoView())}return!0}}return!1}function LI(t){return function(e,r){let n=e.selection,i=t<0?n.$from:n.$to,s=i.depth;for(;i.node(s).isInline;){if(!s)return!1;s--}return i.node(s).isTextblock?(r&&r(e.tr.setSelection(qt.create(e.doc,t<0?i.start(s):i.end(s)))),!0):!1}}const rW=LI(-1),nW=LI(1);function iW(t,e=null){return function(r,n){let{$from:i,$to:s}=r.selection,a=i.blockRange(s),o=a&&cE(a,t,e);return o?(n&&n(r.tr.wrap(a,o).scrollIntoView()),!0):!1}}function S3(t,e=null){return function(r,n){let i=!1;for(let s=0;s<r.selection.ranges.length&&!i;s++){let{$from:{pos:a},$to:{pos:o}}=r.selection.ranges[s];r.doc.nodesBetween(a,o,(l,c)=>{if(i)return!1;if(!(!l.isTextblock||l.hasMarkup(t,e)))if(l.type==t)i=!0;else{let f=r.doc.resolve(c),h=f.index();i=f.parent.canReplaceWith(h,h+1,t)}})}if(!i)return!1;if(n){let s=r.tr;for(let a=0;a<r.selection.ranges.length;a++){let{$from:{pos:o},$to:{pos:l}}=r.selection.ranges[a];s.setBlockType(o,l,t,e)}n(s.scrollIntoView())}return!0}}function gE(...t){return function(e,r,n){for(let i=0;i<t.length;i++)if(t[i](e,r,n))return!0;return!1}}gE(hE,CI,EI);gE(hE,kI,TI);gE(NI,FI,UI,ZG);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function sW(t,e=null){return function(r,n){let{$from:i,$to:s}=r.selection,a=i.blockRange(s);if(!a)return!1;let o=n?r.tr:null;return aW(o,a,t,e)?(n&&n(o.scrollIntoView()),!0):!1}}function aW(t,e,r,n=null){let i=!1,s=e,a=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(r)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let l=a.resolve(e.start-2);s=new Q1(l,l,e.depth),e.endIndex<e.parent.childCount&&(e=new Q1(e.$from,a.resolve(e.$to.end(e.depth)),e.depth)),i=!0}let o=cE(s,r,n,e);return o?(t&&oW(t,e,o,i,r),!0):!1}function oW(t,e,r,n,i){let s=it.empty;for(let f=r.length-1;f>=0;f--)s=it.from(r[f].type.create(r[f].attrs,s));t.step(new ns(e.start-(n?2:0),e.end,e.start,e.end,new pt(s,0,0),r.length,!0));let a=0;for(let f=0;f<r.length;f++)r[f].type==i&&(a=f+1);let o=r.length-a,l=e.start+r.length-(n?2:0),c=e.parent;for(let f=e.startIndex,h=e.endIndex,m=!0;f<h;f++,m=!1)!m&&ec(t.doc,l,o)&&(t.split(l,o),l+=2*o),l+=c.child(f).nodeSize;return t}function lW(t){return function(e,r){let{$from:n,$to:i}=e.selection,s=n.blockRange(i,a=>a.childCount>0&&a.firstChild.type==t);return s?r?n.node(s.depth-1).type==t?AW(e,r,t,s):cW(e,r,s):!0:!1}}function AW(t,e,r,n){let i=t.tr,s=n.end,a=n.$to.end(n.depth);s<a&&(i.step(new ns(s-1,a,s,a,new pt(it.from(r.create(null,n.parent.copy())),1,0),1,!0)),n=new Q1(i.doc.resolve(n.$from.pos),i.doc.resolve(a),n.depth));const o=bp(n);if(o==null)return!1;i.lift(n,o);let l=i.doc.resolve(i.mapping.map(s,-1)-1);return Fu(i.doc,l.pos)&&l.nodeBefore.type==l.nodeAfter.type&&i.join(l.pos),e(i.scrollIntoView()),!0}function cW(t,e,r){let n=t.tr,i=r.parent;for(let d=r.end,g=r.endIndex-1,v=r.startIndex;g>v;g--)d-=i.child(g).nodeSize,n.delete(d-1,d+1);let s=n.doc.resolve(r.start),a=s.nodeAfter;if(n.mapping.map(r.end)!=r.start+s.nodeAfter.nodeSize)return!1;let o=r.startIndex==0,l=r.endIndex==i.childCount,c=s.node(-1),f=s.index(-1);if(!c.canReplace(f+(o?0:1),f+1,a.content.append(l?it.empty:it.from(i))))return!1;let h=s.pos,m=h+a.nodeSize;return n.step(new ns(h-(o?1:0),m+(l?1:0),h+1,m-1,new pt((o?it.empty:it.from(i.copy(it.empty))).append(l?it.empty:it.from(i.copy(it.empty))),o?0:1,l?0:1),o?0:1)),e(n.scrollIntoView()),!0}function uW(t){return function(e,r){let{$from:n,$to:i}=e.selection,s=n.blockRange(i,c=>c.childCount>0&&c.firstChild.type==t);if(!s)return!1;let a=s.startIndex;if(a==0)return!1;let o=s.parent,l=o.child(a-1);if(l.type!=t)return!1;if(r){let c=l.lastChild&&l.lastChild.type==o.type,f=it.from(c?t.create():null),h=new pt(it.from(t.create(null,it.from(o.type.create(null,f)))),c?3:1,0),m=s.start,d=s.end;r(e.tr.step(new ns(m-(c?3:1),d,m,d,h,1,!0)).scrollIntoView())}return!0}}const bs=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},np=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let SC=null;const WA=function(t,e,r){let n=SC||(SC=document.createRange());return n.setEnd(t,r??t.nodeValue.length),n.setStart(t,e||0),n},fW=function(){SC=null},Wf=function(t,e,r,n){return r&&(E3(t,e,r,n,-1)||E3(t,e,r,n,1))},hW=/^(img|br|input|textarea|hr)$/i;function E3(t,e,r,n,i){for(var s;;){if(t==r&&e==n)return!0;if(e==(i<0?0:xo(t))){let a=t.parentNode;if(!a||a.nodeType!=1||zg(t)||hW.test(t.nodeName)||t.contentEditable=="false")return!1;e=bs(t)+(i<0?0:1),t=a}else if(t.nodeType==1){let a=t.childNodes[e+(i<0?-1:0)];if(a.nodeType==1&&a.contentEditable=="false")if(!((s=a.pmViewDesc)===null||s===void 0)&&s.ignoreForSelection)e+=i;else return!1;else t=a,e=i<0?xo(t):0}else return!1}}function xo(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function dW(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=xo(t)}else if(t.parentNode&&!zg(t))e=bs(t),t=t.parentNode;else return null}}function pW(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!zg(t))e=bs(t)+1,t=t.parentNode;else return null}}function mW(t,e,r){for(let n=e==0,i=e==xo(t);n||i;){if(t==r)return!0;let s=bs(t);if(t=t.parentNode,!t)return!1;n=n&&s==0,i=i&&s==xo(t)}}function zg(t){let e;for(let r=t;r&&!(e=r.pmViewDesc);r=r.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const ov=function(t){return t.focusNode&&Wf(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function _f(t,e){let r=document.createEvent("Event");return r.initEvent("keydown",!0,!0),r.keyCode=t,r.key=r.code=e,r}function gW(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function yW(t,e,r){if(t.caretPositionFromPoint)try{let n=t.caretPositionFromPoint(e,r);if(n)return{node:n.offsetNode,offset:Math.min(xo(n.offsetNode),n.offset)}}catch{}if(t.caretRangeFromPoint){let n=t.caretRangeFromPoint(e,r);if(n)return{node:n.startContainer,offset:Math.min(xo(n.startContainer),n.startOffset)}}}const Zl=typeof navigator<"u"?navigator:null,_3=typeof document<"u"?document:null,Uu=Zl&&Zl.userAgent||"",EC=/Edge\/(\d+)/.exec(Uu),DI=/MSIE \d/.exec(Uu),_C=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Uu),Ba=!!(DI||_C||EC),yu=DI?document.documentMode:_C?+_C[1]:EC?+EC[1]:0,So=!Ba&&/gecko\/(\d+)/i.test(Uu);So&&+(/Firefox\/(\d+)/.exec(Uu)||[0,0])[1];const kC=!Ba&&/Chrome\/(\d+)/.exec(Uu),ts=!!kC,II=kC?+kC[1]:0,Ss=!Ba&&!!Zl&&/Apple Computer/.test(Zl.vendor),ip=Ss&&(/Mobile\/\w+/.test(Uu)||!!Zl&&Zl.maxTouchPoints>2),vo=ip||(Zl?/Mac/.test(Zl.platform):!1),RI=Zl?/Win/.test(Zl.platform):!1,JA=/Android \d/.test(Uu),Kg=!!_3&&"webkitFontSmoothing"in _3.documentElement.style,wW=Kg?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function vW(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function IA(t,e){return typeof t=="number"?t:t[e]}function bW(t){let e=t.getBoundingClientRect(),r=e.width/t.offsetWidth||1,n=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*r,top:e.top,bottom:e.top+t.clientHeight*n}}function k3(t,e,r){let n=t.someProp("scrollThreshold")||0,i=t.someProp("scrollMargin")||5,s=t.dom.ownerDocument;for(let a=r||t.dom;a;){if(a.nodeType!=1){a=np(a);continue}let o=a,l=o==s.body,c=l?vW(s):bW(o),f=0,h=0;if(e.top<c.top+IA(n,"top")?h=-(c.top-e.top+IA(i,"top")):e.bottom>c.bottom-IA(n,"bottom")&&(h=e.bottom-e.top>c.bottom-c.top?e.top+IA(i,"top")-c.top:e.bottom-c.bottom+IA(i,"bottom")),e.left<c.left+IA(n,"left")?f=-(c.left-e.left+IA(i,"left")):e.right>c.right-IA(n,"right")&&(f=e.right-c.right+IA(i,"right")),f||h)if(l)s.defaultView.scrollBy(f,h);else{let d=o.scrollLeft,g=o.scrollTop;h&&(o.scrollTop+=h),f&&(o.scrollLeft+=f);let v=o.scrollLeft-d,b=o.scrollTop-g;e={left:e.left-v,top:e.top-b,right:e.right-v,bottom:e.bottom-b}}let m=l?"fixed":getComputedStyle(a).position;if(/^(fixed|sticky)$/.test(m))break;a=m=="absolute"?a.offsetParent:np(a)}}function xW(t){let e=t.dom.getBoundingClientRect(),r=Math.max(0,e.top),n,i;for(let s=(e.left+e.right)/2,a=r+1;a<Math.min(innerHeight,e.bottom);a+=5){let o=t.root.elementFromPoint(s,a);if(!o||o==t.dom||!t.dom.contains(o))continue;let l=o.getBoundingClientRect();if(l.top>=r-20){n=o,i=l.top;break}}return{refDOM:n,refTop:i,stack:MI(t.dom)}}function MI(t){let e=[],r=t.ownerDocument;for(let n=t;n&&(e.push({dom:n,top:n.scrollTop,left:n.scrollLeft}),t!=r);n=np(n));return e}function BW({refDOM:t,refTop:e,stack:r}){let n=t?t.getBoundingClientRect().top:0;QI(r,n==0?0:n-e)}function QI(t,e){for(let r=0;r<t.length;r++){let{dom:n,top:i,left:s}=t[r];n.scrollTop!=i+e&&(n.scrollTop=i+e),n.scrollLeft!=s&&(n.scrollLeft=s)}}let ad=null;function CW(t){if(t.setActive)return t.setActive();if(ad)return t.focus(ad);let e=MI(t);t.focus(ad==null?{get preventScroll(){return ad={preventScroll:!0},!0}}:void 0),ad||(ad=!1,QI(e,0))}function HI(t,e){let r,n=2e8,i,s=0,a=e.top,o=e.top,l,c;for(let f=t.firstChild,h=0;f;f=f.nextSibling,h++){let m;if(f.nodeType==1)m=f.getClientRects();else if(f.nodeType==3)m=WA(f).getClientRects();else continue;for(let d=0;d<m.length;d++){let g=m[d];if(g.top<=a&&g.bottom>=o){a=Math.max(g.bottom,a),o=Math.min(g.top,o);let v=g.left>e.left?g.left-e.left:g.right<e.left?e.left-g.right:0;if(v<n){r=f,n=v,i=v&&r.nodeType==3?{left:g.right<e.left?g.right:g.left,top:e.top}:e,f.nodeType==1&&v&&(s=h+(e.left>=(g.left+g.right)/2?1:0));continue}}else g.top>e.top&&!l&&g.left<=e.left&&g.right>=e.left&&(l=f,c={left:Math.max(g.left,Math.min(g.right,e.left)),top:g.top});!r&&(e.left>=g.right&&e.top>=g.top||e.left>=g.left&&e.top>=g.bottom)&&(s=h+1)}}return!r&&l&&(r=l,i=c,n=0),r&&r.nodeType==3?SW(r,i):!r||n&&r.nodeType==1?{node:t,offset:s}:HI(r,i)}function SW(t,e){let r=t.nodeValue.length,n=document.createRange(),i;for(let s=0;s<r;s++){n.setEnd(t,s+1),n.setStart(t,s);let a=$c(n,1);if(a.top!=a.bottom&&yE(e,a)){i={node:t,offset:s+(e.left>=(a.left+a.right)/2?1:0)};break}}return n.detach(),i||{node:t,offset:0}}function yE(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function EW(t,e){let r=t.parentNode;return r&&/^li$/i.test(r.nodeName)&&e.left<t.getBoundingClientRect().left?r:t}function _W(t,e,r){let{node:n,offset:i}=HI(e,r),s=-1;if(n.nodeType==1&&!n.firstChild){let a=n.getBoundingClientRect();s=a.left!=a.right&&r.left>(a.left+a.right)/2?1:-1}return t.docView.posFromDOM(n,i,s)}function kW(t,e,r,n){let i=-1;for(let s=e,a=!1;s!=t.dom;){let o=t.docView.nearestDesc(s,!0),l;if(!o)return null;if(o.dom.nodeType==1&&(o.node.isBlock&&o.parent||!o.contentDOM)&&((l=o.dom.getBoundingClientRect()).width||l.height)&&(o.node.isBlock&&o.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(o.dom.nodeName)&&(!a&&l.left>n.left||l.top>n.top?i=o.posBefore:(!a&&l.right<n.left||l.bottom<n.top)&&(i=o.posAfter),a=!0),!o.contentDOM&&i<0&&!o.node.isText))return(o.node.isBlock?n.top<(l.top+l.bottom)/2:n.left<(l.left+l.right)/2)?o.posBefore:o.posAfter;s=o.dom.parentNode}return i>-1?i:t.docView.posFromDOM(e,r,-1)}function jI(t,e,r){let n=t.childNodes.length;if(n&&r.top<r.bottom)for(let i=Math.max(0,Math.min(n-1,Math.floor(n*(e.top-r.top)/(r.bottom-r.top))-2)),s=i;;){let a=t.childNodes[s];if(a.nodeType==1){let o=a.getClientRects();for(let l=0;l<o.length;l++){let c=o[l];if(yE(e,c))return jI(a,e,c)}}if((s=(s+1)%n)==i)break}return t}function TW(t,e){let r=t.dom.ownerDocument,n,i=0,s=yW(r,e.left,e.top);s&&({node:n,offset:i}=s);let a=(t.root.elementFromPoint?t.root:r).elementFromPoint(e.left,e.top),o;if(!a||!t.dom.contains(a.nodeType!=1?a.parentNode:a)){let c=t.dom.getBoundingClientRect();if(!yE(e,c)||(a=jI(t.dom,e,c),!a))return null}if(Ss)for(let c=a;n&&c;c=np(c))c.draggable&&(n=void 0);if(a=EW(a,e),n){if(So&&n.nodeType==1&&(i=Math.min(i,n.childNodes.length),i<n.childNodes.length)){let f=n.childNodes[i],h;f.nodeName=="IMG"&&(h=f.getBoundingClientRect()).right<=e.left&&h.bottom>e.top&&i++}let c;Kg&&i&&n.nodeType==1&&(c=n.childNodes[i-1]).nodeType==1&&c.contentEditable=="false"&&c.getBoundingClientRect().top>=e.top&&i--,n==t.dom&&i==n.childNodes.length-1&&n.lastChild.nodeType==1&&e.top>n.lastChild.getBoundingClientRect().bottom?o=t.state.doc.content.size:(i==0||n.nodeType!=1||n.childNodes[i-1].nodeName!="BR")&&(o=kW(t,n,i,e))}o==null&&(o=_W(t,a,e));let l=t.docView.nearestDesc(a,!0);return{pos:o,inside:l?l.posAtStart-l.border:-1}}function T3(t){return t.top<t.bottom||t.left<t.right}function $c(t,e){let r=t.getClientRects();if(r.length){let n=r[e<0?0:r.length-1];if(T3(n))return n}return Array.prototype.find.call(r,T3)||t.getBoundingClientRect()}const NW=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function PI(t,e,r){let{node:n,offset:i,atom:s}=t.docView.domFromPos(e,r<0?-1:1),a=Kg||So;if(n.nodeType==3)if(a&&(NW.test(n.nodeValue)||(r<0?!i:i==n.nodeValue.length))){let l=$c(WA(n,i,i),r);if(So&&i&&/\s/.test(n.nodeValue[i-1])&&i<n.nodeValue.length){let c=$c(WA(n,i-1,i-1),-1);if(c.top==l.top){let f=$c(WA(n,i,i+1),-1);if(f.top!=l.top)return cm(f,f.left<c.left)}}return l}else{let l=i,c=i,f=r<0?1:-1;return r<0&&!i?(c++,f=-1):r>=0&&i==n.nodeValue.length?(l--,f=1):r<0?l--:c++,cm($c(WA(n,l,c),f),f<0)}if(!t.state.doc.resolve(e-(s||0)).parent.inlineContent){if(s==null&&i&&(r<0||i==xo(n))){let l=n.childNodes[i-1];if(l.nodeType==1)return I2(l.getBoundingClientRect(),!1)}if(s==null&&i<xo(n)){let l=n.childNodes[i];if(l.nodeType==1)return I2(l.getBoundingClientRect(),!0)}return I2(n.getBoundingClientRect(),r>=0)}if(s==null&&i&&(r<0||i==xo(n))){let l=n.childNodes[i-1],c=l.nodeType==3?WA(l,xo(l)-(a?0:1)):l.nodeType==1&&(l.nodeName!="BR"||!l.nextSibling)?l:null;if(c)return cm($c(c,1),!1)}if(s==null&&i<xo(n)){let l=n.childNodes[i];for(;l.pmViewDesc&&l.pmViewDesc.ignoreForCoords;)l=l.nextSibling;let c=l?l.nodeType==3?WA(l,0,a?0:1):l.nodeType==1?l:null:null;if(c)return cm($c(c,-1),!0)}return cm($c(n.nodeType==3?WA(n):n,-r),r>=0)}function cm(t,e){if(t.width==0)return t;let r=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:r,right:r}}function I2(t,e){if(t.height==0)return t;let r=e?t.top:t.bottom;return{top:r,bottom:r,left:t.left,right:t.right}}function zI(t,e,r){let n=t.state,i=t.root.activeElement;n!=e&&t.updateState(e),i!=t.dom&&t.focus();try{return r()}finally{n!=e&&t.updateState(n),i!=t.dom&&i&&i.focus()}}function FW(t,e,r){let n=e.selection,i=r=="up"?n.$from:n.$to;return zI(t,e,()=>{let{node:s}=t.docView.domFromPos(i.pos,r=="up"?-1:1);for(;;){let o=t.docView.nearestDesc(s,!0);if(!o)break;if(o.node.isBlock){s=o.contentDOM||o.dom;break}s=o.dom.parentNode}let a=PI(t,i.pos,1);for(let o=s.firstChild;o;o=o.nextSibling){let l;if(o.nodeType==1)l=o.getClientRects();else if(o.nodeType==3)l=WA(o,0,o.nodeValue.length).getClientRects();else continue;for(let c=0;c<l.length;c++){let f=l[c];if(f.bottom>f.top+1&&(r=="up"?a.top-f.top>(f.bottom-a.top)*2:f.bottom-a.bottom>(a.bottom-f.top)*2))return!1}}return!0})}const UW=/[\u0590-\u08ac]/;function OW(t,e,r){let{$head:n}=e.selection;if(!n.parent.isTextblock)return!1;let i=n.parentOffset,s=!i,a=i==n.parent.content.size,o=t.domSelection();return o?!UW.test(n.parent.textContent)||!o.modify?r=="left"||r=="backward"?s:a:zI(t,e,()=>{let{focusNode:l,focusOffset:c,anchorNode:f,anchorOffset:h}=t.domSelectionRange(),m=o.caretBidiLevel;o.modify("move",r,"character");let d=n.depth?t.docView.domAfterPos(n.before()):t.dom,{focusNode:g,focusOffset:v}=t.domSelectionRange(),b=g&&!d.contains(g.nodeType==1?g:g.parentNode)||l==g&&c==v;try{o.collapse(f,h),l&&(l!=f||c!=h)&&o.extend&&o.extend(l,c)}catch{}return m!=null&&(o.caretBidiLevel=m),b}):n.pos==n.start()||n.pos==n.end()}let N3=null,F3=null,U3=!1;function LW(t,e,r){return N3==e&&F3==r?U3:(N3=e,F3=r,U3=r=="up"||r=="down"?FW(t,e,r):OW(t,e,r))}const Eo=0,O3=1,Ff=2,eA=3;class Vg{constructor(e,r,n,i){this.parent=e,this.children=r,this.dom=n,this.contentDOM=i,this.dirty=Eo,n.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,r,n){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let r=0;r<this.children.length;r++)e+=this.children[r].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let r=0,n=this.posAtStart;;r++){let i=this.children[r];if(i==e)return n;n+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,r,n){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(n<0){let s,a;if(e==this.contentDOM)s=e.childNodes[r-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.previousSibling}for(;s&&!((a=s.pmViewDesc)&&a.parent==this);)s=s.previousSibling;return s?this.posBeforeChild(a)+a.size:this.posAtStart}else{let s,a;if(e==this.contentDOM)s=e.childNodes[r];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.nextSibling}for(;s&&!((a=s.pmViewDesc)&&a.parent==this);)s=s.nextSibling;return s?this.posBeforeChild(a):this.posAtEnd}let i;if(e==this.dom&&this.contentDOM)i=r>bs(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(r==0)for(let s=e;;s=s.parentNode){if(s==this.dom){i=!1;break}if(s.previousSibling)break}if(i==null&&r==e.childNodes.length)for(let s=e;;s=s.parentNode){if(s==this.dom){i=!0;break}if(s.nextSibling)break}}return i??n>0?this.posAtEnd:this.posAtStart}nearestDesc(e,r=!1){for(let n=!0,i=e;i;i=i.parentNode){let s=this.getDesc(i),a;if(s&&(!r||s.node))if(n&&(a=s.nodeDOM)&&!(a.nodeType==1?a.contains(e.nodeType==1?e:e.parentNode):a==e))n=!1;else return s}}getDesc(e){let r=e.pmViewDesc;for(let n=r;n;n=n.parent)if(n==this)return r}posFromDOM(e,r,n){for(let i=e;i;i=i.parentNode){let s=this.getDesc(i);if(s)return s.localPosFromDOM(e,r,n)}return-1}descAt(e){for(let r=0,n=0;r<this.children.length;r++){let i=this.children[r],s=n+i.size;if(n==e&&s!=n){for(;!i.border&&i.children.length;)for(let a=0;a<i.children.length;a++){let o=i.children[a];if(o.size){i=o;break}}return i}if(e<s)return i.descAt(e-n-i.border);n=s}}domFromPos(e,r){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let n=0,i=0;for(let s=0;n<this.children.length;n++){let a=this.children[n],o=s+a.size;if(o>e||a instanceof VI){i=e-s;break}s=o}if(i)return this.children[n].domFromPos(i-this.children[n].border,r);for(let s;n&&!(s=this.children[n-1]).size&&s instanceof KI&&s.side>=0;n--);if(r<=0){let s,a=!0;for(;s=n?this.children[n-1]:null,!(!s||s.dom.parentNode==this.contentDOM);n--,a=!1);return s&&r&&a&&!s.border&&!s.domAtom?s.domFromPos(s.size,r):{node:this.contentDOM,offset:s?bs(s.dom)+1:0}}else{let s,a=!0;for(;s=n<this.children.length?this.children[n]:null,!(!s||s.dom.parentNode==this.contentDOM);n++,a=!1);return s&&a&&!s.border&&!s.domAtom?s.domFromPos(0,r):{node:this.contentDOM,offset:s?bs(s.dom):this.contentDOM.childNodes.length}}}parseRange(e,r,n=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:r,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,s=-1;for(let a=n,o=0;;o++){let l=this.children[o],c=a+l.size;if(i==-1&&e<=c){let f=a+l.border;if(e>=f&&r<=c-l.border&&l.node&&l.contentDOM&&this.contentDOM.contains(l.contentDOM))return l.parseRange(e,r,f);e=a;for(let h=o;h>0;h--){let m=this.children[h-1];if(m.size&&m.dom.parentNode==this.contentDOM&&!m.emptyChildAt(1)){i=bs(m.dom)+1;break}e-=m.size}i==-1&&(i=0)}if(i>-1&&(c>r||o==this.children.length-1)){r=c;for(let f=o+1;f<this.children.length;f++){let h=this.children[f];if(h.size&&h.dom.parentNode==this.contentDOM&&!h.emptyChildAt(-1)){s=bs(h.dom);break}r+=h.size}s==-1&&(s=this.contentDOM.childNodes.length);break}a=c}return{node:this.contentDOM,from:e,to:r,fromOffset:i,toOffset:s}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let r=this.children[e<0?0:this.children.length-1];return r.size==0||r.emptyChildAt(e)}domAfterPos(e){let{node:r,offset:n}=this.domFromPos(e,0);if(r.nodeType!=1||n==r.childNodes.length)throw new RangeError("No node after pos "+e);return r.childNodes[n]}setSelection(e,r,n,i=!1){let s=Math.min(e,r),a=Math.max(e,r);for(let d=0,g=0;d<this.children.length;d++){let v=this.children[d],b=g+v.size;if(s>g&&a<b)return v.setSelection(e-g-v.border,r-g-v.border,n,i);g=b}let o=this.domFromPos(e,e?-1:1),l=r==e?o:this.domFromPos(r,r?-1:1),c=n.root.getSelection(),f=n.domSelectionRange(),h=!1;if((So||Ss)&&e==r){let{node:d,offset:g}=o;if(d.nodeType==3){if(h=!!(g&&d.nodeValue[g-1]==`
`),h&&g==d.nodeValue.length)for(let v=d,b;v;v=v.parentNode){if(b=v.nextSibling){b.nodeName=="BR"&&(o=l={node:b.parentNode,offset:bs(b)+1});break}let w=v.pmViewDesc;if(w&&w.node&&w.node.isBlock)break}}else{let v=d.childNodes[g-1];h=v&&(v.nodeName=="BR"||v.contentEditable=="false")}}if(So&&f.focusNode&&f.focusNode!=l.node&&f.focusNode.nodeType==1){let d=f.focusNode.childNodes[f.focusOffset];d&&d.contentEditable=="false"&&(i=!0)}if(!(i||h&&Ss)&&Wf(o.node,o.offset,f.anchorNode,f.anchorOffset)&&Wf(l.node,l.offset,f.focusNode,f.focusOffset))return;let m=!1;if((c.extend||e==r)&&!(h&&So)){c.collapse(o.node,o.offset);try{e!=r&&c.extend(l.node,l.offset),m=!0}catch{}}if(!m){if(e>r){let g=o;o=l,l=g}let d=document.createRange();d.setEnd(l.node,l.offset),d.setStart(o.node,o.offset),c.removeAllRanges(),c.addRange(d)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,r){for(let n=0,i=0;i<this.children.length;i++){let s=this.children[i],a=n+s.size;if(n==a?e<=a&&r>=n:e<a&&r>n){let o=n+s.border,l=a-s.border;if(e>=o&&r<=l){this.dirty=e==n||r==a?Ff:O3,e==o&&r==l&&(s.contentLost||s.dom.parentNode!=this.contentDOM)?s.dirty=eA:s.markDirty(e-o,r-o);return}else s.dirty=s.dom==s.contentDOM&&s.dom.parentNode==this.contentDOM&&!s.children.length?Ff:eA}n=a}this.dirty=Ff}markParentsDirty(){let e=1;for(let r=this.parent;r;r=r.parent,e++){let n=e==1?Ff:O3;r.dirty<n&&(r.dirty=n)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}}class KI extends Vg{constructor(e,r,n,i){let s,a=r.type.toDOM;if(typeof a=="function"&&(a=a(n,()=>{if(!s)return i;if(s.parent)return s.parent.posBeforeChild(s)})),!r.type.spec.raw){if(a.nodeType!=1){let o=document.createElement("span");o.appendChild(a),a=o}a.contentEditable="false",a.classList.add("ProseMirror-widget")}super(e,[],a,null),this.widget=r,this.widget=r,s=this}matchesWidget(e){return this.dirty==Eo&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let r=this.widget.spec.stopEvent;return r?r(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class DW extends Vg{constructor(e,r,n,i){super(e,[],r,null),this.textDOM=n,this.text=i}get size(){return this.text.length}localPosFromDOM(e,r){return e!=this.textDOM?this.posAtStart+(r?this.size:0):this.posAtStart+r}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class $f extends Vg{constructor(e,r,n,i,s){super(e,[],n,i),this.mark=r,this.spec=s}static create(e,r,n,i){let s=i.nodeViews[r.type.name],a=s&&s(r,i,n);return(!a||!a.dom)&&(a=nh.renderSpec(document,r.type.spec.toDOM(r,n),null,r.attrs)),new $f(e,r,a.dom,a.contentDOM||a.dom,a)}parseRule(){return this.dirty&eA||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=eA&&this.mark.eq(e)}markDirty(e,r){if(super.markDirty(e,r),this.dirty!=Eo){let n=this.parent;for(;!n.node;)n=n.parent;n.dirty<this.dirty&&(n.dirty=this.dirty),this.dirty=Eo}}slice(e,r,n){let i=$f.create(this.parent,this.mark,!0,n),s=this.children,a=this.size;r<a&&(s=NC(s,r,a,n)),e>0&&(s=NC(s,0,e,n));for(let o=0;o<s.length;o++)s[o].parent=i;return i.children=s,i}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class wu extends Vg{constructor(e,r,n,i,s,a,o,l,c){super(e,[],s,a),this.node=r,this.outerDeco=n,this.innerDeco=i,this.nodeDOM=o}static create(e,r,n,i,s,a){let o=s.nodeViews[r.type.name],l,c=o&&o(r,s,()=>{if(!l)return a;if(l.parent)return l.parent.posBeforeChild(l)},n,i),f=c&&c.dom,h=c&&c.contentDOM;if(r.isText){if(!f)f=document.createTextNode(r.text);else if(f.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else f||({dom:f,contentDOM:h}=nh.renderSpec(document,r.type.spec.toDOM(r),null,r.attrs));!h&&!r.isText&&f.nodeName!="BR"&&(f.hasAttribute("contenteditable")||(f.contentEditable="false"),r.type.spec.draggable&&(f.draggable=!0));let m=f;return f=WI(f,n,r),c?l=new IW(e,r,n,i,f,h||null,m,c,s,a+1):r.isText?new lv(e,r,n,i,f,m,s):new wu(e,r,n,i,f,h||null,m,s,a+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let r=this.children.length-1;r>=0;r--){let n=this.children[r];if(this.dom.contains(n.dom.parentNode)){e.contentElement=n.dom.parentNode;break}}e.contentElement||(e.getContent=()=>it.empty)}return e}matchesNode(e,r,n){return this.dirty==Eo&&e.eq(this.node)&&j1(r,this.outerDeco)&&n.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,r){let n=this.node.inlineContent,i=r,s=e.composing?this.localCompositionInfo(e,r):null,a=s&&s.pos>-1?s:null,o=s&&s.pos<0,l=new MW(this,a&&a.node,e);jW(this.node,this.innerDeco,(c,f,h)=>{c.spec.marks?l.syncToMarks(c.spec.marks,n,e,f):c.type.side>=0&&!h&&l.syncToMarks(f==this.node.childCount?fn.none:this.node.child(f).marks,n,e,f),l.placeWidget(c,e,i)},(c,f,h,m)=>{l.syncToMarks(c.marks,n,e,m);let d;l.findNodeMatch(c,f,h,m)||o&&e.state.selection.from>i&&e.state.selection.to<i+c.nodeSize&&(d=l.findIndexWithChild(s.node))>-1&&l.updateNodeAt(c,f,h,d,e)||l.updateNextNode(c,f,h,e,m,i)||l.addNode(c,f,h,e,i),i+=c.nodeSize}),l.syncToMarks([],n,e,0),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||this.dirty==Ff)&&(a&&this.protectLocalComposition(e,a),qI(this.contentDOM,this.children,e),ip&&PW(this.dom))}localCompositionInfo(e,r){let{from:n,to:i}=e.state.selection;if(!(e.state.selection instanceof qt)||n<r||i>r+this.node.content.size)return null;let s=e.input.compositionNode;if(!s||!this.dom.contains(s.parentNode))return null;if(this.node.inlineContent){let a=s.nodeValue,o=zW(this.node.content,a,n-r,i-r);return o<0?null:{node:s,pos:o,text:a}}else return{node:s,pos:-1,text:""}}protectLocalComposition(e,{node:r,pos:n,text:i}){if(this.getDesc(r))return;let s=r;for(;s.parentNode!=this.contentDOM;s=s.parentNode){for(;s.previousSibling;)s.parentNode.removeChild(s.previousSibling);for(;s.nextSibling;)s.parentNode.removeChild(s.nextSibling);s.pmViewDesc&&(s.pmViewDesc=void 0)}let a=new DW(this,s,r,i);e.input.compositionNodes.push(a),this.children=NC(this.children,n,n+i.length,e,a)}update(e,r,n,i){return this.dirty==eA||!e.sameMarkup(this.node)?!1:(this.updateInner(e,r,n,i),!0)}updateInner(e,r,n,i){this.updateOuterDeco(r),this.node=e,this.innerDeco=n,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=Eo}updateOuterDeco(e){if(j1(e,this.outerDeco))return;let r=this.nodeDOM.nodeType!=1,n=this.dom;this.dom=GI(this.dom,this.nodeDOM,TC(this.outerDeco,this.node,r),TC(e,this.node,r)),this.dom!=n&&(n.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function L3(t,e,r,n,i){WI(n,e,t);let s=new wu(void 0,t,e,r,n,n,n,i,0);return s.contentDOM&&s.updateChildren(i,0),s}class lv extends wu{constructor(e,r,n,i,s,a,o){super(e,r,n,i,s,null,a,o,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,r,n,i){return this.dirty==eA||this.dirty!=Eo&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(r),(this.dirty!=Eo||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=Eo,!0)}inParent(){let e=this.parent.contentDOM;for(let r=this.nodeDOM;r;r=r.parentNode)if(r==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,r,n){return e==this.nodeDOM?this.posAtStart+Math.min(r,this.node.text.length):super.localPosFromDOM(e,r,n)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,r,n){let i=this.node.cut(e,r),s=document.createTextNode(i.text);return new lv(this.parent,i,this.outerDeco,this.innerDeco,s,s,n)}markDirty(e,r){super.markDirty(e,r),this.dom!=this.nodeDOM&&(e==0||r==this.nodeDOM.nodeValue.length)&&(this.dirty=eA)}get domAtom(){return!1}isText(e){return this.node.text==e}}class VI extends Vg{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==Eo&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class IW extends wu{constructor(e,r,n,i,s,a,o,l,c,f){super(e,r,n,i,s,a,o,c,f),this.spec=l}update(e,r,n,i){if(this.dirty==eA)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let s=this.spec.update(e,r,n);return s&&this.updateInner(e,r,n,i),s}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,r,n,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,r,n,i){this.spec.setSelection?this.spec.setSelection(e,r,n.root):super.setSelection(e,r,n,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function qI(t,e,r){let n=t.firstChild,i=!1;for(let s=0;s<e.length;s++){let a=e[s],o=a.dom;if(o.parentNode==t){for(;o!=n;)n=D3(n),i=!0;n=n.nextSibling}else i=!0,t.insertBefore(o,n);if(a instanceof $f){let l=n?n.previousSibling:t.lastChild;qI(a.contentDOM,a.children,r),n=l?l.nextSibling:t.firstChild}}for(;n;)n=D3(n),i=!0;i&&r.trackWrites==t&&(r.trackWrites=null)}const Vm=function(t){t&&(this.nodeName=t)};Vm.prototype=Object.create(null);const Uf=[new Vm];function TC(t,e,r){if(t.length==0)return Uf;let n=r?Uf[0]:new Vm,i=[n];for(let s=0;s<t.length;s++){let a=t[s].type.attrs;if(a){a.nodeName&&i.push(n=new Vm(a.nodeName));for(let o in a){let l=a[o];l!=null&&(r&&i.length==1&&i.push(n=new Vm(e.isInline?"span":"div")),o=="class"?n.class=(n.class?n.class+" ":"")+l:o=="style"?n.style=(n.style?n.style+";":"")+l:o!="nodeName"&&(n[o]=l))}}}return i}function GI(t,e,r,n){if(r==Uf&&n==Uf)return e;let i=e;for(let s=0;s<n.length;s++){let a=n[s],o=r[s];if(s){let l;o&&o.nodeName==a.nodeName&&i!=t&&(l=i.parentNode)&&l.nodeName.toLowerCase()==a.nodeName||(l=document.createElement(a.nodeName),l.pmIsDeco=!0,l.appendChild(i),o=Uf[0]),i=l}RW(i,o||Uf[0],a)}return i}function RW(t,e,r){for(let n in e)n!="class"&&n!="style"&&n!="nodeName"&&!(n in r)&&t.removeAttribute(n);for(let n in r)n!="class"&&n!="style"&&n!="nodeName"&&r[n]!=e[n]&&t.setAttribute(n,r[n]);if(e.class!=r.class){let n=e.class?e.class.split(" ").filter(Boolean):[],i=r.class?r.class.split(" ").filter(Boolean):[];for(let s=0;s<n.length;s++)i.indexOf(n[s])==-1&&t.classList.remove(n[s]);for(let s=0;s<i.length;s++)n.indexOf(i[s])==-1&&t.classList.add(i[s]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=r.style){if(e.style){let n=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=n.exec(e.style);)t.style.removeProperty(i[1])}r.style&&(t.style.cssText+=r.style)}}function WI(t,e,r){return GI(t,t,Uf,TC(e,r,t.nodeType!=1))}function j1(t,e){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!t[r].type.eq(e[r].type))return!1;return!0}function D3(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class MW{constructor(e,r,n){this.lock=r,this.view=n,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=QW(e.node.content,e)}destroyBetween(e,r){if(e!=r){for(let n=e;n<r;n++)this.top.children[n].destroy();this.top.children.splice(e,r-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,r,n,i){let s=0,a=this.stack.length>>1,o=Math.min(a,e.length);for(;s<o&&(s==a-1?this.top:this.stack[s+1<<1]).matchesMark(e[s])&&e[s].type.spec.spanning!==!1;)s++;for(;s<a;)this.destroyRest(),this.top.dirty=Eo,this.index=this.stack.pop(),this.top=this.stack.pop(),a--;for(;a<e.length;){this.stack.push(this.top,this.index+1);let l=-1,c=this.top.children.length;i<this.preMatch.index&&(c=Math.min(this.index+3,c));for(let f=this.index;f<c;f++){let h=this.top.children[f];if(h.matchesMark(e[a])&&!this.isLocked(h.dom)){l=f;break}}if(l>-1)l>this.index&&(this.changed=!0,this.destroyBetween(this.index,l)),this.top=this.top.children[this.index];else{let f=$f.create(this.top,e[a],r,n);this.top.children.splice(this.index,0,f),this.top=f,this.changed=!0}this.index=0,a++}}findNodeMatch(e,r,n,i){let s=-1,a;if(i>=this.preMatch.index&&(a=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&a.matchesNode(e,r,n))s=this.top.children.indexOf(a,this.index);else for(let o=this.index,l=Math.min(this.top.children.length,o+5);o<l;o++){let c=this.top.children[o];if(c.matchesNode(e,r,n)&&!this.preMatch.matched.has(c)){s=o;break}}return s<0?!1:(this.destroyBetween(this.index,s),this.index++,!0)}updateNodeAt(e,r,n,i,s){let a=this.top.children[i];return a.dirty==eA&&a.dom==a.contentDOM&&(a.dirty=Ff),a.update(e,r,n,s)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(e){for(;;){let r=e.parentNode;if(!r)return-1;if(r==this.top.contentDOM){let n=e.pmViewDesc;if(n){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==n)return i}return-1}e=r}}updateNextNode(e,r,n,i,s,a){for(let o=this.index;o<this.top.children.length;o++){let l=this.top.children[o];if(l instanceof wu){let c=this.preMatch.matched.get(l);if(c!=null&&c!=s)return!1;let f=l.dom,h,m=this.isLocked(f)&&!(e.isText&&l.node&&l.node.isText&&l.nodeDOM.nodeValue==e.text&&l.dirty!=eA&&j1(r,l.outerDeco));if(!m&&l.update(e,r,n,i))return this.destroyBetween(this.index,o),l.dom!=f&&(this.changed=!0),this.index++,!0;if(!m&&(h=this.recreateWrapper(l,e,r,n,i,a)))return this.destroyBetween(this.index,o),this.top.children[this.index]=h,h.contentDOM&&(h.dirty=Ff,h.updateChildren(i,a+1),h.dirty=Eo),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,r,n,i,s,a){if(e.dirty||r.isAtom||!e.children.length||!e.node.content.eq(r.content)||!j1(n,e.outerDeco)||!i.eq(e.innerDeco))return null;let o=wu.create(this.top,r,n,i,s,a);if(o.contentDOM){o.children=e.children,e.children=[];for(let l of o.children)l.parent=o}return e.destroy(),o}addNode(e,r,n,i,s){let a=wu.create(this.top,e,r,n,i,s);a.contentDOM&&a.updateChildren(i,s+1),this.top.children.splice(this.index++,0,a),this.changed=!0}placeWidget(e,r,n){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(e)&&(e==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let s=new KI(this.top,e,r,n);this.top.children.splice(this.index++,0,s),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],r=this.top;for(;e instanceof $f;)r=e,e=r.children[r.children.length-1];(!e||!(e instanceof lv)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((Ss||ts)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",r),this.addHackNode("BR",this.top))}addHackNode(e,r){if(r==this.top&&this.index<r.children.length&&r.children[this.index].matchesHack(e))this.index++;else{let n=document.createElement(e);e=="IMG"&&(n.className="ProseMirror-separator",n.alt=""),e=="BR"&&(n.className="ProseMirror-trailingBreak");let i=new VI(this.top,[],n,null);r!=this.top?r.children.push(i):r.children.splice(this.index++,0,i),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function QW(t,e){let r=e,n=r.children.length,i=t.childCount,s=new Map,a=[];e:for(;i>0;){let o;for(;;)if(n){let c=r.children[n-1];if(c instanceof $f)r=c,n=c.children.length;else{o=c,n--;break}}else{if(r==e)break e;n=r.parent.children.indexOf(r),r=r.parent}let l=o.node;if(l){if(l!=t.child(i-1))break;--i,s.set(o,i),a.push(o)}}return{index:i,matched:s,matches:a.reverse()}}function HW(t,e){return t.type.side-e.type.side}function jW(t,e,r,n){let i=e.locals(t),s=0;if(i.length==0){for(let c=0;c<t.childCount;c++){let f=t.child(c);n(f,i,e.forChild(s,f),c),s+=f.nodeSize}return}let a=0,o=[],l=null;for(let c=0;;){let f,h;for(;a<i.length&&i[a].to==s;){let b=i[a++];b.widget&&(f?(h||(h=[f])).push(b):f=b)}if(f)if(h){h.sort(HW);for(let b=0;b<h.length;b++)r(h[b],c,!!l)}else r(f,c,!!l);let m,d;if(l)d=-1,m=l,l=null;else if(c<t.childCount)d=c,m=t.child(c++);else break;for(let b=0;b<o.length;b++)o[b].to<=s&&o.splice(b--,1);for(;a<i.length&&i[a].from<=s&&i[a].to>s;)o.push(i[a++]);let g=s+m.nodeSize;if(m.isText){let b=g;a<i.length&&i[a].from<b&&(b=i[a].from);for(let w=0;w<o.length;w++)o[w].to<b&&(b=o[w].to);b<g&&(l=m.cut(b-s),m=m.cut(0,b-s),g=b,d=-1)}else for(;a<i.length&&i[a].to<g;)a++;let v=m.isInline&&!m.isLeaf?o.filter(b=>!b.inline):o.slice();n(m,v,e.forChild(s,m),d),s=g}}function PW(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function zW(t,e,r,n){for(let i=0,s=0;i<t.childCount&&s<=n;){let a=t.child(i++),o=s;if(s+=a.nodeSize,!a.isText)continue;let l=a.text;for(;i<t.childCount;){let c=t.child(i++);if(s+=c.nodeSize,!c.isText)break;l+=c.text}if(s>=r){if(s>=n&&l.slice(n-e.length-o,n-o)==e)return n-e.length;let c=o<n?l.lastIndexOf(e,n-o-1):-1;if(c>=0&&c+e.length+o>=r)return o+c;if(r==n&&l.length>=n+e.length-o&&l.slice(n-o,n-o+e.length)==e)return n}}return-1}function NC(t,e,r,n,i){let s=[];for(let a=0,o=0;a<t.length;a++){let l=t[a],c=o,f=o+=l.size;c>=r||f<=e?s.push(l):(c<e&&s.push(l.slice(0,e-c,n)),i&&(s.push(i),i=void 0),f>r&&s.push(l.slice(r-c,l.size,n)))}return s}function wE(t,e=null){let r=t.domSelectionRange(),n=t.state.doc;if(!r.focusNode)return null;let i=t.docView.nearestDesc(r.focusNode),s=i&&i.size==0,a=t.docView.posFromDOM(r.focusNode,r.focusOffset,1);if(a<0)return null;let o=n.resolve(a),l,c;if(ov(r)){for(l=a;i&&!i.node;)i=i.parent;let h=i.node;if(i&&h.isAtom&&jt.isSelectable(h)&&i.parent&&!(h.isInline&&mW(r.focusNode,r.focusOffset,i.dom))){let m=i.posBefore;c=new jt(a==m?o:n.resolve(m))}}else{if(r instanceof t.dom.ownerDocument.defaultView.Selection&&r.rangeCount>1){let h=a,m=a;for(let d=0;d<r.rangeCount;d++){let g=r.getRangeAt(d);h=Math.min(h,t.docView.posFromDOM(g.startContainer,g.startOffset,1)),m=Math.max(m,t.docView.posFromDOM(g.endContainer,g.endOffset,-1))}if(h<0)return null;[l,a]=m==t.state.selection.anchor?[m,h]:[h,m],o=n.resolve(a)}else l=t.docView.posFromDOM(r.anchorNode,r.anchorOffset,1);if(l<0)return null}let f=n.resolve(l);if(!c){let h=e=="pointer"||t.state.selection.head<o.pos&&!s?1:-1;c=vE(t,f,o,h)}return c}function $I(t){return t.editable?t.hasFocus():JI(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function tc(t,e=!1){let r=t.state.selection;if(YI(t,r),!!$I(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&ts){let n=t.domSelectionRange(),i=t.domObserver.currentSelection;if(n.anchorNode&&i.anchorNode&&Wf(n.anchorNode,n.anchorOffset,i.anchorNode,i.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)VW(t);else{let{anchor:n,head:i}=r,s,a;I3&&!(r instanceof qt)&&(r.$from.parent.inlineContent||(s=R3(t,r.from)),!r.empty&&!r.$from.parent.inlineContent&&(a=R3(t,r.to))),t.docView.setSelection(n,i,t,e),I3&&(s&&M3(s),a&&M3(a)),r.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&KW(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const I3=Ss||ts&&II<63;function R3(t,e){let{node:r,offset:n}=t.docView.domFromPos(e,0),i=n<r.childNodes.length?r.childNodes[n]:null,s=n?r.childNodes[n-1]:null;if(Ss&&i&&i.contentEditable=="false")return R2(i);if((!i||i.contentEditable=="false")&&(!s||s.contentEditable=="false")){if(i)return R2(i);if(s)return R2(s)}}function R2(t){return t.contentEditable="true",Ss&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function M3(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function KW(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let r=t.domSelectionRange(),n=r.anchorNode,i=r.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(r.anchorNode!=n||r.anchorOffset!=i)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!$I(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function VW(t){let e=t.domSelection();if(!e)return;let r=t.cursorWrapper.dom,n=r.nodeName=="IMG";n?e.collapse(r.parentNode,bs(r)+1):e.collapse(r,0),!n&&!t.state.selection.visible&&Ba&&yu<=11&&(r.disabled=!0,r.disabled=!1)}function YI(t,e){if(e instanceof jt){let r=t.docView.descAt(e.from);r!=t.lastSelectedViewDesc&&(Q3(t),r&&r.selectNode(),t.lastSelectedViewDesc=r)}else Q3(t)}function Q3(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function vE(t,e,r,n){return t.someProp("createSelectionBetween",i=>i(t,e,r))||qt.between(e,r,n)}function H3(t){return t.editable&&!t.hasFocus()?!1:JI(t)}function JI(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function qW(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),r=t.domSelectionRange();return Wf(e.node,e.offset,r.anchorNode,r.anchorOffset)}function FC(t,e){let{$anchor:r,$head:n}=t.selection,i=e>0?r.max(n):r.min(n),s=i.parent.inlineContent?i.depth?t.doc.resolve(e>0?i.after():i.before()):null:i;return s&&tr.findFrom(s,e)}function Zc(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function j3(t,e,r){let n=t.state.selection;if(n instanceof qt)if(r.indexOf("s")>-1){let{$head:i}=n,s=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter;if(!s||s.isText||!s.isLeaf)return!1;let a=t.state.doc.resolve(i.pos+s.nodeSize*(e<0?-1:1));return Zc(t,new qt(n.$anchor,a))}else if(n.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let i=FC(t.state,e);return i&&i instanceof jt?Zc(t,i):!1}else if(!(vo&&r.indexOf("m")>-1)){let i=n.$head,s=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,a;if(!s||s.isText)return!1;let o=e<0?i.pos-s.nodeSize:i.pos;return s.isAtom||(a=t.docView.descAt(o))&&!a.contentDOM?jt.isSelectable(s)?Zc(t,new jt(e<0?t.state.doc.resolve(i.pos-s.nodeSize):i)):Kg?Zc(t,new qt(t.state.doc.resolve(e<0?o:o+s.nodeSize))):!1:!1}}else return!1;else{if(n instanceof jt&&n.node.isInline)return Zc(t,new qt(e>0?n.$to:n.$from));{let i=FC(t.state,e);return i?Zc(t,i):!1}}}function P1(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function qm(t,e){let r=t.pmViewDesc;return r&&r.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function od(t,e){return e<0?GW(t):WW(t)}function GW(t){let e=t.domSelectionRange(),r=e.focusNode,n=e.focusOffset;if(!r)return;let i,s,a=!1;for(So&&r.nodeType==1&&n<P1(r)&&qm(r.childNodes[n],-1)&&(a=!0);;)if(n>0){if(r.nodeType!=1)break;{let o=r.childNodes[n-1];if(qm(o,-1))i=r,s=--n;else if(o.nodeType==3)r=o,n=r.nodeValue.length;else break}}else{if(XI(r))break;{let o=r.previousSibling;for(;o&&qm(o,-1);)i=r.parentNode,s=bs(o),o=o.previousSibling;if(o)r=o,n=P1(r);else{if(r=r.parentNode,r==t.dom)break;n=0}}}a?UC(t,r,n):i&&UC(t,i,s)}function WW(t){let e=t.domSelectionRange(),r=e.focusNode,n=e.focusOffset;if(!r)return;let i=P1(r),s,a;for(;;)if(n<i){if(r.nodeType!=1)break;let o=r.childNodes[n];if(qm(o,1))s=r,a=++n;else break}else{if(XI(r))break;{let o=r.nextSibling;for(;o&&qm(o,1);)s=o.parentNode,a=bs(o)+1,o=o.nextSibling;if(o)r=o,n=0,i=P1(r);else{if(r=r.parentNode,r==t.dom)break;n=i=0}}}s&&UC(t,s,a)}function XI(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function $W(t,e){for(;t&&e==t.childNodes.length&&!zg(t);)e=bs(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let r=t.childNodes[e];if(r.nodeType==3)return r;if(r.nodeType==1&&r.contentEditable=="false")break;t=r,e=0}}function YW(t,e){for(;t&&!e&&!zg(t);)e=bs(t),t=t.parentNode;for(;t&&e;){let r=t.childNodes[e-1];if(r.nodeType==3)return r;if(r.nodeType==1&&r.contentEditable=="false")break;t=r,e=t.childNodes.length}}function UC(t,e,r){if(e.nodeType!=3){let s,a;(a=$W(e,r))?(e=a,r=0):(s=YW(e,r))&&(e=s,r=s.nodeValue.length)}let n=t.domSelection();if(!n)return;if(ov(n)){let s=document.createRange();s.setEnd(e,r),s.setStart(e,r),n.removeAllRanges(),n.addRange(s)}else n.extend&&n.extend(e,r);t.domObserver.setCurSelection();let{state:i}=t;setTimeout(()=>{t.state==i&&tc(t)},50)}function P3(t,e){let r=t.state.doc.resolve(e);if(!(ts||RI)&&r.parent.inlineContent){let i=t.coordsAtPos(e);if(e>r.start()){let s=t.coordsAtPos(e-1),a=(s.top+s.bottom)/2;if(a>i.top&&a<i.bottom&&Math.abs(s.left-i.left)>1)return s.left<i.left?"ltr":"rtl"}if(e<r.end()){let s=t.coordsAtPos(e+1),a=(s.top+s.bottom)/2;if(a>i.top&&a<i.bottom&&Math.abs(s.left-i.left)>1)return s.left>i.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function z3(t,e,r){let n=t.state.selection;if(n instanceof qt&&!n.empty||r.indexOf("s")>-1||vo&&r.indexOf("m")>-1)return!1;let{$from:i,$to:s}=n;if(!i.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let a=FC(t.state,e);if(a&&a instanceof jt)return Zc(t,a)}if(!i.parent.inlineContent){let a=e<0?i:s,o=n instanceof qa?tr.near(a,e):tr.findFrom(a,e);return o?Zc(t,o):!1}return!1}function K3(t,e){if(!(t.state.selection instanceof qt))return!0;let{$head:r,$anchor:n,empty:i}=t.state.selection;if(!r.sameParent(n))return!0;if(!i)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let s=!r.textOffset&&(e<0?r.nodeBefore:r.nodeAfter);if(s&&!s.isText){let a=t.state.tr;return e<0?a.delete(r.pos-s.nodeSize,r.pos):a.delete(r.pos,r.pos+s.nodeSize),t.dispatch(a),!0}return!1}function V3(t,e,r){t.domObserver.stop(),e.contentEditable=r,t.domObserver.start()}function JW(t){if(!Ss||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:r}=t.domSelectionRange();if(e&&e.nodeType==1&&r==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let n=e.firstChild;V3(t,n,"true"),setTimeout(()=>V3(t,n,"false"),20)}return!1}function XW(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function ZW(t,e){let r=e.keyCode,n=XW(e);if(r==8||vo&&r==72&&n=="c")return K3(t,-1)||od(t,-1);if(r==46&&!e.shiftKey||vo&&r==68&&n=="c")return K3(t,1)||od(t,1);if(r==13||r==27)return!0;if(r==37||vo&&r==66&&n=="c"){let i=r==37?P3(t,t.state.selection.from)=="ltr"?-1:1:-1;return j3(t,i,n)||od(t,i)}else if(r==39||vo&&r==70&&n=="c"){let i=r==39?P3(t,t.state.selection.from)=="ltr"?1:-1:1;return j3(t,i,n)||od(t,i)}else{if(r==38||vo&&r==80&&n=="c")return z3(t,-1,n)||od(t,-1);if(r==40||vo&&r==78&&n=="c")return JW(t)||z3(t,1,n)||od(t,1);if(n==(vo?"m":"c")&&(r==66||r==73||r==89||r==90))return!0}return!1}function bE(t,e){t.someProp("transformCopied",d=>{e=d(e,t)});let r=[],{content:n,openStart:i,openEnd:s}=e;for(;i>1&&s>1&&n.childCount==1&&n.firstChild.childCount==1;){i--,s--;let d=n.firstChild;r.push(d.type.name,d.attrs!=d.type.defaultAttrs?d.attrs:null),n=d.content}let a=t.someProp("clipboardSerializer")||nh.fromSchema(t.state.schema),o=iR(),l=o.createElement("div");l.appendChild(a.serializeFragment(n,{document:o}));let c=l.firstChild,f,h=0;for(;c&&c.nodeType==1&&(f=nR[c.nodeName.toLowerCase()]);){for(let d=f.length-1;d>=0;d--){let g=o.createElement(f[d]);for(;l.firstChild;)g.appendChild(l.firstChild);l.appendChild(g),h++}c=l.firstChild}c&&c.nodeType==1&&c.setAttribute("data-pm-slice",`${i} ${s}${h?` -${h}`:""} ${JSON.stringify(r)}`);let m=t.someProp("clipboardTextSerializer",d=>d(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:l,text:m,slice:e}}function ZI(t,e,r,n,i){let s=i.parent.type.spec.code,a,o;if(!r&&!e)return null;let l=!!e&&(n||s||!r);if(l){if(t.someProp("transformPastedText",m=>{e=m(e,s||n,t)}),s)return o=new pt(it.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0),t.someProp("transformPasted",m=>{o=m(o,t,!0)}),o;let h=t.someProp("clipboardTextParser",m=>m(e,i,n,t));if(h)o=h;else{let m=i.marks(),{schema:d}=t.state,g=nh.fromSchema(d);a=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(v=>{let b=a.appendChild(document.createElement("p"));v&&b.appendChild(g.serializeNode(d.text(v,m)))})}}else t.someProp("transformPastedHTML",h=>{r=h(r,t)}),a=n$(r),Kg&&i$(a);let c=a&&a.querySelector("[data-pm-slice]"),f=c&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(c.getAttribute("data-pm-slice")||"");if(f&&f[3])for(let h=+f[3];h>0;h--){let m=a.firstChild;for(;m&&m.nodeType!=1;)m=m.nextSibling;if(!m)break;a=m}if(o||(o=(t.someProp("clipboardParser")||t.someProp("domParser")||zm.fromSchema(t.state.schema)).parseSlice(a,{preserveWhitespace:!!(l||f),context:i,ruleFromNode(m){return m.nodeName=="BR"&&!m.nextSibling&&m.parentNode&&!e$.test(m.parentNode.nodeName)?{ignore:!0}:null}})),f)o=s$(q3(o,+f[1],+f[2]),f[4]);else if(o=pt.maxOpen(t$(o.content,i),!0),o.openStart||o.openEnd){let h=0,m=0;for(let d=o.content.firstChild;h<o.openStart&&!d.type.spec.isolating;h++,d=d.firstChild);for(let d=o.content.lastChild;m<o.openEnd&&!d.type.spec.isolating;m++,d=d.lastChild);o=q3(o,h,m)}return t.someProp("transformPasted",h=>{o=h(o,t,l)}),o}const e$=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function t$(t,e){if(t.childCount<2)return t;for(let r=e.depth;r>=0;r--){let i=e.node(r).contentMatchAt(e.index(r)),s,a=[];if(t.forEach(o=>{if(!a)return;let l=i.findWrapping(o.type),c;if(!l)return a=null;if(c=a.length&&s.length&&tR(l,s,o,a[a.length-1],0))a[a.length-1]=c;else{a.length&&(a[a.length-1]=rR(a[a.length-1],s.length));let f=eR(o,l);a.push(f),i=i.matchType(f.type),s=l}}),a)return it.from(a)}return t}function eR(t,e,r=0){for(let n=e.length-1;n>=r;n--)t=e[n].create(null,it.from(t));return t}function tR(t,e,r,n,i){if(i<t.length&&i<e.length&&t[i]==e[i]){let s=tR(t,e,r,n.lastChild,i+1);if(s)return n.copy(n.content.replaceChild(n.childCount-1,s));if(n.contentMatchAt(n.childCount).matchType(i==t.length-1?r.type:t[i+1]))return n.copy(n.content.append(it.from(eR(r,t,i+1))))}}function rR(t,e){if(e==0)return t;let r=t.content.replaceChild(t.childCount-1,rR(t.lastChild,e-1)),n=t.contentMatchAt(t.childCount).fillBefore(it.empty,!0);return t.copy(r.append(n))}function OC(t,e,r,n,i,s){let a=e<0?t.firstChild:t.lastChild,o=a.content;return t.childCount>1&&(s=0),i<n-1&&(o=OC(o,e,r,n,i+1,s)),i>=r&&(o=e<0?a.contentMatchAt(0).fillBefore(o,s<=i).append(o):o.append(a.contentMatchAt(a.childCount).fillBefore(it.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,a.copy(o))}function q3(t,e,r){return e<t.openStart&&(t=new pt(OC(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),r<t.openEnd&&(t=new pt(OC(t.content,1,r,t.openEnd,0,0),t.openStart,r)),t}const nR={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let G3=null;function iR(){return G3||(G3=document.implementation.createHTMLDocument("title"))}let M2=null;function r$(t){let e=window.trustedTypes;return e?(M2||(M2=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:r=>r})),M2.createHTML(t)):t}function n$(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let r=iR().createElement("div"),n=/<([a-z][^>\s]+)/i.exec(t),i;if((i=n&&nR[n[1].toLowerCase()])&&(t=i.map(s=>"<"+s+">").join("")+t+i.map(s=>"</"+s+">").reverse().join("")),r.innerHTML=r$(t),i)for(let s=0;s<i.length;s++)r=r.querySelector(i[s])||r;return r}function i$(t){let e=t.querySelectorAll(ts?"span:not([class]):not([style])":"span.Apple-converted-space");for(let r=0;r<e.length;r++){let n=e[r];n.childNodes.length==1&&n.textContent==""&&n.parentNode&&n.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),n)}}function s$(t,e){if(!t.size)return t;let r=t.content.firstChild.type.schema,n;try{n=JSON.parse(e)}catch{return t}let{content:i,openStart:s,openEnd:a}=t;for(let o=n.length-2;o>=0;o-=2){let l=r.nodes[n[o]];if(!l||l.hasRequiredAttrs())break;i=it.from(l.create(n[o+1],i)),s++,a++}return new pt(i,s,a)}const ea={},ta={},a$={touchstart:!0,touchmove:!0};class o${constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.badSafariComposition=!1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function l$(t){for(let e in ea){let r=ea[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=n=>{c$(t,n)&&!xE(t,n)&&(t.editable||!(n.type in ta))&&r(t,n)},a$[e]?{passive:!0}:void 0)}Ss&&t.dom.addEventListener("input",()=>null),LC(t)}function fu(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function A$(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function LC(t){t.someProp("handleDOMEvents",e=>{for(let r in e)t.input.eventHandlers[r]||t.dom.addEventListener(r,t.input.eventHandlers[r]=n=>xE(t,n))})}function xE(t,e){return t.someProp("handleDOMEvents",r=>{let n=r[e.type];return n?n(t,e)||e.defaultPrevented:!1})}function c$(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let r=e.target;r!=t.dom;r=r.parentNode)if(!r||r.nodeType==11||r.pmViewDesc&&r.pmViewDesc.stopEvent(e))return!1;return!0}function u$(t,e){!xE(t,e)&&ea[e.type]&&(t.editable||!(e.type in ta))&&ea[e.type](t,e)}ta.keydown=(t,e)=>{let r=e;if(t.input.shiftKey=r.keyCode==16||r.shiftKey,!aR(t,r)&&(t.input.lastKeyCode=r.keyCode,t.input.lastKeyCodeTime=Date.now(),!(JA&&ts&&r.keyCode==13)))if(r.keyCode!=229&&t.domObserver.forceFlush(),ip&&r.keyCode==13&&!r.ctrlKey&&!r.altKey&&!r.metaKey){let n=Date.now();t.input.lastIOSEnter=n,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==n&&(t.someProp("handleKeyDown",i=>i(t,_f(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",n=>n(t,r))||ZW(t,r)?r.preventDefault():fu(t,"key")};ta.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};ta.keypress=(t,e)=>{let r=e;if(aR(t,r)||!r.charCode||r.ctrlKey&&!r.altKey||vo&&r.metaKey)return;if(t.someProp("handleKeyPress",i=>i(t,r))){r.preventDefault();return}let n=t.state.selection;if(!(n instanceof qt)||!n.$from.sameParent(n.$to)){let i=String.fromCharCode(r.charCode),s=()=>t.state.tr.insertText(i).scrollIntoView();!/[\r\n]/.test(i)&&!t.someProp("handleTextInput",a=>a(t,n.$from.pos,n.$to.pos,i,s))&&t.dispatch(s()),r.preventDefault()}};function Av(t){return{left:t.clientX,top:t.clientY}}function f$(t,e){let r=e.x-t.clientX,n=e.y-t.clientY;return r*r+n*n<100}function BE(t,e,r,n,i){if(n==-1)return!1;let s=t.state.doc.resolve(n);for(let a=s.depth+1;a>0;a--)if(t.someProp(e,o=>a>s.depth?o(t,r,s.nodeAfter,s.before(a),i,!0):o(t,r,s.node(a),s.before(a),i,!1)))return!0;return!1}function Kd(t,e,r){if(t.focused||t.focus(),t.state.selection.eq(e))return;let n=t.state.tr.setSelection(e);n.setMeta("pointer",!0),t.dispatch(n)}function h$(t,e){if(e==-1)return!1;let r=t.state.doc.resolve(e),n=r.nodeAfter;return n&&n.isAtom&&jt.isSelectable(n)?(Kd(t,new jt(r)),!0):!1}function d$(t,e){if(e==-1)return!1;let r=t.state.selection,n,i;r instanceof jt&&(n=r.node);let s=t.state.doc.resolve(e);for(let a=s.depth+1;a>0;a--){let o=a>s.depth?s.nodeAfter:s.node(a);if(jt.isSelectable(o)){n&&r.$from.depth>0&&a>=r.$from.depth&&s.before(r.$from.depth+1)==r.$from.pos?i=s.before(r.$from.depth):i=s.before(a);break}}return i!=null?(Kd(t,jt.create(t.state.doc,i)),!0):!1}function p$(t,e,r,n,i){return BE(t,"handleClickOn",e,r,n)||t.someProp("handleClick",s=>s(t,e,n))||(i?d$(t,r):h$(t,r))}function m$(t,e,r,n){return BE(t,"handleDoubleClickOn",e,r,n)||t.someProp("handleDoubleClick",i=>i(t,e,n))}function g$(t,e,r,n){return BE(t,"handleTripleClickOn",e,r,n)||t.someProp("handleTripleClick",i=>i(t,e,n))||y$(t,r,n)}function y$(t,e,r){if(r.button!=0)return!1;let n=t.state.doc;if(e==-1)return n.inlineContent?(Kd(t,qt.create(n,0,n.content.size)),!0):!1;let i=n.resolve(e);for(let s=i.depth+1;s>0;s--){let a=s>i.depth?i.nodeAfter:i.node(s),o=i.before(s);if(a.inlineContent)Kd(t,qt.create(n,o+1,o+1+a.content.size));else if(jt.isSelectable(a))Kd(t,jt.create(n,o));else continue;return!0}}function CE(t){return z1(t)}const sR=vo?"metaKey":"ctrlKey";ea.mousedown=(t,e)=>{let r=e;t.input.shiftKey=r.shiftKey;let n=CE(t),i=Date.now(),s="singleClick";i-t.input.lastClick.time<500&&f$(r,t.input.lastClick)&&!r[sR]&&t.input.lastClick.button==r.button&&(t.input.lastClick.type=="singleClick"?s="doubleClick":t.input.lastClick.type=="doubleClick"&&(s="tripleClick")),t.input.lastClick={time:i,x:r.clientX,y:r.clientY,type:s,button:r.button};let a=t.posAtCoords(Av(r));a&&(s=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new w$(t,a,r,!!n)):(s=="doubleClick"?m$:g$)(t,a.pos,a.inside,r)?r.preventDefault():fu(t,"pointer"))};class w${constructor(e,r,n,i){this.view=e,this.pos=r,this.event=n,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!n[sR],this.allowDefault=n.shiftKey;let s,a;if(r.inside>-1)s=e.state.doc.nodeAt(r.inside),a=r.inside;else{let f=e.state.doc.resolve(r.pos);s=f.parent,a=f.depth?f.before():0}const o=i?null:n.target,l=o?e.docView.nearestDesc(o,!0):null;this.target=l&&l.nodeDOM.nodeType==1?l.nodeDOM:null;let{selection:c}=e.state;(n.button==0&&s.type.spec.draggable&&s.type.spec.selectable!==!1||c instanceof jt&&c.from<=a&&c.to>a)&&(this.mightDrag={node:s,pos:a,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&So&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),fu(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>tc(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let r=this.pos;this.view.state.doc!=this.startDoc&&(r=this.view.posAtCoords(Av(e))),this.updateAllowDefault(e),this.allowDefault||!r?fu(this.view,"pointer"):p$(this.view,r.pos,r.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||Ss&&this.mightDrag&&!this.mightDrag.node.isAtom||ts&&!this.view.state.selection.visible&&Math.min(Math.abs(r.pos-this.view.state.selection.from),Math.abs(r.pos-this.view.state.selection.to))<=2)?(Kd(this.view,tr.near(this.view.state.doc.resolve(r.pos))),e.preventDefault()):fu(this.view,"pointer")}move(e){this.updateAllowDefault(e),fu(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}ea.touchstart=t=>{t.input.lastTouch=Date.now(),CE(t),fu(t,"pointer")};ea.touchmove=t=>{t.input.lastTouch=Date.now(),fu(t,"pointer")};ea.contextmenu=t=>CE(t);function aR(t,e){return t.composing?!0:Ss&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const v$=JA?5e3:-1;ta.compositionstart=ta.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,r=e.selection.$to;if(e.selection instanceof qt&&(e.storedMarks||!r.textOffset&&r.parentOffset&&r.nodeBefore.marks.some(n=>n.type.spec.inclusive===!1)||ts&&RI&&b$(t)))t.markCursor=t.state.storedMarks||r.marks(),z1(t,!0),t.markCursor=null;else if(z1(t,!e.selection.empty),So&&e.selection.empty&&r.parentOffset&&!r.textOffset&&r.nodeBefore.marks.length){let n=t.domSelectionRange();for(let i=n.focusNode,s=n.focusOffset;i&&i.nodeType==1&&s!=0;){let a=s<0?i.lastChild:i.childNodes[s-1];if(!a)break;if(a.nodeType==3){let o=t.domSelection();o&&o.collapse(a,a.nodeValue.length);break}else i=a,s=-1}}t.input.composing=!0}oR(t,v$)};function b$(t){let{focusNode:e,focusOffset:r}=t.domSelectionRange();if(!e||e.nodeType!=1||r>=e.childNodes.length)return!1;let n=e.childNodes[r];return n.nodeType==1&&n.contentEditable=="false"}ta.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.badSafariComposition?t.domObserver.forceFlush():t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,oR(t,20))};function oR(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>z1(t),e))}function lR(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=B$());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function x$(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let r=dW(e.focusNode,e.focusOffset),n=pW(e.focusNode,e.focusOffset);if(r&&n&&r!=n){let i=n.pmViewDesc,s=t.domObserver.lastChangedTextNode;if(r==s||n==s)return s;if(!i||!i.isText(n.nodeValue))return n;if(t.input.compositionNode==n){let a=r.pmViewDesc;if(!(!a||!a.isText(r.nodeValue)))return n}}return r||n}function B$(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function z1(t,e=!1){if(!(JA&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),lR(t),e||t.docView&&t.docView.dirty){let r=wE(t),n=t.state.selection;return r&&!r.eq(n)?t.dispatch(t.state.tr.setSelection(r)):(t.markCursor||e)&&!n.$from.node(n.$from.sharedDepth(n.to)).inlineContent?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function C$(t,e){if(!t.dom.parentNode)return;let r=t.dom.parentNode.appendChild(document.createElement("div"));r.appendChild(e),r.style.cssText="position: fixed; left: -10000px; top: 10px";let n=getSelection(),i=document.createRange();i.selectNodeContents(e),t.dom.blur(),n.removeAllRanges(),n.addRange(i),setTimeout(()=>{r.parentNode&&r.parentNode.removeChild(r),t.focus()},50)}const xg=Ba&&yu<15||ip&&wW<604;ea.copy=ta.cut=(t,e)=>{let r=e,n=t.state.selection,i=r.type=="cut";if(n.empty)return;let s=xg?null:r.clipboardData,a=n.content(),{dom:o,text:l}=bE(t,a);s?(r.preventDefault(),s.clearData(),s.setData("text/html",o.innerHTML),s.setData("text/plain",l)):C$(t,o),i&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function S$(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function E$(t,e){if(!t.dom.parentNode)return;let r=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,n=t.dom.parentNode.appendChild(document.createElement(r?"textarea":"div"));r||(n.contentEditable="true"),n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus();let i=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),n.parentNode&&n.parentNode.removeChild(n),r?Bg(t,n.value,null,i,e):Bg(t,n.textContent,n.innerHTML,i,e)},50)}function Bg(t,e,r,n,i){let s=ZI(t,e,r,n,t.state.selection.$from);if(t.someProp("handlePaste",l=>l(t,i,s||pt.empty)))return!0;if(!s)return!1;let a=S$(s),o=a?t.state.tr.replaceSelectionWith(a,n):t.state.tr.replaceSelection(s);return t.dispatch(o.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function AR(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let r=t.getData("text/uri-list");return r?r.replace(/\r?\n/g," "):""}ta.paste=(t,e)=>{let r=e;if(t.composing&&!JA)return;let n=xg?null:r.clipboardData,i=t.input.shiftKey&&t.input.lastKeyCode!=45;n&&Bg(t,AR(n),n.getData("text/html"),i,r)?r.preventDefault():E$(t,r)};class cR{constructor(e,r,n){this.slice=e,this.move=r,this.node=n}}const _$=vo?"altKey":"ctrlKey";function uR(t,e){let r=t.someProp("dragCopies",n=>!n(e));return r??!e[_$]}ea.dragstart=(t,e)=>{let r=e,n=t.input.mouseDown;if(n&&n.done(),!r.dataTransfer)return;let i=t.state.selection,s=i.empty?null:t.posAtCoords(Av(r)),a;if(!(s&&s.pos>=i.from&&s.pos<=(i instanceof jt?i.to-1:i.to))){if(n&&n.mightDrag)a=jt.create(t.state.doc,n.mightDrag.pos);else if(r.target&&r.target.nodeType==1){let h=t.docView.nearestDesc(r.target,!0);h&&h.node.type.spec.draggable&&h!=t.docView&&(a=jt.create(t.state.doc,h.posBefore))}}let o=(a||t.state.selection).content(),{dom:l,text:c,slice:f}=bE(t,o);(!r.dataTransfer.files.length||!ts||II>120)&&r.dataTransfer.clearData(),r.dataTransfer.setData(xg?"Text":"text/html",l.innerHTML),r.dataTransfer.effectAllowed="copyMove",xg||r.dataTransfer.setData("text/plain",c),t.dragging=new cR(f,uR(t,r),a)};ea.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};ta.dragover=ta.dragenter=(t,e)=>e.preventDefault();ta.drop=(t,e)=>{try{k$(t,e,t.dragging)}finally{t.dragging=null}};function k$(t,e,r){if(!e.dataTransfer)return;let n=t.posAtCoords(Av(e));if(!n)return;let i=t.state.doc.resolve(n.pos),s=r&&r.slice;s?t.someProp("transformPasted",d=>{s=d(s,t,!1)}):s=ZI(t,AR(e.dataTransfer),xg?null:e.dataTransfer.getData("text/html"),!1,i);let a=!!(r&&uR(t,e));if(t.someProp("handleDrop",d=>d(t,e,s||pt.empty,a))){e.preventDefault();return}if(!s)return;e.preventDefault();let o=s?pI(t.state.doc,i.pos,s):i.pos;o==null&&(o=i.pos);let l=t.state.tr;if(a){let{node:d}=r;d?d.replace(l):l.deleteSelection()}let c=l.mapping.map(o),f=s.openStart==0&&s.openEnd==0&&s.content.childCount==1,h=l.doc;if(f?l.replaceRangeWith(c,c,s.content.firstChild):l.replaceRange(c,c,s),l.doc.eq(h))return;let m=l.doc.resolve(c);if(f&&jt.isSelectable(s.content.firstChild)&&m.nodeAfter&&m.nodeAfter.sameMarkup(s.content.firstChild))l.setSelection(new jt(m));else{let d=l.mapping.map(o);l.mapping.maps[l.mapping.maps.length-1].forEach((g,v,b,w)=>d=w),l.setSelection(vE(t,m,l.doc.resolve(d)))}t.focus(),t.dispatch(l.setMeta("uiEvent","drop"))}ea.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&tc(t)},20))};ea.blur=(t,e)=>{let r=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),r.relatedTarget&&t.dom.contains(r.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};ea.beforeinput=(t,e)=>{if(ts&&JA&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:n}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=n||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",s=>s(t,_f(8,"Backspace")))))return;let{$cursor:i}=t.state.selection;i&&i.pos>0&&t.dispatch(t.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let t in ta)ea[t]=ta[t];function Cg(t,e){if(t==e)return!0;for(let r in t)if(t[r]!==e[r])return!1;for(let r in e)if(!(r in t))return!1;return!0}class K1{constructor(e,r){this.toDOM=e,this.spec=r||Hf,this.side=this.spec.side||0}map(e,r,n,i){let{pos:s,deleted:a}=e.mapResult(r.from+i,this.side<0?-1:1);return a?null:new rs(s-n,s-n,this)}valid(){return!0}eq(e){return this==e||e instanceof K1&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Cg(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class vu{constructor(e,r){this.attrs=e,this.spec=r||Hf}map(e,r,n,i){let s=e.map(r.from+i,this.spec.inclusiveStart?-1:1)-n,a=e.map(r.to+i,this.spec.inclusiveEnd?1:-1)-n;return s>=a?null:new rs(s,a,this)}valid(e,r){return r.from<r.to}eq(e){return this==e||e instanceof vu&&Cg(this.attrs,e.attrs)&&Cg(this.spec,e.spec)}static is(e){return e.type instanceof vu}destroy(){}}class SE{constructor(e,r){this.attrs=e,this.spec=r||Hf}map(e,r,n,i){let s=e.mapResult(r.from+i,1);if(s.deleted)return null;let a=e.mapResult(r.to+i,-1);return a.deleted||a.pos<=s.pos?null:new rs(s.pos-n,a.pos-n,this)}valid(e,r){let{index:n,offset:i}=e.content.findIndex(r.from),s;return i==r.from&&!(s=e.child(n)).isText&&i+s.nodeSize==r.to}eq(e){return this==e||e instanceof SE&&Cg(this.attrs,e.attrs)&&Cg(this.spec,e.spec)}destroy(){}}class rs{constructor(e,r,n){this.from=e,this.to=r,this.type=n}copy(e,r){return new rs(e,r,this.type)}eq(e,r=0){return this.type.eq(e.type)&&this.from+r==e.from&&this.to+r==e.to}map(e,r,n){return this.type.map(e,this,r,n)}static widget(e,r,n){return new rs(e,e,new K1(r,n))}static inline(e,r,n,i){return new rs(e,r,new vu(n,i))}static node(e,r,n,i){return new rs(e,r,new SE(n,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof vu}get widget(){return this.type instanceof K1}}const Cd=[],Hf={};class yn{constructor(e,r){this.local=e.length?e:Cd,this.children=r.length?r:Cd}static create(e,r){return r.length?V1(r,e,0,Hf):Is}find(e,r,n){let i=[];return this.findInner(e??0,r??1e9,i,0,n),i}findInner(e,r,n,i,s){for(let a=0;a<this.local.length;a++){let o=this.local[a];o.from<=r&&o.to>=e&&(!s||s(o.spec))&&n.push(o.copy(o.from+i,o.to+i))}for(let a=0;a<this.children.length;a+=3)if(this.children[a]<r&&this.children[a+1]>e){let o=this.children[a]+1;this.children[a+2].findInner(e-o,r-o,n,i+o,s)}}map(e,r,n){return this==Is||e.maps.length==0?this:this.mapInner(e,r,0,0,n||Hf)}mapInner(e,r,n,i,s){let a;for(let o=0;o<this.local.length;o++){let l=this.local[o].map(e,n,i);l&&l.type.valid(r,l)?(a||(a=[])).push(l):s.onRemove&&s.onRemove(this.local[o].spec)}return this.children.length?T$(this.children,a||[],e,r,n,i,s):a?new yn(a.sort(jf),Cd):Is}add(e,r){return r.length?this==Is?yn.create(e,r):this.addInner(e,r,0):this}addInner(e,r,n){let i,s=0;e.forEach((o,l)=>{let c=l+n,f;if(f=hR(r,o,c)){for(i||(i=this.children.slice());s<i.length&&i[s]<l;)s+=3;i[s]==l?i[s+2]=i[s+2].addInner(o,f,c+1):i.splice(s,0,l,l+o.nodeSize,V1(f,o,c+1,Hf)),s+=3}});let a=fR(s?dR(r):r,-n);for(let o=0;o<a.length;o++)a[o].type.valid(e,a[o])||a.splice(o--,1);return new yn(a.length?this.local.concat(a).sort(jf):this.local,i||this.children)}remove(e){return e.length==0||this==Is?this:this.removeInner(e,0)}removeInner(e,r){let n=this.children,i=this.local;for(let s=0;s<n.length;s+=3){let a,o=n[s]+r,l=n[s+1]+r;for(let f=0,h;f<e.length;f++)(h=e[f])&&h.from>o&&h.to<l&&(e[f]=null,(a||(a=[])).push(h));if(!a)continue;n==this.children&&(n=this.children.slice());let c=n[s+2].removeInner(a,o+1);c!=Is?n[s+2]=c:(n.splice(s,3),s-=3)}if(i.length){for(let s=0,a;s<e.length;s++)if(a=e[s])for(let o=0;o<i.length;o++)i[o].eq(a,r)&&(i==this.local&&(i=this.local.slice()),i.splice(o--,1))}return n==this.children&&i==this.local?this:i.length||n.length?new yn(i,n):Is}forChild(e,r){if(this==Is)return this;if(r.isLeaf)return yn.empty;let n,i;for(let o=0;o<this.children.length;o+=3)if(this.children[o]>=e){this.children[o]==e&&(n=this.children[o+2]);break}let s=e+1,a=s+r.content.size;for(let o=0;o<this.local.length;o++){let l=this.local[o];if(l.from<a&&l.to>s&&l.type instanceof vu){let c=Math.max(s,l.from)-s,f=Math.min(a,l.to)-s;c<f&&(i||(i=[])).push(l.copy(c,f))}}if(i){let o=new yn(i.sort(jf),Cd);return n?new au([o,n]):o}return n||Is}eq(e){if(this==e)return!0;if(!(e instanceof yn)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let r=0;r<this.local.length;r++)if(!this.local[r].eq(e.local[r]))return!1;for(let r=0;r<this.children.length;r+=3)if(this.children[r]!=e.children[r]||this.children[r+1]!=e.children[r+1]||!this.children[r+2].eq(e.children[r+2]))return!1;return!0}locals(e){return EE(this.localsInner(e))}localsInner(e){if(this==Is)return Cd;if(e.inlineContent||!this.local.some(vu.is))return this.local;let r=[];for(let n=0;n<this.local.length;n++)this.local[n].type instanceof vu||r.push(this.local[n]);return r}forEachSet(e){e(this)}}yn.empty=new yn([],[]);yn.removeOverlap=EE;const Is=yn.empty;class au{constructor(e){this.members=e}map(e,r){const n=this.members.map(i=>i.map(e,r,Hf));return au.from(n)}forChild(e,r){if(r.isLeaf)return yn.empty;let n=[];for(let i=0;i<this.members.length;i++){let s=this.members[i].forChild(e,r);s!=Is&&(s instanceof au?n=n.concat(s.members):n.push(s))}return au.from(n)}eq(e){if(!(e instanceof au)||e.members.length!=this.members.length)return!1;for(let r=0;r<this.members.length;r++)if(!this.members[r].eq(e.members[r]))return!1;return!0}locals(e){let r,n=!0;for(let i=0;i<this.members.length;i++){let s=this.members[i].localsInner(e);if(s.length)if(!r)r=s;else{n&&(r=r.slice(),n=!1);for(let a=0;a<s.length;a++)r.push(s[a])}}return r?EE(n?r:r.sort(jf)):Cd}static from(e){switch(e.length){case 0:return Is;case 1:return e[0];default:return new au(e.every(r=>r instanceof yn)?e:e.reduce((r,n)=>r.concat(n instanceof yn?n:n.members),[]))}}forEachSet(e){for(let r=0;r<this.members.length;r++)this.members[r].forEachSet(e)}}function T$(t,e,r,n,i,s,a){let o=t.slice();for(let c=0,f=s;c<r.maps.length;c++){let h=0;r.maps[c].forEach((m,d,g,v)=>{let b=v-g-(d-m);for(let w=0;w<o.length;w+=3){let B=o[w+1];if(B<0||m>B+f-h)continue;let S=o[w]+f-h;d>=S?o[w+1]=m<=S?-2:-1:m>=f&&b&&(o[w]+=b,o[w+1]+=b)}h+=b}),f=r.maps[c].map(f,-1)}let l=!1;for(let c=0;c<o.length;c+=3)if(o[c+1]<0){if(o[c+1]==-2){l=!0,o[c+1]=-1;continue}let f=r.map(t[c]+s),h=f-i;if(h<0||h>=n.content.size){l=!0;continue}let m=r.map(t[c+1]+s,-1),d=m-i,{index:g,offset:v}=n.content.findIndex(h),b=n.maybeChild(g);if(b&&v==h&&v+b.nodeSize==d){let w=o[c+2].mapInner(r,b,f+1,t[c]+s+1,a);w!=Is?(o[c]=h,o[c+1]=d,o[c+2]=w):(o[c+1]=-2,l=!0)}else l=!0}if(l){let c=N$(o,t,e,r,i,s,a),f=V1(c,n,0,a);e=f.local;for(let h=0;h<o.length;h+=3)o[h+1]<0&&(o.splice(h,3),h-=3);for(let h=0,m=0;h<f.children.length;h+=3){let d=f.children[h];for(;m<o.length&&o[m]<d;)m+=3;o.splice(m,0,f.children[h],f.children[h+1],f.children[h+2])}}return new yn(e.sort(jf),o)}function fR(t,e){if(!e||!t.length)return t;let r=[];for(let n=0;n<t.length;n++){let i=t[n];r.push(new rs(i.from+e,i.to+e,i.type))}return r}function N$(t,e,r,n,i,s,a){function o(l,c){for(let f=0;f<l.local.length;f++){let h=l.local[f].map(n,i,c);h?r.push(h):a.onRemove&&a.onRemove(l.local[f].spec)}for(let f=0;f<l.children.length;f+=3)o(l.children[f+2],l.children[f]+c+1)}for(let l=0;l<t.length;l+=3)t[l+1]==-1&&o(t[l+2],e[l]+s+1);return r}function hR(t,e,r){if(e.isLeaf)return null;let n=r+e.nodeSize,i=null;for(let s=0,a;s<t.length;s++)(a=t[s])&&a.from>r&&a.to<n&&((i||(i=[])).push(a),t[s]=null);return i}function dR(t){let e=[];for(let r=0;r<t.length;r++)t[r]!=null&&e.push(t[r]);return e}function V1(t,e,r,n){let i=[],s=!1;e.forEach((o,l)=>{let c=hR(t,o,l+r);if(c){s=!0;let f=V1(c,o,r+l+1,n);f!=Is&&i.push(l,l+o.nodeSize,f)}});let a=fR(s?dR(t):t,-r).sort(jf);for(let o=0;o<a.length;o++)a[o].type.valid(e,a[o])||(n.onRemove&&n.onRemove(a[o].spec),a.splice(o--,1));return a.length||i.length?new yn(a,i):Is}function jf(t,e){return t.from-e.from||t.to-e.to}function EE(t){let e=t;for(let r=0;r<e.length-1;r++){let n=e[r];if(n.from!=n.to)for(let i=r+1;i<e.length;i++){let s=e[i];if(s.from==n.from){s.to!=n.to&&(e==t&&(e=t.slice()),e[i]=s.copy(s.from,n.to),W3(e,i+1,s.copy(n.to,s.to)));continue}else{s.from<n.to&&(e==t&&(e=t.slice()),e[r]=n.copy(n.from,s.from),W3(e,i,n.copy(s.from,n.to)));break}}}return e}function W3(t,e,r){for(;e<t.length&&jf(r,t[e])>0;)e++;t.splice(e,0,r)}function Q2(t){let e=[];return t.someProp("decorations",r=>{let n=r(t.state);n&&n!=Is&&e.push(n)}),t.cursorWrapper&&e.push(yn.create(t.state.doc,[t.cursorWrapper.deco])),au.from(e)}const F$={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},U$=Ba&&yu<=11;class O${constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class L${constructor(e,r){this.view=e,this.handleDOMChange=r,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new O$,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(n=>{for(let i=0;i<n.length;i++)this.queue.push(n[i]);Ba&&yu<=11&&n.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():Ss&&e.composing&&n.some(i=>i.type=="childList"&&i.target.nodeName=="TR")?(e.input.badSafariComposition=!0,this.flushSoon()):this.flush()}),U$&&(this.onCharData=n=>{this.queue.push({target:n.target,type:"characterData",oldValue:n.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,F$)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let r=0;r<e.length;r++)this.queue.push(e[r]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(H3(this.view)){if(this.suppressingSelectionUpdates)return tc(this.view);if(Ba&&yu<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&Wf(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let r=new Set,n;for(let s=e.focusNode;s;s=np(s))r.add(s);for(let s=e.anchorNode;s;s=np(s))if(r.has(s)){n=s;break}let i=n&&this.view.docView.nearestDesc(n);if(i&&i.ignoreMutation({type:"selection",target:n.nodeType==3?n.parentNode:n}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let r=this.pendingRecords();r.length&&(this.queue=[]);let n=e.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(n)&&H3(e)&&!this.ignoreSelectionChange(n),s=-1,a=-1,o=!1,l=[];if(e.editable)for(let f=0;f<r.length;f++){let h=this.registerMutation(r[f],l);h&&(s=s<0?h.from:Math.min(h.from,s),a=a<0?h.to:Math.max(h.to,a),h.typeOver&&(o=!0))}if(So&&l.length){let f=l.filter(h=>h.nodeName=="BR");if(f.length==2){let[h,m]=f;h.parentNode&&h.parentNode.parentNode==m.parentNode?m.remove():h.remove()}else{let{focusNode:h}=this.currentSelection;for(let m of f){let d=m.parentNode;d&&d.nodeName=="LI"&&(!h||R$(e,h)!=d)&&m.remove()}}}else if((ts||Ss)&&l.some(f=>f.nodeName=="BR")&&(e.input.lastKeyCode==8||e.input.lastKeyCode==46)){for(let f of l)if(f.nodeName=="BR"&&f.parentNode){let h=f.nextSibling;h&&h.nodeType==1&&h.contentEditable=="false"&&f.parentNode.removeChild(f)}}let c=null;s<0&&i&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&ov(n)&&(c=wE(e))&&c.eq(tr.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,tc(e),this.currentSelection.set(n),e.scrollToSelection()):(s>-1||i)&&(s>-1&&(e.docView.markDirty(s,a),D$(e)),e.input.badSafariComposition&&(e.input.badSafariComposition=!1,M$(e,l)),this.handleDOMChange(s,a,o,l),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(n)||tc(e),this.currentSelection.set(n))}registerMutation(e,r){if(r.indexOf(e.target)>-1)return null;let n=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(n==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!n||n.ignoreMutation(e))return null;if(e.type=="childList"){for(let f=0;f<e.addedNodes.length;f++){let h=e.addedNodes[f];r.push(h),h.nodeType==3&&(this.lastChangedTextNode=h)}if(n.contentDOM&&n.contentDOM!=n.dom&&!n.contentDOM.contains(e.target))return{from:n.posBefore,to:n.posAfter};let i=e.previousSibling,s=e.nextSibling;if(Ba&&yu<=11&&e.addedNodes.length)for(let f=0;f<e.addedNodes.length;f++){let{previousSibling:h,nextSibling:m}=e.addedNodes[f];(!h||Array.prototype.indexOf.call(e.addedNodes,h)<0)&&(i=h),(!m||Array.prototype.indexOf.call(e.addedNodes,m)<0)&&(s=m)}let a=i&&i.parentNode==e.target?bs(i)+1:0,o=n.localPosFromDOM(e.target,a,-1),l=s&&s.parentNode==e.target?bs(s):e.target.childNodes.length,c=n.localPosFromDOM(e.target,l,1);return{from:o,to:c}}else return e.type=="attributes"?{from:n.posAtStart-n.border,to:n.posAtEnd+n.border}:(this.lastChangedTextNode=e.target,{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let $3=new WeakMap,Y3=!1;function D$(t){if(!$3.has(t)&&($3.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=So,Y3)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),Y3=!0}}function J3(t,e){let r=e.startContainer,n=e.startOffset,i=e.endContainer,s=e.endOffset,a=t.domAtPos(t.state.selection.anchor);return Wf(a.node,a.offset,i,s)&&([r,n,i,s]=[i,s,r,n]),{anchorNode:r,anchorOffset:n,focusNode:i,focusOffset:s}}function I$(t,e){if(e.getComposedRanges){let i=e.getComposedRanges(t.root)[0];if(i)return J3(t,i)}let r;function n(i){i.preventDefault(),i.stopImmediatePropagation(),r=i.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",n,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",n,!0),r?J3(t,r):null}function R$(t,e){for(let r=e.parentNode;r&&r!=t.dom;r=r.parentNode){let n=t.docView.nearestDesc(r,!0);if(n&&n.node.isBlock)return r}return null}function M$(t,e){var r;let{focusNode:n,focusOffset:i}=t.domSelectionRange();for(let s of e)if(((r=s.parentNode)===null||r===void 0?void 0:r.nodeName)=="TR"){let a=s.nextSibling;for(;a&&a.nodeName!="TD"&&a.nodeName!="TH";)a=a.nextSibling;if(a){let o=a;for(;;){let l=o.firstChild;if(!l||l.nodeType!=1||l.contentEditable=="false"||/^(BR|IMG)$/.test(l.nodeName))break;o=l}o.insertBefore(s,o.firstChild),n==s&&t.domSelection().collapse(s,i)}else s.parentNode.removeChild(s)}}function Q$(t,e,r){let{node:n,fromOffset:i,toOffset:s,from:a,to:o}=t.docView.parseRange(e,r),l=t.domSelectionRange(),c,f=l.anchorNode;if(f&&t.dom.contains(f.nodeType==1?f:f.parentNode)&&(c=[{node:f,offset:l.anchorOffset}],ov(l)||c.push({node:l.focusNode,offset:l.focusOffset})),ts&&t.input.lastKeyCode===8)for(let b=s;b>i;b--){let w=n.childNodes[b-1],B=w.pmViewDesc;if(w.nodeName=="BR"&&!B){s=b;break}if(!B||B.size)break}let h=t.state.doc,m=t.someProp("domParser")||zm.fromSchema(t.state.schema),d=h.resolve(a),g=null,v=m.parse(n,{topNode:d.parent,topMatch:d.parent.contentMatchAt(d.index()),topOpen:!0,from:i,to:s,preserveWhitespace:d.parent.type.whitespace=="pre"?"full":!0,findPositions:c,ruleFromNode:H$,context:d});if(c&&c[0].pos!=null){let b=c[0].pos,w=c[1]&&c[1].pos;w==null&&(w=b),g={anchor:b+a,head:w+a}}return{doc:v,sel:g,from:a,to:o}}function H$(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(Ss&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let r=document.createElement("div");return r.appendChild(document.createElement("li")),{skip:r}}else if(t.parentNode.lastChild==t||Ss&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const j$=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function P$(t,e,r,n,i){let s=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let D=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,H=wE(t,D);if(H&&!t.state.selection.eq(H)){if(ts&&JA&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",$=>$(t,_f(13,"Enter"))))return;let F=t.state.tr.setSelection(H);D=="pointer"?F.setMeta("pointer",!0):D=="key"&&F.scrollIntoView(),s&&F.setMeta("composition",s),t.dispatch(F)}return}let a=t.state.doc.resolve(e),o=a.sharedDepth(r);e=a.before(o+1),r=t.state.doc.resolve(r).after(o+1);let l=t.state.selection,c=Q$(t,e,r),f=t.state.doc,h=f.slice(c.from,c.to),m,d;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(m=t.state.selection.to,d="end"):(m=t.state.selection.from,d="start"),t.input.lastKeyCode=null;let g=V$(h.content,c.doc.content,c.from,m,d);if(g&&t.input.domChangeCount++,(ip&&t.input.lastIOSEnter>Date.now()-225||JA)&&i.some(D=>D.nodeType==1&&!j$.test(D.nodeName))&&(!g||g.endA>=g.endB)&&t.someProp("handleKeyDown",D=>D(t,_f(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!g)if(n&&l instanceof qt&&!l.empty&&l.$head.sameParent(l.$anchor)&&!t.composing&&!(c.sel&&c.sel.anchor!=c.sel.head))g={start:l.from,endA:l.to,endB:l.to};else{if(c.sel){let D=X3(t,t.state.doc,c.sel);if(D&&!D.eq(t.state.selection)){let H=t.state.tr.setSelection(D);s&&H.setMeta("composition",s),t.dispatch(H)}}return}t.state.selection.from<t.state.selection.to&&g.start==g.endB&&t.state.selection instanceof qt&&(g.start>t.state.selection.from&&g.start<=t.state.selection.from+2&&t.state.selection.from>=c.from?g.start=t.state.selection.from:g.endA<t.state.selection.to&&g.endA>=t.state.selection.to-2&&t.state.selection.to<=c.to&&(g.endB+=t.state.selection.to-g.endA,g.endA=t.state.selection.to)),Ba&&yu<=11&&g.endB==g.start+1&&g.endA==g.start&&g.start>c.from&&c.doc.textBetween(g.start-c.from-1,g.start-c.from+1)==" "&&(g.start--,g.endA--,g.endB--);let v=c.doc.resolveNoCache(g.start-c.from),b=c.doc.resolveNoCache(g.endB-c.from),w=f.resolve(g.start),B=v.sameParent(b)&&v.parent.inlineContent&&w.end()>=g.endA;if((ip&&t.input.lastIOSEnter>Date.now()-225&&(!B||i.some(D=>D.nodeName=="DIV"||D.nodeName=="P"))||!B&&v.pos<c.doc.content.size&&(!v.sameParent(b)||!v.parent.inlineContent)&&v.pos<b.pos&&!/\S/.test(c.doc.textBetween(v.pos,b.pos,"","")))&&t.someProp("handleKeyDown",D=>D(t,_f(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>g.start&&K$(f,g.start,g.endA,v,b)&&t.someProp("handleKeyDown",D=>D(t,_f(8,"Backspace")))){JA&&ts&&t.domObserver.suppressSelectionUpdates();return}ts&&g.endB==g.start&&(t.input.lastChromeDelete=Date.now()),JA&&!B&&v.start()!=b.start()&&b.parentOffset==0&&v.depth==b.depth&&c.sel&&c.sel.anchor==c.sel.head&&c.sel.head==g.endA&&(g.endB-=2,b=c.doc.resolveNoCache(g.endB-c.from),setTimeout(()=>{t.someProp("handleKeyDown",function(D){return D(t,_f(13,"Enter"))})},20));let S=g.start,C=g.endA,k=D=>{let H=D||t.state.tr.replace(S,C,c.doc.slice(g.start-c.from,g.endB-c.from));if(c.sel){let F=X3(t,H.doc,c.sel);F&&!(ts&&t.composing&&F.empty&&(g.start!=g.endB||t.input.lastChromeDelete<Date.now()-100)&&(F.head==S||F.head==H.mapping.map(C)-1)||Ba&&F.empty&&F.head==S)&&H.setSelection(F)}return s&&H.setMeta("composition",s),H.scrollIntoView()},M;if(B)if(v.pos==b.pos){Ba&&yu<=11&&v.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>tc(t),20));let D=k(t.state.tr.delete(S,C)),H=f.resolve(g.start).marksAcross(f.resolve(g.endA));H&&D.ensureMarks(H),t.dispatch(D)}else if(g.endA==g.endB&&(M=z$(v.parent.content.cut(v.parentOffset,b.parentOffset),w.parent.content.cut(w.parentOffset,g.endA-w.start())))){let D=k(t.state.tr);M.type=="add"?D.addMark(S,C,M.mark):D.removeMark(S,C,M.mark),t.dispatch(D)}else if(v.parent.child(v.index()).isText&&v.index()==b.index()-(b.textOffset?0:1)){let D=v.parent.textBetween(v.parentOffset,b.parentOffset),H=()=>k(t.state.tr.insertText(D,S,C));t.someProp("handleTextInput",F=>F(t,S,C,D,H))||t.dispatch(H())}else t.dispatch(k());else t.dispatch(k())}function X3(t,e,r){return Math.max(r.anchor,r.head)>e.content.size?null:vE(t,e.resolve(r.anchor),e.resolve(r.head))}function z$(t,e){let r=t.firstChild.marks,n=e.firstChild.marks,i=r,s=n,a,o,l;for(let f=0;f<n.length;f++)i=n[f].removeFromSet(i);for(let f=0;f<r.length;f++)s=r[f].removeFromSet(s);if(i.length==1&&s.length==0)o=i[0],a="add",l=f=>f.mark(o.addToSet(f.marks));else if(i.length==0&&s.length==1)o=s[0],a="remove",l=f=>f.mark(o.removeFromSet(f.marks));else return null;let c=[];for(let f=0;f<e.childCount;f++)c.push(l(e.child(f)));if(it.from(c).eq(t))return{mark:o,type:a}}function K$(t,e,r,n,i){if(r-e<=i.pos-n.pos||H2(n,!0,!1)<i.pos)return!1;let s=t.resolve(e);if(!n.parent.isTextblock){let o=s.nodeAfter;return o!=null&&r==e+o.nodeSize}if(s.parentOffset<s.parent.content.size||!s.parent.isTextblock)return!1;let a=t.resolve(H2(s,!0,!0));return!a.parent.isTextblock||a.pos>r||H2(a,!0,!1)<r?!1:n.parent.content.cut(n.parentOffset).eq(a.parent.content)}function H2(t,e,r){let n=t.depth,i=e?t.end():t.pos;for(;n>0&&(e||t.indexAfter(n)==t.node(n).childCount);)n--,i++,e=!1;if(r){let s=t.node(n).maybeChild(t.indexAfter(n));for(;s&&!s.isLeaf;)s=s.firstChild,i++}return i}function V$(t,e,r,n,i){let s=t.findDiffStart(e,r);if(s==null)return null;let{a,b:o}=t.findDiffEnd(e,r+t.size,r+e.size);if(i=="end"){let l=Math.max(0,s-Math.min(a,o));n-=a+l-s}if(a<s&&t.size<e.size){let l=n<=s&&n>=a?s-n:0;s-=l,s&&s<e.size&&Z3(e.textBetween(s-1,s+1))&&(s+=l?1:-1),o=s+(o-a),a=s}else if(o<s){let l=n<=s&&n>=o?s-n:0;s-=l,s&&s<t.size&&Z3(t.textBetween(s-1,s+1))&&(s+=l?1:-1),a=s+(a-o),o=s}return{start:s,endA:a,endB:o}}function Z3(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),r=t.charCodeAt(1);return e>=56320&&e<=57343&&r>=55296&&r<=56319}class pR{constructor(e,r){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new o$,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=r,this.state=r.state,this.directPlugins=r.plugins||[],this.directPlugins.forEach(iN),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=rN(this),tN(this),this.nodeViews=nN(this),this.docView=L3(this.state.doc,eN(this),Q2(this),this.dom,this),this.domObserver=new L$(this,(n,i,s,a)=>P$(this,n,i,s,a)),this.domObserver.start(),l$(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let r in e)this._props[r]=e[r];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&LC(this);let r=this._props;this._props=e,e.plugins&&(e.plugins.forEach(iN),this.directPlugins=e.plugins),this.updateStateInner(e.state,r)}setProps(e){let r={};for(let n in this._props)r[n]=this._props[n];r.state=this.state;for(let n in e)r[n]=e[n];this.update(r)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,r){var n;let i=this.state,s=!1,a=!1;e.storedMarks&&this.composing&&(lR(this),a=!0),this.state=e;let o=i.plugins!=e.plugins||this._props.plugins!=r.plugins;if(o||this._props.plugins!=r.plugins||this._props.nodeViews!=r.nodeViews){let d=nN(this);G$(d,this.nodeViews)&&(this.nodeViews=d,s=!0)}(o||r.handleDOMEvents!=this._props.handleDOMEvents)&&LC(this),this.editable=rN(this),tN(this);let l=Q2(this),c=eN(this),f=i.plugins!=e.plugins&&!i.doc.eq(e.doc)?"reset":e.scrollToSelection>i.scrollToSelection?"to selection":"preserve",h=s||!this.docView.matchesNode(e.doc,c,l);(h||!e.selection.eq(i.selection))&&(a=!0);let m=f=="preserve"&&a&&this.dom.style.overflowAnchor==null&&xW(this);if(a){this.domObserver.stop();let d=h&&(Ba||ts)&&!this.composing&&!i.selection.empty&&!e.selection.empty&&q$(i.selection,e.selection);if(h){let g=ts?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=x$(this)),(s||!this.docView.update(e.doc,c,l,this))&&(this.docView.updateOuterDeco(c),this.docView.destroy(),this.docView=L3(e.doc,c,l,this.dom,this)),g&&(!this.trackWrites||!this.dom.contains(this.trackWrites))&&(d=!0)}d||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&qW(this))?tc(this,d):(YI(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),!((n=this.dragging)===null||n===void 0)&&n.node&&!i.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,i),f=="reset"?this.dom.scrollTop=0:f=="to selection"?this.scrollToSelection():m&&BW(m)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",r=>r(this)))if(this.state.selection instanceof jt){let r=this.docView.domAfterPos(this.state.selection.from);r.nodeType==1&&k3(this,r.getBoundingClientRect(),e)}else k3(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let r=0;r<this.directPlugins.length;r++){let n=this.directPlugins[r];n.spec.view&&this.pluginViews.push(n.spec.view(this))}for(let r=0;r<this.state.plugins.length;r++){let n=this.state.plugins[r];n.spec.view&&this.pluginViews.push(n.spec.view(this))}}else for(let r=0;r<this.pluginViews.length;r++){let n=this.pluginViews[r];n.update&&n.update(this,e)}}updateDraggedNode(e,r){let n=e.node,i=-1;if(this.state.doc.nodeAt(n.from)==n.node)i=n.from;else{let s=n.from+(this.state.doc.content.size-r.doc.content.size);(s>0&&this.state.doc.nodeAt(s))==n.node&&(i=s)}this.dragging=new cR(e.slice,e.move,i<0?void 0:jt.create(this.state.doc,i))}someProp(e,r){let n=this._props&&this._props[e],i;if(n!=null&&(i=r?r(n):n))return i;for(let a=0;a<this.directPlugins.length;a++){let o=this.directPlugins[a].props[e];if(o!=null&&(i=r?r(o):o))return i}let s=this.state.plugins;if(s)for(let a=0;a<s.length;a++){let o=s[a].props[e];if(o!=null&&(i=r?r(o):o))return i}}hasFocus(){if(Ba){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&CW(this.dom),tc(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let r=this.dom.parentNode;r;r=r.parentNode)if(r.nodeType==9||r.nodeType==11&&r.host)return r.getSelection||(Object.getPrototypeOf(r).getSelection=()=>r.ownerDocument.getSelection()),this._root=r}return e||document}updateRoot(){this._root=null}posAtCoords(e){return TW(this,e)}coordsAtPos(e,r=1){return PI(this,e,r)}domAtPos(e,r=0){return this.docView.domFromPos(e,r)}nodeDOM(e){let r=this.docView.descAt(e);return r?r.nodeDOM:null}posAtDOM(e,r,n=-1){let i=this.docView.posFromDOM(e,r,n);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(e,r){return LW(this,r||this.state,e)}pasteHTML(e,r){return Bg(this,"",e,!1,r||new ClipboardEvent("paste"))}pasteText(e,r){return Bg(this,e,null,!0,r||new ClipboardEvent("paste"))}serializeForClipboard(e){return bE(this,e)}destroy(){this.docView&&(A$(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Q2(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,fW())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return u$(this,e)}domSelectionRange(){let e=this.domSelection();return e?Ss&&this.root.nodeType===11&&gW(this.dom.ownerDocument)==this.dom&&I$(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}pR.prototype.dispatch=function(t){let e=this._props.dispatchTransaction;e?e.call(this,t):this.updateState(this.state.apply(t))};function eN(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",r=>{if(typeof r=="function"&&(r=r(t.state)),r)for(let n in r)n=="class"?e.class+=" "+r[n]:n=="style"?e.style=(e.style?e.style+";":"")+r[n]:!e[n]&&n!="contenteditable"&&n!="nodeName"&&(e[n]=String(r[n]))}),e.translate||(e.translate="no"),[rs.node(0,t.state.doc.content.size,e)]}function tN(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:rs.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function rN(t){return!t.someProp("editable",e=>e(t.state)===!1)}function q$(t,e){let r=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(r)!=e.$anchor.start(r)}function nN(t){let e=Object.create(null);function r(n){for(let i in n)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=n[i])}return t.someProp("nodeViews",r),t.someProp("markViews",r),e}function G$(t,e){let r=0,n=0;for(let i in t){if(t[i]!=e[i])return!0;r++}for(let i in e)n++;return r!=n}function iN(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var Bu={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},q1={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},W$=typeof navigator<"u"&&/Mac/.test(navigator.platform),$$=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var xs=0;xs<10;xs++)Bu[48+xs]=Bu[96+xs]=String(xs);for(var xs=1;xs<=24;xs++)Bu[xs+111]="F"+xs;for(var xs=65;xs<=90;xs++)Bu[xs]=String.fromCharCode(xs+32),q1[xs]=String.fromCharCode(xs);for(var j2 in Bu)q1.hasOwnProperty(j2)||(q1[j2]=Bu[j2]);function Y$(t){var e=W$&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||$$&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",r=!e&&t.key||(t.shiftKey?q1:Bu)[t.keyCode]||t.key||"Unidentified";return r=="Esc"&&(r="Escape"),r=="Del"&&(r="Delete"),r=="Left"&&(r="ArrowLeft"),r=="Up"&&(r="ArrowUp"),r=="Right"&&(r="ArrowRight"),r=="Down"&&(r="ArrowDown"),r}const J$=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),X$=typeof navigator<"u"&&/Win/.test(navigator.platform);function Z$(t){let e=t.split(/-(?!$)/),r=e[e.length-1];r=="Space"&&(r=" ");let n,i,s,a;for(let o=0;o<e.length-1;o++){let l=e[o];if(/^(cmd|meta|m)$/i.test(l))a=!0;else if(/^a(lt)?$/i.test(l))n=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))s=!0;else if(/^mod$/i.test(l))J$?a=!0:i=!0;else throw new Error("Unrecognized modifier name: "+l)}return n&&(r="Alt-"+r),i&&(r="Ctrl-"+r),a&&(r="Meta-"+r),s&&(r="Shift-"+r),r}function eY(t){let e=Object.create(null);for(let r in t)e[Z$(r)]=t[r];return e}function P2(t,e,r=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),r&&e.shiftKey&&(t="Shift-"+t),t}function tY(t){return new pn({props:{handleKeyDown:_E(t)}})}function _E(t){let e=eY(t);return function(r,n){let i=Y$(n),s,a=e[P2(i,n)];if(a&&a(r.state,r.dispatch,r))return!0;if(i.length==1&&i!=" "){if(n.shiftKey){let o=e[P2(i,n,!1)];if(o&&o(r.state,r.dispatch,r))return!0}if((n.altKey||n.metaKey||n.ctrlKey)&&!(X$&&n.ctrlKey&&n.altKey)&&(s=Bu[n.keyCode])&&s!=i){let o=e[P2(s,n)];if(o&&o(r.state,r.dispatch,r))return!0}}return!1}}var rY=Object.defineProperty,kE=(t,e)=>{for(var r in e)rY(t,r,{get:e[r],enumerable:!0})};function cv(t){const{state:e,transaction:r}=t;let{selection:n}=r,{doc:i}=r,{storedMarks:s}=r;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return s},get selection(){return n},get doc(){return i},get tr(){return n=r.selection,i=r.doc,s=r.storedMarks,r}}}var uv=class{constructor(t){this.editor=t.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=t.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:t,editor:e,state:r}=this,{view:n}=e,{tr:i}=r,s=this.buildProps(i);return Object.fromEntries(Object.entries(t).map(([a,o])=>[a,(...c)=>{const f=o(...c)(s);return!i.getMeta("preventDispatch")&&!this.hasCustomState&&n.dispatch(i),f}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(t,e=!0){const{rawCommands:r,editor:n,state:i}=this,{view:s}=n,a=[],o=!!t,l=t||i.tr,c=()=>(!o&&e&&!l.getMeta("preventDispatch")&&!this.hasCustomState&&s.dispatch(l),a.every(h=>h===!0)),f={...Object.fromEntries(Object.entries(r).map(([h,m])=>[h,(...g)=>{const v=this.buildProps(l,e),b=m(...g)(v);return a.push(b),f}])),run:c};return f}createCan(t){const{rawCommands:e,state:r}=this,n=!1,i=t||r.tr,s=this.buildProps(i,n);return{...Object.fromEntries(Object.entries(e).map(([o,l])=>[o,(...c)=>l(...c)({...s,dispatch:void 0})])),chain:()=>this.createChain(i,n)}}buildProps(t,e=!0){const{rawCommands:r,editor:n,state:i}=this,{view:s}=n,a={tr:t,editor:n,view:s,state:cv({state:i,transaction:t}),dispatch:e?()=>{}:void 0,chain:()=>this.createChain(t,e),can:()=>this.createCan(t),get commands(){return Object.fromEntries(Object.entries(r).map(([o,l])=>[o,(...c)=>l(...c)(a)]))}};return a}},mR={};kE(mR,{blur:()=>nY,clearContent:()=>iY,clearNodes:()=>sY,command:()=>aY,createParagraphNear:()=>oY,cut:()=>lY,deleteCurrentNode:()=>AY,deleteNode:()=>cY,deleteRange:()=>uY,deleteSelection:()=>fY,enter:()=>hY,exitCode:()=>dY,extendMarkRange:()=>pY,first:()=>mY,focus:()=>yY,forEach:()=>wY,insertContent:()=>vY,insertContentAt:()=>BY,joinBackward:()=>EY,joinDown:()=>SY,joinForward:()=>_Y,joinItemBackward:()=>kY,joinItemForward:()=>TY,joinTextblockBackward:()=>NY,joinTextblockForward:()=>FY,joinUp:()=>CY,keyboardShortcut:()=>OY,lift:()=>LY,liftEmptyBlock:()=>DY,liftListItem:()=>IY,newlineInCode:()=>RY,resetAttributes:()=>MY,scrollIntoView:()=>QY,selectAll:()=>HY,selectNodeBackward:()=>jY,selectNodeForward:()=>PY,selectParentNode:()=>zY,selectTextblockEnd:()=>KY,selectTextblockStart:()=>VY,setContent:()=>qY,setMark:()=>cJ,setMeta:()=>uJ,setNode:()=>fJ,setNodeSelection:()=>hJ,setTextDirection:()=>dJ,setTextSelection:()=>pJ,sinkListItem:()=>mJ,splitBlock:()=>gJ,splitListItem:()=>yJ,toggleList:()=>wJ,toggleMark:()=>vJ,toggleNode:()=>bJ,toggleWrap:()=>xJ,undoInputRule:()=>BJ,unsetAllMarks:()=>CJ,unsetMark:()=>SJ,unsetTextDirection:()=>EJ,updateAttributes:()=>_J,wrapIn:()=>kJ,wrapInList:()=>TJ});var nY=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var r;t.isDestroyed||(e.dom.blur(),(r=window?.getSelection())==null||r.removeAllRanges())}),!0),iY=(t=!0)=>({commands:e})=>e.setContent("",{emitUpdate:t}),sY=()=>({state:t,tr:e,dispatch:r})=>{const{selection:n}=e,{ranges:i}=n;return r&&i.forEach(({$from:s,$to:a})=>{t.doc.nodesBetween(s.pos,a.pos,(o,l)=>{if(o.type.isText)return;const{doc:c,mapping:f}=e,h=c.resolve(f.map(l)),m=c.resolve(f.map(l+o.nodeSize)),d=h.blockRange(m);if(!d)return;const g=bp(d);if(o.type.isTextblock){const{defaultType:v}=h.parent.contentMatchAt(h.index());e.setNodeMarkup(d.start,v)}(g||g===0)&&e.lift(d,g)})}),!0},aY=t=>e=>t(e),oY=()=>({state:t,dispatch:e})=>FI(t,e),lY=(t,e)=>({editor:r,tr:n})=>{const{state:i}=r,s=i.doc.slice(t.from,t.to);n.deleteRange(t.from,t.to);const a=n.mapping.map(e);return n.insert(a,s.content),n.setSelection(new qt(n.doc.resolve(Math.max(a-1,0)))),!0},AY=()=>({tr:t,dispatch:e})=>{const{selection:r}=t,n=r.$anchor.node();if(n.content.size>0)return!1;const i=t.selection.$anchor;for(let s=i.depth;s>0;s-=1)if(i.node(s).type===n.type){if(e){const o=i.before(s),l=i.after(s);t.delete(o,l).scrollIntoView()}return!0}return!1};function Ni(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}var cY=t=>({tr:e,state:r,dispatch:n})=>{const i=Ni(t,r.schema),s=e.selection.$anchor;for(let a=s.depth;a>0;a-=1)if(s.node(a).type===i){if(n){const l=s.before(a),c=s.after(a);e.delete(l,c).scrollIntoView()}return!0}return!1},uY=t=>({tr:e,dispatch:r})=>{const{from:n,to:i}=t;return r&&e.delete(n,i),!0},fY=()=>({state:t,dispatch:e})=>hE(t,e),hY=()=>({commands:t})=>t.keyboardShortcut("Enter"),dY=()=>({state:t,dispatch:e})=>JG(t,e);function TE(t){return Object.prototype.toString.call(t)==="[object RegExp]"}function G1(t,e,r={strict:!0}){const n=Object.keys(e);return n.length?n.every(i=>r.strict?e[i]===t[i]:TE(e[i])?e[i].test(t[i]):e[i]===t[i]):!0}function gR(t,e,r={}){return t.find(n=>n.type===e&&G1(Object.fromEntries(Object.keys(r).map(i=>[i,n.attrs[i]])),r))}function sN(t,e,r={}){return!!gR(t,e,r)}function NE(t,e,r){var n;if(!t||!e)return;let i=t.parent.childAfter(t.parentOffset);if((!i.node||!i.node.marks.some(f=>f.type===e))&&(i=t.parent.childBefore(t.parentOffset)),!i.node||!i.node.marks.some(f=>f.type===e)||(r=r||((n=i.node.marks[0])==null?void 0:n.attrs),!gR([...i.node.marks],e,r)))return;let a=i.index,o=t.start()+i.offset,l=a+1,c=o+i.node.nodeSize;for(;a>0&&sN([...t.parent.child(a-1).marks],e,r);)a-=1,o-=t.parent.child(a).nodeSize;for(;l<t.parent.childCount&&sN([...t.parent.child(l).marks],e,r);)c+=t.parent.child(l).nodeSize,l+=1;return{from:o,to:c}}function ac(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}var pY=(t,e={})=>({tr:r,state:n,dispatch:i})=>{const s=ac(t,n.schema),{doc:a,selection:o}=r,{$from:l,from:c,to:f}=o;if(i){const h=NE(l,s,e);if(h&&h.from<=c&&h.to>=f){const m=qt.create(a,h.from,h.to);r.setSelection(m)}}return!0},mY=t=>e=>{const r=typeof t=="function"?t(e):t;for(let n=0;n<r.length;n+=1)if(r[n](e))return!0;return!1};function FE(t){return t instanceof qt}function XA(t=0,e=0,r=0){return Math.min(Math.max(t,e),r)}function yR(t,e=null){if(!e)return null;const r=tr.atStart(t),n=tr.atEnd(t);if(e==="start"||e===!0)return r;if(e==="end")return n;const i=r.from,s=n.to;return e==="all"?qt.create(t,XA(0,i,s),XA(t.content.size,i,s)):qt.create(t,XA(e,i,s),XA(e,i,s))}function aN(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function W1(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}function gY(){return typeof navigator<"u"?/^((?!chrome|android).)*safari/i.test(navigator.userAgent):!1}var yY=(t=null,e={})=>({editor:r,view:n,tr:i,dispatch:s})=>{e={scrollIntoView:!0,...e};const a=()=>{(W1()||aN())&&n.dom.focus(),gY()&&!W1()&&!aN()&&n.dom.focus({preventScroll:!0}),requestAnimationFrame(()=>{r.isDestroyed||(n.focus(),e?.scrollIntoView&&r.commands.scrollIntoView())})};try{if(n.hasFocus()&&t===null||t===!1)return!0}catch{return!1}if(s&&t===null&&!FE(r.state.selection))return a(),!0;const o=yR(i.doc,t)||r.state.selection,l=r.state.selection.eq(o);return s&&(l||i.setSelection(o),l&&i.storedMarks&&i.setStoredMarks(i.storedMarks),a()),!0},wY=(t,e)=>r=>t.every((n,i)=>e(n,{...r,index:i})),vY=(t,e)=>({tr:r,commands:n})=>n.insertContentAt({from:r.selection.from,to:r.selection.to},t,e),wR=t=>{const e=t.childNodes;for(let r=e.length-1;r>=0;r-=1){const n=e[r];n.nodeType===3&&n.nodeValue&&/^(\n\s\s|\n)$/.test(n.nodeValue)?t.removeChild(n):n.nodeType===1&&wR(n)}return t};function ly(t){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const e=`<body>${t}</body>`,r=new window.DOMParser().parseFromString(e,"text/html").body;return wR(r)}function Sg(t,e,r){if(t instanceof gu||t instanceof it)return t;r={slice:!0,parseOptions:{},...r};const n=typeof t=="object"&&t!==null,i=typeof t=="string";if(n)try{if(Array.isArray(t)&&t.length>0)return it.fromArray(t.map(o=>e.nodeFromJSON(o)));const a=e.nodeFromJSON(t);return r.errorOnInvalidContent&&a.check(),a}catch(s){if(r.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:s});return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",s),Sg("",e,r)}if(i){if(r.errorOnInvalidContent){let a=!1,o="";const l=new iI({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:c=>(a=!0,o=typeof c=="string"?c:c.outerHTML,null)}]}})});if(r.slice?zm.fromSchema(l).parseSlice(ly(t),r.parseOptions):zm.fromSchema(l).parse(ly(t),r.parseOptions),r.errorOnInvalidContent&&a)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${o}`)})}const s=zm.fromSchema(e);return r.slice?s.parseSlice(ly(t),r.parseOptions).content:s.parse(ly(t),r.parseOptions)}return Sg("",e,r)}function bY(t,e,r){const n=t.steps.length-1;if(n<e)return;const i=t.steps[n];if(!(i instanceof Zi||i instanceof ns))return;const s=t.mapping.maps[n];let a=0;s.forEach((o,l,c,f)=>{a===0&&(a=f)}),t.setSelection(tr.near(t.doc.resolve(a),r))}var xY=t=>!("type"in t),BY=(t,e,r)=>({tr:n,dispatch:i,editor:s})=>{var a;if(i){r={parseOptions:s.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...r};let o;const l=b=>{s.emit("contentError",{editor:s,error:b,disableCollaboration:()=>{"collaboration"in s.storage&&typeof s.storage.collaboration=="object"&&s.storage.collaboration&&(s.storage.collaboration.isDisabled=!0)}})},c={preserveWhitespace:"full",...r.parseOptions};if(!r.errorOnInvalidContent&&!s.options.enableContentCheck&&s.options.emitContentError)try{Sg(e,s.schema,{parseOptions:c,errorOnInvalidContent:!0})}catch(b){l(b)}try{o=Sg(e,s.schema,{parseOptions:c,errorOnInvalidContent:(a=r.errorOnInvalidContent)!=null?a:s.options.enableContentCheck})}catch(b){return l(b),!1}let{from:f,to:h}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},m=!0,d=!0;if((xY(o)?o:[o]).forEach(b=>{b.check(),m=m?b.isText&&b.marks.length===0:!1,d=d?b.isBlock:!1}),f===h&&d){const{parent:b}=n.doc.resolve(f);b.isTextblock&&!b.type.spec.code&&!b.childCount&&(f-=1,h+=1)}let v;if(m){if(Array.isArray(e))v=e.map(b=>b.text||"").join("");else if(e instanceof it){let b="";e.forEach(w=>{w.text&&(b+=w.text)}),v=b}else typeof e=="object"&&e&&e.text?v=e.text:v=e;n.insertText(v,f,h)}else{v=o;const b=n.doc.resolve(f),w=b.node(),B=b.parentOffset===0,S=w.isText||w.isTextblock,C=w.content.size>0;B&&S&&C&&(f=Math.max(0,f-1)),n.replaceWith(f,h,v)}r.updateSelection&&bY(n,n.steps.length-1,-1),r.applyInputRules&&n.setMeta("applyInputRules",{from:f,text:v}),r.applyPasteRules&&n.setMeta("applyPasteRules",{from:f,text:v})}return!0},CY=()=>({state:t,dispatch:e})=>WG(t,e),SY=()=>({state:t,dispatch:e})=>$G(t,e),EY=()=>({state:t,dispatch:e})=>CI(t,e),_Y=()=>({state:t,dispatch:e})=>kI(t,e),kY=()=>({state:t,dispatch:e,tr:r})=>{try{const n=iv(t.doc,t.selection.$from.pos,-1);return n==null?!1:(r.join(n,2),e&&e(r),!0)}catch{return!1}},TY=()=>({state:t,dispatch:e,tr:r})=>{try{const n=iv(t.doc,t.selection.$from.pos,1);return n==null?!1:(r.join(n,2),e&&e(r),!0)}catch{return!1}},NY=()=>({state:t,dispatch:e})=>qG(t,e),FY=()=>({state:t,dispatch:e})=>GG(t,e);function vR(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function UY(t){const e=t.split(/-(?!$)/);let r=e[e.length-1];r==="Space"&&(r=" ");let n,i,s,a;for(let o=0;o<e.length-1;o+=1){const l=e[o];if(/^(cmd|meta|m)$/i.test(l))a=!0;else if(/^a(lt)?$/i.test(l))n=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))s=!0;else if(/^mod$/i.test(l))W1()||vR()?a=!0:i=!0;else throw new Error(`Unrecognized modifier name: ${l}`)}return n&&(r=`Alt-${r}`),i&&(r=`Ctrl-${r}`),a&&(r=`Meta-${r}`),s&&(r=`Shift-${r}`),r}var OY=t=>({editor:e,view:r,tr:n,dispatch:i})=>{const s=UY(t).split(/-(?!$)/),a=s.find(c=>!["Alt","Ctrl","Meta","Shift"].includes(c)),o=new KeyboardEvent("keydown",{key:a==="Space"?" ":a,altKey:s.includes("Alt"),ctrlKey:s.includes("Ctrl"),metaKey:s.includes("Meta"),shiftKey:s.includes("Shift"),bubbles:!0,cancelable:!0}),l=e.captureTransaction(()=>{r.someProp("handleKeyDown",c=>c(r,o))});return l?.steps.forEach(c=>{const f=c.map(n.mapping);f&&i&&n.maybeStep(f)}),!0};function Cu(t,e,r={}){const{from:n,to:i,empty:s}=t.selection,a=e?Ni(e,t.schema):null,o=[];t.doc.nodesBetween(n,i,(h,m)=>{if(h.isText)return;const d=Math.max(n,m),g=Math.min(i,m+h.nodeSize);o.push({node:h,from:d,to:g})});const l=i-n,c=o.filter(h=>a?a.name===h.node.type.name:!0).filter(h=>G1(h.node.attrs,r,{strict:!1}));return s?!!c.length:c.reduce((h,m)=>h+m.to-m.from,0)>=l}var LY=(t,e={})=>({state:r,dispatch:n})=>{const i=Ni(t,r.schema);return Cu(r,i,e)?YG(r,n):!1},DY=()=>({state:t,dispatch:e})=>UI(t,e),IY=t=>({state:e,dispatch:r})=>{const n=Ni(t,e.schema);return lW(n)(e,r)},RY=()=>({state:t,dispatch:e})=>NI(t,e);function fv(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function oN(t,e){const r=typeof e=="string"?[e]:e;return Object.keys(t).reduce((n,i)=>(r.includes(i)||(n[i]=t[i]),n),{})}var MY=(t,e)=>({tr:r,state:n,dispatch:i})=>{let s=null,a=null;const o=fv(typeof t=="string"?t:t.name,n.schema);if(!o)return!1;o==="node"&&(s=Ni(t,n.schema)),o==="mark"&&(a=ac(t,n.schema));let l=!1;return r.selection.ranges.forEach(c=>{n.doc.nodesBetween(c.$from.pos,c.$to.pos,(f,h)=>{s&&s===f.type&&(l=!0,i&&r.setNodeMarkup(h,void 0,oN(f.attrs,e))),a&&f.marks.length&&f.marks.forEach(m=>{a===m.type&&(l=!0,i&&r.addMark(h,h+f.nodeSize,a.create(oN(m.attrs,e))))})})}),l},QY=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),HY=()=>({tr:t,dispatch:e})=>{if(e){const r=new qa(t.doc);t.setSelection(r)}return!0},jY=()=>({state:t,dispatch:e})=>EI(t,e),PY=()=>({state:t,dispatch:e})=>TI(t,e),zY=()=>({state:t,dispatch:e})=>eW(t,e),KY=()=>({state:t,dispatch:e})=>nW(t,e),VY=()=>({state:t,dispatch:e})=>rW(t,e);function DC(t,e,r={},n={}){return Sg(t,e,{slice:!1,parseOptions:r,errorOnInvalidContent:n.errorOnInvalidContent})}var qY=(t,{errorOnInvalidContent:e,emitUpdate:r=!0,parseOptions:n={}}={})=>({editor:i,tr:s,dispatch:a,commands:o})=>{const{doc:l}=s;if(n.preserveWhitespace!=="full"){const c=DC(t,i.schema,n,{errorOnInvalidContent:e??i.options.enableContentCheck});return a&&s.replaceWith(0,l.content.size,c).setMeta("preventUpdate",!r),!0}return a&&s.setMeta("preventUpdate",!r),o.insertContentAt({from:0,to:l.content.size},t,{parseOptions:n,errorOnInvalidContent:e??i.options.enableContentCheck})};function bR(t,e){const r=ac(e,t.schema),{from:n,to:i,empty:s}=t.selection,a=[];s?(t.storedMarks&&a.push(...t.storedMarks),a.push(...t.selection.$head.marks())):t.doc.nodesBetween(n,i,l=>{a.push(...l.marks)});const o=a.find(l=>l.type.name===r.name);return o?{...o.attrs}:{}}function xR(t,e){const r=new uE(t);return e.forEach(n=>{n.steps.forEach(i=>{r.step(i)})}),r}function GY(t){for(let e=0;e<t.edgeCount;e+=1){const{type:r}=t.edge(e);if(r.isTextblock&&!r.hasRequiredAttrs())return r}return null}function WY(t,e,r){const n=[];return t.nodesBetween(e.from,e.to,(i,s)=>{r(i)&&n.push({node:i,pos:s})}),n}function BR(t,e){for(let r=t.depth;r>0;r-=1){const n=t.node(r);if(e(n))return{pos:r>0?t.before(r):0,start:t.start(r),depth:r,node:n}}}function hv(t){return e=>BR(e.$from,t)}function Qt(t,e,r){return t.config[e]===void 0&&t.parent?Qt(t.parent,e,r):typeof t.config[e]=="function"?t.config[e].bind({...r,parent:t.parent?Qt(t.parent,e,r):null}):t.config[e]}function UE(t){return t.map(e=>{const r={name:e.name,options:e.options,storage:e.storage},n=Qt(e,"addExtensions",r);return n?[e,...UE(n())]:e}).flat(10)}function OE(t,e){const r=nh.fromSchema(e).serializeFragment(t),i=document.implementation.createHTMLDocument().createElement("div");return i.appendChild(r),i.innerHTML}function CR(t){return typeof t=="function"}function qr(t,e=void 0,...r){return CR(t)?e?t.bind(e)(...r):t(...r):t}function $Y(t={}){return Object.keys(t).length===0&&t.constructor===Object}function sp(t){const e=t.filter(i=>i.type==="extension"),r=t.filter(i=>i.type==="node"),n=t.filter(i=>i.type==="mark");return{baseExtensions:e,nodeExtensions:r,markExtensions:n}}function SR(t){const e=[],{nodeExtensions:r,markExtensions:n}=sp(t),i=[...r,...n],s={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(a=>{const o={name:a.name,options:a.options,storage:a.storage,extensions:i},l=Qt(a,"addGlobalAttributes",o);if(!l)return;l().forEach(f=>{f.types.forEach(h=>{Object.entries(f.attributes).forEach(([m,d])=>{e.push({type:h,name:m,attribute:{...s,...d}})})})})}),i.forEach(a=>{const o={name:a.name,options:a.options,storage:a.storage},l=Qt(a,"addAttributes",o);if(!l)return;const c=l();Object.entries(c).forEach(([f,h])=>{const m={...s,...h};typeof m?.default=="function"&&(m.default=m.default()),m?.isRequired&&m?.default===void 0&&delete m.default,e.push({type:a.name,name:f,attribute:m})})}),e}function dn(...t){return t.filter(e=>!!e).reduce((e,r)=>{const n={...e};return Object.entries(r).forEach(([i,s])=>{if(!n[i]){n[i]=s;return}if(i==="class"){const o=s?String(s).split(" "):[],l=n[i]?n[i].split(" "):[],c=o.filter(f=>!l.includes(f));n[i]=[...l,...c].join(" ")}else if(i==="style"){const o=s?s.split(";").map(f=>f.trim()).filter(Boolean):[],l=n[i]?n[i].split(";").map(f=>f.trim()).filter(Boolean):[],c=new Map;l.forEach(f=>{const[h,m]=f.split(":").map(d=>d.trim());c.set(h,m)}),o.forEach(f=>{const[h,m]=f.split(":").map(d=>d.trim());c.set(h,m)}),n[i]=Array.from(c.entries()).map(([f,h])=>`${f}: ${h}`).join("; ")}else n[i]=s}),n},{})}function Eg(t,e){return e.filter(r=>r.type===t.type.name).filter(r=>r.attribute.rendered).map(r=>r.attribute.renderHTML?r.attribute.renderHTML(t.attrs)||{}:{[r.name]:t.attrs[r.name]}).reduce((r,n)=>dn(r,n),{})}function YY(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function lN(t,e){return"style"in t?t:{...t,getAttrs:r=>{const n=t.getAttrs?t.getAttrs(r):t.attrs;if(n===!1)return!1;const i=e.reduce((s,a)=>{const o=a.attribute.parseHTML?a.attribute.parseHTML(r):YY(r.getAttribute(a.name));return o==null?s:{...s,[a.name]:o}},{});return{...n,...i}}}}function AN(t){return Object.fromEntries(Object.entries(t).filter(([e,r])=>e==="attrs"&&$Y(r)?!1:r!=null))}function cN(t){var e,r;const n={};return!((e=t?.attribute)!=null&&e.isRequired)&&"default"in(t?.attribute||{})&&(n.default=t.attribute.default),((r=t?.attribute)==null?void 0:r.validate)!==void 0&&(n.validate=t.attribute.validate),[t.name,n]}function JY(t,e){var r;const n=SR(t),{nodeExtensions:i,markExtensions:s}=sp(t),a=(r=i.find(c=>Qt(c,"topNode")))==null?void 0:r.name,o=Object.fromEntries(i.map(c=>{const f=n.filter(w=>w.type===c.name),h={name:c.name,options:c.options,storage:c.storage,editor:e},m=t.reduce((w,B)=>{const S=Qt(B,"extendNodeSchema",h);return{...w,...S?S(c):{}}},{}),d=AN({...m,content:qr(Qt(c,"content",h)),marks:qr(Qt(c,"marks",h)),group:qr(Qt(c,"group",h)),inline:qr(Qt(c,"inline",h)),atom:qr(Qt(c,"atom",h)),selectable:qr(Qt(c,"selectable",h)),draggable:qr(Qt(c,"draggable",h)),code:qr(Qt(c,"code",h)),whitespace:qr(Qt(c,"whitespace",h)),linebreakReplacement:qr(Qt(c,"linebreakReplacement",h)),defining:qr(Qt(c,"defining",h)),isolating:qr(Qt(c,"isolating",h)),attrs:Object.fromEntries(f.map(cN))}),g=qr(Qt(c,"parseHTML",h));g&&(d.parseDOM=g.map(w=>lN(w,f)));const v=Qt(c,"renderHTML",h);v&&(d.toDOM=w=>v({node:w,HTMLAttributes:Eg(w,f)}));const b=Qt(c,"renderText",h);return b&&(d.toText=b),[c.name,d]})),l=Object.fromEntries(s.map(c=>{const f=n.filter(b=>b.type===c.name),h={name:c.name,options:c.options,storage:c.storage,editor:e},m=t.reduce((b,w)=>{const B=Qt(w,"extendMarkSchema",h);return{...b,...B?B(c):{}}},{}),d=AN({...m,inclusive:qr(Qt(c,"inclusive",h)),excludes:qr(Qt(c,"excludes",h)),group:qr(Qt(c,"group",h)),spanning:qr(Qt(c,"spanning",h)),code:qr(Qt(c,"code",h)),attrs:Object.fromEntries(f.map(cN))}),g=qr(Qt(c,"parseHTML",h));g&&(d.parseDOM=g.map(b=>lN(b,f)));const v=Qt(c,"renderHTML",h);return v&&(d.toDOM=b=>v({mark:b,HTMLAttributes:Eg(b,f)})),[c.name,d]}));return new iI({topNode:a,nodes:o,marks:l})}function XY(t){const e=t.filter((r,n)=>t.indexOf(r)!==n);return Array.from(new Set(e))}function $1(t){return t.sort((r,n)=>{const i=Qt(r,"priority")||100,s=Qt(n,"priority")||100;return i>s?-1:i<s?1:0})}function ER(t){const e=$1(UE(t)),r=XY(e.map(n=>n.name));return r.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${r.map(n=>`'${n}'`).join(", ")}]. This can lead to issues.`),e}function _R(t,e,r){const{from:n,to:i}=e,{blockSeparator:s=`

`,textSerializers:a={}}=r||{};let o="";return t.nodesBetween(n,i,(l,c,f,h)=>{var m;l.isBlock&&c>n&&(o+=s);const d=a?.[l.type.name];if(d)return f&&(o+=d({node:l,pos:c,parent:f,index:h,range:e})),!1;l.isText&&(o+=(m=l?.text)==null?void 0:m.slice(Math.max(n,c)-c,i-c))}),o}function kR(t,e){const r={from:0,to:t.content.size};return _R(t,r,e)}function LE(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,r])=>[e,r.spec.toText]))}function ZY(t,e){const r=Ni(e,t.schema),{from:n,to:i}=t.selection,s=[];t.doc.nodesBetween(n,i,o=>{s.push(o)});const a=s.reverse().find(o=>o.type.name===r.name);return a?{...a.attrs}:{}}function TR(t,e){const r=fv(typeof e=="string"?e:e.name,t.schema);return r==="node"?ZY(t,e):r==="mark"?bR(t,e):{}}function eJ(t,e=JSON.stringify){const r={};return t.filter(n=>{const i=e(n);return Object.prototype.hasOwnProperty.call(r,i)?!1:r[i]=!0})}function tJ(t){const e=eJ(t);return e.length===1?e:e.filter((r,n)=>!e.filter((s,a)=>a!==n).some(s=>r.oldRange.from>=s.oldRange.from&&r.oldRange.to<=s.oldRange.to&&r.newRange.from>=s.newRange.from&&r.newRange.to<=s.newRange.to))}function NR(t){const{mapping:e,steps:r}=t,n=[];return e.maps.forEach((i,s)=>{const a=[];if(i.ranges.length)i.forEach((o,l)=>{a.push({from:o,to:l})});else{const{from:o,to:l}=r[s];if(o===void 0||l===void 0)return;a.push({from:o,to:l})}a.forEach(({from:o,to:l})=>{const c=e.slice(s).map(o,-1),f=e.slice(s).map(l),h=e.invert().map(c,-1),m=e.invert().map(f);n.push({oldRange:{from:h,to:m},newRange:{from:c,to:f}})})}),tJ(n)}function DE(t,e,r){const n=[];return t===e?r.resolve(t).marks().forEach(i=>{const s=r.resolve(t),a=NE(s,i.type);a&&n.push({mark:i,...a})}):r.nodesBetween(t,e,(i,s)=>{!i||i?.nodeSize===void 0||n.push(...i.marks.map(a=>({from:s,to:s+i.nodeSize,mark:a})))}),n}var rJ=(t,e,r,n=20)=>{const i=t.doc.resolve(r);let s=n,a=null;for(;s>0&&a===null;){const o=i.node(s);o?.type.name===e?a=o:s-=1}return[a,s]};function Ay(t,e){return e.nodes[t]||e.marks[t]||null}function d1(t,e,r){return Object.fromEntries(Object.entries(r).filter(([n])=>{const i=t.find(s=>s.type===e&&s.name===n);return i?i.attribute.keepOnSplit:!1}))}var nJ=(t,e=500)=>{let r="";const n=t.parentOffset;return t.parent.nodesBetween(Math.max(0,n-e),n,(i,s,a,o)=>{var l,c;const f=((c=(l=i.type.spec).toText)==null?void 0:c.call(l,{node:i,pos:s,parent:a,index:o}))||i.textContent||"%leaf%";r+=i.isAtom&&!i.isText?f:f.slice(0,Math.max(0,n-s))}),r};function IC(t,e,r={}){const{empty:n,ranges:i}=t.selection,s=e?ac(e,t.schema):null;if(n)return!!(t.storedMarks||t.selection.$from.marks()).filter(h=>s?s.name===h.type.name:!0).find(h=>G1(h.attrs,r,{strict:!1}));let a=0;const o=[];if(i.forEach(({$from:h,$to:m})=>{const d=h.pos,g=m.pos;t.doc.nodesBetween(d,g,(v,b)=>{if(!v.isText&&!v.marks.length)return;const w=Math.max(d,b),B=Math.min(g,b+v.nodeSize),S=B-w;a+=S,o.push(...v.marks.map(C=>({mark:C,from:w,to:B})))})}),a===0)return!1;const l=o.filter(h=>s?s.name===h.mark.type.name:!0).filter(h=>G1(h.mark.attrs,r,{strict:!1})).reduce((h,m)=>h+m.to-m.from,0),c=o.filter(h=>s?h.mark.type!==s&&h.mark.type.excludes(s):!0).reduce((h,m)=>h+m.to-m.from,0);return(l>0?l+c:l)>=a}function iJ(t,e,r={}){if(!e)return Cu(t,null,r)||IC(t,null,r);const n=fv(e,t.schema);return n==="node"?Cu(t,e,r):n==="mark"?IC(t,e,r):!1}var sJ=(t,e)=>{const{$from:r,$to:n,$anchor:i}=t.selection;if(e){const s=hv(o=>o.type.name===e)(t.selection);if(!s)return!1;const a=t.doc.resolve(s.pos+1);return i.pos+1===a.end()}return!(n.parentOffset<n.parent.nodeSize-2||r.pos!==n.pos)},aJ=t=>{const{$from:e,$to:r}=t.selection;return!(e.parentOffset>0||e.pos!==r.pos)};function uN(t,e){return Array.isArray(e)?e.some(r=>(typeof r=="string"?r:r.name)===t.name):e}function fN(t,e){const{nodeExtensions:r}=sp(e),n=r.find(a=>a.name===t);if(!n)return!1;const i={name:n.name,options:n.options,storage:n.storage},s=qr(Qt(n,"group",i));return typeof s!="string"?!1:s.split(" ").includes("list")}function dv(t,{checkChildren:e=!0,ignoreWhitespace:r=!1}={}){var n;if(r){if(t.type.name==="hardBreak")return!0;if(t.isText)return/^\s*$/m.test((n=t.text)!=null?n:"")}if(t.isText)return!t.text;if(t.isAtom||t.isLeaf)return!1;if(t.content.childCount===0)return!0;if(e){let i=!0;return t.content.forEach(s=>{i!==!1&&(dv(s,{ignoreWhitespace:r,checkChildren:e})||(i=!1))}),i}return!1}function FR(t){return t instanceof jt}var UR=class OR{constructor(e){this.position=e}static fromJSON(e){return new OR(e.position)}toJSON(){return{position:this.position}}};function oJ(t,e){const r=e.mapping.mapResult(t.position);return{position:new UR(r.pos),mapResult:r}}function lJ(t){return new UR(t)}function LR(t,e,r){const i=t.state.doc.content.size,s=XA(e,0,i),a=XA(r,0,i),o=t.coordsAtPos(s),l=t.coordsAtPos(a,-1),c=Math.min(o.top,l.top),f=Math.max(o.bottom,l.bottom),h=Math.min(o.left,l.left),m=Math.max(o.right,l.right),d=m-h,g=f-c,w={top:c,bottom:f,left:h,right:m,width:d,height:g,x:h,y:c};return{...w,toJSON:()=>w}}function AJ(t,e,r){var n;const{selection:i}=e;let s=null;if(FE(i)&&(s=i.$cursor),s){const o=(n=t.storedMarks)!=null?n:s.marks();return s.parent.type.allowsMarkType(r)&&(!!r.isInSet(o)||!o.some(c=>c.type.excludes(r)))}const{ranges:a}=i;return a.some(({$from:o,$to:l})=>{let c=o.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(r):!1;return t.doc.nodesBetween(o.pos,l.pos,(f,h,m)=>{if(c)return!1;if(f.isInline){const d=!m||m.type.allowsMarkType(r),g=!!r.isInSet(f.marks)||!f.marks.some(v=>v.type.excludes(r));c=d&&g}return!c}),c})}var cJ=(t,e={})=>({tr:r,state:n,dispatch:i})=>{const{selection:s}=r,{empty:a,ranges:o}=s,l=ac(t,n.schema);if(i)if(a){const c=bR(n,l);r.addStoredMark(l.create({...c,...e}))}else o.forEach(c=>{const f=c.$from.pos,h=c.$to.pos;n.doc.nodesBetween(f,h,(m,d)=>{const g=Math.max(d,f),v=Math.min(d+m.nodeSize,h);m.marks.find(w=>w.type===l)?m.marks.forEach(w=>{l===w.type&&r.addMark(g,v,l.create({...w.attrs,...e}))}):r.addMark(g,v,l.create(e))})});return AJ(n,r,l)},uJ=(t,e)=>({tr:r})=>(r.setMeta(t,e),!0),fJ=(t,e={})=>({state:r,dispatch:n,chain:i})=>{const s=Ni(t,r.schema);let a;return r.selection.$anchor.sameParent(r.selection.$head)&&(a=r.selection.$anchor.parent.attrs),s.isTextblock?i().command(({commands:o})=>S3(s,{...a,...e})(r)?!0:o.clearNodes()).command(({state:o})=>S3(s,{...a,...e})(o,n)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},hJ=t=>({tr:e,dispatch:r})=>{if(r){const{doc:n}=e,i=XA(t,0,n.content.size),s=jt.create(n,i);e.setSelection(s)}return!0},dJ=(t,e)=>({tr:r,state:n,dispatch:i})=>{const{selection:s}=n;let a,o;return typeof e=="number"?(a=e,o=e):e&&"from"in e&&"to"in e?(a=e.from,o=e.to):(a=s.from,o=s.to),i&&r.doc.nodesBetween(a,o,(l,c)=>{l.isText||r.setNodeMarkup(c,void 0,{...l.attrs,dir:t})}),!0},pJ=t=>({tr:e,dispatch:r})=>{if(r){const{doc:n}=e,{from:i,to:s}=typeof t=="number"?{from:t,to:t}:t,a=qt.atStart(n).from,o=qt.atEnd(n).to,l=XA(i,a,o),c=XA(s,a,o),f=qt.create(n,l,c);e.setSelection(f)}return!0},mJ=t=>({state:e,dispatch:r})=>{const n=Ni(t,e.schema);return uW(n)(e,r)};function hN(t,e){const r=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(r){const n=r.filter(i=>e?.includes(i.type.name));t.tr.ensureMarks(n)}}var gJ=({keepMarks:t=!0}={})=>({tr:e,state:r,dispatch:n,editor:i})=>{const{selection:s,doc:a}=e,{$from:o,$to:l}=s,c=i.extensionManager.attributes,f=d1(c,o.node().type.name,o.node().attrs);if(s instanceof jt&&s.node.isBlock)return!o.parentOffset||!ec(a,o.pos)?!1:(n&&(t&&hN(r,i.extensionManager.splittableMarks),e.split(o.pos).scrollIntoView()),!0);if(!o.parent.isBlock)return!1;const h=l.parentOffset===l.parent.content.size,m=o.depth===0?void 0:GY(o.node(-1).contentMatchAt(o.indexAfter(-1)));let d=h&&m?[{type:m,attrs:f}]:void 0,g=ec(e.doc,e.mapping.map(o.pos),1,d);if(!d&&!g&&ec(e.doc,e.mapping.map(o.pos),1,m?[{type:m}]:void 0)&&(g=!0,d=m?[{type:m,attrs:f}]:void 0),n){if(g&&(s instanceof qt&&e.deleteSelection(),e.split(e.mapping.map(o.pos),1,d),m&&!h&&!o.parentOffset&&o.parent.type!==m)){const v=e.mapping.map(o.before()),b=e.doc.resolve(v);o.node(-1).canReplaceWith(b.index(),b.index()+1,m)&&e.setNodeMarkup(e.mapping.map(o.before()),m)}t&&hN(r,i.extensionManager.splittableMarks),e.scrollIntoView()}return g},yJ=(t,e={})=>({tr:r,state:n,dispatch:i,editor:s})=>{var a;const o=Ni(t,n.schema),{$from:l,$to:c}=n.selection,f=n.selection.node;if(f&&f.isBlock||l.depth<2||!l.sameParent(c))return!1;const h=l.node(-1);if(h.type!==o)return!1;const m=s.extensionManager.attributes;if(l.parent.content.size===0&&l.node(-1).childCount===l.indexAfter(-1)){if(l.depth===2||l.node(-3).type!==o||l.index(-2)!==l.node(-2).childCount-1)return!1;if(i){let w=it.empty;const B=l.index(-1)?1:l.index(-2)?2:3;for(let H=l.depth-B;H>=l.depth-3;H-=1)w=it.from(l.node(H).copy(w));const S=l.indexAfter(-1)<l.node(-2).childCount?1:l.indexAfter(-2)<l.node(-3).childCount?2:3,C={...d1(m,l.node().type.name,l.node().attrs),...e},k=((a=o.contentMatch.defaultType)==null?void 0:a.createAndFill(C))||void 0;w=w.append(it.from(o.createAndFill(null,k)||void 0));const M=l.before(l.depth-(B-1));r.replace(M,l.after(-S),new pt(w,4-B,0));let D=-1;r.doc.nodesBetween(M,r.doc.content.size,(H,F)=>{if(D>-1)return!1;H.isTextblock&&H.content.size===0&&(D=F+1)}),D>-1&&r.setSelection(qt.near(r.doc.resolve(D))),r.scrollIntoView()}return!0}const d=c.pos===l.end()?h.contentMatchAt(0).defaultType:null,g={...d1(m,h.type.name,h.attrs),...e},v={...d1(m,l.node().type.name,l.node().attrs),...e};r.delete(l.pos,c.pos);const b=d?[{type:o,attrs:g},{type:d,attrs:v}]:[{type:o,attrs:g}];if(!ec(r.doc,l.pos,2))return!1;if(i){const{selection:w,storedMarks:B}=n,{splittableMarks:S}=s.extensionManager,C=B||w.$to.parentOffset&&w.$from.marks();if(r.split(l.pos,2,b).scrollIntoView(),!C||!i)return!0;const k=C.filter(M=>S.includes(M.type.name));r.ensureMarks(k)}return!0},z2=(t,e)=>{const r=hv(a=>a.type===e)(t.selection);if(!r)return!0;const n=t.doc.resolve(Math.max(0,r.pos-1)).before(r.depth);if(n===void 0)return!0;const i=t.doc.nodeAt(n);return r.node.type===i?.type&&Fu(t.doc,r.pos)&&t.join(r.pos),!0},K2=(t,e)=>{const r=hv(a=>a.type===e)(t.selection);if(!r)return!0;const n=t.doc.resolve(r.start).after(r.depth);if(n===void 0)return!0;const i=t.doc.nodeAt(n);return r.node.type===i?.type&&Fu(t.doc,n)&&t.join(n),!0},wJ=(t,e,r,n={})=>({editor:i,tr:s,state:a,dispatch:o,chain:l,commands:c,can:f})=>{const{extensions:h,splittableMarks:m}=i.extensionManager,d=Ni(t,a.schema),g=Ni(e,a.schema),{selection:v,storedMarks:b}=a,{$from:w,$to:B}=v,S=w.blockRange(B),C=b||v.$to.parentOffset&&v.$from.marks();if(!S)return!1;const k=hv(M=>fN(M.type.name,h))(v);if(S.depth>=1&&k&&S.depth-k.depth<=1){if(k.node.type===d)return c.liftListItem(g);if(fN(k.node.type.name,h)&&d.validContent(k.node.content)&&o)return l().command(()=>(s.setNodeMarkup(k.pos,d),!0)).command(()=>z2(s,d)).command(()=>K2(s,d)).run()}return!r||!C||!o?l().command(()=>f().wrapInList(d,n)?!0:c.clearNodes()).wrapInList(d,n).command(()=>z2(s,d)).command(()=>K2(s,d)).run():l().command(()=>{const M=f().wrapInList(d,n),D=C.filter(H=>m.includes(H.type.name));return s.ensureMarks(D),M?!0:c.clearNodes()}).wrapInList(d,n).command(()=>z2(s,d)).command(()=>K2(s,d)).run()},vJ=(t,e={},r={})=>({state:n,commands:i})=>{const{extendEmptyMarkRange:s=!1}=r,a=ac(t,n.schema);return IC(n,a,e)?i.unsetMark(a,{extendEmptyMarkRange:s}):i.setMark(a,e)},bJ=(t,e,r={})=>({state:n,commands:i})=>{const s=Ni(t,n.schema),a=Ni(e,n.schema),o=Cu(n,s,r);let l;return n.selection.$anchor.sameParent(n.selection.$head)&&(l=n.selection.$anchor.parent.attrs),o?i.setNode(a,l):i.setNode(s,{...l,...r})},xJ=(t,e={})=>({state:r,commands:n})=>{const i=Ni(t,r.schema);return Cu(r,i,e)?n.lift(i):n.wrapIn(i,e)},BJ=()=>({state:t,dispatch:e})=>{const r=t.plugins;for(let n=0;n<r.length;n+=1){const i=r[n];let s;if(i.spec.isInputRules&&(s=i.getState(t))){if(e){const a=t.tr,o=s.transform;for(let l=o.steps.length-1;l>=0;l-=1)a.step(o.steps[l].invert(o.docs[l]));if(s.text){const l=a.doc.resolve(s.from).marks();a.replaceWith(s.from,s.to,t.schema.text(s.text,l))}else a.delete(s.from,s.to)}return!0}}return!1},CJ=()=>({tr:t,dispatch:e})=>{const{selection:r}=t,{empty:n,ranges:i}=r;return n||e&&i.forEach(s=>{t.removeMark(s.$from.pos,s.$to.pos)}),!0},SJ=(t,e={})=>({tr:r,state:n,dispatch:i})=>{var s;const{extendEmptyMarkRange:a=!1}=e,{selection:o}=r,l=ac(t,n.schema),{$from:c,empty:f,ranges:h}=o;if(!i)return!0;if(f&&a){let{from:m,to:d}=o;const g=(s=c.marks().find(b=>b.type===l))==null?void 0:s.attrs,v=NE(c,l,g);v&&(m=v.from,d=v.to),r.removeMark(m,d,l)}else h.forEach(m=>{r.removeMark(m.$from.pos,m.$to.pos,l)});return r.removeStoredMark(l),!0},EJ=t=>({tr:e,state:r,dispatch:n})=>{const{selection:i}=r;let s,a;return typeof t=="number"?(s=t,a=t):t&&"from"in t&&"to"in t?(s=t.from,a=t.to):(s=i.from,a=i.to),n&&e.doc.nodesBetween(s,a,(o,l)=>{if(o.isText)return;const c={...o.attrs};delete c.dir,e.setNodeMarkup(l,void 0,c)}),!0},_J=(t,e={})=>({tr:r,state:n,dispatch:i})=>{let s=null,a=null;const o=fv(typeof t=="string"?t:t.name,n.schema);if(!o)return!1;o==="node"&&(s=Ni(t,n.schema)),o==="mark"&&(a=ac(t,n.schema));let l=!1;return r.selection.ranges.forEach(c=>{const f=c.$from.pos,h=c.$to.pos;let m,d,g,v;r.selection.empty?n.doc.nodesBetween(f,h,(b,w)=>{s&&s===b.type&&(l=!0,g=Math.max(w,f),v=Math.min(w+b.nodeSize,h),m=w,d=b)}):n.doc.nodesBetween(f,h,(b,w)=>{w<f&&s&&s===b.type&&(l=!0,g=Math.max(w,f),v=Math.min(w+b.nodeSize,h),m=w,d=b),w>=f&&w<=h&&(s&&s===b.type&&(l=!0,i&&r.setNodeMarkup(w,void 0,{...b.attrs,...e})),a&&b.marks.length&&b.marks.forEach(B=>{if(a===B.type&&(l=!0,i)){const S=Math.max(w,f),C=Math.min(w+b.nodeSize,h);r.addMark(S,C,a.create({...B.attrs,...e}))}}))}),d&&(m!==void 0&&i&&r.setNodeMarkup(m,void 0,{...d.attrs,...e}),a&&d.marks.length&&d.marks.forEach(b=>{a===b.type&&i&&r.addMark(g,v,a.create({...b.attrs,...e}))}))}),l},kJ=(t,e={})=>({state:r,dispatch:n})=>{const i=Ni(t,r.schema);return iW(i,e)(r,n)},TJ=(t,e={})=>({state:r,dispatch:n})=>{const i=Ni(t,r.schema);return sW(i,e)(r,n)},NJ=class{constructor(){this.callbacks={}}on(t,e){return this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(e),this}emit(t,...e){const r=this.callbacks[t];return r&&r.forEach(n=>n.apply(this,e)),this}off(t,e){const r=this.callbacks[t];return r&&(e?this.callbacks[t]=r.filter(n=>n!==e):delete this.callbacks[t]),this}once(t,e){const r=(...n)=>{this.off(t,r),e.apply(this,n)};return this.on(t,r)}removeAllListeners(){this.callbacks={}}},pv=class{constructor(t){var e;this.find=t.find,this.handler=t.handler,this.undoable=(e=t.undoable)!=null?e:!0}},FJ=(t,e)=>{if(TE(e))return e.exec(t);const r=e(t);if(!r)return null;const n=[r.text];return n.index=r.index,n.input=t,n.data=r.data,r.replaceWith&&(r.text.includes(r.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),n.push(r.replaceWith)),n};function cy(t){var e;const{editor:r,from:n,to:i,text:s,rules:a,plugin:o}=t,{view:l}=r;if(l.composing)return!1;const c=l.state.doc.resolve(n);if(c.parent.type.spec.code||(e=c.nodeBefore||c.nodeAfter)!=null&&e.marks.find(m=>m.type.spec.code))return!1;let f=!1;const h=nJ(c)+s;return a.forEach(m=>{if(f)return;const d=FJ(h,m.find);if(!d)return;const g=l.state.tr,v=cv({state:l.state,transaction:g}),b={from:n-(d[0].length-s.length),to:i},{commands:w,chain:B,can:S}=new uv({editor:r,state:v});m.handler({state:v,range:b,match:d,commands:w,chain:B,can:S})===null||!g.steps.length||(m.undoable&&g.setMeta(o,{transform:g,from:n,to:i,text:s}),l.dispatch(g),f=!0)}),f}function UJ(t){const{editor:e,rules:r}=t,n=new pn({state:{init(){return null},apply(i,s,a){const o=i.getMeta(n);if(o)return o;const l=i.getMeta("applyInputRules");return l&&setTimeout(()=>{let{text:f}=l;typeof f=="string"?f=f:f=OE(it.from(f),a.schema);const{from:h}=l,m=h+f.length;cy({editor:e,from:h,to:m,text:f,rules:r,plugin:n})}),i.selectionSet||i.docChanged?null:s}},props:{handleTextInput(i,s,a,o){return cy({editor:e,from:s,to:a,text:o,rules:r,plugin:n})},handleDOMEvents:{compositionend:i=>(setTimeout(()=>{const{$cursor:s}=i.state.selection;s&&cy({editor:e,from:s.pos,to:s.pos,text:"",rules:r,plugin:n})}),!1)},handleKeyDown(i,s){if(s.key!=="Enter")return!1;const{$cursor:a}=i.state.selection;return a?cy({editor:e,from:a.pos,to:a.pos,text:`
`,rules:r,plugin:n}):!1}},isInputRules:!0});return n}function OJ(t){return Object.prototype.toString.call(t).slice(8,-1)}function uy(t){return OJ(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function DR(t,e){const r={...t};return uy(t)&&uy(e)&&Object.keys(e).forEach(n=>{uy(e[n])&&uy(t[n])?r[n]=DR(t[n],e[n]):r[n]=e[n]}),r}var IE=class{constructor(t={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...t},this.name=this.config.name}get options(){return{...qr(Qt(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...qr(Qt(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(t={}){const e=this.extend({...this.config,addOptions:()=>DR(this.options,t)});return e.name=this.name,e.parent=this.parent,e}extend(t={}){const e=new this.constructor({...this.config,...t});return e.parent=this,this.child=e,e.name="name"in t?t.name:e.parent.name,e}},oc=class IR extends IE{constructor(){super(...arguments),this.type="mark"}static create(e={}){const r=typeof e=="function"?e():e;return new IR(r)}static handleExit({editor:e,mark:r}){const{tr:n}=e.state,i=e.state.selection.$from;if(i.pos===i.end()){const a=i.marks();if(!!!a.find(c=>c?.type.name===r.name))return!1;const l=a.find(c=>c?.type.name===r.name);return l&&n.removeStoredMark(l),n.insertText(" ",i.pos),e.view.dispatch(n),!0}return!1}configure(e){return super.configure(e)}extend(e){const r=typeof e=="function"?e():e;return super.extend(r)}};function LJ(t){return typeof t=="number"}var DJ=class{constructor(t){this.find=t.find,this.handler=t.handler}},IJ=(t,e,r)=>{if(TE(e))return[...t.matchAll(e)];const n=e(t,r);return n?n.map(i=>{const s=[i.text];return s.index=i.index,s.input=t,s.data=i.data,i.replaceWith&&(i.text.includes(i.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),s.push(i.replaceWith)),s}):[]};function RJ(t){const{editor:e,state:r,from:n,to:i,rule:s,pasteEvent:a,dropEvent:o}=t,{commands:l,chain:c,can:f}=new uv({editor:e,state:r}),h=[];return r.doc.nodesBetween(n,i,(d,g)=>{var v,b,w,B,S;if((b=(v=d.type)==null?void 0:v.spec)!=null&&b.code||!(d.isText||d.isTextblock||d.isInline))return;const C=(S=(B=(w=d.content)==null?void 0:w.size)!=null?B:d.nodeSize)!=null?S:0,k=Math.max(n,g),M=Math.min(i,g+C);if(k>=M)return;const D=d.isText?d.text||"":d.textBetween(k-g,M-g,void 0,"");IJ(D,s.find,a).forEach(F=>{if(F.index===void 0)return;const $=k+F.index+1,q=$+F[0].length,R={from:r.tr.mapping.map($),to:r.tr.mapping.map(q)},G=s.handler({state:r,range:R,match:F,commands:l,chain:c,can:f,pasteEvent:a,dropEvent:o});h.push(G)})}),h.every(d=>d!==null)}var fy=null,MJ=t=>{var e;const r=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=r.clipboardData)==null||e.setData("text/html",t),r};function QJ(t){const{editor:e,rules:r}=t;let n=null,i=!1,s=!1,a=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,o;try{o=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{o=null}const l=({state:f,from:h,to:m,rule:d,pasteEvt:g})=>{const v=f.tr,b=cv({state:f,transaction:v});if(!(!RJ({editor:e,state:b,from:Math.max(h-1,0),to:m.b-1,rule:d,pasteEvent:g,dropEvent:o})||!v.steps.length)){try{o=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{o=null}return a=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,v}};return r.map(f=>new pn({view(h){const m=g=>{var v;n=(v=h.dom.parentElement)!=null&&v.contains(g.target)?h.dom.parentElement:null,n&&(fy=e)},d=()=>{fy&&(fy=null)};return window.addEventListener("dragstart",m),window.addEventListener("dragend",d),{destroy(){window.removeEventListener("dragstart",m),window.removeEventListener("dragend",d)}}},props:{handleDOMEvents:{drop:(h,m)=>{if(s=n===h.dom.parentElement,o=m,!s){const d=fy;d?.isEditable&&setTimeout(()=>{const g=d.state.selection;g&&d.commands.deleteRange({from:g.from,to:g.to})},10)}return!1},paste:(h,m)=>{var d;const g=(d=m.clipboardData)==null?void 0:d.getData("text/html");return a=m,i=!!g?.includes("data-pm-slice"),!1}}},appendTransaction:(h,m,d)=>{const g=h[0],v=g.getMeta("uiEvent")==="paste"&&!i,b=g.getMeta("uiEvent")==="drop"&&!s,w=g.getMeta("applyPasteRules"),B=!!w;if(!v&&!b&&!B)return;if(B){let{text:k}=w;typeof k=="string"?k=k:k=OE(it.from(k),d.schema);const{from:M}=w,D=M+k.length,H=MJ(k);return l({rule:f,state:d,from:M,to:{b:D},pasteEvt:H})}const S=m.doc.content.findDiffStart(d.doc.content),C=m.doc.content.findDiffEnd(d.doc.content);if(!(!LJ(S)||!C||S===C.b))return l({rule:f,state:d,from:S,to:C,pasteEvt:a})}}))}var mv=class{constructor(t,e){this.splittableMarks=[],this.editor=e,this.baseExtensions=t,this.extensions=ER(t),this.schema=JY(this.extensions,e),this.setupExtensions()}get commands(){return this.extensions.reduce((t,e)=>{const r={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:Ay(e.name,this.schema)},n=Qt(e,"addCommands",r);return n?{...t,...n()}:t},{})}get plugins(){const{editor:t}=this;return $1([...this.extensions].reverse()).flatMap(n=>{const i={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:t,type:Ay(n.name,this.schema)},s=[],a=Qt(n,"addKeyboardShortcuts",i);let o={};if(n.type==="mark"&&Qt(n,"exitable",i)&&(o.ArrowRight=()=>oc.handleExit({editor:t,mark:n})),a){const m=Object.fromEntries(Object.entries(a()).map(([d,g])=>[d,()=>g({editor:t})]));o={...o,...m}}const l=tY(o);s.push(l);const c=Qt(n,"addInputRules",i);if(uN(n,t.options.enableInputRules)&&c){const m=c();if(m&&m.length){const d=UJ({editor:t,rules:m}),g=Array.isArray(d)?d:[d];s.push(...g)}}const f=Qt(n,"addPasteRules",i);if(uN(n,t.options.enablePasteRules)&&f){const m=f();if(m&&m.length){const d=QJ({editor:t,rules:m});s.push(...d)}}const h=Qt(n,"addProseMirrorPlugins",i);if(h){const m=h();s.push(...m)}return s})}get attributes(){return SR(this.extensions)}get nodeViews(){const{editor:t}=this,{nodeExtensions:e}=sp(this.extensions);return Object.fromEntries(e.filter(r=>!!Qt(r,"addNodeView")).map(r=>{const n=this.attributes.filter(l=>l.type===r.name),i={name:r.name,options:r.options,storage:this.editor.extensionStorage[r.name],editor:t,type:Ni(r.name,this.schema)},s=Qt(r,"addNodeView",i);if(!s)return[];const a=s();if(!a)return[];const o=(l,c,f,h,m)=>{const d=Eg(l,n);return a({node:l,view:c,getPos:f,decorations:h,innerDecorations:m,editor:t,extension:r,HTMLAttributes:d})};return[r.name,o]}))}dispatchTransaction(t){const{editor:e}=this;return $1([...this.extensions].reverse()).reduceRight((n,i)=>{const s={name:i.name,options:i.options,storage:this.editor.extensionStorage[i.name],editor:e,type:Ay(i.name,this.schema)},a=Qt(i,"dispatchTransaction",s);return a?o=>{a.call(s,{transaction:o,next:n})}:n},t)}get markViews(){const{editor:t}=this,{markExtensions:e}=sp(this.extensions);return Object.fromEntries(e.filter(r=>!!Qt(r,"addMarkView")).map(r=>{const n=this.attributes.filter(o=>o.type===r.name),i={name:r.name,options:r.options,storage:this.editor.extensionStorage[r.name],editor:t,type:ac(r.name,this.schema)},s=Qt(r,"addMarkView",i);if(!s)return[];const a=(o,l,c)=>{const f=Eg(o,n);return s()({mark:o,view:l,inline:c,editor:t,extension:r,HTMLAttributes:f,updateAttributes:h=>{eX(o,t,h)}})};return[r.name,a]}))}setupExtensions(){const t=this.extensions;this.editor.extensionStorage=Object.fromEntries(t.map(e=>[e.name,e.storage])),t.forEach(e=>{var r;const n={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:Ay(e.name,this.schema)};e.type==="mark"&&((r=qr(Qt(e,"keepOnSplit",n)))==null||r)&&this.splittableMarks.push(e.name);const i=Qt(e,"onBeforeCreate",n),s=Qt(e,"onCreate",n),a=Qt(e,"onUpdate",n),o=Qt(e,"onSelectionUpdate",n),l=Qt(e,"onTransaction",n),c=Qt(e,"onFocus",n),f=Qt(e,"onBlur",n),h=Qt(e,"onDestroy",n);i&&this.editor.on("beforeCreate",i),s&&this.editor.on("create",s),a&&this.editor.on("update",a),o&&this.editor.on("selectionUpdate",o),l&&this.editor.on("transaction",l),c&&this.editor.on("focus",c),f&&this.editor.on("blur",f),h&&this.editor.on("destroy",h)})}};mv.resolve=ER;mv.sort=$1;mv.flatten=UE;var HJ={};kE(HJ,{ClipboardTextSerializer:()=>MR,Commands:()=>QR,Delete:()=>HR,Drop:()=>jR,Editable:()=>PR,FocusEvents:()=>KR,Keymap:()=>VR,Paste:()=>qR,Tabindex:()=>GR,TextDirection:()=>WR,focusEventsPluginKey:()=>zR});var Gr=class RR extends IE{constructor(){super(...arguments),this.type="extension"}static create(e={}){const r=typeof e=="function"?e():e;return new RR(r)}configure(e){return super.configure(e)}extend(e){const r=typeof e=="function"?e():e;return super.extend(r)}},MR=Gr.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new pn({key:new Mn("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:r}=t,{doc:n,selection:i}=e,{ranges:s}=i,a=Math.min(...s.map(f=>f.$from.pos)),o=Math.max(...s.map(f=>f.$to.pos)),l=LE(r);return _R(n,{from:a,to:o},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:l})}}})]}}),QR=Gr.create({name:"commands",addCommands(){return{...mR}}}),HR=Gr.create({name:"delete",onUpdate({transaction:t,appendedTransactions:e}){var r,n,i;const s=()=>{var a,o,l,c;if((c=(l=(o=(a=this.editor.options.coreExtensionOptions)==null?void 0:a.delete)==null?void 0:o.filterTransaction)==null?void 0:l.call(o,t))!=null?c:t.getMeta("y-sync$"))return;const f=xR(t.before,[t,...e]);NR(f).forEach(d=>{f.mapping.mapResult(d.oldRange.from).deletedAfter&&f.mapping.mapResult(d.oldRange.to).deletedBefore&&f.before.nodesBetween(d.oldRange.from,d.oldRange.to,(g,v)=>{const b=v+g.nodeSize-2,w=d.oldRange.from<=v&&b<=d.oldRange.to;this.editor.emit("delete",{type:"node",node:g,from:v,to:b,newFrom:f.mapping.map(v),newTo:f.mapping.map(b),deletedRange:d.oldRange,newRange:d.newRange,partial:!w,editor:this.editor,transaction:t,combinedTransform:f})})});const m=f.mapping;f.steps.forEach((d,g)=>{var v,b;if(d instanceof ul){const w=m.slice(g).map(d.from,-1),B=m.slice(g).map(d.to),S=m.invert().map(w,-1),C=m.invert().map(B),k=(v=f.doc.nodeAt(w-1))==null?void 0:v.marks.some(D=>D.eq(d.mark)),M=(b=f.doc.nodeAt(B))==null?void 0:b.marks.some(D=>D.eq(d.mark));this.editor.emit("delete",{type:"mark",mark:d.mark,from:d.from,to:d.to,deletedRange:{from:S,to:C},newRange:{from:w,to:B},partial:!!(M||k),editor:this.editor,transaction:t,combinedTransform:f})}})};(i=(n=(r=this.editor.options.coreExtensionOptions)==null?void 0:r.delete)==null?void 0:n.async)==null||i?setTimeout(s,0):s()}}),jR=Gr.create({name:"drop",addProseMirrorPlugins(){return[new pn({key:new Mn("tiptapDrop"),props:{handleDrop:(t,e,r,n)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:r,moved:n})}}})]}}),PR=Gr.create({name:"editable",addProseMirrorPlugins(){return[new pn({key:new Mn("editable"),props:{editable:()=>this.editor.options.editable}})]}}),zR=new Mn("focusEvents"),KR=Gr.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new pn({key:zR,props:{handleDOMEvents:{focus:(e,r)=>{t.isFocused=!0;const n=t.state.tr.setMeta("focus",{event:r}).setMeta("addToHistory",!1);return e.dispatch(n),!1},blur:(e,r)=>{t.isFocused=!1;const n=t.state.tr.setMeta("blur",{event:r}).setMeta("addToHistory",!1);return e.dispatch(n),!1}}}})]}}),VR=Gr.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:a})=>[()=>a.undoInputRule(),()=>a.command(({tr:o})=>{const{selection:l,doc:c}=o,{empty:f,$anchor:h}=l,{pos:m,parent:d}=h,g=h.parent.isTextblock&&m>0?o.doc.resolve(m-1):h,v=g.parent.type.spec.isolating,b=h.pos-h.parentOffset,w=v&&g.parent.childCount===1?b===h.pos:tr.atStart(c).from===m;return!f||!d.type.isTextblock||d.textContent.length||!w||w&&h.parent.type.name==="paragraph"?!1:a.clearNodes()}),()=>a.deleteSelection(),()=>a.joinBackward(),()=>a.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:a})=>[()=>a.deleteSelection(),()=>a.deleteCurrentNode(),()=>a.joinForward(),()=>a.selectNodeForward()]),n={Enter:()=>this.editor.commands.first(({commands:a})=>[()=>a.newlineInCode(),()=>a.createParagraphNear(),()=>a.liftEmptyBlock(),()=>a.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},i={...n},s={...n,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return W1()||vR()?s:i},addProseMirrorPlugins(){return[new pn({key:new Mn("clearDocument"),appendTransaction:(t,e,r)=>{if(t.some(v=>v.getMeta("composition")))return;const n=t.some(v=>v.docChanged)&&!e.doc.eq(r.doc),i=t.some(v=>v.getMeta("preventClearDocument"));if(!n||i)return;const{empty:s,from:a,to:o}=e.selection,l=tr.atStart(e.doc).from,c=tr.atEnd(e.doc).to;if(s||!(a===l&&o===c)||!dv(r.doc))return;const m=r.tr,d=cv({state:r,transaction:m}),{commands:g}=new uv({editor:this.editor,state:d});if(g.clearNodes(),!!m.steps.length)return m}})]}}),qR=Gr.create({name:"paste",addProseMirrorPlugins(){return[new pn({key:new Mn("tiptapPaste"),props:{handlePaste:(t,e,r)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:r})}}})]}}),GR=Gr.create({name:"tabindex",addProseMirrorPlugins(){return[new pn({key:new Mn("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),WR=Gr.create({name:"textDirection",addOptions(){return{direction:void 0}},addGlobalAttributes(){if(!this.options.direction)return[];const{nodeExtensions:t}=sp(this.extensions);return[{types:t.filter(e=>e.name!=="text").map(e=>e.name),attributes:{dir:{default:this.options.direction,parseHTML:e=>{const r=e.getAttribute("dir");return r&&(r==="ltr"||r==="rtl"||r==="auto")?r:this.options.direction},renderHTML:e=>e.dir?{dir:e.dir}:{}}}}]},addProseMirrorPlugins(){return[new pn({key:new Mn("textDirection"),props:{attributes:()=>{const t=this.options.direction;return t?{dir:t}:{}}}})]}}),jJ=class Tm{constructor(e,r,n=!1,i=null){this.currentNode=null,this.actualDepth=null,this.isBlock=n,this.resolvedPos=e,this.editor=r,this.currentNode=i}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!=null?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let r=this.from,n=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}r=this.from+1,n=this.to-1}this.editor.commands.insertContentAt({from:r,to:n},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),r=this.resolvedPos.doc.resolve(e);return new Tm(r,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new Tm(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new Tm(e,this.editor)}get children(){const e=[];return this.node.content.forEach((r,n)=>{const i=r.isBlock&&!r.isTextblock,s=r.isAtom&&!r.isText,a=r.isInline,o=this.pos+n+(s?0:1);if(o<0||o>this.resolvedPos.doc.nodeSize-2)return;const l=this.resolvedPos.doc.resolve(o);if(!i&&!a&&l.depth<=this.depth)return;const c=new Tm(l,this.editor,i,i||a?r:null);i&&(c.actualDepth=this.depth+1),e.push(c)}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,r={}){let n=null,i=this.parent;for(;i&&!n;){if(i.node.type.name===e)if(Object.keys(r).length>0){const s=i.node.attrs,a=Object.keys(r);for(let o=0;o<a.length;o+=1){const l=a[o];if(s[l]!==r[l])break}}else n=i;i=i.parent}return n}querySelector(e,r={}){return this.querySelectorAll(e,r,!0)[0]||null}querySelectorAll(e,r={},n=!1){let i=[];if(!this.children||this.children.length===0)return i;const s=Object.keys(r);return this.children.forEach(a=>{n&&i.length>0||(a.node.type.name===e&&s.every(l=>r[l]===a.node.attrs[l])&&i.push(a),!(n&&i.length>0)&&(i=i.concat(a.querySelectorAll(e,r,n))))}),i}setAttribute(e){const{tr:r}=this.editor.state;r.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(r)}},PJ=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}`;function zJ(t,e,r){const n=document.querySelector("style[data-tiptap-style]");if(n!==null)return n;const i=document.createElement("style");return e&&i.setAttribute("nonce",e),i.setAttribute("data-tiptap-style",""),i.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(i),i}var KJ=class extends NJ{constructor(e={}){super(),this.css=null,this.className="tiptap",this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:typeof document<"u"?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,textDirection:void 0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onMount:()=>null,onUnmount:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:i})=>{throw i},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null,enableExtensionDispatchTransaction:!0},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.utils={getUpdatedPosition:oJ,createMappablePosition:lJ},this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("mount",this.options.onMount),this.on("unmount",this.options.onUnmount),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:i,slice:s,moved:a})=>this.options.onDrop(i,s,a)),this.on("paste",({event:i,slice:s})=>this.options.onPaste(i,s)),this.on("delete",this.options.onDelete);const r=this.createDoc(),n=yR(r,this.options.autofocus);this.editorState=Md.create({doc:r,schema:this.schema,selection:n||void 0}),this.options.element&&this.mount(this.options.element)}mount(e){if(typeof document>"u")throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(e),this.emit("mount",{editor:this}),this.css&&!document.head.contains(this.css)&&document.head.appendChild(this.css),window.setTimeout(()=>{this.isDestroyed||(this.options.autofocus!==!1&&this.options.autofocus!==null&&this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){if(this.editorView){const e=this.editorView.dom;e?.editor&&delete e.editor,this.editorView.destroy()}if(this.editorView=null,this.isInitialized=!1,this.css&&!document.querySelectorAll(`.${this.className}`).length)try{typeof this.css.remove=="function"?this.css.remove():this.css.parentNode&&this.css.parentNode.removeChild(this.css)}catch(e){console.warn("Failed to remove CSS element:",e)}this.css=null,this.emit("unmount",{editor:this})}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&typeof document<"u"&&(this.css=zJ(PJ,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.editorView||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,r=!0){this.setOptions({editable:e}),r&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:e=>{this.editorState=e},dispatch:e=>{this.dispatchTransaction(e)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(e,r)=>{if(this.editorView)return this.editorView[r];if(r==="state")return this.editorState;if(r in e)return Reflect.get(e,r);throw new Error(`[tiptap error]: The editor view is not available. Cannot access view['${r}']. The editor may not be mounted yet.`)}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(e,r){const n=CR(r)?r(e,[...this.state.plugins]):[...this.state.plugins,e],i=this.state.reconfigure({plugins:n});return this.view.updateState(i),i}unregisterPlugin(e){if(this.isDestroyed)return;const r=this.state.plugins;let n=r;if([].concat(e).forEach(s=>{const a=typeof s=="string"?`${s}$`:s.key;n=n.filter(o=>!o.key.startsWith(a))}),r.length===n.length)return;const i=this.state.reconfigure({plugins:n});return this.view.updateState(i),i}createExtensionManager(){var e,r;const i=[...this.options.enableCoreExtensions?[PR,MR.configure({blockSeparator:(r=(e=this.options.coreExtensionOptions)==null?void 0:e.clipboardTextSerializer)==null?void 0:r.blockSeparator}),QR,KR,VR,GR,jR,qR,HR,WR.configure({direction:this.options.textDirection})].filter(s=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[s.name]!==!1:!0):[],...this.options.extensions].filter(s=>["extension","node","mark"].includes(s?.type));this.extensionManager=new mv(i,this)}createCommandManager(){this.commandManager=new uv({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let e;try{e=DC(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(r){if(!(r instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(r.message))throw r;this.emit("contentError",{editor:this,error:r,disableCollaboration:()=>{"collaboration"in this.storage&&typeof this.storage.collaboration=="object"&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(n=>n.name!=="collaboration"),this.createExtensionManager()}}),e=DC(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return e}createView(e){const{editorProps:r,enableExtensionDispatchTransaction:n}=this.options,i=r.dispatchTransaction||this.dispatchTransaction.bind(this),s=n?this.extensionManager.dispatchTransaction(i):i;this.editorView=new pR(e,{...r,attributes:{role:"textbox",...r?.attributes},dispatchTransaction:s,state:this.editorState,markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews});const a=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(a),this.prependClass(),this.injectCSS();const o=this.view.dom;o.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`${this.className} ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const r=this.capturedTransaction;return this.capturedTransaction=null,r}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(f=>{var h;return(h=this.capturedTransaction)==null?void 0:h.step(f)});return}const{state:r,transactions:n}=this.state.applyTransaction(e),i=!this.state.selection.eq(r.selection),s=n.includes(e),a=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:e,nextState:r}),!s)return;this.view.updateState(r),this.emit("transaction",{editor:this,transaction:e,appendedTransactions:n.slice(1)}),i&&this.emit("selectionUpdate",{editor:this,transaction:e});const o=n.findLast(f=>f.getMeta("focus")||f.getMeta("blur")),l=o?.getMeta("focus"),c=o?.getMeta("blur");l&&this.emit("focus",{editor:this,event:l.event,transaction:o}),c&&this.emit("blur",{editor:this,event:c.event,transaction:o}),!(e.getMeta("preventUpdate")||!n.some(f=>f.docChanged)||a.doc.eq(r.doc))&&this.emit("update",{editor:this,transaction:e,appendedTransactions:n.slice(1)})}getAttributes(e){return TR(this.state,e)}isActive(e,r){const n=typeof e=="string"?e:null,i=typeof e=="string"?r:e;return iJ(this.state,n,i)}getJSON(){return this.state.doc.toJSON()}getHTML(){return OE(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:r=`

`,textSerializers:n={}}=e||{};return kR(this.state.doc,{blockSeparator:r,textSerializers:{...LE(this.schema),...n}})}get isEmpty(){return dv(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var e,r;return(r=(e=this.editorView)==null?void 0:e.isDestroyed)!=null?r:!0}$node(e,r){var n;return((n=this.$doc)==null?void 0:n.querySelector(e,r))||null}$nodes(e,r){var n;return((n=this.$doc)==null?void 0:n.querySelectorAll(e,r))||null}$pos(e){const r=this.state.doc.resolve(e);return new jJ(r,this)}get $doc(){return this.$pos(0)}};function Yf(t){return new pv({find:t.find,handler:({state:e,range:r,match:n})=>{const i=qr(t.getAttributes,void 0,n);if(i===!1||i===null)return null;const{tr:s}=e,a=n[n.length-1],o=n[0];if(a){const l=o.search(/\S/),c=r.from+o.indexOf(a),f=c+a.length;if(DE(r.from,r.to,e.doc).filter(d=>d.mark.type.excluded.find(v=>v===t.type&&v!==d.mark.type)).filter(d=>d.to>c).length)return null;f<r.to&&s.delete(f,r.to),c>r.from&&s.delete(r.from+l,c);const m=r.from+l+a.length;s.addMark(r.from+l,m,t.type.create(i||{})),s.removeStoredMark(t.type)}},undoable:t.undoable})}function $R(t){return new pv({find:t.find,handler:({state:e,range:r,match:n})=>{const i=qr(t.getAttributes,void 0,n)||{},{tr:s}=e,a=r.from;let o=r.to;const l=t.type.create(i);if(n[1]){const c=n[0].lastIndexOf(n[1]);let f=a+c;f>o?f=o:o=f+n[1].length;const h=n[0][n[0].length-1];s.insertText(h,a+n[0].length-1),s.replaceWith(f,o,l)}else if(n[0]){const c=t.type.isInline?a:a-1;s.insert(c,t.type.create(i)).delete(s.mapping.map(a),s.mapping.map(o))}s.scrollIntoView()},undoable:t.undoable})}function RC(t){return new pv({find:t.find,handler:({state:e,range:r,match:n})=>{const i=e.doc.resolve(r.from),s=qr(t.getAttributes,void 0,n)||{};if(!i.node(-1).canReplaceWith(i.index(-1),i.indexAfter(-1),t.type))return null;e.tr.delete(r.from,r.to).setBlockType(r.from,r.from,t.type,s)},undoable:t.undoable})}function ap(t){return new pv({find:t.find,handler:({state:e,range:r,match:n,chain:i})=>{const s=qr(t.getAttributes,void 0,n)||{},a=e.tr.delete(r.from,r.to),l=a.doc.resolve(r.from).blockRange(),c=l&&cE(l,t.type,s);if(!c)return null;if(a.wrap(l,c),t.keepMarks&&t.editor){const{selection:h,storedMarks:m}=e,{splittableMarks:d}=t.editor.extensionManager,g=m||h.$to.parentOffset&&h.$from.marks();if(g){const v=g.filter(b=>d.includes(b.type.name));a.ensureMarks(v)}}if(t.keepAttributes){const h=t.type.name==="bulletList"||t.type.name==="orderedList"?"listItem":"taskList";i().updateAttributes(h,s).run()}const f=a.doc.resolve(r.from-1).nodeBefore;f&&f.type===t.type&&Fu(a.doc,r.from-1)&&(!t.joinPredicate||t.joinPredicate(n,f))&&a.join(r.from-1)},undoable:t.undoable})}var VJ=t=>"touches"in t,qJ=class{constructor(t){this.directions=["bottom-left","bottom-right","top-left","top-right"],this.minSize={height:8,width:8},this.preserveAspectRatio=!1,this.classNames={container:"",wrapper:"",handle:"",resizing:""},this.initialWidth=0,this.initialHeight=0,this.aspectRatio=1,this.isResizing=!1,this.activeHandle=null,this.startX=0,this.startY=0,this.startWidth=0,this.startHeight=0,this.isShiftKeyPressed=!1,this.lastEditableState=void 0,this.handleMap=new Map,this.handleMouseMove=o=>{if(!this.isResizing||!this.activeHandle)return;const l=o.clientX-this.startX,c=o.clientY-this.startY;this.handleResize(l,c)},this.handleTouchMove=o=>{if(!this.isResizing||!this.activeHandle)return;const l=o.touches[0];if(!l)return;const c=l.clientX-this.startX,f=l.clientY-this.startY;this.handleResize(c,f)},this.handleMouseUp=()=>{if(!this.isResizing)return;const o=this.element.offsetWidth,l=this.element.offsetHeight;this.onCommit(o,l),this.isResizing=!1,this.activeHandle=null,this.container.dataset.resizeState="false",this.classNames.resizing&&this.container.classList.remove(this.classNames.resizing),document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp)},this.handleKeyDown=o=>{o.key==="Shift"&&(this.isShiftKeyPressed=!0)},this.handleKeyUp=o=>{o.key==="Shift"&&(this.isShiftKeyPressed=!1)};var e,r,n,i,s,a;this.node=t.node,this.editor=t.editor,this.element=t.element,this.contentElement=t.contentElement,this.getPos=t.getPos,this.onResize=t.onResize,this.onCommit=t.onCommit,this.onUpdate=t.onUpdate,(e=t.options)!=null&&e.min&&(this.minSize={...this.minSize,...t.options.min}),(r=t.options)!=null&&r.max&&(this.maxSize=t.options.max),(n=t?.options)!=null&&n.directions&&(this.directions=t.options.directions),(i=t.options)!=null&&i.preserveAspectRatio&&(this.preserveAspectRatio=t.options.preserveAspectRatio),(s=t.options)!=null&&s.className&&(this.classNames={container:t.options.className.container||"",wrapper:t.options.className.wrapper||"",handle:t.options.className.handle||"",resizing:t.options.className.resizing||""}),(a=t.options)!=null&&a.createCustomHandle&&(this.createCustomHandle=t.options.createCustomHandle),this.wrapper=this.createWrapper(),this.container=this.createContainer(),this.applyInitialSize(),this.attachHandles(),this.editor.on("update",this.handleEditorUpdate.bind(this))}get dom(){return this.container}get contentDOM(){var t;return(t=this.contentElement)!=null?t:null}handleEditorUpdate(){const t=this.editor.isEditable;t!==this.lastEditableState&&(this.lastEditableState=t,t?t&&this.handleMap.size===0&&this.attachHandles():this.removeHandles())}update(t,e,r){return t.type!==this.node.type?!1:(this.node=t,this.onUpdate?this.onUpdate(t,e,r):!0)}destroy(){this.isResizing&&(this.container.dataset.resizeState="false",this.classNames.resizing&&this.container.classList.remove(this.classNames.resizing),document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp),this.isResizing=!1,this.activeHandle=null),this.editor.off("update",this.handleEditorUpdate.bind(this)),this.container.remove()}createContainer(){const t=document.createElement("div");return t.dataset.resizeContainer="",t.dataset.node=this.node.type.name,t.style.display="flex",this.classNames.container&&(t.className=this.classNames.container),t.appendChild(this.wrapper),t}createWrapper(){const t=document.createElement("div");return t.style.position="relative",t.style.display="block",t.dataset.resizeWrapper="",this.classNames.wrapper&&(t.className=this.classNames.wrapper),t.appendChild(this.element),t}createHandle(t){const e=document.createElement("div");return e.dataset.resizeHandle=t,e.style.position="absolute",this.classNames.handle&&(e.className=this.classNames.handle),e}positionHandle(t,e){const r=e.includes("top"),n=e.includes("bottom"),i=e.includes("left"),s=e.includes("right");r&&(t.style.top="0"),n&&(t.style.bottom="0"),i&&(t.style.left="0"),s&&(t.style.right="0"),(e==="top"||e==="bottom")&&(t.style.left="0",t.style.right="0"),(e==="left"||e==="right")&&(t.style.top="0",t.style.bottom="0")}attachHandles(){this.directions.forEach(t=>{let e;this.createCustomHandle?e=this.createCustomHandle(t):e=this.createHandle(t),e instanceof HTMLElement||(console.warn(`[ResizableNodeView] createCustomHandle("${t}") did not return an HTMLElement. Falling back to default handle.`),e=this.createHandle(t)),this.createCustomHandle||this.positionHandle(e,t),e.addEventListener("mousedown",r=>this.handleResizeStart(r,t)),e.addEventListener("touchstart",r=>this.handleResizeStart(r,t)),this.handleMap.set(t,e),this.wrapper.appendChild(e)})}removeHandles(){this.handleMap.forEach(t=>t.remove()),this.handleMap.clear()}applyInitialSize(){const t=this.node.attrs.width,e=this.node.attrs.height;t?(this.element.style.width=`${t}px`,this.initialWidth=t):this.initialWidth=this.element.offsetWidth,e?(this.element.style.height=`${e}px`,this.initialHeight=e):this.initialHeight=this.element.offsetHeight,this.initialWidth>0&&this.initialHeight>0&&(this.aspectRatio=this.initialWidth/this.initialHeight)}handleResizeStart(t,e){t.preventDefault(),t.stopPropagation(),this.isResizing=!0,this.activeHandle=e,VJ(t)?(this.startX=t.touches[0].clientX,this.startY=t.touches[0].clientY):(this.startX=t.clientX,this.startY=t.clientY),this.startWidth=this.element.offsetWidth,this.startHeight=this.element.offsetHeight,this.startWidth>0&&this.startHeight>0&&(this.aspectRatio=this.startWidth/this.startHeight),this.getPos(),this.container.dataset.resizeState="true",this.classNames.resizing&&this.container.classList.add(this.classNames.resizing),document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("touchmove",this.handleTouchMove),document.addEventListener("mouseup",this.handleMouseUp),document.addEventListener("keydown",this.handleKeyDown),document.addEventListener("keyup",this.handleKeyUp)}handleResize(t,e){if(!this.activeHandle)return;const r=this.preserveAspectRatio||this.isShiftKeyPressed,{width:n,height:i}=this.calculateNewDimensions(this.activeHandle,t,e),s=this.applyConstraints(n,i,r);this.element.style.width=`${s.width}px`,this.element.style.height=`${s.height}px`,this.onResize&&this.onResize(s.width,s.height)}calculateNewDimensions(t,e,r){let n=this.startWidth,i=this.startHeight;const s=t.includes("right"),a=t.includes("left"),o=t.includes("bottom"),l=t.includes("top");return s?n=this.startWidth+e:a&&(n=this.startWidth-e),o?i=this.startHeight+r:l&&(i=this.startHeight-r),(t==="right"||t==="left")&&(n=this.startWidth+(s?e:-e)),(t==="top"||t==="bottom")&&(i=this.startHeight+(o?r:-r)),this.preserveAspectRatio||this.isShiftKeyPressed?this.applyAspectRatio(n,i,t):{width:n,height:i}}applyConstraints(t,e,r){var n,i,s,a;if(!r){let c=Math.max(this.minSize.width,t),f=Math.max(this.minSize.height,e);return(n=this.maxSize)!=null&&n.width&&(c=Math.min(this.maxSize.width,c)),(i=this.maxSize)!=null&&i.height&&(f=Math.min(this.maxSize.height,f)),{width:c,height:f}}let o=t,l=e;return o<this.minSize.width&&(o=this.minSize.width,l=o/this.aspectRatio),l<this.minSize.height&&(l=this.minSize.height,o=l*this.aspectRatio),(s=this.maxSize)!=null&&s.width&&o>this.maxSize.width&&(o=this.maxSize.width,l=o/this.aspectRatio),(a=this.maxSize)!=null&&a.height&&l>this.maxSize.height&&(l=this.maxSize.height,o=l*this.aspectRatio),{width:o,height:l}}applyAspectRatio(t,e,r){const n=r==="left"||r==="right",i=r==="top"||r==="bottom";return n?{width:t,height:t/this.aspectRatio}:i?{width:e*this.aspectRatio,height:e}:{width:t,height:t/this.aspectRatio}}};function GJ(t,e){const{selection:r}=t,{$from:n}=r;if(r instanceof jt){const s=n.index();return n.parent.canReplaceWith(s,s+1,e)}let i=n.depth;for(;i>=0;){const s=n.index(i);if(n.node(i).contentMatchAt(s).matchType(e))return!0;i-=1}return!1}var WJ={};kE(WJ,{createAtomBlockMarkdownSpec:()=>$J,createBlockMarkdownSpec:()=>YJ,createInlineMarkdownSpec:()=>ZJ,parseAttributes:()=>RE,parseIndentedBlocks:()=>MC,renderNestedMarkdownContent:()=>QE,serializeAttributes:()=>ME});function RE(t){if(!t?.trim())return{};const e={},r=[],n=t.replace(/["']([^"']*)["']/g,c=>(r.push(c),`__QUOTED_${r.length-1}__`)),i=n.match(/(?:^|\s)\.([a-zA-Z][\w-]*)/g);if(i){const c=i.map(f=>f.trim().slice(1));e.class=c.join(" ")}const s=n.match(/(?:^|\s)#([a-zA-Z][\w-]*)/);s&&(e.id=s[1]);const a=/([a-zA-Z][\w-]*)\s*=\s*(__QUOTED_\d+__)/g;Array.from(n.matchAll(a)).forEach(([,c,f])=>{var h;const m=parseInt(((h=f.match(/__QUOTED_(\d+)__/))==null?void 0:h[1])||"0",10),d=r[m];d&&(e[c]=d.slice(1,-1))});const l=n.replace(/(?:^|\s)\.([a-zA-Z][\w-]*)/g,"").replace(/(?:^|\s)#([a-zA-Z][\w-]*)/g,"").replace(/([a-zA-Z][\w-]*)\s*=\s*__QUOTED_\d+__/g,"").trim();return l&&l.split(/\s+/).filter(Boolean).forEach(f=>{f.match(/^[a-zA-Z][\w-]*$/)&&(e[f]=!0)}),e}function ME(t){if(!t||Object.keys(t).length===0)return"";const e=[];return t.class&&String(t.class).split(/\s+/).filter(Boolean).forEach(n=>e.push(`.${n}`)),t.id&&e.push(`#${t.id}`),Object.entries(t).forEach(([r,n])=>{r==="class"||r==="id"||(n===!0?e.push(r):n!==!1&&n!=null&&e.push(`${r}="${String(n)}"`))}),e.join(" ")}function $J(t){const{nodeName:e,name:r,parseAttributes:n=RE,serializeAttributes:i=ME,defaultAttributes:s={},requiredAttributes:a=[],allowedAttributes:o}=t,l=r||e,c=f=>{if(!o)return f;const h={};return o.forEach(m=>{m in f&&(h[m]=f[m])}),h};return{parseMarkdown:(f,h)=>{const m={...s,...f.attributes};return h.createNode(e,m,[])},markdownTokenizer:{name:e,level:"block",start(f){var h;const m=new RegExp(`^:::${l}(?:\\s|$)`,"m"),d=(h=f.match(m))==null?void 0:h.index;return d!==void 0?d:-1},tokenize(f,h,m){const d=new RegExp(`^:::${l}(?:\\s+\\{([^}]*)\\})?\\s*:::(?:\\n|$)`),g=f.match(d);if(!g)return;const v=g[1]||"",b=n(v);if(!a.find(B=>!(B in b)))return{type:e,raw:g[0],attributes:b}}},renderMarkdown:f=>{const h=c(f.attrs||{}),m=i(h),d=m?` {${m}}`:"";return`:::${l}${d} :::`}}}function YJ(t){const{nodeName:e,name:r,getContent:n,parseAttributes:i=RE,serializeAttributes:s=ME,defaultAttributes:a={},content:o="block",allowedAttributes:l}=t,c=r||e,f=h=>{if(!l)return h;const m={};return l.forEach(d=>{d in h&&(m[d]=h[d])}),m};return{parseMarkdown:(h,m)=>{let d;if(n){const v=n(h);d=typeof v=="string"?[{type:"text",text:v}]:v}else o==="block"?d=m.parseChildren(h.tokens||[]):d=m.parseInline(h.tokens||[]);const g={...a,...h.attributes};return m.createNode(e,g,d)},markdownTokenizer:{name:e,level:"block",start(h){var m;const d=new RegExp(`^:::${c}`,"m"),g=(m=h.match(d))==null?void 0:m.index;return g!==void 0?g:-1},tokenize(h,m,d){var g;const v=new RegExp(`^:::${c}(?:\\s+\\{([^}]*)\\})?\\s*\\n`),b=h.match(v);if(!b)return;const[w,B=""]=b,S=i(B);let C=1;const k=w.length;let M="";const D=/^:::([\w-]*)(\s.*)?/gm,H=h.slice(k);for(D.lastIndex=0;;){const F=D.exec(H);if(F===null)break;const $=F.index,q=F[1];if(!((g=F[2])!=null&&g.endsWith(":::"))){if(q)C+=1;else if(C-=1,C===0){const R=H.slice(0,$);M=R.trim();const G=h.slice(0,k+$+F[0].length);let U=[];if(M)if(o==="block")for(U=d.blockTokens(R),U.forEach(ae=>{ae.text&&(!ae.tokens||ae.tokens.length===0)&&(ae.tokens=d.inlineTokens(ae.text))});U.length>0;){const ae=U[U.length-1];if(ae.type==="paragraph"&&(!ae.text||ae.text.trim()===""))U.pop();else break}else U=d.inlineTokens(M);return{type:e,raw:G,attributes:S,content:M,tokens:U}}}}}},renderMarkdown:(h,m)=>{const d=f(h.attrs||{}),g=s(d),v=g?` {${g}}`:"",b=m.renderChildren(h.content||[],`

`);return`:::${c}${v}

${b}

:::`}}}function JJ(t){if(!t.trim())return{};const e={},r=/(\w+)=(?:"([^"]*)"|'([^']*)')/g;let n=r.exec(t);for(;n!==null;){const[,i,s,a]=n;e[i]=s||a,n=r.exec(t)}return e}function XJ(t){return Object.entries(t).filter(([,e])=>e!=null).map(([e,r])=>`${e}="${r}"`).join(" ")}function ZJ(t){const{nodeName:e,name:r,getContent:n,parseAttributes:i=JJ,serializeAttributes:s=XJ,defaultAttributes:a={},selfClosing:o=!1,allowedAttributes:l}=t,c=r||e,f=m=>{if(!l)return m;const d={};return l.forEach(g=>{const v=typeof g=="string"?g:g.name,b=typeof g=="string"?void 0:g.skipIfDefault;if(v in m){const w=m[v];if(b!==void 0&&w===b)return;d[v]=w}}),d},h=c.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return{parseMarkdown:(m,d)=>{const g={...a,...m.attributes};if(o)return d.createNode(e,g);const v=n?n(m):m.content||"";return v?d.createNode(e,g,[d.createTextNode(v)]):d.createNode(e,g,[])},markdownTokenizer:{name:e,level:"inline",start(m){const d=o?new RegExp(`\\[${h}\\s*[^\\]]*\\]`):new RegExp(`\\[${h}\\s*[^\\]]*\\][\\s\\S]*?\\[\\/${h}\\]`),g=m.match(d),v=g?.index;return v!==void 0?v:-1},tokenize(m,d,g){const v=o?new RegExp(`^\\[${h}\\s*([^\\]]*)\\]`):new RegExp(`^\\[${h}\\s*([^\\]]*)\\]([\\s\\S]*?)\\[\\/${h}\\]`),b=m.match(v);if(!b)return;let w="",B="";if(o){const[,C]=b;B=C}else{const[,C,k]=b;B=C,w=k||""}const S=i(B.trim());return{type:e,raw:b[0],content:w.trim(),attributes:S}}},renderMarkdown:m=>{let d="";n?d=n(m):m.content&&m.content.length>0&&(d=m.content.filter(w=>w.type==="text").map(w=>w.text).join(""));const g=f(m.attrs||{}),v=s(g),b=v?` ${v}`:"";return o?`[${c}${b}]`:`[${c}${b}]${d}[/${c}]`}}}function MC(t,e,r){var n,i,s,a;const o=t.split(`
`),l=[];let c="",f=0;const h=e.baseIndentSize||2;for(;f<o.length;){const m=o[f],d=m.match(e.itemPattern);if(!d){if(l.length>0)break;if(m.trim()===""){f+=1,c=`${c}${m}
`;continue}else return}const g=e.extractItemData(d),{indentLevel:v,mainContent:b}=g;c=`${c}${m}
`;const w=[b];for(f+=1;f<o.length;){const k=o[f];if(k.trim()===""){const D=o.slice(f+1).findIndex($=>$.trim()!=="");if(D===-1)break;if((((i=(n=o[f+1+D].match(/^(\s*)/))==null?void 0:n[1])==null?void 0:i.length)||0)>v){w.push(k),c=`${c}${k}
`,f+=1;continue}else break}if((((a=(s=k.match(/^(\s*)/))==null?void 0:s[1])==null?void 0:a.length)||0)>v)w.push(k),c=`${c}${k}
`,f+=1;else break}let B;const S=w.slice(1);if(S.length>0){const k=S.map(M=>M.slice(v+h)).join(`
`);k.trim()&&(e.customNestedParser?B=e.customNestedParser(k):B=r.blockTokens(k))}const C=e.createToken(g,B);l.push(C)}if(l.length!==0)return{items:l,raw:c}}function QE(t,e,r,n){if(!t||!Array.isArray(t.content))return"";const i=typeof r=="function"?r(n):r,[s,...a]=t.content,o=e.renderChildren([s]),l=[`${i}${o}`];return a&&a.length>0&&a.forEach(c=>{const f=e.renderChildren([c]);if(f){const h=f.split(`
`).map(m=>m?e.indent(m):"").join(`
`);l.push(h)}}),l.join(`
`)}function eX(t,e,r={}){const{state:n}=e,{doc:i,tr:s}=n,a=t;i.descendants((o,l)=>{const c=s.mapping.map(l),f=s.mapping.map(l)+o.nodeSize;let h=null;if(o.marks.forEach(d=>{if(d!==a)return!1;h=d}),!h)return;let m=!1;if(Object.keys(r).forEach(d=>{r[d]!==h.attrs[d]&&(m=!0)}),m){const d=t.type.create({...t.attrs,...r});s.removeMark(c,f,t.type),s.addMark(c,f,d)}}),s.docChanged&&e.view.dispatch(s)}var ss=class YR extends IE{constructor(){super(...arguments),this.type="node"}static create(e={}){const r=typeof e=="function"?e():e;return new YR(r)}configure(e){return super.configure(e)}extend(e){const r=typeof e=="function"?e():e;return super.extend(r)}};function Su(t){return new DJ({find:t.find,handler:({state:e,range:r,match:n,pasteEvent:i})=>{const s=qr(t.getAttributes,void 0,n,i);if(s===!1||s===null)return null;const{tr:a}=e,o=n[n.length-1],l=n[0];let c=r.to;if(o){const f=l.search(/\S/),h=r.from+l.indexOf(o),m=h+o.length;if(DE(r.from,r.to,e.doc).filter(g=>g.mark.type.excluded.find(b=>b===t.type&&b!==g.mark.type)).filter(g=>g.to>h).length)return null;m<r.to&&a.delete(m,r.to),h>r.from&&a.delete(r.from+f,h),c=r.from+f+o.length,a.addMark(r.from+f,c,t.type.create(s||{})),a.removeStoredMark(t.type)}}})}const{getOwnPropertyNames:tX,getOwnPropertySymbols:rX}=Object,{hasOwnProperty:nX}=Object.prototype;function V2(t,e){return function(n,i,s){return t(n,i,s)&&e(n,i,s)}}function hy(t){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,i);const{cache:s}=i,a=s.get(r),o=s.get(n);if(a&&o)return a===n&&o===r;s.set(r,n),s.set(n,r);const l=t(r,n,i);return s.delete(r),s.delete(n),l}}function iX(t){return t?.[Symbol.toStringTag]}function dN(t){return tX(t).concat(rX(t))}const sX=Object.hasOwn||((t,e)=>nX.call(t,e));function ih(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const aX="__v",oX="__o",lX="_owner",{getOwnPropertyDescriptor:pN,keys:mN}=Object;function AX(t,e){return t.byteLength===e.byteLength&&Y1(new Uint8Array(t),new Uint8Array(e))}function cX(t,e,r){let n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function uX(t,e){return t.byteLength===e.byteLength&&Y1(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function fX(t,e){return ih(t.getTime(),e.getTime())}function hX(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function dX(t,e){return t===e}function gN(t,e,r){const n=t.size;if(n!==e.size)return!1;if(!n)return!0;const i=new Array(n),s=t.entries();let a,o,l=0;for(;(a=s.next())&&!a.done;){const c=e.entries();let f=!1,h=0;for(;(o=c.next())&&!o.done;){if(i[h]){h++;continue}const m=a.value,d=o.value;if(r.equals(m[0],d[0],l,h,t,e,r)&&r.equals(m[1],d[1],m[0],d[0],t,e,r)){f=i[h]=!0;break}h++}if(!f)return!1;l++}return!0}const pX=ih;function mX(t,e,r){const n=mN(t);let i=n.length;if(mN(e).length!==i)return!1;for(;i-- >0;)if(!JR(t,e,r,n[i]))return!1;return!0}function um(t,e,r){const n=dN(t);let i=n.length;if(dN(e).length!==i)return!1;let s,a,o;for(;i-- >0;)if(s=n[i],!JR(t,e,r,s)||(a=pN(t,s),o=pN(e,s),(a||o)&&(!a||!o||a.configurable!==o.configurable||a.enumerable!==o.enumerable||a.writable!==o.writable)))return!1;return!0}function gX(t,e){return ih(t.valueOf(),e.valueOf())}function yX(t,e){return t.source===e.source&&t.flags===e.flags}function yN(t,e,r){const n=t.size;if(n!==e.size)return!1;if(!n)return!0;const i=new Array(n),s=t.values();let a,o;for(;(a=s.next())&&!a.done;){const l=e.values();let c=!1,f=0;for(;(o=l.next())&&!o.done;){if(!i[f]&&r.equals(a.value,o.value,a.value,o.value,t,e,r)){c=i[f]=!0;break}f++}if(!c)return!1}return!0}function Y1(t,e){let r=t.byteLength;if(e.byteLength!==r||t.byteOffset!==e.byteOffset)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function wX(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function JR(t,e,r,n){return(n===lX||n===oX||n===aX)&&(t.$$typeof||e.$$typeof)?!0:sX(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}const vX="[object ArrayBuffer]",bX="[object Arguments]",xX="[object Boolean]",BX="[object DataView]",CX="[object Date]",SX="[object Error]",EX="[object Map]",_X="[object Number]",kX="[object Object]",TX="[object RegExp]",NX="[object Set]",FX="[object String]",UX={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},OX="[object URL]",LX=Object.prototype.toString;function DX({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:r,areDatesEqual:n,areErrorsEqual:i,areFunctionsEqual:s,areMapsEqual:a,areNumbersEqual:o,areObjectsEqual:l,arePrimitiveWrappersEqual:c,areRegExpsEqual:f,areSetsEqual:h,areTypedArraysEqual:m,areUrlsEqual:d,unknownTagComparators:g}){return function(b,w,B){if(b===w)return!0;if(b==null||w==null)return!1;const S=typeof b;if(S!==typeof w)return!1;if(S!=="object")return S==="number"?o(b,w,B):S==="function"?s(b,w,B):!1;const C=b.constructor;if(C!==w.constructor)return!1;if(C===Object)return l(b,w,B);if(Array.isArray(b))return e(b,w,B);if(C===Date)return n(b,w,B);if(C===RegExp)return f(b,w,B);if(C===Map)return a(b,w,B);if(C===Set)return h(b,w,B);const k=LX.call(b);if(k===CX)return n(b,w,B);if(k===TX)return f(b,w,B);if(k===EX)return a(b,w,B);if(k===NX)return h(b,w,B);if(k===kX)return typeof b.then!="function"&&typeof w.then!="function"&&l(b,w,B);if(k===OX)return d(b,w,B);if(k===SX)return i(b,w,B);if(k===bX)return l(b,w,B);if(UX[k])return m(b,w,B);if(k===vX)return t(b,w,B);if(k===BX)return r(b,w,B);if(k===xX||k===_X||k===FX)return c(b,w,B);if(g){let M=g[k];if(!M){const D=iX(b);D&&(M=g[D])}if(M)return M(b,w,B)}return!1}}function IX({circular:t,createCustomConfig:e,strict:r}){let n={areArrayBuffersEqual:AX,areArraysEqual:r?um:cX,areDataViewsEqual:uX,areDatesEqual:fX,areErrorsEqual:hX,areFunctionsEqual:dX,areMapsEqual:r?V2(gN,um):gN,areNumbersEqual:pX,areObjectsEqual:r?um:mX,arePrimitiveWrappersEqual:gX,areRegExpsEqual:yX,areSetsEqual:r?V2(yN,um):yN,areTypedArraysEqual:r?V2(Y1,um):Y1,areUrlsEqual:wX,unknownTagComparators:void 0};if(e&&(n=Object.assign({},n,e(n))),t){const i=hy(n.areArraysEqual),s=hy(n.areMapsEqual),a=hy(n.areObjectsEqual),o=hy(n.areSetsEqual);n=Object.assign({},n,{areArraysEqual:i,areMapsEqual:s,areObjectsEqual:a,areSetsEqual:o})}return n}function RX(t){return function(e,r,n,i,s,a,o){return t(e,r,o)}}function MX({circular:t,comparator:e,createState:r,equals:n,strict:i}){if(r)return function(o,l){const{cache:c=t?new WeakMap:void 0,meta:f}=r();return e(o,l,{cache:c,equals:n,meta:f,strict:i})};if(t)return function(o,l){return e(o,l,{cache:new WeakMap,equals:n,meta:void 0,strict:i})};const s={cache:void 0,equals:n,meta:void 0,strict:i};return function(o,l){return e(o,l,s)}}const QX=Ou();Ou({strict:!0});Ou({circular:!0});Ou({circular:!0,strict:!0});Ou({createInternalComparator:()=>ih});Ou({strict:!0,createInternalComparator:()=>ih});Ou({circular:!0,createInternalComparator:()=>ih});Ou({circular:!0,createInternalComparator:()=>ih,strict:!0});function Ou(t={}){const{circular:e=!1,createInternalComparator:r,createState:n,strict:i=!1}=t,s=IX(t),a=DX(s),o=r?r(a):RX(a);return MX({circular:e,comparator:a,createState:n,equals:o,strict:i})}var q2={exports:{}},G2={};var wN;function HX(){if(wN)return G2;wN=1;var t=Ig(),e=jD();function r(c,f){return c===f&&(c!==0||1/c===1/f)||c!==c&&f!==f}var n=typeof Object.is=="function"?Object.is:r,i=e.useSyncExternalStore,s=t.useRef,a=t.useEffect,o=t.useMemo,l=t.useDebugValue;return G2.useSyncExternalStoreWithSelector=function(c,f,h,m,d){var g=s(null);if(g.current===null){var v={hasValue:!1,value:null};g.current=v}else v=g.current;g=o(function(){function w(M){if(!B){if(B=!0,S=M,M=m(M),d!==void 0&&v.hasValue){var D=v.value;if(d(D,M))return C=D}return C=M}if(D=C,n(S,M))return D;var H=m(M);return d!==void 0&&d(D,H)?(S=M,D):(S=M,C=H)}var B=!1,S,C,k=h===void 0?null:h;return[function(){return w(f())},k===null?void 0:function(){return w(k())}]},[f,h,m,d]);var b=i(c,g[0],g[1]);return a(function(){v.hasValue=!0,v.value=b},[b]),l(b),b},G2}var vN;function jX(){return vN||(vN=1,q2.exports=HX()),q2.exports}var PX=jX();const XR=["top","right","bottom","left"],bN=["start","end"],xN=XR.reduce((t,e)=>t.concat(e,e+"-"+bN[0],e+"-"+bN[1]),[]),tA=Math.min,Zs=Math.max,J1=Math.round,Xl=t=>({x:t,y:t}),zX={left:"right",right:"left",bottom:"top",top:"bottom"},KX={start:"end",end:"start"};function QC(t,e,r){return Zs(t,tA(e,r))}function lc(t,e){return typeof t=="function"?t(e):t}function _o(t){return t.split("-")[0]}function fl(t){return t.split("-")[1]}function ZR(t){return t==="x"?"y":"x"}function HE(t){return t==="y"?"height":"width"}const VX=new Set(["top","bottom"]);function $l(t){return VX.has(_o(t))?"y":"x"}function jE(t){return ZR($l(t))}function eM(t,e,r){r===void 0&&(r=!1);const n=fl(t),i=jE(t),s=HE(i);let a=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(a=Z1(a)),[a,Z1(a)]}function qX(t){const e=Z1(t);return[X1(t),e,X1(e)]}function X1(t){return t.replace(/start|end/g,e=>KX[e])}const BN=["left","right"],CN=["right","left"],GX=["top","bottom"],WX=["bottom","top"];function $X(t,e,r){switch(t){case"top":case"bottom":return r?e?CN:BN:e?BN:CN;case"left":case"right":return e?GX:WX;default:return[]}}function YX(t,e,r,n){const i=fl(t);let s=$X(_o(t),r==="start",n);return i&&(s=s.map(a=>a+"-"+i),e&&(s=s.concat(s.map(X1)))),s}function Z1(t){return t.replace(/left|right|bottom|top/g,e=>zX[e])}function JX(t){return{top:0,right:0,bottom:0,left:0,...t}}function PE(t){return typeof t!="number"?JX(t):{top:t,right:t,bottom:t,left:t}}function op(t){const{x:e,y:r,width:n,height:i}=t;return{width:n,height:i,top:r,left:e,right:e+n,bottom:r+i,x:e,y:r}}function SN(t,e,r){let{reference:n,floating:i}=t;const s=$l(e),a=jE(e),o=HE(a),l=_o(e),c=s==="y",f=n.x+n.width/2-i.width/2,h=n.y+n.height/2-i.height/2,m=n[o]/2-i[o]/2;let d;switch(l){case"top":d={x:f,y:n.y-i.height};break;case"bottom":d={x:f,y:n.y+n.height};break;case"right":d={x:n.x+n.width,y:h};break;case"left":d={x:n.x-i.width,y:h};break;default:d={x:n.x,y:n.y}}switch(fl(e)){case"start":d[a]-=m*(r&&c?-1:1);break;case"end":d[a]+=m*(r&&c?-1:1);break}return d}async function XX(t,e){var r;e===void 0&&(e={});const{x:n,y:i,platform:s,rects:a,elements:o,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:f="viewport",elementContext:h="floating",altBoundary:m=!1,padding:d=0}=lc(e,t),g=PE(d),b=o[m?h==="floating"?"reference":"floating":h],w=op(await s.getClippingRect({element:(r=await(s.isElement==null?void 0:s.isElement(b)))==null||r?b:b.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(o.floating)),boundary:c,rootBoundary:f,strategy:l})),B=h==="floating"?{x:n,y:i,width:a.floating.width,height:a.floating.height}:a.reference,S=await(s.getOffsetParent==null?void 0:s.getOffsetParent(o.floating)),C=await(s.isElement==null?void 0:s.isElement(S))?await(s.getScale==null?void 0:s.getScale(S))||{x:1,y:1}:{x:1,y:1},k=op(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:B,offsetParent:S,strategy:l}):B);return{top:(w.top-k.top+g.top)/C.y,bottom:(k.bottom-w.bottom+g.bottom)/C.y,left:(w.left-k.left+g.left)/C.x,right:(k.right-w.right+g.right)/C.x}}const ZX=async(t,e,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:s=[],platform:a}=r,o=s.filter(Boolean),l=await(a.isRTL==null?void 0:a.isRTL(e));let c=await a.getElementRects({reference:t,floating:e,strategy:i}),{x:f,y:h}=SN(c,n,l),m=n,d={},g=0;for(let b=0;b<o.length;b++){var v;const{name:w,fn:B}=o[b],{x:S,y:C,data:k,reset:M}=await B({x:f,y:h,initialPlacement:n,placement:m,strategy:i,middlewareData:d,rects:c,platform:{...a,detectOverflow:(v=a.detectOverflow)!=null?v:XX},elements:{reference:t,floating:e}});f=S??f,h=C??h,d={...d,[w]:{...d[w],...k}},M&&g<=50&&(g++,typeof M=="object"&&(M.placement&&(m=M.placement),M.rects&&(c=M.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:i}):M.rects),{x:f,y:h}=SN(c,m,l)),b=-1)}return{x:f,y:h,placement:m,strategy:i,middlewareData:d}},eZ=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:i,rects:s,platform:a,elements:o,middlewareData:l}=e,{element:c,padding:f=0}=lc(t,e)||{};if(c==null)return{};const h=PE(f),m={x:r,y:n},d=jE(i),g=HE(d),v=await a.getDimensions(c),b=d==="y",w=b?"top":"left",B=b?"bottom":"right",S=b?"clientHeight":"clientWidth",C=s.reference[g]+s.reference[d]-m[d]-s.floating[g],k=m[d]-s.reference[d],M=await(a.getOffsetParent==null?void 0:a.getOffsetParent(c));let D=M?M[S]:0;(!D||!await(a.isElement==null?void 0:a.isElement(M)))&&(D=o.floating[S]||s.floating[g]);const H=C/2-k/2,F=D/2-v[g]/2-1,$=tA(h[w],F),q=tA(h[B],F),R=$,G=D-v[g]-q,U=D/2-v[g]/2+H,ae=QC(R,U,G),re=!l.arrow&&fl(i)!=null&&U!==ae&&s.reference[g]/2-(U<R?$:q)-v[g]/2<0,Y=re?U<R?U-R:U-G:0;return{[d]:m[d]+Y,data:{[d]:ae,centerOffset:U-ae-Y,...re&&{alignmentOffset:Y}},reset:re}}});function tZ(t,e,r){return(t?[...r.filter(i=>fl(i)===t),...r.filter(i=>fl(i)!==t)]:r.filter(i=>_o(i)===i)).filter(i=>t?fl(i)===t||(e?X1(i)!==i:!1):!0)}const rZ=function(t){return t===void 0&&(t={}),{name:"autoPlacement",options:t,async fn(e){var r,n,i;const{rects:s,middlewareData:a,placement:o,platform:l,elements:c}=e,{crossAxis:f=!1,alignment:h,allowedPlacements:m=xN,autoAlignment:d=!0,...g}=lc(t,e),v=h!==void 0||m===xN?tZ(h||null,d,m):m,b=await l.detectOverflow(e,g),w=((r=a.autoPlacement)==null?void 0:r.index)||0,B=v[w];if(B==null)return{};const S=eM(B,s,await(l.isRTL==null?void 0:l.isRTL(c.floating)));if(o!==B)return{reset:{placement:v[0]}};const C=[b[_o(B)],b[S[0]],b[S[1]]],k=[...((n=a.autoPlacement)==null?void 0:n.overflows)||[],{placement:B,overflows:C}],M=v[w+1];if(M)return{data:{index:w+1,overflows:k},reset:{placement:M}};const D=k.map($=>{const q=fl($.placement);return[$.placement,q&&f?$.overflows.slice(0,2).reduce((R,G)=>R+G,0):$.overflows[0],$.overflows]}).sort(($,q)=>$[1]-q[1]),F=((i=D.filter($=>$[2].slice(0,fl($[0])?2:3).every(q=>q<=0))[0])==null?void 0:i[0])||D[0][0];return F!==o?{data:{index:w+1,overflows:k},reset:{placement:F}}:{}}}},nZ=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:i,middlewareData:s,rects:a,initialPlacement:o,platform:l,elements:c}=e,{mainAxis:f=!0,crossAxis:h=!0,fallbackPlacements:m,fallbackStrategy:d="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:v=!0,...b}=lc(t,e);if((r=s.arrow)!=null&&r.alignmentOffset)return{};const w=_o(i),B=$l(o),S=_o(o)===o,C=await(l.isRTL==null?void 0:l.isRTL(c.floating)),k=m||(S||!v?[Z1(o)]:qX(o)),M=g!=="none";!m&&M&&k.push(...YX(o,v,g,C));const D=[o,...k],H=await l.detectOverflow(e,b),F=[];let $=((n=s.flip)==null?void 0:n.overflows)||[];if(f&&F.push(H[w]),h){const U=eM(i,a,C);F.push(H[U[0]],H[U[1]])}if($=[...$,{placement:i,overflows:F}],!F.every(U=>U<=0)){var q,R;const U=(((q=s.flip)==null?void 0:q.index)||0)+1,ae=D[U];if(ae&&(!(h==="alignment"?B!==$l(ae):!1)||$.every(he=>$l(he.placement)===B?he.overflows[0]>0:!0)))return{data:{index:U,overflows:$},reset:{placement:ae}};let re=(R=$.filter(Y=>Y.overflows[0]<=0).sort((Y,he)=>Y.overflows[1]-he.overflows[1])[0])==null?void 0:R.placement;if(!re)switch(d){case"bestFit":{var G;const Y=(G=$.filter(he=>{if(M){const de=$l(he.placement);return de===B||de==="y"}return!0}).map(he=>[he.placement,he.overflows.filter(de=>de>0).reduce((de,Ce)=>de+Ce,0)]).sort((he,de)=>he[1]-de[1])[0])==null?void 0:G[0];Y&&(re=Y);break}case"initialPlacement":re=o;break}if(i!==re)return{reset:{placement:re}}}return{}}}};function EN(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function _N(t){return XR.some(e=>t[e]>=0)}const iZ=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r,platform:n}=e,{strategy:i="referenceHidden",...s}=lc(t,e);switch(i){case"referenceHidden":{const a=await n.detectOverflow(e,{...s,elementContext:"reference"}),o=EN(a,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:_N(o)}}}case"escaped":{const a=await n.detectOverflow(e,{...s,altBoundary:!0}),o=EN(a,r.floating);return{data:{escapedOffsets:o,escaped:_N(o)}}}default:return{}}}}};function tM(t){const e=tA(...t.map(s=>s.left)),r=tA(...t.map(s=>s.top)),n=Zs(...t.map(s=>s.right)),i=Zs(...t.map(s=>s.bottom));return{x:e,y:r,width:n-e,height:i-r}}function sZ(t){const e=t.slice().sort((i,s)=>i.y-s.y),r=[];let n=null;for(let i=0;i<e.length;i++){const s=e[i];!n||s.y-n.y>n.height/2?r.push([s]):r[r.length-1].push(s),n=s}return r.map(i=>op(tM(i)))}const aZ=function(t){return t===void 0&&(t={}),{name:"inline",options:t,async fn(e){const{placement:r,elements:n,rects:i,platform:s,strategy:a}=e,{padding:o=2,x:l,y:c}=lc(t,e),f=Array.from(await(s.getClientRects==null?void 0:s.getClientRects(n.reference))||[]),h=sZ(f),m=op(tM(f)),d=PE(o);function g(){if(h.length===2&&h[0].left>h[1].right&&l!=null&&c!=null)return h.find(b=>l>b.left-d.left&&l<b.right+d.right&&c>b.top-d.top&&c<b.bottom+d.bottom)||m;if(h.length>=2){if($l(r)==="y"){const $=h[0],q=h[h.length-1],R=_o(r)==="top",G=$.top,U=q.bottom,ae=R?$.left:q.left,re=R?$.right:q.right,Y=re-ae,he=U-G;return{top:G,bottom:U,left:ae,right:re,width:Y,height:he,x:ae,y:G}}const b=_o(r)==="left",w=Zs(...h.map($=>$.right)),B=tA(...h.map($=>$.left)),S=h.filter($=>b?$.left===B:$.right===w),C=S[0].top,k=S[S.length-1].bottom,M=B,D=w,H=D-M,F=k-C;return{top:C,bottom:k,left:M,right:D,width:H,height:F,x:M,y:C}}return m}const v=await s.getElementRects({reference:{getBoundingClientRect:g},floating:n.floating,strategy:a});return i.reference.x!==v.reference.x||i.reference.y!==v.reference.y||i.reference.width!==v.reference.width||i.reference.height!==v.reference.height?{reset:{rects:v}}:{}}}},oZ=new Set(["left","top"]);async function lZ(t,e){const{placement:r,platform:n,elements:i}=t,s=await(n.isRTL==null?void 0:n.isRTL(i.floating)),a=_o(r),o=fl(r),l=$l(r)==="y",c=oZ.has(a)?-1:1,f=s&&l?-1:1,h=lc(e,t);let{mainAxis:m,crossAxis:d,alignmentAxis:g}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return o&&typeof g=="number"&&(d=o==="end"?g*-1:g),l?{x:d*f,y:m*c}:{x:m*c,y:d*f}}const AZ=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:i,y:s,placement:a,middlewareData:o}=e,l=await lZ(e,t);return a===((r=o.offset)==null?void 0:r.placement)&&(n=o.arrow)!=null&&n.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:a}}}}},cZ=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:i,platform:s}=e,{mainAxis:a=!0,crossAxis:o=!1,limiter:l={fn:w=>{let{x:B,y:S}=w;return{x:B,y:S}}},...c}=lc(t,e),f={x:r,y:n},h=await s.detectOverflow(e,c),m=$l(_o(i)),d=ZR(m);let g=f[d],v=f[m];if(a){const w=d==="y"?"top":"left",B=d==="y"?"bottom":"right",S=g+h[w],C=g-h[B];g=QC(S,g,C)}if(o){const w=m==="y"?"top":"left",B=m==="y"?"bottom":"right",S=v+h[w],C=v-h[B];v=QC(S,v,C)}const b=l.fn({...e,[d]:g,[m]:v});return{...b,data:{x:b.x-r,y:b.y-n,enabled:{[d]:a,[m]:o}}}}}},uZ=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:i,rects:s,platform:a,elements:o}=e,{apply:l=()=>{},...c}=lc(t,e),f=await a.detectOverflow(e,c),h=_o(i),m=fl(i),d=$l(i)==="y",{width:g,height:v}=s.floating;let b,w;h==="top"||h==="bottom"?(b=h,w=m===(await(a.isRTL==null?void 0:a.isRTL(o.floating))?"start":"end")?"left":"right"):(w=h,b=m==="end"?"top":"bottom");const B=v-f.top-f.bottom,S=g-f.left-f.right,C=tA(v-f[b],B),k=tA(g-f[w],S),M=!e.middlewareData.shift;let D=C,H=k;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(H=S),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(D=B),M&&!m){const $=Zs(f.left,0),q=Zs(f.right,0),R=Zs(f.top,0),G=Zs(f.bottom,0);d?H=g-2*($!==0||q!==0?$+q:Zs(f.left,f.right)):D=v-2*(R!==0||G!==0?R+G:Zs(f.top,f.bottom))}await l({...e,availableWidth:H,availableHeight:D});const F=await a.getDimensions(o.floating);return g!==F.width||v!==F.height?{reset:{rects:!0}}:{}}}};function gv(){return typeof window<"u"}function xp(t){return rM(t)?(t.nodeName||"").toLowerCase():"#document"}function Ga(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Ac(t){var e;return(e=(rM(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function rM(t){return gv()?t instanceof Node||t instanceof Ga(t).Node:!1}function hl(t){return gv()?t instanceof Element||t instanceof Ga(t).Element:!1}function rA(t){return gv()?t instanceof HTMLElement||t instanceof Ga(t).HTMLElement:!1}function kN(t){return!gv()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Ga(t).ShadowRoot}const fZ=new Set(["inline","contents"]);function qg(t){const{overflow:e,overflowX:r,overflowY:n,display:i}=dl(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!fZ.has(i)}const hZ=new Set(["table","td","th"]);function dZ(t){return hZ.has(xp(t))}const pZ=[":popover-open",":modal"];function yv(t){return pZ.some(e=>{try{return t.matches(e)}catch{return!1}})}const mZ=["transform","translate","scale","rotate","perspective"],gZ=["transform","translate","scale","rotate","perspective","filter"],yZ=["paint","layout","strict","content"];function zE(t){const e=KE(),r=hl(t)?dl(t):t;return mZ.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||gZ.some(n=>(r.willChange||"").includes(n))||yZ.some(n=>(r.contain||"").includes(n))}function wZ(t){let e=Eu(t);for(;rA(e)&&!lp(e);){if(zE(e))return e;if(yv(e))return null;e=Eu(e)}return null}function KE(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const vZ=new Set(["html","body","#document"]);function lp(t){return vZ.has(xp(t))}function dl(t){return Ga(t).getComputedStyle(t)}function wv(t){return hl(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Eu(t){if(xp(t)==="html")return t;const e=t.assignedSlot||t.parentNode||kN(t)&&t.host||Ac(t);return kN(e)?e.host:e}function nM(t){const e=Eu(t);return lp(e)?t.ownerDocument?t.ownerDocument.body:t.body:rA(e)&&qg(e)?e:nM(e)}function iM(t,e,r){var n;e===void 0&&(e=[]);const i=nM(t),s=i===((n=t.ownerDocument)==null?void 0:n.body),a=Ga(i);return s?(HC(a),e.concat(a,a.visualViewport||[],qg(i)?i:[],[])):e.concat(i,iM(i,[]))}function HC(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function sM(t){const e=dl(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const i=rA(t),s=i?t.offsetWidth:r,a=i?t.offsetHeight:n,o=J1(r)!==s||J1(n)!==a;return o&&(r=s,n=a),{width:r,height:n,$:o}}function aM(t){return hl(t)?t:t.contextElement}function Vd(t){const e=aM(t);if(!rA(e))return Xl(1);const r=e.getBoundingClientRect(),{width:n,height:i,$:s}=sM(e);let a=(s?J1(r.width):r.width)/n,o=(s?J1(r.height):r.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!o||!Number.isFinite(o))&&(o=1),{x:a,y:o}}const bZ=Xl(0);function oM(t){const e=Ga(t);return!KE()||!e.visualViewport?bZ:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function xZ(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==Ga(t)?!1:e}function _g(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const i=t.getBoundingClientRect(),s=aM(t);let a=Xl(1);e&&(n?hl(n)&&(a=Vd(n)):a=Vd(t));const o=xZ(s,r,n)?oM(s):Xl(0);let l=(i.left+o.x)/a.x,c=(i.top+o.y)/a.y,f=i.width/a.x,h=i.height/a.y;if(s){const m=Ga(s),d=n&&hl(n)?Ga(n):n;let g=m,v=HC(g);for(;v&&n&&d!==g;){const b=Vd(v),w=v.getBoundingClientRect(),B=dl(v),S=w.left+(v.clientLeft+parseFloat(B.paddingLeft))*b.x,C=w.top+(v.clientTop+parseFloat(B.paddingTop))*b.y;l*=b.x,c*=b.y,f*=b.x,h*=b.y,l+=S,c+=C,g=Ga(v),v=HC(g)}}return op({width:f,height:h,x:l,y:c})}function vv(t,e){const r=wv(t).scrollLeft;return e?e.left+r:_g(Ac(t)).left+r}function lM(t,e){const r=t.getBoundingClientRect(),n=r.left+e.scrollLeft-vv(t,r),i=r.top+e.scrollTop;return{x:n,y:i}}function BZ(t){let{elements:e,rect:r,offsetParent:n,strategy:i}=t;const s=i==="fixed",a=Ac(n),o=e?yv(e.floating):!1;if(n===a||o&&s)return r;let l={scrollLeft:0,scrollTop:0},c=Xl(1);const f=Xl(0),h=rA(n);if((h||!h&&!s)&&((xp(n)!=="body"||qg(a))&&(l=wv(n)),rA(n))){const d=_g(n);c=Vd(n),f.x=d.x+n.clientLeft,f.y=d.y+n.clientTop}const m=a&&!h&&!s?lM(a,l):Xl(0);return{width:r.width*c.x,height:r.height*c.y,x:r.x*c.x-l.scrollLeft*c.x+f.x+m.x,y:r.y*c.y-l.scrollTop*c.y+f.y+m.y}}function CZ(t){return Array.from(t.getClientRects())}function SZ(t){const e=Ac(t),r=wv(t),n=t.ownerDocument.body,i=Zs(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),s=Zs(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let a=-r.scrollLeft+vv(t);const o=-r.scrollTop;return dl(n).direction==="rtl"&&(a+=Zs(e.clientWidth,n.clientWidth)-i),{width:i,height:s,x:a,y:o}}const TN=25;function EZ(t,e){const r=Ga(t),n=Ac(t),i=r.visualViewport;let s=n.clientWidth,a=n.clientHeight,o=0,l=0;if(i){s=i.width,a=i.height;const f=KE();(!f||f&&e==="fixed")&&(o=i.offsetLeft,l=i.offsetTop)}const c=vv(n);if(c<=0){const f=n.ownerDocument,h=f.body,m=getComputedStyle(h),d=f.compatMode==="CSS1Compat"&&parseFloat(m.marginLeft)+parseFloat(m.marginRight)||0,g=Math.abs(n.clientWidth-h.clientWidth-d);g<=TN&&(s-=g)}else c<=TN&&(s+=c);return{width:s,height:a,x:o,y:l}}const _Z=new Set(["absolute","fixed"]);function kZ(t,e){const r=_g(t,!0,e==="fixed"),n=r.top+t.clientTop,i=r.left+t.clientLeft,s=rA(t)?Vd(t):Xl(1),a=t.clientWidth*s.x,o=t.clientHeight*s.y,l=i*s.x,c=n*s.y;return{width:a,height:o,x:l,y:c}}function NN(t,e,r){let n;if(e==="viewport")n=EZ(t,r);else if(e==="document")n=SZ(Ac(t));else if(hl(e))n=kZ(e,r);else{const i=oM(t);n={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return op(n)}function AM(t,e){const r=Eu(t);return r===e||!hl(r)||lp(r)?!1:dl(r).position==="fixed"||AM(r,e)}function TZ(t,e){const r=e.get(t);if(r)return r;let n=iM(t,[]).filter(o=>hl(o)&&xp(o)!=="body"),i=null;const s=dl(t).position==="fixed";let a=s?Eu(t):t;for(;hl(a)&&!lp(a);){const o=dl(a),l=zE(a);!l&&o.position==="fixed"&&(i=null),(s?!l&&!i:!l&&o.position==="static"&&!!i&&_Z.has(i.position)||qg(a)&&!l&&AM(t,a))?n=n.filter(f=>f!==a):i=o,a=Eu(a)}return e.set(t,n),n}function NZ(t){let{element:e,boundary:r,rootBoundary:n,strategy:i}=t;const a=[...r==="clippingAncestors"?yv(e)?[]:TZ(e,this._c):[].concat(r),n],o=a[0],l=a.reduce((c,f)=>{const h=NN(e,f,i);return c.top=Zs(h.top,c.top),c.right=tA(h.right,c.right),c.bottom=tA(h.bottom,c.bottom),c.left=Zs(h.left,c.left),c},NN(e,o,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function FZ(t){const{width:e,height:r}=sM(t);return{width:e,height:r}}function UZ(t,e,r){const n=rA(e),i=Ac(e),s=r==="fixed",a=_g(t,!0,s,e);let o={scrollLeft:0,scrollTop:0};const l=Xl(0);function c(){l.x=vv(i)}if(n||!n&&!s)if((xp(e)!=="body"||qg(i))&&(o=wv(e)),n){const d=_g(e,!0,s,e);l.x=d.x+e.clientLeft,l.y=d.y+e.clientTop}else i&&c();s&&!n&&i&&c();const f=i&&!n&&!s?lM(i,o):Xl(0),h=a.left+o.scrollLeft-l.x-f.x,m=a.top+o.scrollTop-l.y-f.y;return{x:h,y:m,width:a.width,height:a.height}}function W2(t){return dl(t).position==="static"}function FN(t,e){if(!rA(t)||dl(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return Ac(t)===r&&(r=r.ownerDocument.body),r}function cM(t,e){const r=Ga(t);if(yv(t))return r;if(!rA(t)){let i=Eu(t);for(;i&&!lp(i);){if(hl(i)&&!W2(i))return i;i=Eu(i)}return r}let n=FN(t,e);for(;n&&dZ(n)&&W2(n);)n=FN(n,e);return n&&lp(n)&&W2(n)&&!zE(n)?r:n||wZ(t)||r}const OZ=async function(t){const e=this.getOffsetParent||cM,r=this.getDimensions,n=await r(t.floating);return{reference:UZ(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function LZ(t){return dl(t).direction==="rtl"}const DZ={convertOffsetParentRelativeRectToViewportRelativeRect:BZ,getDocumentElement:Ac,getClippingRect:NZ,getOffsetParent:cM,getElementRects:OZ,getClientRects:CZ,getDimensions:FZ,getScale:Vd,isElement:hl,isRTL:LZ},uM=AZ,fM=rZ,hM=cZ,dM=nZ,pM=uZ,mM=iZ,gM=eZ,yM=aZ,wM=(t,e,r)=>{const n=new Map,i={platform:DZ,...r},s={...i.platform,_c:n};return ZX(t,e,{...i,platform:s})};let jC,PC;if(typeof WeakMap<"u"){let t=new WeakMap;jC=e=>t.get(e),PC=(e,r)=>(t.set(e,r),r)}else{const t=[];let r=0;jC=n=>{for(let i=0;i<t.length;i+=2)if(t[i]==n)return t[i+1]},PC=(n,i)=>(r==10&&(r=0),t[r++]=n,t[r++]=i)}var oi=class{constructor(t,e,r,n){this.width=t,this.height=e,this.map=r,this.problems=n}findCell(t){for(let e=0;e<this.map.length;e++){const r=this.map[e];if(r!=t)continue;const n=e%this.width,i=e/this.width|0;let s=n+1,a=i+1;for(let o=1;s<this.width&&this.map[e+o]==r;o++)s++;for(let o=1;a<this.height&&this.map[e+this.width*o]==r;o++)a++;return{left:n,top:i,right:s,bottom:a}}throw new RangeError(`No cell with offset ${t} found`)}colCount(t){for(let e=0;e<this.map.length;e++)if(this.map[e]==t)return e%this.width;throw new RangeError(`No cell with offset ${t} found`)}nextCell(t,e,r){const{left:n,right:i,top:s,bottom:a}=this.findCell(t);return e=="horiz"?(r<0?n==0:i==this.width)?null:this.map[s*this.width+(r<0?n-1:i)]:(r<0?s==0:a==this.height)?null:this.map[n+this.width*(r<0?s-1:a)]}rectBetween(t,e){const{left:r,right:n,top:i,bottom:s}=this.findCell(t),{left:a,right:o,top:l,bottom:c}=this.findCell(e);return{left:Math.min(r,a),top:Math.min(i,l),right:Math.max(n,o),bottom:Math.max(s,c)}}cellsInRect(t){const e=[],r={};for(let n=t.top;n<t.bottom;n++)for(let i=t.left;i<t.right;i++){const s=n*this.width+i,a=this.map[s];r[a]||(r[a]=!0,!(i==t.left&&i&&this.map[s-1]==a||n==t.top&&n&&this.map[s-this.width]==a)&&e.push(a))}return e}positionAt(t,e,r){for(let n=0,i=0;;n++){const s=i+r.child(n).nodeSize;if(n==t){let a=e+t*this.width;const o=(t+1)*this.width;for(;a<o&&this.map[a]<i;)a++;return a==o?s-1:this.map[a]}i=s}}static get(t){return jC(t)||PC(t,IZ(t))}};function IZ(t){if(t.type.spec.tableRole!="table")throw new RangeError("Not a table node: "+t.type.name);const e=RZ(t),r=t.childCount,n=[];let i=0,s=null;const a=[];for(let c=0,f=e*r;c<f;c++)n[c]=0;for(let c=0,f=0;c<r;c++){const h=t.child(c);f++;for(let g=0;;g++){for(;i<n.length&&n[i]!=0;)i++;if(g==h.childCount)break;const v=h.child(g),{colspan:b,rowspan:w,colwidth:B}=v.attrs;for(let S=0;S<w;S++){if(S+c>=r){(s||(s=[])).push({type:"overlong_rowspan",pos:f,n:w-S});break}const C=i+S*e;for(let k=0;k<b;k++){n[C+k]==0?n[C+k]=f:(s||(s=[])).push({type:"collision",row:c,pos:f,n:b-k});const M=B&&B[k];if(M){const D=(C+k)%e*2,H=a[D];H==null||H!=M&&a[D+1]==1?(a[D]=M,a[D+1]=1):H==M&&a[D+1]++}}}i+=b,f+=v.nodeSize}const m=(c+1)*e;let d=0;for(;i<m;)n[i++]==0&&d++;d&&(s||(s=[])).push({type:"missing",row:c,n:d}),f++}(e===0||r===0)&&(s||(s=[])).push({type:"zero_sized"});const o=new oi(e,r,n,s);let l=!1;for(let c=0;!l&&c<a.length;c+=2)a[c]!=null&&a[c+1]<r&&(l=!0);return l&&MZ(o,a,t),o}function RZ(t){let e=-1,r=!1;for(let n=0;n<t.childCount;n++){const i=t.child(n);let s=0;if(r)for(let a=0;a<n;a++){const o=t.child(a);for(let l=0;l<o.childCount;l++){const c=o.child(l);a+c.attrs.rowspan>n&&(s+=c.attrs.colspan)}}for(let a=0;a<i.childCount;a++){const o=i.child(a);s+=o.attrs.colspan,o.attrs.rowspan>1&&(r=!0)}e==-1?e=s:e!=s&&(e=Math.max(e,s))}return e}function MZ(t,e,r){t.problems||(t.problems=[]);const n={};for(let i=0;i<t.map.length;i++){const s=t.map[i];if(n[s])continue;n[s]=!0;const a=r.nodeAt(s);if(!a)throw new RangeError(`No cell with offset ${s} found`);let o=null;const l=a.attrs;for(let c=0;c<l.colspan;c++){const f=e[(i+c)%t.width*2];f!=null&&(!l.colwidth||l.colwidth[c]!=f)&&((o||(o=QZ(l)))[c]=f)}o&&t.problems.unshift({type:"colwidth mismatch",pos:s,colwidth:o})}}function QZ(t){if(t.colwidth)return t.colwidth.slice();const e=[];for(let r=0;r<t.colspan;r++)e.push(0);return e}function Ms(t){let e=t.cached.tableNodeTypes;if(!e){e=t.cached.tableNodeTypes={};for(const r in t.nodes){const n=t.nodes[r],i=n.spec.tableRole;i&&(e[i]=n)}}return e}const ou=new Mn("selectingCells");function Jf(t){for(let e=t.depth-1;e>0;e--)if(t.node(e).type.spec.tableRole=="row")return t.node(0).resolve(t.before(e+1));return null}function HZ(t){for(let e=t.depth;e>0;e--){const r=t.node(e).type.spec.tableRole;if(r==="cell"||r==="header_cell")return t.node(e)}return null}function ml(t){const e=t.selection.$head;for(let r=e.depth;r>0;r--)if(e.node(r).type.spec.tableRole=="row")return!0;return!1}function bv(t){const e=t.selection;if("$anchorCell"in e&&e.$anchorCell)return e.$anchorCell.pos>e.$headCell.pos?e.$anchorCell:e.$headCell;if("node"in e&&e.node&&e.node.type.spec.tableRole=="cell")return e.$anchor;const r=Jf(e.$head)||jZ(e.$head);if(r)return r;throw new RangeError(`No cell found around position ${e.head}`)}function jZ(t){for(let e=t.nodeAfter,r=t.pos;e;e=e.firstChild,r++){const n=e.type.spec.tableRole;if(n=="cell"||n=="header_cell")return t.doc.resolve(r)}for(let e=t.nodeBefore,r=t.pos;e;e=e.lastChild,r--){const n=e.type.spec.tableRole;if(n=="cell"||n=="header_cell")return t.doc.resolve(r-e.nodeSize)}}function zC(t){return t.parent.type.spec.tableRole=="row"&&!!t.nodeAfter}function PZ(t){return t.node(0).resolve(t.pos+t.nodeAfter.nodeSize)}function VE(t,e){return t.depth==e.depth&&t.pos>=e.start(-1)&&t.pos<=e.end(-1)}function vM(t,e,r){const n=t.node(-1),i=oi.get(n),s=t.start(-1),a=i.nextCell(t.pos-s,e,r);return a==null?null:t.node(0).resolve(s+a)}function Xf(t,e,r=1){const n={...t,colspan:t.colspan-r};return n.colwidth&&(n.colwidth=n.colwidth.slice(),n.colwidth.splice(e,r),n.colwidth.some(i=>i>0)||(n.colwidth=null)),n}function bM(t,e,r=1){const n={...t,colspan:t.colspan+r};if(n.colwidth){n.colwidth=n.colwidth.slice();for(let i=0;i<r;i++)n.colwidth.splice(e,0,0)}return n}function zZ(t,e,r){const n=Ms(e.type.schema).header_cell;for(let i=0;i<t.height;i++)if(e.nodeAt(t.map[r+i*t.width]).type!=n)return!1;return!0}var hn=class VA extends tr{constructor(e,r=e){const n=e.node(-1),i=oi.get(n),s=e.start(-1),a=i.rectBetween(e.pos-s,r.pos-s),o=e.node(0),l=i.cellsInRect(a).filter(f=>f!=r.pos-s);l.unshift(r.pos-s);const c=l.map(f=>{const h=n.nodeAt(f);if(!h)throw new RangeError(`No cell with offset ${f} found`);const m=s+f+1;return new vI(o.resolve(m),o.resolve(m+h.content.size))});super(c[0].$from,c[0].$to,c),this.$anchorCell=e,this.$headCell=r}map(e,r){const n=e.resolve(r.map(this.$anchorCell.pos)),i=e.resolve(r.map(this.$headCell.pos));if(zC(n)&&zC(i)&&VE(n,i)){const s=this.$anchorCell.node(-1)!=n.node(-1);return s&&this.isRowSelection()?VA.rowSelection(n,i):s&&this.isColSelection()?VA.colSelection(n,i):new VA(n,i)}return qt.between(n,i)}content(){const e=this.$anchorCell.node(-1),r=oi.get(e),n=this.$anchorCell.start(-1),i=r.rectBetween(this.$anchorCell.pos-n,this.$headCell.pos-n),s={},a=[];for(let l=i.top;l<i.bottom;l++){const c=[];for(let f=l*r.width+i.left,h=i.left;h<i.right;h++,f++){const m=r.map[f];if(s[m])continue;s[m]=!0;const d=r.findCell(m);let g=e.nodeAt(m);if(!g)throw new RangeError(`No cell with offset ${m} found`);const v=i.left-d.left,b=d.right-i.right;if(v>0||b>0){let w=g.attrs;if(v>0&&(w=Xf(w,0,v)),b>0&&(w=Xf(w,w.colspan-b,b)),d.left<i.left){if(g=g.type.createAndFill(w),!g)throw new RangeError(`Could not create cell with attrs ${JSON.stringify(w)}`)}else g=g.type.create(w,g.content)}if(d.top<i.top||d.bottom>i.bottom){const w={...g.attrs,rowspan:Math.min(d.bottom,i.bottom)-Math.max(d.top,i.top)};d.top<i.top?g=g.type.createAndFill(w):g=g.type.create(w,g.content)}c.push(g)}a.push(e.child(l).copy(it.from(c)))}const o=this.isColSelection()&&this.isRowSelection()?e:a;return new pt(it.from(o),1,1)}replace(e,r=pt.empty){const n=e.steps.length,i=this.ranges;for(let a=0;a<i.length;a++){const{$from:o,$to:l}=i[a],c=e.mapping.slice(n);e.replace(c.map(o.pos),c.map(l.pos),a?pt.empty:r)}const s=tr.findFrom(e.doc.resolve(e.mapping.slice(n).map(this.to)),-1);s&&e.setSelection(s)}replaceWith(e,r){this.replace(e,new pt(it.from(r),0,0))}forEachCell(e){const r=this.$anchorCell.node(-1),n=oi.get(r),i=this.$anchorCell.start(-1),s=n.cellsInRect(n.rectBetween(this.$anchorCell.pos-i,this.$headCell.pos-i));for(let a=0;a<s.length;a++)e(r.nodeAt(s[a]),i+s[a])}isColSelection(){const e=this.$anchorCell.index(-1),r=this.$headCell.index(-1);if(Math.min(e,r)>0)return!1;const n=e+this.$anchorCell.nodeAfter.attrs.rowspan,i=r+this.$headCell.nodeAfter.attrs.rowspan;return Math.max(n,i)==this.$headCell.node(-1).childCount}static colSelection(e,r=e){const n=e.node(-1),i=oi.get(n),s=e.start(-1),a=i.findCell(e.pos-s),o=i.findCell(r.pos-s),l=e.node(0);return a.top<=o.top?(a.top>0&&(e=l.resolve(s+i.map[a.left])),o.bottom<i.height&&(r=l.resolve(s+i.map[i.width*(i.height-1)+o.right-1]))):(o.top>0&&(r=l.resolve(s+i.map[o.left])),a.bottom<i.height&&(e=l.resolve(s+i.map[i.width*(i.height-1)+a.right-1]))),new VA(e,r)}isRowSelection(){const e=this.$anchorCell.node(-1),r=oi.get(e),n=this.$anchorCell.start(-1),i=r.colCount(this.$anchorCell.pos-n),s=r.colCount(this.$headCell.pos-n);if(Math.min(i,s)>0)return!1;const a=i+this.$anchorCell.nodeAfter.attrs.colspan,o=s+this.$headCell.nodeAfter.attrs.colspan;return Math.max(a,o)==r.width}eq(e){return e instanceof VA&&e.$anchorCell.pos==this.$anchorCell.pos&&e.$headCell.pos==this.$headCell.pos}static rowSelection(e,r=e){const n=e.node(-1),i=oi.get(n),s=e.start(-1),a=i.findCell(e.pos-s),o=i.findCell(r.pos-s),l=e.node(0);return a.left<=o.left?(a.left>0&&(e=l.resolve(s+i.map[a.top*i.width])),o.right<i.width&&(r=l.resolve(s+i.map[i.width*(o.top+1)-1]))):(o.left>0&&(r=l.resolve(s+i.map[o.top*i.width])),a.right<i.width&&(e=l.resolve(s+i.map[i.width*(a.top+1)-1]))),new VA(e,r)}toJSON(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}}static fromJSON(e,r){return new VA(e.resolve(r.anchor),e.resolve(r.head))}static create(e,r,n=r){return new VA(e.resolve(r),e.resolve(n))}getBookmark(){return new KZ(this.$anchorCell.pos,this.$headCell.pos)}};hn.prototype.visible=!1;tr.jsonID("cell",hn);var KZ=class xM{constructor(e,r){this.anchor=e,this.head=r}map(e){return new xM(e.map(this.anchor),e.map(this.head))}resolve(e){const r=e.resolve(this.anchor),n=e.resolve(this.head);return r.parent.type.spec.tableRole=="row"&&n.parent.type.spec.tableRole=="row"&&r.index()<r.parent.childCount&&n.index()<n.parent.childCount&&VE(r,n)?new hn(r,n):tr.near(n,1)}};function VZ(t){if(!(t.selection instanceof hn))return null;const e=[];return t.selection.forEachCell((r,n)=>{e.push(rs.node(n,n+r.nodeSize,{class:"selectedCell"}))}),yn.create(t.doc,e)}function qZ({$from:t,$to:e}){if(t.pos==e.pos||t.pos<e.pos-6)return!1;let r=t.pos,n=e.pos,i=t.depth;for(;i>=0&&!(t.after(i+1)<t.end(i));i--,r++);for(let s=e.depth;s>=0&&!(e.before(s+1)>e.start(s));s--,n--);return r==n&&/row|table/.test(t.node(i).type.spec.tableRole)}function GZ({$from:t,$to:e}){let r,n;for(let i=t.depth;i>0;i--){const s=t.node(i);if(s.type.spec.tableRole==="cell"||s.type.spec.tableRole==="header_cell"){r=s;break}}for(let i=e.depth;i>0;i--){const s=e.node(i);if(s.type.spec.tableRole==="cell"||s.type.spec.tableRole==="header_cell"){n=s;break}}return r!==n&&e.parentOffset===0}function WZ(t,e,r){const n=(e||t).selection,i=(e||t).doc;let s,a;if(n instanceof jt&&(a=n.node.type.spec.tableRole)){if(a=="cell"||a=="header_cell")s=hn.create(i,n.from);else if(a=="row"){const o=i.resolve(n.from+1);s=hn.rowSelection(o,o)}else if(!r){const o=oi.get(n.node),l=n.from+1,c=l+o.map[o.width*o.height-1];s=hn.create(i,l+1,c)}}else n instanceof qt&&qZ(n)?s=qt.create(i,n.from):n instanceof qt&&GZ(n)&&(s=qt.create(i,n.$from.start(),n.$from.end()));return s&&(e||(e=t.tr)).setSelection(s),e}const $Z=new Mn("fix-tables");function BM(t,e,r,n){const i=t.childCount,s=e.childCount;e:for(let a=0,o=0;a<s;a++){const l=e.child(a);for(let c=o,f=Math.min(i,a+3);c<f;c++)if(t.child(c)==l){o=c+1,r+=l.nodeSize;continue e}n(l,r),o<i&&t.child(o).sameMarkup(l)?BM(t.child(o),l,r+1,n):l.nodesBetween(0,l.content.size,n,r+1),r+=l.nodeSize}}function CM(t,e){let r;const n=(i,s)=>{i.type.spec.tableRole=="table"&&(r=YZ(t,i,s,r))};return e?e.doc!=t.doc&&BM(e.doc,t.doc,0,n):t.doc.descendants(n),r}function YZ(t,e,r,n){const i=oi.get(e);if(!i.problems)return n;n||(n=t.tr);const s=[];for(let l=0;l<i.height;l++)s.push(0);for(let l=0;l<i.problems.length;l++){const c=i.problems[l];if(c.type=="collision"){const f=e.nodeAt(c.pos);if(!f)continue;const h=f.attrs;for(let m=0;m<h.rowspan;m++)s[c.row+m]+=c.n;n.setNodeMarkup(n.mapping.map(r+1+c.pos),null,Xf(h,h.colspan-c.n,c.n))}else if(c.type=="missing")s[c.row]+=c.n;else if(c.type=="overlong_rowspan"){const f=e.nodeAt(c.pos);if(!f)continue;n.setNodeMarkup(n.mapping.map(r+1+c.pos),null,{...f.attrs,rowspan:f.attrs.rowspan-c.n})}else if(c.type=="colwidth mismatch"){const f=e.nodeAt(c.pos);if(!f)continue;n.setNodeMarkup(n.mapping.map(r+1+c.pos),null,{...f.attrs,colwidth:c.colwidth})}else if(c.type=="zero_sized"){const f=n.mapping.map(r);n.delete(f,f+e.nodeSize)}}let a,o;for(let l=0;l<s.length;l++)s[l]&&(a==null&&(a=l),o=l);for(let l=0,c=r+1;l<i.height;l++){const f=e.child(l),h=c+f.nodeSize,m=s[l];if(m>0){let d="cell";f.firstChild&&(d=f.firstChild.type.spec.tableRole);const g=[];for(let b=0;b<m;b++){const w=Ms(t.schema)[d].createAndFill();w&&g.push(w)}const v=(l==0||a==l-1)&&o==l?c+1:h-1;n.insert(n.mapping.map(v),g)}c=h}return n.setMeta($Z,{fixTables:!0})}function iA(t){const e=t.selection,r=bv(t),n=r.node(-1),i=r.start(-1),s=oi.get(n);return{...e instanceof hn?s.rectBetween(e.$anchorCell.pos-i,e.$headCell.pos-i):s.findCell(r.pos-i),tableStart:i,map:s,table:n}}function SM(t,{map:e,tableStart:r,table:n},i){let s=i>0?-1:0;zZ(e,n,i+s)&&(s=i==0||i==e.width?null:0);for(let a=0;a<e.height;a++){const o=a*e.width+i;if(i>0&&i<e.width&&e.map[o-1]==e.map[o]){const l=e.map[o],c=n.nodeAt(l);t.setNodeMarkup(t.mapping.map(r+l),null,bM(c.attrs,i-e.colCount(l))),a+=c.attrs.rowspan-1}else{const l=s==null?Ms(n.type.schema).cell:n.nodeAt(e.map[o+s]).type,c=e.positionAt(a,i,n);t.insert(t.mapping.map(r+c),l.createAndFill())}}return t}function JZ(t,e){if(!ml(t))return!1;if(e){const r=iA(t);e(SM(t.tr,r,r.left))}return!0}function XZ(t,e){if(!ml(t))return!1;if(e){const r=iA(t);e(SM(t.tr,r,r.right))}return!0}function ZZ(t,{map:e,table:r,tableStart:n},i){const s=t.mapping.maps.length;for(let a=0;a<e.height;){const o=a*e.width+i,l=e.map[o],c=r.nodeAt(l),f=c.attrs;if(i>0&&e.map[o-1]==l||i<e.width-1&&e.map[o+1]==l)t.setNodeMarkup(t.mapping.slice(s).map(n+l),null,Xf(f,i-e.colCount(l)));else{const h=t.mapping.slice(s).map(n+l);t.delete(h,h+c.nodeSize)}a+=f.rowspan}}function eee(t,e){if(!ml(t))return!1;if(e){const r=iA(t),n=t.tr;if(r.left==0&&r.right==r.map.width)return!1;for(let i=r.right-1;ZZ(n,r,i),i!=r.left;i--){const s=r.tableStart?n.doc.nodeAt(r.tableStart-1):n.doc;if(!s)throw new RangeError("No table found");r.table=s,r.map=oi.get(s)}e(n)}return!0}function tee(t,e,r){var n;const i=Ms(e.type.schema).header_cell;for(let s=0;s<t.width;s++)if(((n=e.nodeAt(t.map[s+r*t.width]))===null||n===void 0?void 0:n.type)!=i)return!1;return!0}function EM(t,{map:e,tableStart:r,table:n},i){let s=r;for(let c=0;c<i;c++)s+=n.child(c).nodeSize;const a=[];let o=i>0?-1:0;tee(e,n,i+o)&&(o=i==0||i==e.height?null:0);for(let c=0,f=e.width*i;c<e.width;c++,f++)if(i>0&&i<e.height&&e.map[f]==e.map[f-e.width]){const h=e.map[f],m=n.nodeAt(h).attrs;t.setNodeMarkup(r+h,null,{...m,rowspan:m.rowspan+1}),c+=m.colspan-1}else{var l;const h=o==null?Ms(n.type.schema).cell:(l=n.nodeAt(e.map[f+o*e.width]))===null||l===void 0?void 0:l.type,m=h?.createAndFill();m&&a.push(m)}return t.insert(s,Ms(n.type.schema).row.create(null,a)),t}function ree(t,e){if(!ml(t))return!1;if(e){const r=iA(t);e(EM(t.tr,r,r.top))}return!0}function nee(t,e){if(!ml(t))return!1;if(e){const r=iA(t);e(EM(t.tr,r,r.bottom))}return!0}function iee(t,{map:e,table:r,tableStart:n},i){let s=0;for(let c=0;c<i;c++)s+=r.child(c).nodeSize;const a=s+r.child(i).nodeSize,o=t.mapping.maps.length;t.delete(s+n,a+n);const l=new Set;for(let c=0,f=i*e.width;c<e.width;c++,f++){const h=e.map[f];if(!l.has(h)){if(l.add(h),i>0&&h==e.map[f-e.width]){const m=r.nodeAt(h).attrs;t.setNodeMarkup(t.mapping.slice(o).map(h+n),null,{...m,rowspan:m.rowspan-1}),c+=m.colspan-1}else if(i<e.height&&h==e.map[f+e.width]){const m=r.nodeAt(h),d=m.attrs,g=m.type.create({...d,rowspan:m.attrs.rowspan-1},m.content),v=e.positionAt(i+1,c,r);t.insert(t.mapping.slice(o).map(n+v),g),c+=d.colspan-1}}}}function see(t,e){if(!ml(t))return!1;if(e){const r=iA(t),n=t.tr;if(r.top==0&&r.bottom==r.map.height)return!1;for(let i=r.bottom-1;iee(n,r,i),i!=r.top;i--){const s=r.tableStart?n.doc.nodeAt(r.tableStart-1):n.doc;if(!s)throw new RangeError("No table found");r.table=s,r.map=oi.get(r.table)}e(n)}return!0}function UN(t){const e=t.content;return e.childCount==1&&e.child(0).isTextblock&&e.child(0).childCount==0}function aee({width:t,height:e,map:r},n){let i=n.top*t+n.left,s=i,a=(n.bottom-1)*t+n.left,o=i+(n.right-n.left-1);for(let l=n.top;l<n.bottom;l++){if(n.left>0&&r[s]==r[s-1]||n.right<t&&r[o]==r[o+1])return!0;s+=t,o+=t}for(let l=n.left;l<n.right;l++){if(n.top>0&&r[i]==r[i-t]||n.bottom<e&&r[a]==r[a+t])return!0;i++,a++}return!1}function ON(t,e){const r=t.selection;if(!(r instanceof hn)||r.$anchorCell.pos==r.$headCell.pos)return!1;const n=iA(t),{map:i}=n;if(aee(i,n))return!1;if(e){const s=t.tr,a={};let o=it.empty,l,c;for(let f=n.top;f<n.bottom;f++)for(let h=n.left;h<n.right;h++){const m=i.map[f*i.width+h],d=n.table.nodeAt(m);if(!(a[m]||!d))if(a[m]=!0,l==null)l=m,c=d;else{UN(d)||(o=o.append(d.content));const g=s.mapping.map(m+n.tableStart);s.delete(g,g+d.nodeSize)}}if(l==null||c==null)return!0;if(s.setNodeMarkup(l+n.tableStart,null,{...bM(c.attrs,c.attrs.colspan,n.right-n.left-c.attrs.colspan),rowspan:n.bottom-n.top}),o.size>0){const f=l+1+c.content.size,h=UN(c)?l+1:f;s.replaceWith(h+n.tableStart,f+n.tableStart,o)}s.setSelection(new hn(s.doc.resolve(l+n.tableStart))),e(s)}return!0}function LN(t,e){const r=Ms(t.schema);return oee(({node:n})=>r[n.type.spec.tableRole])(t,e)}function oee(t){return(e,r)=>{const n=e.selection;let i,s;if(n instanceof hn){if(n.$anchorCell.pos!=n.$headCell.pos)return!1;i=n.$anchorCell.nodeAfter,s=n.$anchorCell.pos}else{var a;if(i=HZ(n.$from),!i)return!1;s=(a=Jf(n.$from))===null||a===void 0?void 0:a.pos}if(i==null||s==null||i.attrs.colspan==1&&i.attrs.rowspan==1)return!1;if(r){let o=i.attrs;const l=[],c=o.colwidth;o.rowspan>1&&(o={...o,rowspan:1}),o.colspan>1&&(o={...o,colspan:1});const f=iA(e),h=e.tr;for(let d=0;d<f.right-f.left;d++)l.push(c?{...o,colwidth:c&&c[d]?[c[d]]:null}:o);let m;for(let d=f.top;d<f.bottom;d++){let g=f.map.positionAt(d,f.left,f.table);d==f.top&&(g+=i.nodeSize);for(let v=f.left,b=0;v<f.right;v++,b++)v==f.left&&d==f.top||h.insert(m=h.mapping.map(g+f.tableStart,1),t({node:i,row:d,col:v}).createAndFill(l[b]))}h.setNodeMarkup(s,t({node:i,row:f.top,col:f.left}),l[0]),n instanceof hn&&h.setSelection(new hn(h.doc.resolve(n.$anchorCell.pos),m?h.doc.resolve(m):void 0)),r(h)}return!0}}function lee(t,e){return function(r,n){if(!ml(r))return!1;const i=bv(r);if(i.nodeAfter.attrs[t]===e)return!1;if(n){const s=r.tr;r.selection instanceof hn?r.selection.forEachCell((a,o)=>{a.attrs[t]!==e&&s.setNodeMarkup(o,null,{...a.attrs,[t]:e})}):s.setNodeMarkup(i.pos,null,{...i.nodeAfter.attrs,[t]:e}),n(s)}return!0}}function Aee(t){return function(e,r){if(!ml(e))return!1;if(r){const n=Ms(e.schema),i=iA(e),s=e.tr,a=i.map.cellsInRect(t=="column"?{left:i.left,top:0,right:i.right,bottom:i.map.height}:t=="row"?{left:0,top:i.top,right:i.map.width,bottom:i.bottom}:i),o=a.map(l=>i.table.nodeAt(l));for(let l=0;l<a.length;l++)o[l].type==n.header_cell&&s.setNodeMarkup(i.tableStart+a[l],n.cell,o[l].attrs);if(s.steps.length===0)for(let l=0;l<a.length;l++)s.setNodeMarkup(i.tableStart+a[l],n.header_cell,o[l].attrs);r(s)}return!0}}function DN(t,e,r){const n=e.map.cellsInRect({left:0,top:0,right:t=="row"?e.map.width:1,bottom:t=="column"?e.map.height:1});for(let i=0;i<n.length;i++){const s=e.table.nodeAt(n[i]);if(s&&s.type!==r.header_cell)return!1}return!0}function kg(t,e){return e=e||{useDeprecatedLogic:!1},e.useDeprecatedLogic?Aee(t):function(r,n){if(!ml(r))return!1;if(n){const i=Ms(r.schema),s=iA(r),a=r.tr,o=DN("row",s,i),l=DN("column",s,i),c=(t==="column"?o:t==="row"&&l)?1:0,f=t=="column"?{left:0,top:c,right:1,bottom:s.map.height}:t=="row"?{left:c,top:0,right:s.map.width,bottom:1}:s,h=t=="column"?l?i.cell:i.header_cell:t=="row"?o?i.cell:i.header_cell:i.cell;s.map.cellsInRect(f).forEach(m=>{const d=m+s.tableStart,g=a.doc.nodeAt(d);g&&a.setNodeMarkup(d,h,g.attrs)}),n(a)}return!0}}kg("row",{useDeprecatedLogic:!0});kg("column",{useDeprecatedLogic:!0});const cee=kg("cell",{useDeprecatedLogic:!0});function uee(t,e){if(e<0){const r=t.nodeBefore;if(r)return t.pos-r.nodeSize;for(let n=t.index(-1)-1,i=t.before();n>=0;n--){const s=t.node(-1).child(n),a=s.lastChild;if(a)return i-1-a.nodeSize;i-=s.nodeSize}}else{if(t.index()<t.parent.childCount-1)return t.pos+t.nodeAfter.nodeSize;const r=t.node(-1);for(let n=t.indexAfter(-1),i=t.after();n<r.childCount;n++){const s=r.child(n);if(s.childCount)return i+1;i+=s.nodeSize}}return null}function IN(t){return function(e,r){if(!ml(e))return!1;const n=uee(bv(e),t);if(n==null)return!1;if(r){const i=e.doc.resolve(n);r(e.tr.setSelection(qt.between(i,PZ(i))).scrollIntoView())}return!0}}function fee(t,e){const r=t.selection.$anchor;for(let n=r.depth;n>0;n--)if(r.node(n).type.spec.tableRole=="table")return e&&e(t.tr.delete(r.before(n),r.after(n)).scrollIntoView()),!0;return!1}function dy(t,e){const r=t.selection;if(!(r instanceof hn))return!1;if(e){const n=t.tr,i=Ms(t.schema).cell.createAndFill().content;r.forEachCell((s,a)=>{s.content.eq(i)||n.replace(n.mapping.map(a+1),n.mapping.map(a+s.nodeSize-1),new pt(i,0,0))}),n.docChanged&&e(n)}return!0}function hee(t){if(t.size===0)return null;let{content:e,openStart:r,openEnd:n}=t;for(;e.childCount==1&&(r>0&&n>0||e.child(0).type.spec.tableRole=="table");)r--,n--,e=e.child(0).content;const i=e.child(0),s=i.type.spec.tableRole,a=i.type.schema,o=[];if(s=="row")for(let l=0;l<e.childCount;l++){let c=e.child(l).content;const f=l?0:Math.max(0,r-1),h=l<e.childCount-1?0:Math.max(0,n-1);(f||h)&&(c=KC(Ms(a).row,new pt(c,f,h)).content),o.push(c)}else if(s=="cell"||s=="header_cell")o.push(r||n?KC(Ms(a).row,new pt(e,r,n)).content:e);else return null;return dee(a,o)}function dee(t,e){const r=[];for(let i=0;i<e.length;i++){const s=e[i];for(let a=s.childCount-1;a>=0;a--){const{rowspan:o,colspan:l}=s.child(a).attrs;for(let c=i;c<i+o;c++)r[c]=(r[c]||0)+l}}let n=0;for(let i=0;i<r.length;i++)n=Math.max(n,r[i]);for(let i=0;i<r.length;i++)if(i>=e.length&&e.push(it.empty),r[i]<n){const s=Ms(t).cell.createAndFill(),a=[];for(let o=r[i];o<n;o++)a.push(s);e[i]=e[i].append(it.from(a))}return{height:e.length,width:n,rows:e}}function KC(t,e){const r=t.createAndFill();return new uE(r).replace(0,r.content.size,e).doc}function pee({width:t,height:e,rows:r},n,i){if(t!=n){const s=[],a=[];for(let o=0;o<r.length;o++){const l=r[o],c=[];for(let f=s[o]||0,h=0;f<n;h++){let m=l.child(h%l.childCount);f+m.attrs.colspan>n&&(m=m.type.createChecked(Xf(m.attrs,m.attrs.colspan,f+m.attrs.colspan-n),m.content)),c.push(m),f+=m.attrs.colspan;for(let d=1;d<m.attrs.rowspan;d++)s[o+d]=(s[o+d]||0)+m.attrs.colspan}a.push(it.from(c))}r=a,t=n}if(e!=i){const s=[];for(let a=0,o=0;a<i;a++,o++){const l=[],c=r[o%e];for(let f=0;f<c.childCount;f++){let h=c.child(f);a+h.attrs.rowspan>i&&(h=h.type.create({...h.attrs,rowspan:Math.max(1,i-h.attrs.rowspan)},h.content)),l.push(h)}s.push(it.from(l))}r=s,e=i}return{width:t,height:e,rows:r}}function mee(t,e,r,n,i,s,a){const o=t.doc.type.schema,l=Ms(o);let c,f;if(i>e.width)for(let h=0,m=0;h<e.height;h++){const d=r.child(h);m+=d.nodeSize;const g=[];let v;d.lastChild==null||d.lastChild.type==l.cell?v=c||(c=l.cell.createAndFill()):v=f||(f=l.header_cell.createAndFill());for(let b=e.width;b<i;b++)g.push(v);t.insert(t.mapping.slice(a).map(m-1+n),g)}if(s>e.height){const h=[];for(let g=0,v=(e.height-1)*e.width;g<Math.max(e.width,i);g++){const b=g>=e.width?!1:r.nodeAt(e.map[v+g]).type==l.header_cell;h.push(b?f||(f=l.header_cell.createAndFill()):c||(c=l.cell.createAndFill()))}const m=l.row.create(null,it.from(h)),d=[];for(let g=e.height;g<s;g++)d.push(m);t.insert(t.mapping.slice(a).map(n+r.nodeSize-2),d)}return!!(c||f)}function RN(t,e,r,n,i,s,a,o){if(a==0||a==e.height)return!1;let l=!1;for(let c=i;c<s;c++){const f=a*e.width+c,h=e.map[f];if(e.map[f-e.width]==h){l=!0;const m=r.nodeAt(h),{top:d,left:g}=e.findCell(h);t.setNodeMarkup(t.mapping.slice(o).map(h+n),null,{...m.attrs,rowspan:a-d}),t.insert(t.mapping.slice(o).map(e.positionAt(a,g,r)),m.type.createAndFill({...m.attrs,rowspan:d+m.attrs.rowspan-a})),c+=m.attrs.colspan-1}}return l}function MN(t,e,r,n,i,s,a,o){if(a==0||a==e.width)return!1;let l=!1;for(let c=i;c<s;c++){const f=c*e.width+a,h=e.map[f];if(e.map[f-1]==h){l=!0;const m=r.nodeAt(h),d=e.colCount(h),g=t.mapping.slice(o).map(h+n);t.setNodeMarkup(g,null,Xf(m.attrs,a-d,m.attrs.colspan-(a-d))),t.insert(g+m.nodeSize,m.type.createAndFill(Xf(m.attrs,0,a-d))),c+=m.attrs.rowspan-1}}return l}function QN(t,e,r,n,i){let s=r?t.doc.nodeAt(r-1):t.doc;if(!s)throw new Error("No table found");let a=oi.get(s);const{top:o,left:l}=n,c=l+i.width,f=o+i.height,h=t.tr;let m=0;function d(){if(s=r?h.doc.nodeAt(r-1):h.doc,!s)throw new Error("No table found");a=oi.get(s),m=h.mapping.maps.length}mee(h,a,s,r,c,f,m)&&d(),RN(h,a,s,r,l,c,o,m)&&d(),RN(h,a,s,r,l,c,f,m)&&d(),MN(h,a,s,r,o,f,l,m)&&d(),MN(h,a,s,r,o,f,c,m)&&d();for(let g=o;g<f;g++){const v=a.positionAt(g,l,s),b=a.positionAt(g,c,s);h.replace(h.mapping.slice(m).map(v+r),h.mapping.slice(m).map(b+r),new pt(i.rows[g-o],0,0))}d(),h.setSelection(new hn(h.doc.resolve(r+a.positionAt(o,l,s)),h.doc.resolve(r+a.positionAt(f-1,c-1,s)))),e(h)}const gee=_E({ArrowLeft:py("horiz",-1),ArrowRight:py("horiz",1),ArrowUp:py("vert",-1),ArrowDown:py("vert",1),"Shift-ArrowLeft":my("horiz",-1),"Shift-ArrowRight":my("horiz",1),"Shift-ArrowUp":my("vert",-1),"Shift-ArrowDown":my("vert",1),Backspace:dy,"Mod-Backspace":dy,Delete:dy,"Mod-Delete":dy});function p1(t,e,r){return r.eq(t.selection)?!1:(e&&e(t.tr.setSelection(r).scrollIntoView()),!0)}function py(t,e){return(r,n,i)=>{if(!i)return!1;const s=r.selection;if(s instanceof hn)return p1(r,n,tr.near(s.$headCell,e));if(t!="horiz"&&!s.empty)return!1;const a=_M(i,t,e);if(a==null)return!1;if(t=="horiz")return p1(r,n,tr.near(r.doc.resolve(s.head+e),e));{const o=r.doc.resolve(a),l=vM(o,t,e);let c;return l?c=tr.near(l,1):e<0?c=tr.near(r.doc.resolve(o.before(-1)),-1):c=tr.near(r.doc.resolve(o.after(-1)),1),p1(r,n,c)}}}function my(t,e){return(r,n,i)=>{if(!i)return!1;const s=r.selection;let a;if(s instanceof hn)a=s;else{const l=_M(i,t,e);if(l==null)return!1;a=new hn(r.doc.resolve(l))}const o=vM(a.$headCell,t,e);return o?p1(r,n,new hn(a.$anchorCell,o)):!1}}function yee(t,e){const r=t.state.doc,n=Jf(r.resolve(e));return n?(t.dispatch(t.state.tr.setSelection(new hn(n))),!0):!1}function wee(t,e,r){if(!ml(t.state))return!1;let n=hee(r);const i=t.state.selection;if(i instanceof hn){n||(n={width:1,height:1,rows:[it.from(KC(Ms(t.state.schema).cell,r))]});const s=i.$anchorCell.node(-1),a=i.$anchorCell.start(-1),o=oi.get(s).rectBetween(i.$anchorCell.pos-a,i.$headCell.pos-a);return n=pee(n,o.right-o.left,o.bottom-o.top),QN(t.state,t.dispatch,a,o,n),!0}else if(n){const s=bv(t.state),a=s.start(-1);return QN(t.state,t.dispatch,a,oi.get(s.node(-1)).findCell(s.pos-a),n),!0}else return!1}function vee(t,e){var r;if(e.button!=0||e.ctrlKey||e.metaKey)return;const n=HN(t,e.target);let i;if(e.shiftKey&&t.state.selection instanceof hn)s(t.state.selection.$anchorCell,e),e.preventDefault();else if(e.shiftKey&&n&&(i=Jf(t.state.selection.$anchor))!=null&&((r=$2(t,e))===null||r===void 0?void 0:r.pos)!=i.pos)s(i,e),e.preventDefault();else if(!n)return;function s(l,c){let f=$2(t,c);const h=ou.getState(t.state)==null;if(!f||!VE(l,f))if(h)f=l;else return;const m=new hn(l,f);if(h||!t.state.selection.eq(m)){const d=t.state.tr.setSelection(m);h&&d.setMeta(ou,l.pos),t.dispatch(d)}}function a(){t.root.removeEventListener("mouseup",a),t.root.removeEventListener("dragstart",a),t.root.removeEventListener("mousemove",o),ou.getState(t.state)!=null&&t.dispatch(t.state.tr.setMeta(ou,-1))}function o(l){const c=l,f=ou.getState(t.state);let h;if(f!=null)h=t.state.doc.resolve(f);else if(HN(t,c.target)!=n&&(h=$2(t,e),!h))return a();h&&s(h,c)}t.root.addEventListener("mouseup",a),t.root.addEventListener("dragstart",a),t.root.addEventListener("mousemove",o)}function _M(t,e,r){if(!(t.state.selection instanceof qt))return null;const{$head:n}=t.state.selection;for(let i=n.depth-1;i>=0;i--){const s=n.node(i);if((r<0?n.index(i):n.indexAfter(i))!=(r<0?0:s.childCount))return null;if(s.type.spec.tableRole=="cell"||s.type.spec.tableRole=="header_cell"){const a=n.before(i),o=e=="vert"?r>0?"down":"up":r>0?"right":"left";return t.endOfTextblock(o)?a:null}}return null}function HN(t,e){for(;e&&e!=t.dom;e=e.parentNode)if(e.nodeName=="TD"||e.nodeName=="TH")return e;return null}function $2(t,e){const r=t.posAtCoords({left:e.clientX,top:e.clientY});if(!r)return null;let{inside:n,pos:i}=r;return n>=0&&Jf(t.state.doc.resolve(n))||Jf(t.state.doc.resolve(i))}var bee=class{constructor(e,r){this.node=e,this.defaultCellMinWidth=r,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.table.style.setProperty("--default-cell-min-width",`${r}px`),this.colgroup=this.table.appendChild(document.createElement("colgroup")),VC(e,this.colgroup,this.table,r),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(e){return e.type!=this.node.type?!1:(this.node=e,VC(e,this.colgroup,this.table,this.defaultCellMinWidth),!0)}ignoreMutation(e){return e.type=="attributes"&&(e.target==this.table||this.colgroup.contains(e.target))}};function VC(t,e,r,n,i,s){let a=0,o=!0,l=e.firstChild;const c=t.firstChild;if(c){for(let h=0,m=0;h<c.childCount;h++){const{colspan:d,colwidth:g}=c.child(h).attrs;for(let v=0;v<d;v++,m++){const b=i==m?s:g&&g[v],w=b?b+"px":"";if(a+=b||n,b||(o=!1),l)l.style.width!=w&&(l.style.width=w),l=l.nextSibling;else{const B=document.createElement("col");B.style.width=w,e.appendChild(B)}}}for(;l;){var f;const h=l.nextSibling;(f=l.parentNode)===null||f===void 0||f.removeChild(l),l=h}o?(r.style.width=a+"px",r.style.minWidth=""):(r.style.width="",r.style.minWidth=a+"px")}}const Ka=new Mn("tableColumnResizing");function xee({handleWidth:t=5,cellMinWidth:e=25,defaultCellMinWidth:r=100,View:n=bee,lastColumnResizable:i=!0}={}){const s=new pn({key:Ka,state:{init(a,o){var l;const c=(l=s.spec)===null||l===void 0||(l=l.props)===null||l===void 0?void 0:l.nodeViews,f=Ms(o.schema).table.name;return n&&c&&(c[f]=(h,m)=>new n(h,r,m)),new Bee(-1,!1)},apply(a,o){return o.apply(a)}},props:{attributes:a=>{const o=Ka.getState(a);return o&&o.activeHandle>-1?{class:"resize-cursor"}:{}},handleDOMEvents:{mousemove:(a,o)=>{Cee(a,o,t,i)},mouseleave:a=>{See(a)},mousedown:(a,o)=>{Eee(a,o,e,r)}},decorations:a=>{const o=Ka.getState(a);if(o&&o.activeHandle>-1)return Fee(a,o.activeHandle)},nodeViews:{}}});return s}var Bee=class m1{constructor(e,r){this.activeHandle=e,this.dragging=r}apply(e){const r=this,n=e.getMeta(Ka);if(n&&n.setHandle!=null)return new m1(n.setHandle,!1);if(n&&n.setDragging!==void 0)return new m1(r.activeHandle,n.setDragging);if(r.activeHandle>-1&&e.docChanged){let i=e.mapping.map(r.activeHandle,-1);return zC(e.doc.resolve(i))||(i=-1),new m1(i,r.dragging)}return r}};function Cee(t,e,r,n){if(!t.editable)return;const i=Ka.getState(t.state);if(i&&!i.dragging){const s=kee(e.target);let a=-1;if(s){const{left:o,right:l}=s.getBoundingClientRect();e.clientX-o<=r?a=jN(t,e,"left",r):l-e.clientX<=r&&(a=jN(t,e,"right",r))}if(a!=i.activeHandle){if(!n&&a!==-1){const o=t.state.doc.resolve(a),l=o.node(-1),c=oi.get(l),f=o.start(-1);if(c.colCount(o.pos-f)+o.nodeAfter.attrs.colspan-1==c.width-1)return}kM(t,a)}}}function See(t){if(!t.editable)return;const e=Ka.getState(t.state);e&&e.activeHandle>-1&&!e.dragging&&kM(t,-1)}function Eee(t,e,r,n){var i;if(!t.editable)return!1;const s=(i=t.dom.ownerDocument.defaultView)!==null&&i!==void 0?i:window,a=Ka.getState(t.state);if(!a||a.activeHandle==-1||a.dragging)return!1;const o=t.state.doc.nodeAt(a.activeHandle),l=_ee(t,a.activeHandle,o.attrs);t.dispatch(t.state.tr.setMeta(Ka,{setDragging:{startX:e.clientX,startWidth:l}}));function c(h){s.removeEventListener("mouseup",c),s.removeEventListener("mousemove",f);const m=Ka.getState(t.state);m?.dragging&&(Tee(t,m.activeHandle,PN(m.dragging,h,r)),t.dispatch(t.state.tr.setMeta(Ka,{setDragging:null})))}function f(h){if(!h.which)return c(h);const m=Ka.getState(t.state);if(m&&m.dragging){const d=PN(m.dragging,h,r);zN(t,m.activeHandle,d,n)}}return zN(t,a.activeHandle,l,n),s.addEventListener("mouseup",c),s.addEventListener("mousemove",f),e.preventDefault(),!0}function _ee(t,e,{colspan:r,colwidth:n}){const i=n&&n[n.length-1];if(i)return i;const s=t.domAtPos(e);let a=s.node.childNodes[s.offset].offsetWidth,o=r;if(n)for(let l=0;l<r;l++)n[l]&&(a-=n[l],o--);return a/o}function kee(t){for(;t&&t.nodeName!="TD"&&t.nodeName!="TH";)t=t.classList&&t.classList.contains("ProseMirror")?null:t.parentNode;return t}function jN(t,e,r,n){const i=r=="right"?-n:n,s=t.posAtCoords({left:e.clientX+i,top:e.clientY});if(!s)return-1;const{pos:a}=s,o=Jf(t.state.doc.resolve(a));if(!o)return-1;if(r=="right")return o.pos;const l=oi.get(o.node(-1)),c=o.start(-1),f=l.map.indexOf(o.pos-c);return f%l.width==0?-1:c+l.map[f-1]}function PN(t,e,r){const n=e.clientX-t.startX;return Math.max(r,t.startWidth+n)}function kM(t,e){t.dispatch(t.state.tr.setMeta(Ka,{setHandle:e}))}function Tee(t,e,r){const n=t.state.doc.resolve(e),i=n.node(-1),s=oi.get(i),a=n.start(-1),o=s.colCount(n.pos-a)+n.nodeAfter.attrs.colspan-1,l=t.state.tr;for(let c=0;c<s.height;c++){const f=c*s.width+o;if(c&&s.map[f]==s.map[f-s.width])continue;const h=s.map[f],m=i.nodeAt(h).attrs,d=m.colspan==1?0:o-s.colCount(h);if(m.colwidth&&m.colwidth[d]==r)continue;const g=m.colwidth?m.colwidth.slice():Nee(m.colspan);g[d]=r,l.setNodeMarkup(a+h,null,{...m,colwidth:g})}l.docChanged&&t.dispatch(l)}function zN(t,e,r,n){const i=t.state.doc.resolve(e),s=i.node(-1),a=i.start(-1),o=oi.get(s).colCount(i.pos-a)+i.nodeAfter.attrs.colspan-1;let l=t.domAtPos(i.start(-1)).node;for(;l&&l.nodeName!="TABLE";)l=l.parentNode;l&&VC(s,l.firstChild,l,n,o,r)}function Nee(t){return Array(t).fill(0)}function Fee(t,e){const r=[],n=t.doc.resolve(e),i=n.node(-1);if(!i)return yn.empty;const s=oi.get(i),a=n.start(-1),o=s.colCount(n.pos-a)+n.nodeAfter.attrs.colspan-1;for(let c=0;c<s.height;c++){const f=o+c*s.width;if((o==s.width-1||s.map[f]!=s.map[f+1])&&(c==0||s.map[f]!=s.map[f-s.width])){var l;const h=s.map[f],m=a+h+i.nodeAt(h).nodeSize-1,d=document.createElement("div");d.className="column-resize-handle",!((l=Ka.getState(t))===null||l===void 0)&&l.dragging&&r.push(rs.node(a+h,a+h+i.nodeAt(h).nodeSize,{class:"column-resize-dragging"})),r.push(rs.widget(m,d))}}return yn.create(t.doc,r)}function Uee({allowTableNodeSelection:t=!1}={}){return new pn({key:ou,state:{init(){return null},apply(e,r){const n=e.getMeta(ou);if(n!=null)return n==-1?null:n;if(r==null||!e.docChanged)return r;const{deleted:i,pos:s}=e.mapping.mapResult(r);return i?null:s}},props:{decorations:VZ,handleDOMEvents:{mousedown:vee},createSelectionBetween(e){return ou.getState(e.state)!=null?e.state.selection:null},handleTripleClick:yee,handleKeyDown:gee,handlePaste:wee},appendTransaction(e,r,n){return WZ(n,CM(n,r),t)}})}function Oee(t,e){const r=Math.min(t.top,e.top),n=Math.max(t.bottom,e.bottom),i=Math.min(t.left,e.left),a=Math.max(t.right,e.right)-i,o=n-r,l=i,c=r;return new DOMRect(l,c,a,o)}var Lee=class{constructor({editor:t,element:e,view:r,updateDelay:n=250,resizeDelay:i=60,shouldShow:s,appendTo:a,getReferencedVirtualElement:o,options:l}){this.preventHide=!1,this.isVisible=!1,this.scrollTarget=window,this.floatingUIOptions={strategy:"absolute",placement:"top",offset:8,flip:{},shift:{},arrow:!1,size:!1,autoPlacement:!1,hide:!1,inline:!1,onShow:void 0,onHide:void 0,onUpdate:void 0,onDestroy:void 0},this.shouldShow=({view:f,state:h,from:m,to:d})=>{const{doc:g,selection:v}=h,{empty:b}=v,w=!g.textBetween(m,d).length&&FE(h.selection),B=this.element.contains(document.activeElement);return!(!(f.hasFocus()||B)||b||w||!this.editor.isEditable)},this.mousedownHandler=()=>{this.preventHide=!0},this.dragstartHandler=()=>{this.hide()},this.resizeHandler=()=>{this.resizeDebounceTimer&&clearTimeout(this.resizeDebounceTimer),this.resizeDebounceTimer=window.setTimeout(()=>{this.updatePosition()},this.resizeDelay)},this.focusHandler=()=>{setTimeout(()=>this.update(this.editor.view))},this.blurHandler=({event:f})=>{var h;if(this.editor.isDestroyed){this.destroy();return}if(this.preventHide){this.preventHide=!1;return}f?.relatedTarget&&((h=this.element.parentNode)!=null&&h.contains(f.relatedTarget))||f?.relatedTarget!==this.editor.view.dom&&this.hide()},this.handleDebouncedUpdate=(f,h)=>{const m=!h?.selection.eq(f.state.selection),d=!h?.doc.eq(f.state.doc);!m&&!d||(this.updateDebounceTimer&&clearTimeout(this.updateDebounceTimer),this.updateDebounceTimer=window.setTimeout(()=>{this.updateHandler(f,m,d,h)},this.updateDelay))},this.updateHandler=(f,h,m,d)=>{const{composing:g}=f;if(g||!h&&!m)return;if(!this.getShouldShow(d)){this.hide();return}this.updatePosition(),this.show()},this.transactionHandler=({transaction:f})=>{const h=f.getMeta("bubbleMenu");h==="updatePosition"?this.updatePosition():h&&typeof h=="object"&&h.type==="updateOptions"&&this.updateOptions(h.options)};var c;this.editor=t,this.element=e,this.view=r,this.updateDelay=n,this.resizeDelay=i,this.appendTo=a,this.scrollTarget=(c=l?.scrollTarget)!=null?c:window,this.getReferencedVirtualElement=o,this.floatingUIOptions={...this.floatingUIOptions,...l},this.element.tabIndex=0,s&&(this.shouldShow=s),this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.addEventListener("dragstart",this.dragstartHandler),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),this.editor.on("transaction",this.transactionHandler),window.addEventListener("resize",this.resizeHandler),this.scrollTarget.addEventListener("scroll",this.resizeHandler),this.update(r,r.state),this.getShouldShow()&&(this.show(),this.updatePosition())}get middlewares(){const t=[];return this.floatingUIOptions.flip&&t.push(dM(typeof this.floatingUIOptions.flip!="boolean"?this.floatingUIOptions.flip:void 0)),this.floatingUIOptions.shift&&t.push(hM(typeof this.floatingUIOptions.shift!="boolean"?this.floatingUIOptions.shift:void 0)),this.floatingUIOptions.offset&&t.push(uM(typeof this.floatingUIOptions.offset!="boolean"?this.floatingUIOptions.offset:void 0)),this.floatingUIOptions.arrow&&t.push(gM(this.floatingUIOptions.arrow)),this.floatingUIOptions.size&&t.push(pM(typeof this.floatingUIOptions.size!="boolean"?this.floatingUIOptions.size:void 0)),this.floatingUIOptions.autoPlacement&&t.push(fM(typeof this.floatingUIOptions.autoPlacement!="boolean"?this.floatingUIOptions.autoPlacement:void 0)),this.floatingUIOptions.hide&&t.push(mM(typeof this.floatingUIOptions.hide!="boolean"?this.floatingUIOptions.hide:void 0)),this.floatingUIOptions.inline&&t.push(yM(typeof this.floatingUIOptions.inline!="boolean"?this.floatingUIOptions.inline:void 0)),t}get virtualElement(){var t,e,r;const{selection:n}=this.editor.state,i=(t=this.getReferencedVirtualElement)==null?void 0:t.call(this);if(i)return i;if(!((r=(e=this.view)==null?void 0:e.dom)!=null&&r.parentNode))return;const s=LR(this.view,n.from,n.to);let a={getBoundingClientRect:()=>s,getClientRects:()=>[s]};if(n instanceof jt){let o=this.view.nodeDOM(n.from);const l=o.dataset.nodeViewWrapper?o:o.querySelector("[data-node-view-wrapper]");l&&(o=l),o&&(a={getBoundingClientRect:()=>o.getBoundingClientRect(),getClientRects:()=>[o.getBoundingClientRect()]})}if(n instanceof hn){const{$anchorCell:o,$headCell:l}=n,c=o?o.pos:l.pos,f=l?l.pos:o.pos,h=this.view.nodeDOM(c),m=this.view.nodeDOM(f);if(!h||!m)return;const d=h===m?h.getBoundingClientRect():Oee(h.getBoundingClientRect(),m.getBoundingClientRect());a={getBoundingClientRect:()=>d,getClientRects:()=>[d]}}return a}updatePosition(){const t=this.virtualElement;t&&wM(t,this.element,{placement:this.floatingUIOptions.placement,strategy:this.floatingUIOptions.strategy,middleware:this.middlewares}).then(({x:e,y:r,strategy:n,middlewareData:i})=>{var s,a;if((s=i.hide)!=null&&s.referenceHidden||(a=i.hide)!=null&&a.escaped){this.element.style.visibility="hidden";return}this.element.style.visibility="visible",this.element.style.width="max-content",this.element.style.position=n,this.element.style.left=`${e}px`,this.element.style.top=`${r}px`,this.isVisible&&this.floatingUIOptions.onUpdate&&this.floatingUIOptions.onUpdate()})}update(t,e){const{state:r}=t,n=r.selection.from!==r.selection.to;if(this.updateDelay>0&&n){this.handleDebouncedUpdate(t,e);return}const i=!e?.selection.eq(t.state.selection),s=!e?.doc.eq(t.state.doc);this.updateHandler(t,i,s,e)}getShouldShow(t){var e;const{state:r}=this.view,{selection:n}=r,{ranges:i}=n,s=Math.min(...i.map(l=>l.$from.pos)),a=Math.max(...i.map(l=>l.$to.pos));return((e=this.shouldShow)==null?void 0:e.call(this,{editor:this.editor,element:this.element,view:this.view,state:r,oldState:t,from:s,to:a}))||!1}show(){var t;if(this.isVisible)return;this.element.style.visibility="visible",this.element.style.opacity="1";const e=typeof this.appendTo=="function"?this.appendTo():this.appendTo;(t=e??this.view.dom.parentElement)==null||t.appendChild(this.element),this.floatingUIOptions.onShow&&this.floatingUIOptions.onShow(),this.isVisible=!0}hide(){this.isVisible&&(this.element.style.visibility="hidden",this.element.style.opacity="0",this.element.remove(),this.floatingUIOptions.onHide&&this.floatingUIOptions.onHide(),this.isVisible=!1)}updateOptions(t){var e;if(t.updateDelay!==void 0&&(this.updateDelay=t.updateDelay),t.resizeDelay!==void 0&&(this.resizeDelay=t.resizeDelay),t.appendTo!==void 0&&(this.appendTo=t.appendTo),t.getReferencedVirtualElement!==void 0&&(this.getReferencedVirtualElement=t.getReferencedVirtualElement),t.shouldShow!==void 0&&t.shouldShow&&(this.shouldShow=t.shouldShow),t.options!==void 0){const r=(e=t.options.scrollTarget)!=null?e:window;r!==this.scrollTarget&&(this.scrollTarget.removeEventListener("scroll",this.resizeHandler),this.scrollTarget=r,this.scrollTarget.addEventListener("scroll",this.resizeHandler)),this.floatingUIOptions={...this.floatingUIOptions,...t.options}}}destroy(){this.hide(),this.element.removeEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.removeEventListener("dragstart",this.dragstartHandler),window.removeEventListener("resize",this.resizeHandler),this.scrollTarget.removeEventListener("scroll",this.resizeHandler),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler),this.editor.off("transaction",this.transactionHandler),this.floatingUIOptions.onDestroy&&this.floatingUIOptions.onDestroy()}},TM=t=>new pn({key:typeof t.pluginKey=="string"?new Mn(t.pluginKey):t.pluginKey,view:e=>new Lee({view:e,...t})});Gr.create({name:"bubbleMenu",addOptions(){return{element:null,pluginKey:"bubbleMenu",updateDelay:void 0,appendTo:void 0,shouldShow:null}},addProseMirrorPlugins(){return this.options.element?[TM({pluginKey:this.options.pluginKey,editor:this.editor,element:this.options.element,updateDelay:this.options.updateDelay,options:this.options.options,appendTo:this.options.appendTo,getReferencedVirtualElement:this.options.getReferencedVirtualElement,shouldShow:this.options.shouldShow})]:[]}});var Dee=class{constructor({editor:t,element:e,view:r,updateDelay:n=250,resizeDelay:i=60,options:s,appendTo:a,shouldShow:o}){this.preventHide=!1,this.isVisible=!1,this.scrollTarget=window,this.shouldShow=({view:c,state:f})=>{const{selection:h}=f,{$anchor:m,empty:d}=h,g=m.depth===1,v=m.parent.isTextblock&&!m.parent.type.spec.code&&!m.parent.textContent&&m.parent.childCount===0&&!this.getTextContent(m.parent);return!(!c.hasFocus()||!d||!g||!v||!this.editor.isEditable)},this.floatingUIOptions={strategy:"absolute",placement:"right",offset:8,flip:{},shift:{},arrow:!1,size:!1,autoPlacement:!1,hide:!1,inline:!1},this.updateHandler=(c,f,h,m)=>{const{composing:d}=c;if(d||!f&&!h)return;if(!this.getShouldShow(m)){this.hide();return}this.updatePosition(),this.show()},this.mousedownHandler=()=>{this.preventHide=!0},this.focusHandler=()=>{setTimeout(()=>this.update(this.editor.view))},this.blurHandler=({event:c})=>{var f;if(this.preventHide){this.preventHide=!1;return}c?.relatedTarget&&((f=this.element.parentNode)!=null&&f.contains(c.relatedTarget))||c?.relatedTarget!==this.editor.view.dom&&this.hide()},this.transactionHandler=({transaction:c})=>{const f=c.getMeta("floatingMenu");f==="updatePosition"?this.updatePosition():f&&typeof f=="object"&&f.type==="updateOptions"&&this.updateOptions(f.options)},this.resizeHandler=()=>{this.resizeDebounceTimer&&clearTimeout(this.resizeDebounceTimer),this.resizeDebounceTimer=window.setTimeout(()=>{this.updatePosition()},this.resizeDelay)};var l;this.editor=t,this.element=e,this.view=r,this.updateDelay=n,this.resizeDelay=i,this.appendTo=a,this.scrollTarget=(l=s?.scrollTarget)!=null?l:window,this.floatingUIOptions={...this.floatingUIOptions,...s},this.element.tabIndex=0,o&&(this.shouldShow=o),this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),this.editor.on("transaction",this.transactionHandler),window.addEventListener("resize",this.resizeHandler),this.scrollTarget.addEventListener("scroll",this.resizeHandler),this.update(r,r.state),this.getShouldShow()&&(this.show(),this.updatePosition())}getTextContent(t){return kR(t,{textSerializers:LE(this.editor.schema)})}get middlewares(){const t=[];return this.floatingUIOptions.flip&&t.push(dM(typeof this.floatingUIOptions.flip!="boolean"?this.floatingUIOptions.flip:void 0)),this.floatingUIOptions.shift&&t.push(hM(typeof this.floatingUIOptions.shift!="boolean"?this.floatingUIOptions.shift:void 0)),this.floatingUIOptions.offset&&t.push(uM(typeof this.floatingUIOptions.offset!="boolean"?this.floatingUIOptions.offset:void 0)),this.floatingUIOptions.arrow&&t.push(gM(this.floatingUIOptions.arrow)),this.floatingUIOptions.size&&t.push(pM(typeof this.floatingUIOptions.size!="boolean"?this.floatingUIOptions.size:void 0)),this.floatingUIOptions.autoPlacement&&t.push(fM(typeof this.floatingUIOptions.autoPlacement!="boolean"?this.floatingUIOptions.autoPlacement:void 0)),this.floatingUIOptions.hide&&t.push(mM(typeof this.floatingUIOptions.hide!="boolean"?this.floatingUIOptions.hide:void 0)),this.floatingUIOptions.inline&&t.push(yM(typeof this.floatingUIOptions.inline!="boolean"?this.floatingUIOptions.inline:void 0)),t}getShouldShow(t){var e;const{state:r}=this.view,{selection:n}=r,{ranges:i}=n,s=Math.min(...i.map(l=>l.$from.pos)),a=Math.max(...i.map(l=>l.$to.pos));return(e=this.shouldShow)==null?void 0:e.call(this,{editor:this.editor,view:this.view,state:r,oldState:t,from:s,to:a})}updateOptions(t){var e;if(t.updateDelay!==void 0&&(this.updateDelay=t.updateDelay),t.resizeDelay!==void 0&&(this.resizeDelay=t.resizeDelay),t.appendTo!==void 0&&(this.appendTo=t.appendTo),t.shouldShow!==void 0&&t.shouldShow&&(this.shouldShow=t.shouldShow),t.options!==void 0){const r=(e=t.options.scrollTarget)!=null?e:window;r!==this.scrollTarget&&(this.scrollTarget.removeEventListener("scroll",this.resizeHandler),this.scrollTarget=r,this.scrollTarget.addEventListener("scroll",this.resizeHandler)),this.floatingUIOptions={...this.floatingUIOptions,...t.options}}}updatePosition(){const{selection:t}=this.editor.state,e=LR(this.view,t.from,t.to);wM({getBoundingClientRect:()=>e,getClientRects:()=>[e]},this.element,{placement:this.floatingUIOptions.placement,strategy:this.floatingUIOptions.strategy,middleware:this.middlewares}).then(({x:n,y:i,strategy:s,middlewareData:a})=>{var o,l;if((o=a.hide)!=null&&o.referenceHidden||(l=a.hide)!=null&&l.escaped){this.element.style.visibility="hidden";return}this.element.style.visibility="visible",this.element.style.width="max-content",this.element.style.position=s,this.element.style.left=`${n}px`,this.element.style.top=`${i}px`,this.isVisible&&this.floatingUIOptions.onUpdate&&this.floatingUIOptions.onUpdate()})}update(t,e){const r=!e?.selection.eq(t.state.selection),n=!e?.doc.eq(t.state.doc);this.updateHandler(t,r,n,e)}show(){var t;if(this.isVisible)return;this.element.style.visibility="visible",this.element.style.opacity="1";const e=typeof this.appendTo=="function"?this.appendTo():this.appendTo;(t=e??this.view.dom.parentElement)==null||t.appendChild(this.element),this.floatingUIOptions.onShow&&this.floatingUIOptions.onShow(),this.isVisible=!0}hide(){this.isVisible&&(this.element.style.visibility="hidden",this.element.style.opacity="0",this.element.remove(),this.floatingUIOptions.onHide&&this.floatingUIOptions.onHide(),this.isVisible=!1)}destroy(){this.hide(),this.element.removeEventListener("mousedown",this.mousedownHandler,{capture:!0}),window.removeEventListener("resize",this.resizeHandler),this.scrollTarget.removeEventListener("scroll",this.resizeHandler),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler),this.editor.off("transaction",this.transactionHandler),this.floatingUIOptions.onDestroy&&this.floatingUIOptions.onDestroy()}},NM=t=>new pn({key:typeof t.pluginKey=="string"?new Mn(t.pluginKey):t.pluginKey,view:e=>new Dee({view:e,...t})});Gr.create({name:"floatingMenu",addOptions(){return{element:null,options:{},pluginKey:"floatingMenu",updateDelay:void 0,resizeDelay:void 0,appendTo:void 0,shouldShow:null}},addCommands(){return{updateFloatingMenuPosition:()=>({tr:t,dispatch:e})=>(e&&t.setMeta("floatingMenu","updatePosition"),!0)}},addProseMirrorPlugins(){return this.options.element?[NM({pluginKey:this.options.pluginKey,editor:this.editor,element:this.options.element,updateDelay:this.options.updateDelay,resizeDelay:this.options.resizeDelay,options:this.options.options,appendTo:this.options.appendTo,shouldShow:this.options.shouldShow})]:[]}});var Iee=(...t)=>e=>{t.forEach(r=>{typeof r=="function"?r(e):r&&(r.current=e)})},Ree=({contentComponent:t})=>{const e=PD.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getServerSnapshot);return _.jsx(_.Fragment,{children:Object.values(e)})};function Mee(){const t=new Set;let e={};return{subscribe(r){return t.add(r),()=>{t.delete(r)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(r,n){e={...e,[r]:Yq.createPortal(n.reactElement,n.element,r)},t.forEach(i=>i())},removeRenderer(r){const n={...e};delete n[r],e=n,t.forEach(i=>i())}}}var Qee=class extends Wa.Component{constructor(t){var e;super(t),this.editorContentRef=Wa.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!((e=t.editor)!=null&&e.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){var t;const e=this.props.editor;if(e&&!e.isDestroyed&&((t=e.view.dom)!=null&&t.parentNode)){if(e.contentComponent)return;const r=this.editorContentRef.current;r.append(...e.view.dom.parentNode.childNodes),e.setOptions({element:r}),e.contentComponent=Mee(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=e.contentComponent.subscribe(()=>{this.setState(n=>n.hasContentComponentInitialized?n:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){var t;const e=this.props.editor;if(e){this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null;try{if(!((t=e.view.dom)!=null&&t.parentNode))return;const r=document.createElement("div");r.append(...e.view.dom.parentNode.childNodes),e.setOptions({element:r})}catch{}}}render(){const{editor:t,innerRef:e,...r}=this.props;return _.jsxs(_.Fragment,{children:[_.jsx("div",{ref:Iee(e,this.editorContentRef),...r}),t?.contentComponent&&_.jsx(Ree,{contentComponent:t.contentComponent})]})}},Hee=ke.forwardRef((t,e)=>{const r=Wa.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[t.editor]);return Wa.createElement(Qee,{key:r,innerRef:e,...t})}),FM=Wa.memo(Hee),jee=typeof window<"u"?ke.useLayoutEffect:ke.useEffect,Pee=class{constructor(t){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=t,this.lastSnapshot={editor:t,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(t){return this.subscribers.add(t),()=>{this.subscribers.delete(t)}}watch(t){if(this.editor=t,this.editor){const e=()=>{this.transactionNumber+=1,this.subscribers.forEach(n=>n())},r=this.editor;return r.on("transaction",e),()=>{r.off("transaction",e)}}}};function UM(t){var e;const[r]=ke.useState(()=>new Pee(t.editor)),n=PX.useSyncExternalStoreWithSelector(r.subscribe,r.getSnapshot,r.getServerSnapshot,t.selector,(e=t.equalityFn)!=null?e:QX);return jee(()=>r.watch(t.editor),[t.editor,r]),ke.useDebugValue(n),n}var zee=!1,qC=typeof window>"u",Kee=qC||!!(typeof window<"u"&&window.next),Vee=class OM{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(r=>r())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?qC||Kee?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const e={...this.options.current,onBeforeCreate:(...n)=>{var i,s;return(s=(i=this.options.current).onBeforeCreate)==null?void 0:s.call(i,...n)},onBlur:(...n)=>{var i,s;return(s=(i=this.options.current).onBlur)==null?void 0:s.call(i,...n)},onCreate:(...n)=>{var i,s;return(s=(i=this.options.current).onCreate)==null?void 0:s.call(i,...n)},onDestroy:(...n)=>{var i,s;return(s=(i=this.options.current).onDestroy)==null?void 0:s.call(i,...n)},onFocus:(...n)=>{var i,s;return(s=(i=this.options.current).onFocus)==null?void 0:s.call(i,...n)},onSelectionUpdate:(...n)=>{var i,s;return(s=(i=this.options.current).onSelectionUpdate)==null?void 0:s.call(i,...n)},onTransaction:(...n)=>{var i,s;return(s=(i=this.options.current).onTransaction)==null?void 0:s.call(i,...n)},onUpdate:(...n)=>{var i,s;return(s=(i=this.options.current).onUpdate)==null?void 0:s.call(i,...n)},onContentError:(...n)=>{var i,s;return(s=(i=this.options.current).onContentError)==null?void 0:s.call(i,...n)},onDrop:(...n)=>{var i,s;return(s=(i=this.options.current).onDrop)==null?void 0:s.call(i,...n)},onPaste:(...n)=>{var i,s;return(s=(i=this.options.current).onPaste)==null?void 0:s.call(i,...n)},onDelete:(...n)=>{var i,s;return(s=(i=this.options.current).onDelete)==null?void 0:s.call(i,...n)}};return new KJ(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,r){return Object.keys(e).every(n=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(n)?!0:n==="extensions"&&e.extensions&&r.extensions?e.extensions.length!==r.extensions.length?!1:e.extensions.every((i,s)=>{var a;return i===((a=r.extensions)==null?void 0:a[s])}):e[n]===r[n])}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?OM.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((n,i)=>n===e[i]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,r=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){r&&r.setOptions(this.options.current);return}r&&!r.isDestroyed&&(r.destroy(),this.instanceId===e&&this.setEditor(null))},1)}};function qee(t={},e=[]){const r=ke.useRef(t);r.current=t;const[n]=ke.useState(()=>new Vee(r)),i=PD.useSyncExternalStore(n.subscribe,n.getEditor,n.getServerSnapshot);return ke.useDebugValue(i),ke.useEffect(n.onRender(e)),UM({editor:i,selector:({transactionNumber:s})=>t.shouldRerenderOnTransaction===!1||t.shouldRerenderOnTransaction===void 0?null:t.immediatelyRender&&s===0?0:s+1}),i}var qE=ke.createContext({editor:null});qE.Consumer;var LM=()=>ke.useContext(qE),Gee=ke.createContext({onDragStart:()=>{},nodeViewContentChildren:void 0,nodeViewContentRef:()=>{}}),Wee=()=>ke.useContext(Gee);Wa.forwardRef((t,e)=>{const{onDragStart:r}=Wee(),n=t.as||"div";return _.jsx(n,{...t,ref:e,"data-node-view-wrapper":"",onDragStart:r,style:{whiteSpace:"normal",...t.style}})});Wa.createContext({markViewContentRef:()=>{}});var $ee=Wa.forwardRef(({pluginKey:t="bubbleMenu",editor:e,updateDelay:r,resizeDelay:n,appendTo:i,shouldShow:s=null,getReferencedVirtualElement:a,options:o,children:l,...c},f)=>{const h=ke.useRef(document.createElement("div"));typeof f=="function"?f(h.current):f&&(f.current=h.current);const{editor:m}=LM(),d=e||m,g={updateDelay:r,resizeDelay:n,appendTo:i,pluginKey:t,shouldShow:s,getReferencedVirtualElement:a,options:o},v=ke.useRef(g);v.current=g;const[b,w]=ke.useState(!1),B=ke.useRef(!0);return ke.useEffect(()=>{if(d?.isDestroyed)return;if(!d){console.warn("BubbleMenu component is not rendered inside of an editor component or does not have editor prop.");return}const S=h.current;S.style.visibility="hidden",S.style.position="absolute";const C=TM({...v.current,editor:d,element:S});d.registerPlugin(C);const k=v.current.pluginKey;return B.current=!0,w(!0),()=>{w(!1),d.unregisterPlugin(k),window.requestAnimationFrame(()=>{S.parentNode&&S.parentNode.removeChild(S)})}},[d]),ke.useEffect(()=>{if(!(!b||!d||d.isDestroyed)){if(B.current){B.current=!1;return}d.view.dispatch(d.state.tr.setMeta("bubbleMenu",{type:"updateOptions",options:v.current}))}},[b,d,r,n,s,o,i,a]),oE.createPortal(_.jsx("div",{...c,children:l}),h.current)}),Yee=Wa.forwardRef(({pluginKey:t="floatingMenu",editor:e,updateDelay:r,resizeDelay:n,appendTo:i,shouldShow:s=null,options:a,children:o,...l},c)=>{const f=ke.useRef(document.createElement("div"));typeof c=="function"?c(f.current):c&&(c.current=f.current);const{editor:h}=LM(),m=e||h,d={updateDelay:r,resizeDelay:n,appendTo:i,pluginKey:t,shouldShow:s,options:a},g=ke.useRef(d);g.current=d;const[v,b]=ke.useState(!1),w=ke.useRef(!0);return ke.useEffect(()=>{if(m?.isDestroyed)return;if(!m){console.warn("FloatingMenu component is not rendered inside of an editor component or does not have editor prop.");return}const B=f.current;B.style.visibility="hidden",B.style.position="absolute";const S=NM({...g.current,editor:m,element:B});m.registerPlugin(S);const C=g.current.pluginKey;return w.current=!0,b(!0),()=>{b(!1),m.unregisterPlugin(C),window.requestAnimationFrame(()=>{B.parentNode&&B.parentNode.removeChild(B)})}},[m]),ke.useEffect(()=>{if(!(!v||!m||m.isDestroyed)){if(w.current){w.current=!1;return}m.view.dispatch(m.state.tr.setMeta("floatingMenu",{type:"updateOptions",options:g.current}))}},[v,m,r,n,s,a,i]),oE.createPortal(_.jsx("div",{...l,children:o}),f.current)}),GE=ke.createContext({editor:null,isReady:!1});GE.displayName="TiptapContext";var xv=()=>ke.useContext(GE);function DM({instance:t,children:e}){var r;const[n,i]=ke.useState((r=t?.isInitialized)!=null?r:!1);ke.useEffect(()=>{if(!t){i(!1);return}if(t.isInitialized){i(!0);return}const o=()=>{i(!0)};return t.on("create",o),()=>{t.off("create",o)}},[t]);const s=ke.useMemo(()=>({editor:t,isReady:n}),[t,n]),a=ke.useMemo(()=>({editor:t}),[t]);return _.jsx(qE.Provider,{value:a,children:_.jsx(GE.Provider,{value:s,children:e})})}DM.displayName="Tiptap";function IM({...t}){const{editor:e}=xv();return _.jsx(FM,{editor:e,...t})}IM.displayName="Tiptap.Content";function RM({children:t}){const{isReady:e}=xv();return e?null:t}RM.displayName="Tiptap.Loading";function MM({children:t,...e}){const{editor:r}=xv();return r?_.jsx($ee,{editor:r,...e,children:t}):null}MM.displayName="Tiptap.BubbleMenu";function QM({children:t,...e}){const{editor:r}=xv();return r?_.jsx(Yee,{...e,editor:r,children:t}):null}QM.displayName="Tiptap.FloatingMenu";Object.assign(DM,{Content:IM,Loading:RM,BubbleMenu:MM,FloatingMenu:QM});var ew=(t,e)=>{if(t==="slot")return 0;if(t instanceof Function)return t(e);const{children:r,...n}=e??{};if(t==="svg")throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[t,n,r]},Jee=/^\s*>\s$/,Xee=ss.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return ew("blockquote",{...dn(this.options.HTMLAttributes,t),children:ew("slot",{})})},parseMarkdown:(t,e)=>e.createNode("blockquote",void 0,e.parseChildren(t.tokens||[])),renderMarkdown:(t,e)=>{if(!t.content)return"";const r=">",n=[];return t.content.forEach(i=>{const o=e.renderChildren([i]).split(`
`).map(l=>l.trim()===""?r:`${r} ${l}`);n.push(o.join(`
`))}),n.join(`
${r}
`)},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[ap({find:Jee,type:this.type})]}}),Zee=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,ete=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,tte=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,rte=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,nte=oc.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:t=>t.type.name===this.name},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return ew("strong",{...dn(this.options.HTMLAttributes,t),children:ew("slot",{})})},markdownTokenName:"strong",parseMarkdown:(t,e)=>e.applyMark("bold",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`**${e.renderChildren(t)}**`,addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[Yf({find:Zee,type:this.type}),Yf({find:tte,type:this.type})]},addPasteRules(){return[Su({find:ete,type:this.type}),Su({find:rte,type:this.type})]}}),ite=/(^|[^`])`([^`]+)`(?!`)$/,ste=/(^|[^`])`([^`]+)`(?!`)/g,ate=oc.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",dn(this.options.HTMLAttributes,t),0]},markdownTokenName:"codespan",parseMarkdown:(t,e)=>e.applyMark("code",[{type:"text",text:t.text||""}]),renderMarkdown:(t,e)=>t.content?`\`${e.renderChildren(t.content)}\``:"",addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[Yf({find:ite,type:this.type})]},addPasteRules(){return[Su({find:ste,type:this.type})]}}),Y2=4,ote=/^```([a-z]+)?[\s\n]$/,lte=/^~~~([a-z]+)?[\s\n]$/,Ate=ss.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,enableTabIndentation:!1,tabSize:Y2,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:t=>{var e;const{languageClassPrefix:r}=this.options;if(!r)return null;const s=[...((e=t.firstElementChild)==null?void 0:e.classList)||[]].filter(a=>a.startsWith(r)).map(a=>a.replace(r,""))[0];return s||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",dn(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},markdownTokenName:"code",parseMarkdown:(t,e)=>{var r;return((r=t.raw)==null?void 0:r.startsWith("```"))===!1&&t.codeBlockStyle!=="indented"?[]:e.createNode("codeBlock",{language:t.lang||null},t.text?[e.createTextNode(t.text)]:[])},renderMarkdown:(t,e)=>{var r;let n="";const i=((r=t.attrs)==null?void 0:r.language)||"";return t.content?n=[`\`\`\`${i}`,e.renderChildren(t.content),"```"].join(`
`):n=`\`\`\`${i}

\`\`\``,n},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,r=e.pos===1;return!t||e.parent.type.name!==this.name?!1:r||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Tab:({editor:t})=>{var e;if(!this.options.enableTabIndentation)return!1;const r=(e=this.options.tabSize)!=null?e:Y2,{state:n}=t,{selection:i}=n,{$from:s,empty:a}=i;if(s.parent.type!==this.type)return!1;const o=" ".repeat(r);return a?t.commands.insertContent(o):t.commands.command(({tr:l})=>{const{from:c,to:f}=i,d=n.doc.textBetween(c,f,`
`,`
`).split(`
`).map(g=>o+g).join(`
`);return l.replaceWith(c,f,n.schema.text(d)),!0})},"Shift-Tab":({editor:t})=>{var e;if(!this.options.enableTabIndentation)return!1;const r=(e=this.options.tabSize)!=null?e:Y2,{state:n}=t,{selection:i}=n,{$from:s,empty:a}=i;return s.parent.type!==this.type?!1:a?t.commands.command(({tr:o})=>{var l;const{pos:c}=s,f=s.start(),h=s.end(),d=n.doc.textBetween(f,h,`
`,`
`).split(`
`);let g=0,v=0;const b=c-f;for(let M=0;M<d.length;M+=1){if(v+d[M].length>=b){g=M;break}v+=d[M].length+1}const B=((l=d[g].match(/^ */))==null?void 0:l[0])||"",S=Math.min(B.length,r);if(S===0)return!0;let C=f;for(let M=0;M<g;M+=1)C+=d[M].length+1;return o.delete(C,C+S),c-C<=S&&o.setSelection(qt.create(o.doc,C)),!0}):t.commands.command(({tr:o})=>{const{from:l,to:c}=i,m=n.doc.textBetween(l,c,`
`,`
`).split(`
`).map(d=>{var g;const v=((g=d.match(/^ */))==null?void 0:g[0])||"",b=Math.min(v.length,r);return d.slice(b)}).join(`
`);return o.replaceWith(l,c,n.schema.text(m)),!0})},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:r}=e,{$from:n,empty:i}=r;if(!i||n.parent.type!==this.type)return!1;const s=n.parentOffset===n.parent.nodeSize-2,a=n.parent.textContent.endsWith(`

`);return!s||!a?!1:t.chain().command(({tr:o})=>(o.delete(n.pos-2,n.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:r,doc:n}=e,{$from:i,empty:s}=r;if(!s||i.parent.type!==this.type||!(i.parentOffset===i.parent.nodeSize-2))return!1;const o=i.after();return o===void 0?!1:n.nodeAt(o)?t.commands.command(({tr:c})=>(c.setSelection(tr.near(n.resolve(o))),!0)):t.commands.exitCode()}}},addInputRules(){return[RC({find:ote,type:this.type,getAttributes:t=>({language:t[1]})}),RC({find:lte,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new pn({key:new Mn("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const r=e.clipboardData.getData("text/plain"),n=e.clipboardData.getData("vscode-editor-data"),i=n?JSON.parse(n):void 0,s=i?.mode;if(!r||!s)return!1;const{tr:a,schema:o}=t.state,l=o.text(r.replace(/\r\n?/g,`
`));return a.replaceSelectionWith(this.type.create({language:s},l)),a.selection.$from.parent.type!==this.type&&a.setSelection(qt.near(a.doc.resolve(Math.max(0,a.selection.from-2)))),a.setMeta("paste",!0),t.dispatch(a),!0}}})]}}),cte=ss.create({name:"doc",topNode:!0,content:"block+",renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`

`):""}),ute=ss.create({name:"hardBreak",markdownTokenName:"br",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",dn(this.options.HTMLAttributes,t)]},renderText(){return`
`},renderMarkdown:()=>`  
`,parseMarkdown:()=>({type:"hardBreak"}),addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:r,editor:n})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:i,storedMarks:s}=r;if(i.$from.parent.type.spec.isolating)return!1;const{keepMarks:a}=this.options,{splittableMarks:o}=n.extensionManager,l=s||i.$to.parentOffset&&i.$from.marks();return e().insertContent({type:this.name}).command(({tr:c,dispatch:f})=>{if(f&&l&&a){const h=l.filter(m=>o.includes(m.type.name));c.ensureMarks(h)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),fte=ss.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,dn(this.options.HTMLAttributes,e),0]},parseMarkdown:(t,e)=>e.createNode("heading",{level:t.depth||1},e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>{var r;const n=(r=t.attrs)!=null&&r.level?parseInt(t.attrs.level,10):1,i="#".repeat(n);return t.content?`${i} ${e.renderChildren(t.content)}`:""},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>RC({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}}),hte=ss.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{},nextNodeType:"paragraph"}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",dn(this.options.HTMLAttributes,t)]},markdownTokenName:"hr",parseMarkdown:(t,e)=>e.createNode("horizontalRule"),renderMarkdown:()=>"---",addCommands(){return{setHorizontalRule:()=>({chain:t,state:e})=>{if(!GJ(e,e.schema.nodes[this.name]))return!1;const{selection:r}=e,{$to:n}=r,i=t();return FR(r)?i.insertContentAt(n.pos,{type:this.name}):i.insertContent({type:this.name}),i.command(({state:s,tr:a,dispatch:o})=>{if(o){const{$to:l}=a.selection,c=l.end();if(l.nodeAfter)l.nodeAfter.isTextblock?a.setSelection(qt.create(a.doc,l.pos+1)):l.nodeAfter.isBlock?a.setSelection(jt.create(a.doc,l.pos)):a.setSelection(qt.create(a.doc,l.pos));else{const f=s.schema.nodes[this.options.nextNodeType]||l.parent.type.contentMatch.defaultType,h=f?.create();h&&(a.insert(c,h),a.setSelection(qt.create(a.doc,c+1)))}a.scrollIntoView()}return!0}).run()}}},addInputRules(){return[$R({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),dte=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,pte=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,mte=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,gte=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,yte=oc.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:t=>t.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",dn(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},markdownTokenName:"em",parseMarkdown:(t,e)=>e.applyMark("italic",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`*${e.renderChildren(t)}*`,addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[Yf({find:dte,type:this.type}),Yf({find:mte,type:this.type})]},addPasteRules(){return[Su({find:pte,type:this.type}),Su({find:gte,type:this.type})]}});const wte="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",vte="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",GC="numeric",WC="ascii",$C="alpha",Gm="asciinumeric",Nm="alphanumeric",YC="domain",HM="emoji",bte="scheme",xte="slashscheme",J2="whitespace";function Bte(t,e){return t in e||(e[t]=[]),e[t]}function Of(t,e,r){e[GC]&&(e[Gm]=!0,e[Nm]=!0),e[WC]&&(e[Gm]=!0,e[$C]=!0),e[Gm]&&(e[Nm]=!0),e[$C]&&(e[Nm]=!0),e[Nm]&&(e[YC]=!0),e[HM]&&(e[YC]=!0);for(const n in e){const i=Bte(n,r);i.indexOf(t)<0&&i.push(t)}}function Cte(t,e){const r={};for(const n in e)e[n].indexOf(t)>=0&&(r[n]=!0);return r}function xa(t=null){this.j={},this.jr=[],this.jd=null,this.t=t}xa.groups={};xa.prototype={accepts(){return!!this.t},go(t){const e=this,r=e.j[t];if(r)return r;for(let n=0;n<e.jr.length;n++){const i=e.jr[n][0],s=e.jr[n][1];if(s&&i.test(t))return s}return e.jd},has(t,e=!1){return e?t in this.j:!!this.go(t)},ta(t,e,r,n){for(let i=0;i<t.length;i++)this.tt(t[i],e,r,n)},tr(t,e,r,n){n=n||xa.groups;let i;return e&&e.j?i=e:(i=new xa(e),r&&n&&Of(e,r,n)),this.jr.push([t,i]),i},ts(t,e,r,n){let i=this;const s=t.length;if(!s)return i;for(let a=0;a<s-1;a++)i=i.tt(t[a]);return i.tt(t[s-1],e,r,n)},tt(t,e,r,n){n=n||xa.groups;const i=this;if(e&&e.j)return i.j[t]=e,e;const s=e;let a,o=i.go(t);if(o?(a=new xa,Object.assign(a.j,o.j),a.jr.push.apply(a.jr,o.jr),a.jd=o.jd,a.t=o.t):a=new xa,s){if(n)if(a.t&&typeof a.t=="string"){const l=Object.assign(Cte(a.t,n),r);Of(s,l,n)}else r&&Of(s,r,n);a.t=s}return i.j[t]=a,a}};const dr=(t,e,r,n,i)=>t.ta(e,r,n,i),ei=(t,e,r,n,i)=>t.tr(e,r,n,i),KN=(t,e,r,n,i)=>t.ts(e,r,n,i),ut=(t,e,r,n,i)=>t.tt(e,r,n,i),qA="WORD",JC="UWORD",jM="ASCIINUMERICAL",PM="ALPHANUMERICAL",Tg="LOCALHOST",XC="TLD",ZC="UTLD",g1="SCHEME",Sd="SLASH_SCHEME",WE="NUM",eS="WS",$E="NL",Wm="OPENBRACE",$m="CLOSEBRACE",tw="OPENBRACKET",rw="CLOSEBRACKET",nw="OPENPAREN",iw="CLOSEPAREN",sw="OPENANGLEBRACKET",aw="CLOSEANGLEBRACKET",ow="FULLWIDTHLEFTPAREN",lw="FULLWIDTHRIGHTPAREN",Aw="LEFTCORNERBRACKET",cw="RIGHTCORNERBRACKET",uw="LEFTWHITECORNERBRACKET",fw="RIGHTWHITECORNERBRACKET",hw="FULLWIDTHLESSTHAN",dw="FULLWIDTHGREATERTHAN",pw="AMPERSAND",mw="APOSTROPHE",gw="ASTERISK",eu="AT",yw="BACKSLASH",ww="BACKTICK",vw="CARET",lu="COLON",YE="COMMA",bw="DOLLAR",Vl="DOT",xw="EQUALS",JE="EXCLAMATION",go="HYPHEN",Ym="PERCENT",Bw="PIPE",Cw="PLUS",Sw="POUND",Jm="QUERY",XE="QUOTE",zM="FULLWIDTHMIDDLEDOT",ZE="SEMI",ql="SLASH",Xm="TILDE",Ew="UNDERSCORE",KM="EMOJI",_w="SYM";var VM=Object.freeze({__proto__:null,ALPHANUMERICAL:PM,AMPERSAND:pw,APOSTROPHE:mw,ASCIINUMERICAL:jM,ASTERISK:gw,AT:eu,BACKSLASH:yw,BACKTICK:ww,CARET:vw,CLOSEANGLEBRACKET:aw,CLOSEBRACE:$m,CLOSEBRACKET:rw,CLOSEPAREN:iw,COLON:lu,COMMA:YE,DOLLAR:bw,DOT:Vl,EMOJI:KM,EQUALS:xw,EXCLAMATION:JE,FULLWIDTHGREATERTHAN:dw,FULLWIDTHLEFTPAREN:ow,FULLWIDTHLESSTHAN:hw,FULLWIDTHMIDDLEDOT:zM,FULLWIDTHRIGHTPAREN:lw,HYPHEN:go,LEFTCORNERBRACKET:Aw,LEFTWHITECORNERBRACKET:uw,LOCALHOST:Tg,NL:$E,NUM:WE,OPENANGLEBRACKET:sw,OPENBRACE:Wm,OPENBRACKET:tw,OPENPAREN:nw,PERCENT:Ym,PIPE:Bw,PLUS:Cw,POUND:Sw,QUERY:Jm,QUOTE:XE,RIGHTCORNERBRACKET:cw,RIGHTWHITECORNERBRACKET:fw,SCHEME:g1,SEMI:ZE,SLASH:ql,SLASH_SCHEME:Sd,SYM:_w,TILDE:Xm,TLD:XC,UNDERSCORE:Ew,UTLD:ZC,UWORD:JC,WORD:qA,WS:eS});const RA=/[a-z]/,fm=new RegExp("\\p{L}","u"),X2=new RegExp("\\p{Emoji}","u"),MA=/\d/,Z2=/\s/,VN="\r",ex=`
`,Ste="",Ete="",tx="";let gy=null,yy=null;function _te(t=[]){const e={};xa.groups=e;const r=new xa;gy==null&&(gy=qN(wte)),yy==null&&(yy=qN(vte)),ut(r,"'",mw),ut(r,"{",Wm),ut(r,"}",$m),ut(r,"[",tw),ut(r,"]",rw),ut(r,"(",nw),ut(r,")",iw),ut(r,"<",sw),ut(r,">",aw),ut(r,"",ow),ut(r,"",lw),ut(r,"",Aw),ut(r,"",cw),ut(r,"",uw),ut(r,"",fw),ut(r,"",hw),ut(r,"",dw),ut(r,"&",pw),ut(r,"*",gw),ut(r,"@",eu),ut(r,"`",ww),ut(r,"^",vw),ut(r,":",lu),ut(r,",",YE),ut(r,"$",bw),ut(r,".",Vl),ut(r,"=",xw),ut(r,"!",JE),ut(r,"-",go),ut(r,"%",Ym),ut(r,"|",Bw),ut(r,"+",Cw),ut(r,"#",Sw),ut(r,"?",Jm),ut(r,'"',XE),ut(r,"/",ql),ut(r,";",ZE),ut(r,"~",Xm),ut(r,"_",Ew),ut(r,"\\",yw),ut(r,"",zM);const n=ei(r,MA,WE,{[GC]:!0});ei(n,MA,n);const i=ei(n,RA,jM,{[Gm]:!0}),s=ei(n,fm,PM,{[Nm]:!0}),a=ei(r,RA,qA,{[WC]:!0});ei(a,MA,i),ei(a,RA,a),ei(i,MA,i),ei(i,RA,i);const o=ei(r,fm,JC,{[$C]:!0});ei(o,RA),ei(o,MA,s),ei(o,fm,o),ei(s,MA,s),ei(s,RA),ei(s,fm,s);const l=ut(r,ex,$E,{[J2]:!0}),c=ut(r,VN,eS,{[J2]:!0}),f=ei(r,Z2,eS,{[J2]:!0});ut(r,tx,f),ut(c,ex,l),ut(c,tx,f),ei(c,Z2,f),ut(f,VN),ut(f,ex),ei(f,Z2,f),ut(f,tx,f);const h=ei(r,X2,KM,{[HM]:!0});ut(h,"#"),ei(h,X2,h),ut(h,Ste,h);const m=ut(h,Ete);ut(m,"#"),ei(m,X2,h);const d=[[RA,a],[MA,i]],g=[[RA,null],[fm,o],[MA,s]];for(let v=0;v<gy.length;v++)Vc(r,gy[v],XC,qA,d);for(let v=0;v<yy.length;v++)Vc(r,yy[v],ZC,JC,g);Of(XC,{tld:!0,ascii:!0},e),Of(ZC,{utld:!0,alpha:!0},e),Vc(r,"file",g1,qA,d),Vc(r,"mailto",g1,qA,d),Vc(r,"http",Sd,qA,d),Vc(r,"https",Sd,qA,d),Vc(r,"ftp",Sd,qA,d),Vc(r,"ftps",Sd,qA,d),Of(g1,{scheme:!0,ascii:!0},e),Of(Sd,{slashscheme:!0,ascii:!0},e),t=t.sort((v,b)=>v[0]>b[0]?1:-1);for(let v=0;v<t.length;v++){const b=t[v][0],B=t[v][1]?{[bte]:!0}:{[xte]:!0};b.indexOf("-")>=0?B[YC]=!0:RA.test(b)?MA.test(b)?B[Gm]=!0:B[WC]=!0:B[GC]=!0,KN(r,b,b,B)}return KN(r,"localhost",Tg,{ascii:!0}),r.jd=new xa(_w),{start:r,tokens:Object.assign({groups:e},VM)}}function qM(t,e){const r=kte(e.replace(/[A-Z]/g,o=>o.toLowerCase())),n=r.length,i=[];let s=0,a=0;for(;a<n;){let o=t,l=null,c=0,f=null,h=-1,m=-1;for(;a<n&&(l=o.go(r[a]));)o=l,o.accepts()?(h=0,m=0,f=o):h>=0&&(h+=r[a].length,m++),c+=r[a].length,s+=r[a].length,a++;s-=h,a-=m,c-=h,i.push({t:f.t,v:e.slice(s-c,s),s:s-c,e:s})}return i}function kte(t){const e=[],r=t.length;let n=0;for(;n<r;){let i=t.charCodeAt(n),s,a=i<55296||i>56319||n+1===r||(s=t.charCodeAt(n+1))<56320||s>57343?t[n]:t.slice(n,n+2);e.push(a),n+=a.length}return e}function Vc(t,e,r,n,i){let s;const a=e.length;for(let o=0;o<a-1;o++){const l=e[o];t.j[l]?s=t.j[l]:(s=new xa(n),s.jr=i.slice(),t.j[l]=s),t=s}return s=new xa(r),s.jr=i.slice(),t.j[e[a-1]]=s,s}function qN(t){const e=[],r=[];let n=0,i="0123456789";for(;n<t.length;){let s=0;for(;i.indexOf(t[n+s])>=0;)s++;if(s>0){e.push(r.join(""));for(let a=parseInt(t.substring(n,n+s),10);a>0;a--)r.pop();n+=s}else r.push(t[n]),n++}return e}const Ng={defaultProtocol:"http",events:null,format:GN,formatHref:GN,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function e_(t,e=null){let r=Object.assign({},Ng);t&&(r=Object.assign(r,t instanceof e_?t.o:t));const n=r.ignoreTags,i=[];for(let s=0;s<n.length;s++)i.push(n[s].toUpperCase());this.o=r,e&&(this.defaultRender=e),this.ignoreTags=i}e_.prototype={o:Ng,ignoreTags:[],defaultRender(t){return t},check(t){return this.get("validate",t.toString(),t)},get(t,e,r){const n=e!=null;let i=this.o[t];return i&&(typeof i=="object"?(i=r.t in i?i[r.t]:Ng[t],typeof i=="function"&&n&&(i=i(e,r))):typeof i=="function"&&n&&(i=i(e,r.t,r)),i)},getObj(t,e,r){let n=this.o[t];return typeof n=="function"&&e!=null&&(n=n(e,r.t,r)),n},render(t){const e=t.render(this);return(this.get("render",null,t)||this.defaultRender)(e,t.t,t)}};function GN(t){return t}function GM(t,e){this.t="token",this.v=t,this.tk=e}GM.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){const e=this.toString(),r=t.get("truncate",e,this),n=t.get("format",e,this);return r&&n.length>r?n.substring(0,r)+"":n},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t=Ng.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){const e=this,r=this.toHref(t.get("defaultProtocol")),n=t.get("formatHref",r,this),i=t.get("tagName",r,e),s=this.toFormattedString(t),a={},o=t.get("className",r,e),l=t.get("target",r,e),c=t.get("rel",r,e),f=t.getObj("attributes",r,e),h=t.getObj("events",r,e);return a.href=n,o&&(a.class=o),l&&(a.target=l),c&&(a.rel=c),f&&Object.assign(a,f),{tagName:i,attributes:a,content:s,eventListeners:h}}};function Bv(t,e){class r extends GM{constructor(i,s){super(i,s),this.t=t}}for(const n in e)r.prototype[n]=e[n];return r.t=t,r}const WN=Bv("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),$N=Bv("text"),Tte=Bv("nl"),wy=Bv("url",{isLink:!0,toHref(t=Ng.defaultProtocol){return this.hasProtocol()?this.v:`${t}://${this.v}`},hasProtocol(){const t=this.tk;return t.length>=2&&t[0].t!==Tg&&t[1].t===lu}}),ho=t=>new xa(t);function Nte({groups:t}){const e=t.domain.concat([pw,gw,eu,yw,ww,vw,bw,xw,go,WE,Ym,Bw,Cw,Sw,ql,_w,Xm,Ew]),r=[mw,lu,YE,Vl,JE,Ym,Jm,XE,ZE,sw,aw,Wm,$m,rw,tw,nw,iw,ow,lw,Aw,cw,uw,fw,hw,dw],n=[pw,mw,gw,yw,ww,vw,bw,xw,go,Wm,$m,Ym,Bw,Cw,Sw,Jm,ql,_w,Xm,Ew],i=ho(),s=ut(i,Xm);dr(s,n,s),dr(s,t.domain,s);const a=ho(),o=ho(),l=ho();dr(i,t.domain,a),dr(i,t.scheme,o),dr(i,t.slashscheme,l),dr(a,n,s),dr(a,t.domain,a);const c=ut(a,eu);ut(s,eu,c),ut(o,eu,c),ut(l,eu,c);const f=ut(s,Vl);dr(f,n,s),dr(f,t.domain,s);const h=ho();dr(c,t.domain,h),dr(h,t.domain,h);const m=ut(h,Vl);dr(m,t.domain,h);const d=ho(WN);dr(m,t.tld,d),dr(m,t.utld,d),ut(c,Tg,d);const g=ut(h,go);ut(g,go,g),dr(g,t.domain,h),dr(d,t.domain,h),ut(d,Vl,m),ut(d,go,g);const v=ut(d,lu);dr(v,t.numeric,WN);const b=ut(a,go),w=ut(a,Vl);ut(b,go,b),dr(b,t.domain,a),dr(w,n,s),dr(w,t.domain,a);const B=ho(wy);dr(w,t.tld,B),dr(w,t.utld,B),dr(B,t.domain,a),dr(B,n,s),ut(B,Vl,w),ut(B,go,b),ut(B,eu,c);const S=ut(B,lu),C=ho(wy);dr(S,t.numeric,C);const k=ho(wy),M=ho();dr(k,e,k),dr(k,r,M),dr(M,e,k),dr(M,r,M),ut(B,ql,k),ut(C,ql,k);const D=ut(o,lu),H=ut(l,lu),F=ut(H,ql),$=ut(F,ql);dr(o,t.domain,a),ut(o,Vl,w),ut(o,go,b),dr(l,t.domain,a),ut(l,Vl,w),ut(l,go,b),dr(D,t.domain,k),ut(D,ql,k),ut(D,Jm,k),dr($,t.domain,k),dr($,e,k),ut($,ql,k);const q=[[Wm,$m],[tw,rw],[nw,iw],[sw,aw],[ow,lw],[Aw,cw],[uw,fw],[hw,dw]];for(let R=0;R<q.length;R++){const[G,U]=q[R],ae=ut(k,G);ut(M,G,ae),ut(ae,U,k);const re=ho(wy);dr(ae,e,re);const Y=ho();dr(ae,r),dr(re,e,re),dr(re,r,Y),dr(Y,e,re),dr(Y,r,Y),ut(re,U,k),ut(Y,U,k)}return ut(i,Tg,B),ut(i,$E,Tte),{start:i,tokens:VM}}function Fte(t,e,r){let n=r.length,i=0,s=[],a=[];for(;i<n;){let o=t,l=null,c=null,f=0,h=null,m=-1;for(;i<n&&!(l=o.go(r[i].t));)a.push(r[i++]);for(;i<n&&(c=l||o.go(r[i].t));)l=null,o=c,o.accepts()?(m=0,h=o):m>=0&&m++,i++,f++;if(m<0)i-=f,i<n&&(a.push(r[i]),i++);else{a.length>0&&(s.push(rx($N,e,a)),a=[]),i-=m,f-=m;const d=h.t,g=r.slice(i-f,i);s.push(rx(d,e,g))}}return a.length>0&&s.push(rx($N,e,a)),s}function rx(t,e,r){const n=r[0].s,i=r[r.length-1].e,s=e.slice(n,i);return new t(s,r)}const Ute=typeof console<"u"&&console&&console.warn||(()=>{}),Ote="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",_n={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function Lte(){return xa.groups={},_n.scanner=null,_n.parser=null,_n.tokenQueue=[],_n.pluginQueue=[],_n.customSchemes=[],_n.initialized=!1,_n}function YN(t,e=!1){if(_n.initialized&&Ute(`linkifyjs: already initialized - will not register custom scheme "${t}" ${Ote}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(t))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);_n.customSchemes.push([t,e])}function Dte(){_n.scanner=_te(_n.customSchemes);for(let t=0;t<_n.tokenQueue.length;t++)_n.tokenQueue[t][1]({scanner:_n.scanner});_n.parser=Nte(_n.scanner.tokens);for(let t=0;t<_n.pluginQueue.length;t++)_n.pluginQueue[t][1]({scanner:_n.scanner,parser:_n.parser});return _n.initialized=!0,_n}function t_(t){return _n.initialized||Dte(),Fte(_n.parser.start,t,qM(_n.scanner.start,t))}t_.scan=qM;function WM(t,e=null,r=null){if(e&&typeof e=="object"){if(r)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);r=e,e=null}const n=new e_(r),i=t_(t),s=[];for(let a=0;a<i.length;a++){const o=i[a];o.isLink&&(!e||o.t===e)&&n.check(o)&&s.push(o.toFormattedObject(n))}return s}var r_="[\0- -\u2029]",Ite=new RegExp(r_),Rte=new RegExp(`${r_}$`),Mte=new RegExp(r_,"g");function Qte(t){return t.length===1?t[0].isLink:t.length===3&&t[1].isLink?["()","[]"].includes(t[0].value+t[2].value):!1}function Hte(t){return new pn({key:new Mn("autolink"),appendTransaction:(e,r,n)=>{const i=e.some(c=>c.docChanged)&&!r.doc.eq(n.doc),s=e.some(c=>c.getMeta("preventAutolink"));if(!i||s)return;const{tr:a}=n,o=xR(r.doc,[...e]);if(NR(o).forEach(({newRange:c})=>{const f=WY(n.doc,c,d=>d.isTextblock);let h,m;if(f.length>1)h=f[0],m=n.doc.textBetween(h.pos,h.pos+h.node.nodeSize,void 0," ");else if(f.length){const d=n.doc.textBetween(c.from,c.to," "," ");if(!Rte.test(d))return;h=f[0],m=n.doc.textBetween(h.pos,c.to,void 0," ")}if(h&&m){const d=m.split(Ite).filter(Boolean);if(d.length<=0)return!1;const g=d[d.length-1],v=h.pos+m.lastIndexOf(g);if(!g)return!1;const b=t_(g).map(w=>w.toObject(t.defaultProtocol));if(!Qte(b))return!1;b.filter(w=>w.isLink).map(w=>({...w,from:v+w.start+1,to:v+w.end+1})).filter(w=>n.schema.marks.code?!n.doc.rangeHasMark(w.from,w.to,n.schema.marks.code):!0).filter(w=>t.validate(w.value)).filter(w=>t.shouldAutoLink(w.value)).forEach(w=>{DE(w.from,w.to,n.doc).some(B=>B.mark.type===t.type)||a.addMark(w.from,w.to,t.type.create({href:w.href}))})}}),!!a.steps.length)return a}})}function jte(t){return new pn({key:new Mn("handleClickLink"),props:{handleClick:(e,r,n)=>{var i,s;if(n.button!==0||!e.editable)return!1;let a=null;if(n.target instanceof HTMLAnchorElement)a=n.target;else{const l=n.target;if(!l)return!1;const c=t.editor.view.dom;a=l.closest("a"),a&&!c.contains(a)&&(a=null)}if(!a)return!1;let o=!1;if(t.enableClickSelection&&(o=t.editor.commands.extendMarkRange(t.type.name)),t.openOnClick){const l=TR(e.state,t.type.name),c=(i=a.href)!=null?i:l.href,f=(s=a.target)!=null?s:l.target;c&&(window.open(c,f),o=!0)}return o}}})}function Pte(t){return new pn({key:new Mn("handlePasteLink"),props:{handlePaste:(e,r,n)=>{const{shouldAutoLink:i}=t,{state:s}=e,{selection:a}=s,{empty:o}=a;if(o)return!1;let l="";n.content.forEach(f=>{l+=f.textContent});const c=WM(l,{defaultProtocol:t.defaultProtocol}).find(f=>f.isLink&&f.value===l);return!l||!c||i!==void 0&&!i(c.value)?!1:t.editor.commands.setMark(t.type,{href:c.href})}}})}function gf(t,e){const r=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(n=>{const i=typeof n=="string"?n:n.scheme;i&&r.push(i)}),!t||t.replace(Mte,"").match(new RegExp(`^(?:(?:${r.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}var $M=oc.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(t=>{if(typeof t=="string"){YN(t);return}YN(t.scheme,t.optionalSlashes)})},onDestroy(){Lte()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(t,e)=>!!gf(t,e.protocols),validate:t=>!!t,shouldAutoLink:t=>{const e=/^[a-z][a-z0-9+.-]*:\/\//i.test(t),r=/^[a-z][a-z0-9+.-]*:/i.test(t);if(e||r&&!t.includes("@"))return!0;const i=(t.includes("@")?t.split("@").pop():t).split(/[/?#:]/)[0];return!(/^\d{1,3}(\.\d{1,3}){3}$/.test(i)||!/\./.test(i))}}},addAttributes(){return{href:{default:null,parseHTML(t){return t.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:t=>{const e=t.getAttribute("href");return!e||!this.options.isAllowedUri(e,{defaultValidate:r=>!!gf(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:t}){return this.options.isAllowedUri(t.href,{defaultValidate:e=>!!gf(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",dn(this.options.HTMLAttributes,t),0]:["a",dn(this.options.HTMLAttributes,{...t,href:""}),0]},markdownTokenName:"link",parseMarkdown:(t,e)=>e.applyMark("link",e.parseInline(t.tokens||[]),{href:t.href,title:t.title||null}),renderMarkdown:(t,e)=>{var r;const n=((r=t.attrs)==null?void 0:r.href)||"";return`[${e.renderChildren(t)}](${n})`},addCommands(){return{setLink:t=>({chain:e})=>{const{href:r}=t;return this.options.isAllowedUri(r,{defaultValidate:n=>!!gf(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().setMark(this.name,t).setMeta("preventAutolink",!0).run():!1},toggleLink:t=>({chain:e})=>{const{href:r}=t||{};return r&&!this.options.isAllowedUri(r,{defaultValidate:n=>!!gf(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:e().toggleMark(this.name,t,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:t})=>t().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[Su({find:t=>{const e=[];if(t){const{protocols:r,defaultProtocol:n}=this.options,i=WM(t).filter(s=>s.isLink&&this.options.isAllowedUri(s.value,{defaultValidate:a=>!!gf(a,r),protocols:r,defaultProtocol:n}));i.length&&i.forEach(s=>{this.options.shouldAutoLink(s.value)&&e.push({text:s.value,data:{href:s.href},index:s.start})})}return e},type:this.type,getAttributes:t=>{var e;return{href:(e=t.data)==null?void 0:e.href}}})]},addProseMirrorPlugins(){const t=[],{protocols:e,defaultProtocol:r}=this.options;return this.options.autolink&&t.push(Hte({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:n=>this.options.isAllowedUri(n,{defaultValidate:i=>!!gf(i,e),protocols:e,defaultProtocol:r}),shouldAutoLink:this.options.shouldAutoLink})),t.push(jte({type:this.type,editor:this.editor,openOnClick:this.options.openOnClick==="whenNotEditable"?!0:this.options.openOnClick,enableClickSelection:this.options.enableClickSelection})),this.options.linkOnPaste&&t.push(Pte({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type,shouldAutoLink:this.options.shouldAutoLink})),t}}),zte=Object.defineProperty,Kte=(t,e)=>{for(var r in e)zte(t,r,{get:e[r],enumerable:!0})},Vte="listItem",JN="textStyle",XN=/^\s*([-+*])\s$/,YM=ss.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",dn(this.options.HTMLAttributes,t),0]},markdownTokenName:"list",parseMarkdown:(t,e)=>t.type!=="list"||t.ordered?[]:{type:"bulletList",content:t.items?e.parseChildren(t.items):[]},renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownOptions:{indentsContent:!0},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(Vte,this.editor.getAttributes(JN)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=ap({find:XN,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=ap({find:XN,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(JN),editor:this.editor})),[t]}}),JM=ss.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",dn(this.options.HTMLAttributes,t),0]},markdownTokenName:"list_item",parseMarkdown:(t,e)=>{if(t.type!=="list_item")return[];let r=[];if(t.tokens&&t.tokens.length>0)if(t.tokens.some(i=>i.type==="paragraph"))r=e.parseChildren(t.tokens);else{const i=t.tokens[0];if(i&&i.type==="text"&&i.tokens&&i.tokens.length>0){if(r=[{type:"paragraph",content:e.parseInline(i.tokens)}],t.tokens.length>1){const a=t.tokens.slice(1),o=e.parseChildren(a);r.push(...o)}}else r=e.parseChildren(t.tokens)}return r.length===0&&(r=[{type:"paragraph",content:[]}]),{type:"listItem",content:r}},renderMarkdown:(t,e,r)=>QE(t,e,n=>{var i,s;return n.parentType==="bulletList"?"- ":n.parentType==="orderedList"?`${(((s=(i=n.meta)==null?void 0:i.parentAttrs)==null?void 0:s.start)||1)+n.index}. `:"- "},r),addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),qte={};Kte(qte,{findListItemPos:()=>Gg,getNextListDepth:()=>n_,handleBackspace:()=>tS,handleDelete:()=>rS,hasListBefore:()=>XM,hasListItemAfter:()=>Gte,hasListItemBefore:()=>ZM,listItemHasSubList:()=>e8,nextListIsDeeper:()=>t8,nextListIsHigher:()=>r8});var Gg=(t,e)=>{const{$from:r}=e.selection,n=Ni(t,e.schema);let i=null,s=r.depth,a=r.pos,o=null;for(;s>0&&o===null;)i=r.node(s),i.type===n?o=s:(s-=1,a-=1);return o===null?null:{$pos:e.doc.resolve(a),depth:o}},n_=(t,e)=>{const r=Gg(t,e);if(!r)return!1;const[,n]=rJ(e,t,r.$pos.pos+4);return n},XM=(t,e,r)=>{const{$anchor:n}=t.selection,i=Math.max(0,n.pos-2),s=t.doc.resolve(i).node();return!(!s||!r.includes(s.type.name))},ZM=(t,e)=>{var r;const{$anchor:n}=e.selection,i=e.doc.resolve(n.pos-2);return!(i.index()===0||((r=i.nodeBefore)==null?void 0:r.type.name)!==t)},e8=(t,e,r)=>{if(!r)return!1;const n=Ni(t,e.schema);let i=!1;return r.descendants(s=>{s.type===n&&(i=!0)}),i},tS=(t,e,r)=>{if(t.commands.undoInputRule())return!0;if(t.state.selection.from!==t.state.selection.to)return!1;if(!Cu(t.state,e)&&XM(t.state,e,r)){const{$anchor:o}=t.state.selection,l=t.state.doc.resolve(o.before()-1),c=[];l.node().descendants((m,d)=>{m.type.name===e&&c.push({node:m,pos:d})});const f=c.at(-1);if(!f)return!1;const h=t.state.doc.resolve(l.start()+f.pos+1);return t.chain().cut({from:o.start()-1,to:o.end()+1},h.end()).joinForward().run()}if(!Cu(t.state,e)||!aJ(t.state))return!1;const n=Gg(e,t.state);if(!n)return!1;const s=t.state.doc.resolve(n.$pos.pos-2).node(n.depth),a=e8(e,t.state,s);return ZM(e,t.state)&&!a?t.commands.joinItemBackward():t.chain().liftListItem(e).run()},t8=(t,e)=>{const r=n_(t,e),n=Gg(t,e);return!n||!r?!1:r>n.depth},r8=(t,e)=>{const r=n_(t,e),n=Gg(t,e);return!n||!r?!1:r<n.depth},rS=(t,e)=>{if(!Cu(t.state,e)||!sJ(t.state,e))return!1;const{selection:r}=t.state,{$from:n,$to:i}=r;return!r.empty&&n.sameParent(i)?!1:t8(e,t.state)?t.chain().focus(t.state.selection.from+4).lift(e).joinBackward().run():r8(e,t.state)?t.chain().joinForward().joinBackward().run():t.commands.joinItemForward()},Gte=(t,e)=>{var r;const{$anchor:n}=e.selection,i=e.doc.resolve(n.pos-n.parentOffset-2);return!(i.index()===i.parent.childCount-1||((r=i.nodeAfter)==null?void 0:r.type.name)!==t)},n8=Gr.create({name:"listKeymap",addOptions(){return{listTypes:[{itemName:"listItem",wrapperNames:["bulletList","orderedList"]},{itemName:"taskItem",wrapperNames:["taskList"]}]}},addKeyboardShortcuts(){return{Delete:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:r})=>{t.state.schema.nodes[r]!==void 0&&rS(t,r)&&(e=!0)}),e},"Mod-Delete":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:r})=>{t.state.schema.nodes[r]!==void 0&&rS(t,r)&&(e=!0)}),e},Backspace:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:r,wrapperNames:n})=>{t.state.schema.nodes[r]!==void 0&&tS(t,r,n)&&(e=!0)}),e},"Mod-Backspace":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:r,wrapperNames:n})=>{t.state.schema.nodes[r]!==void 0&&tS(t,r,n)&&(e=!0)}),e}}}}),ZN=/^(\s*)(\d+)\.\s+(.*)$/,Wte=/^\s/;function $te(t){const e=[];let r=0,n=0;for(;r<t.length;){const i=t[r],s=i.match(ZN);if(!s)break;const[,a,o,l]=s,c=a.length;let f=l,h=r+1;const m=[i];for(;h<t.length;){const d=t[h];if(d.match(ZN))break;if(d.trim()==="")m.push(d),f+=`
`,h+=1;else if(d.match(Wte))m.push(d),f+=`
${d.slice(c+2)}`,h+=1;else break}e.push({indent:c,number:parseInt(o,10),content:f.trim(),raw:m.join(`
`)}),n=h,r=h}return[e,n]}function i8(t,e,r){var n;const i=[];let s=0;for(;s<t.length;){const a=t[s];if(a.indent===e){const o=a.content.split(`
`),l=((n=o[0])==null?void 0:n.trim())||"",c=[];l&&c.push({type:"paragraph",raw:l,tokens:r.inlineTokens(l)});const f=o.slice(1).join(`
`).trim();if(f){const d=r.blockTokens(f);c.push(...d)}let h=s+1;const m=[];for(;h<t.length&&t[h].indent>e;)m.push(t[h]),h+=1;if(m.length>0){const d=Math.min(...m.map(v=>v.indent)),g=i8(m,d,r);c.push({type:"list",ordered:!0,start:m[0].number,items:g,raw:m.map(v=>v.raw).join(`
`)})}i.push({type:"list_item",raw:a.raw,tokens:c}),s=h}else s+=1}return i}function Yte(t,e){return t.map(r=>{if(r.type!=="list_item")return e.parseChildren([r])[0];const n=[];return r.tokens&&r.tokens.length>0&&r.tokens.forEach(i=>{if(i.type==="paragraph"||i.type==="list"||i.type==="blockquote"||i.type==="code")n.push(...e.parseChildren([i]));else if(i.type==="text"&&i.tokens){const s=e.parseChildren([i]);n.push({type:"paragraph",content:s})}else{const s=e.parseChildren([i]);s.length>0&&n.push(...s)}}),{type:"listItem",content:n}})}var Jte="listItem",eF="textStyle",tF=/^(\d+)\.\s$/,s8=ss.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1},type:{default:null,parseHTML:t=>t.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...r}=t;return e===1?["ol",dn(this.options.HTMLAttributes,r),0]:["ol",dn(this.options.HTMLAttributes,t),0]},markdownTokenName:"list",parseMarkdown:(t,e)=>{if(t.type!=="list"||!t.ordered)return[];const r=t.start||1,n=t.items?Yte(t.items,e):[];return r!==1?{type:"orderedList",attrs:{start:r},content:n}:{type:"orderedList",content:n}},renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownTokenizer:{name:"orderedList",level:"block",start:t=>{const e=t.match(/^(\s*)(\d+)\.\s+/),r=e?.index;return r!==void 0?r:-1},tokenize:(t,e,r)=>{var n;const i=t.split(`
`),[s,a]=$te(i);if(s.length===0)return;const o=i8(s,0,r);return o.length===0?void 0:{type:"list",ordered:!0,start:((n=s[0])==null?void 0:n.number)||1,items:o,raw:i.slice(0,a).join(`
`)}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(Jte,this.editor.getAttributes(eF)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=ap({find:tF,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,r)=>r.childCount+r.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=ap({find:tF,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(eF)}),joinPredicate:(e,r)=>r.childCount+r.attrs.start===+e[1],editor:this.editor})),[t]}}),Xte=/^\s*(\[([( |x])?\])\s$/,a8=ss.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:t=>{const e=t.getAttribute("data-checked");return e===""||e==="true"},renderHTML:t=>({"data-checked":t.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:t,HTMLAttributes:e}){return["li",dn(this.options.HTMLAttributes,e,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:t.attrs.checked?"checked":null}],["span"]],["div",0]]},parseMarkdown:(t,e)=>{const r=[];if(t.tokens&&t.tokens.length>0?r.push(e.createNode("paragraph",{},e.parseInline(t.tokens))):t.text?r.push(e.createNode("paragraph",{},[e.createNode("text",{text:t.text})])):r.push(e.createNode("paragraph",{},[])),t.nestedTokens&&t.nestedTokens.length>0){const n=e.parseChildren(t.nestedTokens);r.push(...n)}return e.createNode("taskItem",{checked:t.checked||!1},r)},renderMarkdown:(t,e)=>{var r;const i=`- [${(r=t.attrs)!=null&&r.checked?"x":" "}] `;return QE(t,e,i)},addKeyboardShortcuts(){const t={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...t,Tab:()=>this.editor.commands.sinkListItem(this.name)}:t},addNodeView(){return({node:t,HTMLAttributes:e,getPos:r,editor:n})=>{const i=document.createElement("li"),s=document.createElement("label"),a=document.createElement("span"),o=document.createElement("input"),l=document.createElement("div"),c=h=>{var m,d;o.ariaLabel=((d=(m=this.options.a11y)==null?void 0:m.checkboxLabel)==null?void 0:d.call(m,h,o.checked))||`Task item checkbox for ${h.textContent||"empty task item"}`};c(t),s.contentEditable="false",o.type="checkbox",o.addEventListener("mousedown",h=>h.preventDefault()),o.addEventListener("change",h=>{if(!n.isEditable&&!this.options.onReadOnlyChecked){o.checked=!o.checked;return}const{checked:m}=h.target;n.isEditable&&typeof r=="function"&&n.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:d})=>{const g=r();if(typeof g!="number")return!1;const v=d.doc.nodeAt(g);return d.setNodeMarkup(g,void 0,{...v?.attrs,checked:m}),!0}).run(),!n.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(t,m)||(o.checked=!o.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([h,m])=>{i.setAttribute(h,m)}),i.dataset.checked=t.attrs.checked,o.checked=t.attrs.checked,s.append(o,a),i.append(s,l),Object.entries(e).forEach(([h,m])=>{i.setAttribute(h,m)});let f=new Set(Object.keys(e));return{dom:i,contentDOM:l,update:h=>{if(h.type!==this.type)return!1;i.dataset.checked=h.attrs.checked,o.checked=h.attrs.checked,c(h);const m=n.extensionManager.attributes,d=Eg(h,m),g=new Set(Object.keys(d)),v=this.options.HTMLAttributes;return f.forEach(b=>{g.has(b)||(b in v?i.setAttribute(b,v[b]):i.removeAttribute(b))}),Object.entries(d).forEach(([b,w])=>{w==null?b in v?i.setAttribute(b,v[b]):i.removeAttribute(b):i.setAttribute(b,w)}),f=g,!0}}}},addInputRules(){return[ap({find:Xte,type:this.type,getAttributes:t=>({checked:t[t.length-1]==="x"})})]}}),o8=ss.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:t}){return["ul",dn(this.options.HTMLAttributes,t,{"data-type":this.name}),0]},parseMarkdown:(t,e)=>e.createNode("taskList",{},e.parseChildren(t.items||[])),renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownTokenizer:{name:"taskList",level:"block",start(t){var e;const r=(e=t.match(/^\s*[-+*]\s+\[([ xX])\]\s+/))==null?void 0:e.index;return r!==void 0?r:-1},tokenize(t,e,r){const n=s=>{const a=MC(s,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:o=>({indentLevel:o[1].length,mainContent:o[4],checked:o[3].toLowerCase()==="x"}),createToken:(o,l)=>({type:"taskItem",raw:"",mainContent:o.mainContent,indentLevel:o.indentLevel,checked:o.checked,text:o.mainContent,tokens:r.inlineTokens(o.mainContent),nestedTokens:l}),customNestedParser:n},r);return a?[{type:"taskList",raw:a.raw,items:a.items}]:r.blockTokens(s)},i=MC(t,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:s=>({indentLevel:s[1].length,mainContent:s[4],checked:s[3].toLowerCase()==="x"}),createToken:(s,a)=>({type:"taskItem",raw:"",mainContent:s.mainContent,indentLevel:s.indentLevel,checked:s.checked,text:s.mainContent,tokens:r.inlineTokens(s.mainContent),nestedTokens:a}),customNestedParser:n},r);if(i)return{type:"taskList",raw:i.raw,items:i.items}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleTaskList:()=>({commands:t})=>t.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}});Gr.create({name:"listKit",addExtensions(){const t=[];return this.options.bulletList!==!1&&t.push(YM.configure(this.options.bulletList)),this.options.listItem!==!1&&t.push(JM.configure(this.options.listItem)),this.options.listKeymap!==!1&&t.push(n8.configure(this.options.listKeymap)),this.options.orderedList!==!1&&t.push(s8.configure(this.options.orderedList)),this.options.taskItem!==!1&&t.push(a8.configure(this.options.taskItem)),this.options.taskList!==!1&&t.push(o8.configure(this.options.taskList)),t}});var rF="&nbsp;",Zte="",ere=ss.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",dn(this.options.HTMLAttributes,t),0]},parseMarkdown:(t,e)=>{const r=t.tokens||[];if(r.length===1&&r[0].type==="image")return e.parseChildren([r[0]]);const n=e.parseInline(r);return n.length===1&&n[0].type==="text"&&(n[0].text===rF||n[0].text===Zte)?e.createNode("paragraph",void 0,[]):e.createNode("paragraph",void 0,n)},renderMarkdown:(t,e)=>{if(!t)return"";const r=Array.isArray(t.content)?t.content:[];return r.length===0?rF:e.renderChildren(r)},addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),tre=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,rre=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,l8=oc.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",dn(this.options.HTMLAttributes,t),0]},markdownTokenName:"del",parseMarkdown:(t,e)=>e.applyMark("strike",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`~~${e.renderChildren(t)}~~`,addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[Yf({find:tre,type:this.type})]},addPasteRules(){return[Su({find:rre,type:this.type})]}}),nre=ss.create({name:"text",group:"inline",parseMarkdown:t=>({type:"text",text:t.text||""}),renderMarkdown:t=>t.text||""}),A8=oc.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["u",dn(this.options.HTMLAttributes,t),0]},parseMarkdown(t,e){return e.applyMark(this.name||"underline",e.parseInline(t.tokens||[]))},renderMarkdown(t,e){return`++${e.renderChildren(t)}++`},markdownTokenizer:{name:"underline",level:"inline",start(t){return t.indexOf("++")},tokenize(t,e,r){const i=/^(\+\+)([\s\S]+?)(\+\+)/.exec(t);if(!i)return;const s=i[2].trim();return{type:"underline",raw:i[0],text:s,tokens:r.inlineTokens(s)}}},addCommands(){return{setUnderline:()=>({commands:t})=>t.setMark(this.name),toggleUnderline:()=>({commands:t})=>t.toggleMark(this.name),unsetUnderline:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}});function ire(t={}){return new pn({view(e){return new sre(e,t)}})}class sre{constructor(e,r){var n;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(n=r.width)!==null&&n!==void 0?n:1,this.color=r.color===!1?void 0:r.color||"black",this.class=r.class,this.handlers=["dragover","dragend","drop","dragleave"].map(i=>{let s=a=>{this[i](a)};return e.dom.addEventListener(i,s),{name:i,handler:s}})}destroy(){this.handlers.forEach(({name:e,handler:r})=>this.editorView.dom.removeEventListener(e,r))}update(e,r){this.cursorPos!=null&&r.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),r=!e.parent.inlineContent,n,i=this.editorView.dom,s=i.getBoundingClientRect(),a=s.width/i.offsetWidth,o=s.height/i.offsetHeight;if(r){let h=e.nodeBefore,m=e.nodeAfter;if(h||m){let d=this.editorView.nodeDOM(this.cursorPos-(h?h.nodeSize:0));if(d){let g=d.getBoundingClientRect(),v=h?g.bottom:g.top;h&&m&&(v=(v+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let b=this.width/2*o;n={left:g.left,right:g.right,top:v-b,bottom:v+b}}}}if(!n){let h=this.editorView.coordsAtPos(this.cursorPos),m=this.width/2*a;n={left:h.left-m,right:h.left+m,top:h.top,bottom:h.bottom}}let l=this.editorView.dom.offsetParent;this.element||(this.element=l.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",r),this.element.classList.toggle("prosemirror-dropcursor-inline",!r);let c,f;if(!l||l==document.body&&getComputedStyle(l).position=="static")c=-pageXOffset,f=-pageYOffset;else{let h=l.getBoundingClientRect(),m=h.width/l.offsetWidth,d=h.height/l.offsetHeight;c=h.left-l.scrollLeft*m,f=h.top-l.scrollTop*d}this.element.style.left=(n.left-c)/a+"px",this.element.style.top=(n.top-f)/o+"px",this.element.style.width=(n.right-n.left)/a+"px",this.element.style.height=(n.bottom-n.top)/o+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let r=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),n=r&&r.inside>=0&&this.editorView.state.doc.nodeAt(r.inside),i=n&&n.type.spec.disableDropCursor,s=typeof i=="function"?i(this.editorView,r,e):i;if(r&&!s){let a=r.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let o=pI(this.editorView.state.doc,a,this.editorView.dragging.slice);o!=null&&(a=o)}this.setCursor(a),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}class ai extends tr{constructor(e){super(e,e)}map(e,r){let n=e.resolve(r.map(this.head));return ai.valid(n)?new ai(n):tr.near(n)}content(){return pt.empty}eq(e){return e instanceof ai&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,r){if(typeof r.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new ai(e.resolve(r.pos))}getBookmark(){return new i_(this.anchor)}static valid(e){let r=e.parent;if(r.isTextblock||!are(e)||!ore(e))return!1;let n=r.type.spec.allowGapCursor;if(n!=null)return n;let i=r.contentMatchAt(e.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(e,r,n=!1){e:for(;;){if(!n&&ai.valid(e))return e;let i=e.pos,s=null;for(let a=e.depth;;a--){let o=e.node(a);if(r>0?e.indexAfter(a)<o.childCount:e.index(a)>0){s=o.child(r>0?e.indexAfter(a):e.index(a)-1);break}else if(a==0)return null;i+=r;let l=e.doc.resolve(i);if(ai.valid(l))return l}for(;;){let a=r>0?s.firstChild:s.lastChild;if(!a){if(s.isAtom&&!s.isText&&!jt.isSelectable(s)){e=e.doc.resolve(i+s.nodeSize*r),n=!1;continue e}break}s=a,i+=r;let o=e.doc.resolve(i);if(ai.valid(o))return o}return null}}}ai.prototype.visible=!1;ai.findFrom=ai.findGapCursorFrom;tr.jsonID("gapcursor",ai);class i_{constructor(e){this.pos=e}map(e){return new i_(e.map(this.pos))}resolve(e){let r=e.resolve(this.pos);return ai.valid(r)?new ai(r):tr.near(r)}}function c8(t){return t.isAtom||t.spec.isolating||t.spec.createGapCursor}function are(t){for(let e=t.depth;e>=0;e--){let r=t.index(e),n=t.node(e);if(r==0){if(n.type.spec.isolating)return!0;continue}for(let i=n.child(r-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||c8(i.type))return!0;if(i.inlineContent)return!1}}return!0}function ore(t){for(let e=t.depth;e>=0;e--){let r=t.indexAfter(e),n=t.node(e);if(r==n.childCount){if(n.type.spec.isolating)return!0;continue}for(let i=n.child(r);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||c8(i.type))return!0;if(i.inlineContent)return!1}}return!0}function lre(){return new pn({props:{decorations:fre,createSelectionBetween(t,e,r){return e.pos==r.pos&&ai.valid(r)?new ai(r):null},handleClick:cre,handleKeyDown:Are,handleDOMEvents:{beforeinput:ure}}})}const Are=_E({ArrowLeft:vy("horiz",-1),ArrowRight:vy("horiz",1),ArrowUp:vy("vert",-1),ArrowDown:vy("vert",1)});function vy(t,e){const r=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(n,i,s){let a=n.selection,o=e>0?a.$to:a.$from,l=a.empty;if(a instanceof qt){if(!s.endOfTextblock(r)||o.depth==0)return!1;l=!1,o=n.doc.resolve(e>0?o.after():o.before())}let c=ai.findGapCursorFrom(o,e,l);return c?(i&&i(n.tr.setSelection(new ai(c))),!0):!1}}function cre(t,e,r){if(!t||!t.editable)return!1;let n=t.state.doc.resolve(e);if(!ai.valid(n))return!1;let i=t.posAtCoords({left:r.clientX,top:r.clientY});return i&&i.inside>-1&&jt.isSelectable(t.state.doc.nodeAt(i.inside))?!1:(t.dispatch(t.state.tr.setSelection(new ai(n))),!0)}function ure(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof ai))return!1;let{$from:r}=t.state.selection,n=r.parent.contentMatchAt(r.index()).findWrapping(t.state.schema.nodes.text);if(!n)return!1;let i=it.empty;for(let a=n.length-1;a>=0;a--)i=it.from(n[a].createAndFill(null,i));let s=t.state.tr.replace(r.pos,r.pos,new pt(i,0,0));return s.setSelection(qt.near(s.doc.resolve(r.pos+1))),t.dispatch(s),!1}function fre(t){if(!(t.selection instanceof ai))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",yn.create(t.doc,[rs.widget(t.selection.head,e,{key:"gapcursor"})])}var kw=200,is=function(){};is.prototype.append=function(e){return e.length?(e=is.from(e),!this.length&&e||e.length<kw&&this.leafAppend(e)||this.length<kw&&e.leafPrepend(this)||this.appendInner(e)):this};is.prototype.prepend=function(e){return e.length?is.from(e).append(this):this};is.prototype.appendInner=function(e){return new hre(this,e)};is.prototype.slice=function(e,r){return e===void 0&&(e=0),r===void 0&&(r=this.length),e>=r?is.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,r))};is.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};is.prototype.forEach=function(e,r,n){r===void 0&&(r=0),n===void 0&&(n=this.length),r<=n?this.forEachInner(e,r,n,0):this.forEachInvertedInner(e,r,n,0)};is.prototype.map=function(e,r,n){r===void 0&&(r=0),n===void 0&&(n=this.length);var i=[];return this.forEach(function(s,a){return i.push(e(s,a))},r,n),i};is.from=function(e){return e instanceof is?e:e&&e.length?new u8(e):is.empty};var u8=(function(t){function e(n){t.call(this),this.values=n}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(i,s){return i==0&&s==this.length?this:new e(this.values.slice(i,s))},e.prototype.getInner=function(i){return this.values[i]},e.prototype.forEachInner=function(i,s,a,o){for(var l=s;l<a;l++)if(i(this.values[l],o+l)===!1)return!1},e.prototype.forEachInvertedInner=function(i,s,a,o){for(var l=s-1;l>=a;l--)if(i(this.values[l],o+l)===!1)return!1},e.prototype.leafAppend=function(i){if(this.length+i.length<=kw)return new e(this.values.concat(i.flatten()))},e.prototype.leafPrepend=function(i){if(this.length+i.length<=kw)return new e(i.flatten().concat(this.values))},r.length.get=function(){return this.values.length},r.depth.get=function(){return 0},Object.defineProperties(e.prototype,r),e})(is);is.empty=new u8([]);var hre=(function(t){function e(r,n){t.call(this),this.left=r,this.right=n,this.length=r.length+n.length,this.depth=Math.max(r.depth,n.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(n){return n<this.left.length?this.left.get(n):this.right.get(n-this.left.length)},e.prototype.forEachInner=function(n,i,s,a){var o=this.left.length;if(i<o&&this.left.forEachInner(n,i,Math.min(s,o),a)===!1||s>o&&this.right.forEachInner(n,Math.max(i-o,0),Math.min(this.length,s)-o,a+o)===!1)return!1},e.prototype.forEachInvertedInner=function(n,i,s,a){var o=this.left.length;if(i>o&&this.right.forEachInvertedInner(n,i-o,Math.max(s,o)-o,a+o)===!1||s<o&&this.left.forEachInvertedInner(n,Math.min(i,o),s,a)===!1)return!1},e.prototype.sliceInner=function(n,i){if(n==0&&i==this.length)return this;var s=this.left.length;return i<=s?this.left.slice(n,i):n>=s?this.right.slice(n-s,i-s):this.left.slice(n,s).append(this.right.slice(0,i-s))},e.prototype.leafAppend=function(n){var i=this.right.leafAppend(n);if(i)return new e(this.left,i)},e.prototype.leafPrepend=function(n){var i=this.left.leafPrepend(n);if(i)return new e(i,this.right)},e.prototype.appendInner=function(n){return this.left.depth>=Math.max(this.right.depth,n.depth)+1?new e(this.left,new e(this.right,n)):new e(this,n)},e})(is);const dre=500;class Al{constructor(e,r){this.items=e,this.eventCount=r}popEvent(e,r){if(this.eventCount==0)return null;let n=this.items.length;for(;;n--)if(this.items.get(n-1).selection){--n;break}let i,s;r&&(i=this.remapping(n,this.items.length),s=i.maps.length);let a=e.tr,o,l,c=[],f=[];return this.items.forEach((h,m)=>{if(!h.step){i||(i=this.remapping(n,m+1),s=i.maps.length),s--,f.push(h);return}if(i){f.push(new qc(h.map));let d=h.step.map(i.slice(s)),g;d&&a.maybeStep(d).doc&&(g=a.mapping.maps[a.mapping.maps.length-1],c.push(new qc(g,void 0,void 0,c.length+f.length))),s--,g&&i.appendMap(g,s)}else a.maybeStep(h.step);if(h.selection)return o=i?h.selection.map(i.slice(s)):h.selection,l=new Al(this.items.slice(0,n).append(f.reverse().concat(c)),this.eventCount-1),!1},this.items.length,0),{remaining:l,transform:a,selection:o}}addTransform(e,r,n,i){let s=[],a=this.eventCount,o=this.items,l=!i&&o.length?o.get(o.length-1):null;for(let f=0;f<e.steps.length;f++){let h=e.steps[f].invert(e.docs[f]),m=new qc(e.mapping.maps[f],h,r),d;(d=l&&l.merge(m))&&(m=d,f?s.pop():o=o.slice(0,o.length-1)),s.push(m),r&&(a++,r=void 0),i||(l=m)}let c=a-n.depth;return c>mre&&(o=pre(o,c),a-=c),new Al(o.append(s),a)}remapping(e,r){let n=new vg;return this.items.forEach((i,s)=>{let a=i.mirrorOffset!=null&&s-i.mirrorOffset>=e?n.maps.length-i.mirrorOffset:void 0;n.appendMap(i.map,a)},e,r),n}addMaps(e){return this.eventCount==0?this:new Al(this.items.append(e.map(r=>new qc(r))),this.eventCount)}rebased(e,r){if(!this.eventCount)return this;let n=[],i=Math.max(0,this.items.length-r),s=e.mapping,a=e.steps.length,o=this.eventCount;this.items.forEach(m=>{m.selection&&o--},i);let l=r;this.items.forEach(m=>{let d=s.getMirror(--l);if(d==null)return;a=Math.min(a,d);let g=s.maps[d];if(m.step){let v=e.steps[d].invert(e.docs[d]),b=m.selection&&m.selection.map(s.slice(l+1,d));b&&o++,n.push(new qc(g,v,b))}else n.push(new qc(g))},i);let c=[];for(let m=r;m<a;m++)c.push(new qc(s.maps[m]));let f=this.items.slice(0,i).append(c).append(n),h=new Al(f,o);return h.emptyItemCount()>dre&&(h=h.compress(this.items.length-n.length)),h}emptyItemCount(){let e=0;return this.items.forEach(r=>{r.step||e++}),e}compress(e=this.items.length){let r=this.remapping(0,e),n=r.maps.length,i=[],s=0;return this.items.forEach((a,o)=>{if(o>=e)i.push(a),a.selection&&s++;else if(a.step){let l=a.step.map(r.slice(n)),c=l&&l.getMap();if(n--,c&&r.appendMap(c,n),l){let f=a.selection&&a.selection.map(r.slice(n));f&&s++;let h=new qc(c.invert(),l,f),m,d=i.length-1;(m=i.length&&i[d].merge(h))?i[d]=m:i.push(h)}}else a.map&&n--},this.items.length,0),new Al(is.from(i.reverse()),s)}}Al.empty=new Al(is.empty,0);function pre(t,e){let r;return t.forEach((n,i)=>{if(n.selection&&e--==0)return r=i,!1}),t.slice(r)}let qc=class f8{constructor(e,r,n,i){this.map=e,this.step=r,this.selection=n,this.mirrorOffset=i}merge(e){if(this.step&&e.step&&!e.selection){let r=e.step.merge(this.step);if(r)return new f8(r.getMap().invert(),r,this.selection)}}};class tu{constructor(e,r,n,i,s){this.done=e,this.undone=r,this.prevRanges=n,this.prevTime=i,this.prevComposition=s}}const mre=20;function gre(t,e,r,n){let i=r.getMeta(Pf),s;if(i)return i.historyState;r.getMeta(vre)&&(t=new tu(t.done,t.undone,null,0,-1));let a=r.getMeta("appendedTransaction");if(r.steps.length==0)return t;if(a&&a.getMeta(Pf))return a.getMeta(Pf).redo?new tu(t.done.addTransform(r,void 0,n,y1(e)),t.undone,nF(r.mapping.maps),t.prevTime,t.prevComposition):new tu(t.done,t.undone.addTransform(r,void 0,n,y1(e)),null,t.prevTime,t.prevComposition);if(r.getMeta("addToHistory")!==!1&&!(a&&a.getMeta("addToHistory")===!1)){let o=r.getMeta("composition"),l=t.prevTime==0||!a&&t.prevComposition!=o&&(t.prevTime<(r.time||0)-n.newGroupDelay||!yre(r,t.prevRanges)),c=a?nx(t.prevRanges,r.mapping):nF(r.mapping.maps);return new tu(t.done.addTransform(r,l?e.selection.getBookmark():void 0,n,y1(e)),Al.empty,c,r.time,o??t.prevComposition)}else return(s=r.getMeta("rebased"))?new tu(t.done.rebased(r,s),t.undone.rebased(r,s),nx(t.prevRanges,r.mapping),t.prevTime,t.prevComposition):new tu(t.done.addMaps(r.mapping.maps),t.undone.addMaps(r.mapping.maps),nx(t.prevRanges,r.mapping),t.prevTime,t.prevComposition)}function yre(t,e){if(!e)return!1;if(!t.docChanged)return!0;let r=!1;return t.mapping.maps[0].forEach((n,i)=>{for(let s=0;s<e.length;s+=2)n<=e[s+1]&&i>=e[s]&&(r=!0)}),r}function nF(t){let e=[];for(let r=t.length-1;r>=0&&e.length==0;r--)t[r].forEach((n,i,s,a)=>e.push(s,a));return e}function nx(t,e){if(!t)return null;let r=[];for(let n=0;n<t.length;n+=2){let i=e.map(t[n],1),s=e.map(t[n+1],-1);i<=s&&r.push(i,s)}return r}function wre(t,e,r){let n=y1(e),i=Pf.get(e).spec.config,s=(r?t.undone:t.done).popEvent(e,n);if(!s)return null;let a=s.selection.resolve(s.transform.doc),o=(r?t.done:t.undone).addTransform(s.transform,e.selection.getBookmark(),i,n),l=new tu(r?o:s.remaining,r?s.remaining:o,null,0,-1);return s.transform.setSelection(a).setMeta(Pf,{redo:r,historyState:l})}let ix=!1,iF=null;function y1(t){let e=t.plugins;if(iF!=e){ix=!1,iF=e;for(let r=0;r<e.length;r++)if(e[r].spec.historyPreserveItems){ix=!0;break}}return ix}const Pf=new Mn("history"),vre=new Mn("closeHistory");function bre(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new pn({key:Pf,state:{init(){return new tu(Al.empty,Al.empty,null,0,-1)},apply(e,r,n){return gre(r,n,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,r){let n=r.inputType,i=n=="historyUndo"?d8:n=="historyRedo"?p8:null;return!i||!e.editable?!1:(r.preventDefault(),i(e.state,e.dispatch))}}}})}function h8(t,e){return(r,n)=>{let i=Pf.getState(r);if(!i||(t?i.undone:i.done).eventCount==0)return!1;if(n){let s=wre(i,r,t);s&&n(e?s.scrollIntoView():s)}return!0}}const d8=h8(!1,!0),p8=h8(!0,!0);Gr.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize",textCounter:t=>t.length,wordCounter:t=>t.split(" ").filter(e=>e!=="").length}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=t=>{const e=t?.node||this.editor.state.doc;if((t?.mode||this.options.mode)==="textSize"){const n=e.textBetween(0,e.content.size,void 0," ");return this.options.textCounter(n)}return e.nodeSize},this.storage.words=t=>{const e=t?.node||this.editor.state.doc,r=e.textBetween(0,e.content.size," "," ");return this.options.wordCounter(r)}},addProseMirrorPlugins(){let t=!1;return[new pn({key:new Mn("characterCount"),appendTransaction:(e,r,n)=>{if(t)return;const i=this.options.limit;if(i==null||i===0){t=!0;return}const s=this.storage.characters({node:n.doc});if(s>i){const a=s-i,o=0,l=a;console.warn(`[CharacterCount] Initial content exceeded limit of ${i} characters. Content was automatically trimmed.`);const c=n.tr.deleteRange(o,l);return t=!0,c}t=!0},filterTransaction:(e,r)=>{const n=this.options.limit;if(!e.docChanged||n===0||n===null||n===void 0)return!0;const i=this.storage.characters({node:r.doc}),s=this.storage.characters({node:e.doc});if(s<=n||i>n&&s>n&&s<=i)return!0;if(i>n&&s>n&&s>i||!e.getMeta("paste"))return!1;const o=e.selection.$head.pos,l=s-n,c=o-l,f=o;return e.deleteRange(c,f),!(this.storage.characters({node:e.doc})>n)}})]}});var xre=Gr.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[ire(this.options)]}});Gr.create({name:"focus",addOptions(){return{className:"has-focus",mode:"all"}},addProseMirrorPlugins(){return[new pn({key:new Mn("focus"),props:{decorations:({doc:t,selection:e})=>{const{isEditable:r,isFocused:n}=this.editor,{anchor:i}=e,s=[];if(!r||!n)return yn.create(t,[]);let a=0;this.options.mode==="deepest"&&t.descendants((l,c)=>{if(l.isText)return;if(!(i>=c&&i<=c+l.nodeSize-1))return!1;a+=1});let o=0;return t.descendants((l,c)=>{if(l.isText||!(i>=c&&i<=c+l.nodeSize-1))return!1;if(o+=1,this.options.mode==="deepest"&&a-o>0||this.options.mode==="shallowest"&&o>1)return this.options.mode==="deepest";s.push(rs.node(c,c+l.nodeSize,{class:this.options.className}))}),yn.create(t,s)}}})]}});var Bre=Gr.create({name:"gapCursor",addProseMirrorPlugins(){return[lre()]},extendNodeSchema(t){var e;const r={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=qr(Qt(t,"allowGapCursor",r)))!=null?e:null}}}),sF="placeholder";function Cre(t){return t.replace(/\s+/g,"-").replace(/[^a-zA-Z0-9-]/g,"").replace(/^[0-9-]+/,"").replace(/^-+/,"").toLowerCase()}Gr.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",dataAttribute:sF,placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){const t=this.options.dataAttribute?`data-${Cre(this.options.dataAttribute)}`:`data-${sF}`;return[new pn({key:new Mn("placeholder"),props:{decorations:({doc:e,selection:r})=>{const n=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:i}=r,s=[];if(!n)return null;const a=this.editor.isEmpty;return e.descendants((o,l)=>{const c=i>=l&&i<=l+o.nodeSize,f=!o.isLeaf&&dv(o);if((c||!this.options.showOnlyCurrent)&&f){const h=[this.options.emptyNodeClass];a&&h.push(this.options.emptyEditorClass);const m=rs.node(l,l+o.nodeSize,{class:h.join(" "),[t]:typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:o,pos:l,hasAnchor:c}):this.options.placeholder});s.push(m)}return this.options.includeChildren}),yn.create(e,s)}}})]}});Gr.create({name:"selection",addOptions(){return{className:"selection"}},addProseMirrorPlugins(){const{editor:t,options:e}=this;return[new pn({key:new Mn("selection"),props:{decorations(r){return r.selection.empty||t.isFocused||!t.isEditable||FR(r.selection)||t.view.dragging?null:yn.create(r.doc,[rs.inline(r.selection.from,r.selection.to,{class:e.className})])}}})]}});function aF({types:t,node:e}){return e&&Array.isArray(t)&&t.includes(e.type)||e?.type===t}var Sre=Gr.create({name:"trailingNode",addOptions(){return{node:void 0,notAfter:[]}},addProseMirrorPlugins(){var t;const e=new Mn(this.name),r=this.options.node||((t=this.editor.schema.topNodeType.contentMatch.defaultType)==null?void 0:t.name)||"paragraph",n=Object.entries(this.editor.schema.nodes).map(([,i])=>i).filter(i=>(this.options.notAfter||[]).concat(r).includes(i.name));return[new pn({key:e,appendTransaction:(i,s,a)=>{const{doc:o,tr:l,schema:c}=a,f=e.getState(a),h=o.content.size,m=c.nodes[r];if(f)return l.insert(h,m.create())},state:{init:(i,s)=>{const a=s.tr.doc.lastChild;return!aF({node:a,types:n})},apply:(i,s)=>{if(!i.docChanged||i.getMeta("__uniqueIDTransaction"))return s;const a=i.doc.lastChild;return!aF({node:a,types:n})}}})]}}),Ere=Gr.create({name:"undoRedo",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>d8(t,e),redo:()=>({state:t,dispatch:e})=>p8(t,e)}},addProseMirrorPlugins(){return[bre(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),_re=Gr.create({name:"starterKit",addExtensions(){var t,e,r,n;const i=[];return this.options.bold!==!1&&i.push(nte.configure(this.options.bold)),this.options.blockquote!==!1&&i.push(Xee.configure(this.options.blockquote)),this.options.bulletList!==!1&&i.push(YM.configure(this.options.bulletList)),this.options.code!==!1&&i.push(ate.configure(this.options.code)),this.options.codeBlock!==!1&&i.push(Ate.configure(this.options.codeBlock)),this.options.document!==!1&&i.push(cte.configure(this.options.document)),this.options.dropcursor!==!1&&i.push(xre.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&i.push(Bre.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&i.push(ute.configure(this.options.hardBreak)),this.options.heading!==!1&&i.push(fte.configure(this.options.heading)),this.options.undoRedo!==!1&&i.push(Ere.configure(this.options.undoRedo)),this.options.horizontalRule!==!1&&i.push(hte.configure(this.options.horizontalRule)),this.options.italic!==!1&&i.push(yte.configure(this.options.italic)),this.options.listItem!==!1&&i.push(JM.configure(this.options.listItem)),this.options.listKeymap!==!1&&i.push(n8.configure((t=this.options)==null?void 0:t.listKeymap)),this.options.link!==!1&&i.push($M.configure((e=this.options)==null?void 0:e.link)),this.options.orderedList!==!1&&i.push(s8.configure(this.options.orderedList)),this.options.paragraph!==!1&&i.push(ere.configure(this.options.paragraph)),this.options.strike!==!1&&i.push(l8.configure(this.options.strike)),this.options.text!==!1&&i.push(nre.configure(this.options.text)),this.options.underline!==!1&&i.push(A8.configure((r=this.options)==null?void 0:r.underline)),this.options.trailingNode!==!1&&i.push(Sre.configure((n=this.options)==null?void 0:n.trailingNode)),i}}),kre=_re,Tre=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,Nre=ss.create({name:"image",addOptions(){return{inline:!1,allowBase64:!1,HTMLAttributes:{},resize:!1}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null},width:{default:null},height:{default:null}}},parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:t}){return["img",dn(this.options.HTMLAttributes,t)]},parseMarkdown:(t,e)=>e.createNode("image",{src:t.href,title:t.title,alt:t.text}),renderMarkdown:t=>{var e,r,n,i,s,a;const o=(r=(e=t.attrs)==null?void 0:e.src)!=null?r:"",l=(i=(n=t.attrs)==null?void 0:n.alt)!=null?i:"",c=(a=(s=t.attrs)==null?void 0:s.title)!=null?a:"";return c?`![${l}](${o} "${c}")`:`![${l}](${o})`},addNodeView(){if(!this.options.resize||!this.options.resize.enabled||typeof document>"u")return null;const{directions:t,minWidth:e,minHeight:r,alwaysPreserveAspectRatio:n}=this.options.resize;return({node:i,getPos:s,HTMLAttributes:a,editor:o})=>{const l=document.createElement("img");Object.entries(a).forEach(([h,m])=>{if(m!=null)switch(h){case"width":case"height":break;default:l.setAttribute(h,m);break}}),l.src=a.src;const c=new qJ({element:l,editor:o,node:i,getPos:s,onResize:(h,m)=>{l.style.width=`${h}px`,l.style.height=`${m}px`},onCommit:(h,m)=>{const d=s();d!==void 0&&this.editor.chain().setNodeSelection(d).updateAttributes(this.name,{width:h,height:m}).run()},onUpdate:(h,m,d)=>h.type===i.type,options:{directions:t,min:{width:e,height:r},preserveAspectRatio:n===!0}}),f=c.dom;return f.style.visibility="hidden",f.style.pointerEvents="none",l.onload=()=>{f.style.visibility="",f.style.pointerEvents=""},c}},addCommands(){return{setImage:t=>({commands:e})=>e.insertContent({type:this.name,attrs:t})}},addInputRules(){return[$R({find:Tre,type:this.type,getAttributes:t=>{const[,,e,r,n]=t;return{src:r,alt:e,title:n}}})]}}),m8=ss.create({name:"tableCell",addOptions(){return{HTMLAttributes:{}}},content:"block+",addAttributes(){return{colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:t=>{var e,r;const n=t.getAttribute("colwidth"),i=n?n.split(",").map(s=>parseInt(s,10)):null;if(!i){const s=(e=t.closest("table"))==null?void 0:e.querySelectorAll("colgroup > col"),a=Array.from(((r=t.parentElement)==null?void 0:r.children)||[]).indexOf(t);if(a&&a>-1&&s&&s[a]){const o=s[a].getAttribute("width");return o?[parseInt(o,10)]:null}}return i}}}},tableRole:"cell",isolating:!0,parseHTML(){return[{tag:"td"}]},renderHTML({HTMLAttributes:t}){return["td",dn(this.options.HTMLAttributes,t),0]}}),g8=ss.create({name:"tableHeader",addOptions(){return{HTMLAttributes:{}}},content:"block+",addAttributes(){return{colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:t=>{const e=t.getAttribute("colwidth");return e?e.split(",").map(n=>parseInt(n,10)):null}}}},tableRole:"header_cell",isolating:!0,parseHTML(){return[{tag:"th"}]},renderHTML({HTMLAttributes:t}){return["th",dn(this.options.HTMLAttributes,t),0]}}),y8=ss.create({name:"tableRow",addOptions(){return{HTMLAttributes:{}}},content:"(tableCell | tableHeader)*",tableRole:"row",parseHTML(){return[{tag:"tr"}]},renderHTML({HTMLAttributes:t}){return["tr",dn(this.options.HTMLAttributes,t),0]}});function nS(t,e){return e?["width",`${Math.max(e,t)}px`]:["min-width",`${t}px`]}function oF(t,e,r,n,i,s){var a;let o=0,l=!0,c=e.firstChild;const f=t.firstChild;if(f!==null)for(let m=0,d=0;m<f.childCount;m+=1){const{colspan:g,colwidth:v}=f.child(m).attrs;for(let b=0;b<g;b+=1,d+=1){const w=i===d?s:v&&v[b],B=w?`${w}px`:"";if(o+=w||n,w||(l=!1),c){if(c.style.width!==B){const[S,C]=nS(n,w);c.style.setProperty(S,C)}c=c.nextSibling}else{const S=document.createElement("col"),[C,k]=nS(n,w);S.style.setProperty(C,k),e.appendChild(S)}}}for(;c;){const m=c.nextSibling;(a=c.parentNode)==null||a.removeChild(c),c=m}const h=t.attrs.style&&typeof t.attrs.style=="string"&&/\bwidth\s*:/i.test(t.attrs.style);l&&!h?(r.style.width=`${o}px`,r.style.minWidth=""):(r.style.width="",r.style.minWidth=`${o}px`)}var Fre=class{constructor(t,e){this.node=t,this.cellMinWidth=e,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),t.attrs.style&&(this.table.style.cssText=t.attrs.style),this.colgroup=this.table.appendChild(document.createElement("colgroup")),oF(t,this.colgroup,this.table,e),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(t){return t.type!==this.node.type?!1:(this.node=t,oF(t,this.colgroup,this.table,this.cellMinWidth),!0)}ignoreMutation(t){const e=t.target,r=this.dom.contains(e),n=this.contentDOM.contains(e);return!!(r&&!n&&(t.type==="attributes"||t.type==="childList"||t.type==="characterData"))}};function Ure(t,e,r,n){let i=0,s=!0;const a=[],o=t.firstChild;if(!o)return{};for(let h=0,m=0;h<o.childCount;h+=1){const{colspan:d,colwidth:g}=o.child(h).attrs;for(let v=0;v<d;v+=1,m+=1){const b=r===m?n:g&&g[v];i+=b||e,b||(s=!1);const[w,B]=nS(e,b);a.push(["col",{style:`${w}: ${B}`}])}}const l=s?`${i}px`:"",c=s?"":`${i}px`;return{colgroup:["colgroup",{},...a],tableWidth:l,tableMinWidth:c}}function lF(t,e){return t.createAndFill()}function Ore(t){if(t.cached.tableNodeTypes)return t.cached.tableNodeTypes;const e={};return Object.keys(t.nodes).forEach(r=>{const n=t.nodes[r];n.spec.tableRole&&(e[n.spec.tableRole]=n)}),t.cached.tableNodeTypes=e,e}function Lre(t,e,r,n,i){const s=Ore(t),a=[],o=[];for(let c=0;c<r;c+=1){const f=lF(s.cell);if(f&&o.push(f),n){const h=lF(s.header_cell);h&&a.push(h)}}const l=[];for(let c=0;c<e;c+=1)l.push(s.row.createChecked(null,n&&c===0?a:o));return s.table.createChecked(null,l)}function Dre(t){return t instanceof hn}var by=({editor:t})=>{const{selection:e}=t.state;if(!Dre(e))return!1;let r=0;const n=BR(e.ranges[0].$from,s=>s.type.name==="table");return n?.node.descendants(s=>{if(s.type.name==="table")return!1;["tableCell","tableHeader"].includes(s.type.name)&&(r+=1)}),r===e.ranges.length?(t.commands.deleteTable(),!0):!1},Ire="";function Rre(t){return(t||"").replace(/\s+/g," ").trim()}function Mre(t,e,r={}){var n;const i=(n=r.cellLineSeparator)!=null?n:Ire;if(!t||!t.content||t.content.length===0)return"";const s=[];t.content.forEach(g=>{const v=[];g.content&&g.content.forEach(b=>{let w="";b.content&&Array.isArray(b.content)&&b.content.length>1?w=b.content.map(k=>e.renderChildren(k)).join(i):w=b.content?e.renderChildren(b.content):"";const B=Rre(w),S=b.type==="tableHeader";v.push({text:B,isHeader:S})}),s.push(v)});const a=s.reduce((g,v)=>Math.max(g,v.length),0);if(a===0)return"";const o=new Array(a).fill(0);s.forEach(g=>{var v;for(let b=0;b<a;b+=1){const B=(((v=g[b])==null?void 0:v.text)||"").length;B>o[b]&&(o[b]=B),o[b]<3&&(o[b]=3)}});const l=(g,v)=>g+" ".repeat(Math.max(0,v-g.length)),c=s[0],f=c.some(g=>g.isHeader);let h=`
`;const m=new Array(a).fill(0).map((g,v)=>f&&c[v]&&c[v].text||"");return h+=`| ${m.map((g,v)=>l(g,o[v])).join(" | ")} |
`,h+=`| ${o.map(g=>"-".repeat(Math.max(3,g))).join(" | ")} |
`,(f?s.slice(1):s).forEach(g=>{h+=`| ${new Array(a).fill(0).map((v,b)=>l(g[b]&&g[b].text||"",o[b])).join(" | ")} |
`}),h}var Qre=Mre,w8=ss.create({name:"table",addOptions(){return{HTMLAttributes:{},resizable:!1,renderWrapper:!1,handleWidth:5,cellMinWidth:25,View:Fre,lastColumnResizable:!0,allowTableNodeSelection:!1}},content:"tableRow+",tableRole:"table",isolating:!0,group:"block",parseHTML(){return[{tag:"table"}]},renderHTML({node:t,HTMLAttributes:e}){const{colgroup:r,tableWidth:n,tableMinWidth:i}=Ure(t,this.options.cellMinWidth),s=e.style;function a(){return s||(n?`width: ${n}`:`min-width: ${i}`)}const o=["table",dn(this.options.HTMLAttributes,e,{style:a()}),r,["tbody",0]];return this.options.renderWrapper?["div",{class:"tableWrapper"},o]:o},parseMarkdown:(t,e)=>{const r=[];if(t.header){const n=[];t.header.forEach(i=>{n.push(e.createNode("tableHeader",{},[{type:"paragraph",content:e.parseInline(i.tokens)}]))}),r.push(e.createNode("tableRow",{},n))}return t.rows&&t.rows.forEach(n=>{const i=[];n.forEach(s=>{i.push(e.createNode("tableCell",{},[{type:"paragraph",content:e.parseInline(s.tokens)}]))}),r.push(e.createNode("tableRow",{},i))}),e.createNode("table",void 0,r)},renderMarkdown:(t,e)=>Qre(t,e),addCommands(){return{insertTable:({rows:t=3,cols:e=3,withHeaderRow:r=!0}={})=>({tr:n,dispatch:i,editor:s})=>{const a=Lre(s.schema,t,e,r);if(i){const o=n.selection.from+1;n.replaceSelectionWith(a).scrollIntoView().setSelection(qt.near(n.doc.resolve(o)))}return!0},addColumnBefore:()=>({state:t,dispatch:e})=>JZ(t,e),addColumnAfter:()=>({state:t,dispatch:e})=>XZ(t,e),deleteColumn:()=>({state:t,dispatch:e})=>eee(t,e),addRowBefore:()=>({state:t,dispatch:e})=>ree(t,e),addRowAfter:()=>({state:t,dispatch:e})=>nee(t,e),deleteRow:()=>({state:t,dispatch:e})=>see(t,e),deleteTable:()=>({state:t,dispatch:e})=>fee(t,e),mergeCells:()=>({state:t,dispatch:e})=>ON(t,e),splitCell:()=>({state:t,dispatch:e})=>LN(t,e),toggleHeaderColumn:()=>({state:t,dispatch:e})=>kg("column")(t,e),toggleHeaderRow:()=>({state:t,dispatch:e})=>kg("row")(t,e),toggleHeaderCell:()=>({state:t,dispatch:e})=>cee(t,e),mergeOrSplit:()=>({state:t,dispatch:e})=>ON(t,e)?!0:LN(t,e),setCellAttribute:(t,e)=>({state:r,dispatch:n})=>lee(t,e)(r,n),goToNextCell:()=>({state:t,dispatch:e})=>IN(1)(t,e),goToPreviousCell:()=>({state:t,dispatch:e})=>IN(-1)(t,e),fixTables:()=>({state:t,dispatch:e})=>(e&&CM(t),!0),setCellSelection:t=>({tr:e,dispatch:r})=>{if(r){const n=hn.create(e.doc,t.anchorCell,t.headCell);e.setSelection(n)}return!0}}},addKeyboardShortcuts(){return{Tab:()=>this.editor.commands.goToNextCell()?!0:this.editor.can().addRowAfter()?this.editor.chain().addRowAfter().goToNextCell().run():!1,"Shift-Tab":()=>this.editor.commands.goToPreviousCell(),Backspace:by,"Mod-Backspace":by,Delete:by,"Mod-Delete":by}},addProseMirrorPlugins(){return[...this.options.resizable&&this.editor.isEditable?[xee({handleWidth:this.options.handleWidth,cellMinWidth:this.options.cellMinWidth,defaultCellMinWidth:this.options.cellMinWidth,View:this.options.View,lastColumnResizable:this.options.lastColumnResizable})]:[],Uee({allowTableNodeSelection:this.options.allowTableNodeSelection})]},extendNodeSchema(t){const e={name:t.name,options:t.options,storage:t.storage};return{tableRole:qr(Qt(t,"tableRole",e))}}});Gr.create({name:"tableKit",addExtensions(){const t=[];return this.options.table!==!1&&t.push(w8.configure(this.options.table)),this.options.tableCell!==!1&&t.push(m8.configure(this.options.tableCell)),this.options.tableHeader!==!1&&t.push(g8.configure(this.options.tableHeader)),this.options.tableRow!==!1&&t.push(y8.configure(this.options.tableRow)),t}});var Hre=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))$/,jre=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))/g,Pre=oc.create({name:"highlight",addOptions(){return{multicolor:!1,HTMLAttributes:{}}},addAttributes(){return this.options.multicolor?{color:{default:null,parseHTML:t=>t.getAttribute("data-color")||t.style.backgroundColor,renderHTML:t=>t.color?{"data-color":t.color,style:`background-color: ${t.color}; color: inherit`}:{}}}:{}},parseHTML(){return[{tag:"mark"}]},renderHTML({HTMLAttributes:t}){return["mark",dn(this.options.HTMLAttributes,t),0]},renderMarkdown:(t,e)=>`==${e.renderChildren(t)}==`,parseMarkdown:(t,e)=>e.applyMark("highlight",e.parseInline(t.tokens||[])),markdownTokenizer:{name:"highlight",level:"inline",start:t=>t.indexOf("=="),tokenize(t,e,r){const i=/^(==)([^=]+)(==)/.exec(t);if(i){const s=i[2].trim(),a=r.inlineTokens(s);return{type:"highlight",raw:i[0],text:s,tokens:a}}}},addCommands(){return{setHighlight:t=>({commands:e})=>e.setMark(this.name,t),toggleHighlight:t=>({commands:e})=>e.toggleMark(this.name,t),unsetHighlight:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-h":()=>this.editor.commands.toggleHighlight()}},addInputRules(){return[Yf({find:Hre,type:this.type})]},addPasteRules(){return[Su({find:jre,type:this.type})]}}),zre=20,v8=(t,e=0)=>{const r=[];return!t.children.length||e>zre||Array.from(t.children).forEach(n=>{n.tagName==="SPAN"?r.push(n):n.children.length&&r.push(...v8(n,e+1))}),r},Kre=t=>{if(!t.children.length)return;const e=v8(t);e&&e.forEach(r=>{var n,i;const s=r.getAttribute("style"),a=(i=(n=r.parentElement)==null?void 0:n.closest("span"))==null?void 0:i.getAttribute("style");r.setAttribute("style",`${a};${s}`)})},b8=oc.create({name:"textStyle",priority:101,addOptions(){return{HTMLAttributes:{},mergeNestedSpanStyles:!0}},parseHTML(){return[{tag:"span",consuming:!1,getAttrs:t=>t.hasAttribute("style")?(this.options.mergeNestedSpanStyles&&Kre(t),{}):!1}]},renderHTML({HTMLAttributes:t}){return["span",dn(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleTextStyle:t=>({commands:e})=>e.toggleMark(this.name,t),removeEmptyTextStyle:()=>({tr:t})=>{const{selection:e}=t;return t.doc.nodesBetween(e.from,e.to,(r,n)=>{if(r.isTextblock)return!0;r.marks.filter(i=>i.type===this.type).some(i=>Object.values(i.attrs).some(s=>!!s))||t.removeMark(n,n+r.nodeSize,this.type)}),!0}}}}),Vre=Gr.create({name:"backgroundColor",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{backgroundColor:{default:null,parseHTML:t=>{var e;const r=t.getAttribute("style");if(r){const n=r.split(";").map(i=>i.trim()).filter(Boolean);for(let i=n.length-1;i>=0;i-=1){const s=n[i].split(":");if(s.length>=2){const a=s[0].trim().toLowerCase(),o=s.slice(1).join(":").trim();if(a==="background-color")return o.replace(/['"]+/g,"")}}}return(e=t.style.backgroundColor)==null?void 0:e.replace(/['"]+/g,"")},renderHTML:t=>t.backgroundColor?{style:`background-color: ${t.backgroundColor}`}:{}}}}]},addCommands(){return{setBackgroundColor:t=>({chain:e})=>e().setMark("textStyle",{backgroundColor:t}).run(),unsetBackgroundColor:()=>({chain:t})=>t().setMark("textStyle",{backgroundColor:null}).removeEmptyTextStyle().run()}}}),x8=Gr.create({name:"color",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{color:{default:null,parseHTML:t=>{var e;const r=t.getAttribute("style");if(r){const n=r.split(";").map(i=>i.trim()).filter(Boolean);for(let i=n.length-1;i>=0;i-=1){const s=n[i].split(":");if(s.length>=2){const a=s[0].trim().toLowerCase(),o=s.slice(1).join(":").trim();if(a==="color")return o.replace(/['"]+/g,"")}}}return(e=t.style.color)==null?void 0:e.replace(/['"]+/g,"")},renderHTML:t=>t.color?{style:`color: ${t.color}`}:{}}}}]},addCommands(){return{setColor:t=>({chain:e})=>e().setMark("textStyle",{color:t}).run(),unsetColor:()=>({chain:t})=>t().setMark("textStyle",{color:null}).removeEmptyTextStyle().run()}}}),qre=Gr.create({name:"fontFamily",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontFamily:{default:null,parseHTML:t=>t.style.fontFamily,renderHTML:t=>t.fontFamily?{style:`font-family: ${t.fontFamily}`}:{}}}}]},addCommands(){return{setFontFamily:t=>({chain:e})=>e().setMark("textStyle",{fontFamily:t}).run(),unsetFontFamily:()=>({chain:t})=>t().setMark("textStyle",{fontFamily:null}).removeEmptyTextStyle().run()}}}),Gre=Gr.create({name:"fontSize",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontSize:{default:null,parseHTML:t=>t.style.fontSize,renderHTML:t=>t.fontSize?{style:`font-size: ${t.fontSize}`}:{}}}}]},addCommands(){return{setFontSize:t=>({chain:e})=>e().setMark("textStyle",{fontSize:t}).run(),unsetFontSize:()=>({chain:t})=>t().setMark("textStyle",{fontSize:null}).removeEmptyTextStyle().run()}}}),Wre=Gr.create({name:"lineHeight",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{lineHeight:{default:null,parseHTML:t=>t.style.lineHeight,renderHTML:t=>t.lineHeight?{style:`line-height: ${t.lineHeight}`}:{}}}}]},addCommands(){return{setLineHeight:t=>({chain:e})=>e().setMark("textStyle",{lineHeight:t}).run(),unsetLineHeight:()=>({chain:t})=>t().setMark("textStyle",{lineHeight:null}).removeEmptyTextStyle().run()}}});Gr.create({name:"textStyleKit",addExtensions(){const t=[];return this.options.backgroundColor!==!1&&t.push(Vre.configure(this.options.backgroundColor)),this.options.color!==!1&&t.push(x8.configure(this.options.color)),this.options.fontFamily!==!1&&t.push(qre.configure(this.options.fontFamily)),this.options.fontSize!==!1&&t.push(Gre.configure(this.options.fontSize)),this.options.lineHeight!==!1&&t.push(Wre.configure(this.options.lineHeight)),this.options.textStyle!==!1&&t.push(b8.configure(this.options.textStyle)),t}});const rl=({onClick:t,isActive:e,children:r,title:n,className:i=""})=>_.jsx("button",{onClick:t,title:n,className:`p-2 rounded-lg transition-colors duration-200 active:scale-95 flex items-center justify-center w-10 h-10 ${i}`,style:{backgroundColor:e?"rgba(14, 165, 233, 0.15)":"transparent",color:e?"var(--aurora-accent)":"var(--aurora-secondary)"},onMouseEnter:s=>{e||(s.currentTarget.style.backgroundColor="rgba(255, 255, 255, 0.4)",s.currentTarget.style.color="var(--aurora-accent)")},onMouseLeave:s=>{e||(s.currentTarget.style.backgroundColor="transparent",s.currentTarget.style.color="var(--aurora-secondary)")},children:r}),$re=({editor:t,onAnalyze:e})=>{const r=UM({editor:t,selector:({editor:o})=>{let l=0;return o.state.doc.descendants(c=>{if(c.type.name==="heading"){const f=Number(c.attrs.level||0);f>l&&(l=f)}}),l}}),n=Math.min(6,Math.max(3,r+1)),i=ke.useCallback(()=>{const o=document.createElement("input");o.type="file",o.accept="image/*",o.onchange=l=>{const c=l.target.files?.[0];if(c){const f=new FileReader;f.onload=h=>{const m=h.target?.result;t.chain().focus().setImage({src:m}).run()},f.readAsDataURL(c)}},o.click()},[t]),s=ke.useCallback(()=>{t.chain().focus().insertTable({rows:3,cols:3,withHeaderRow:!0}).run()},[t]),a=o=>{const l={size:16};return _.jsxs("span",{className:"flex items-center justify-center",children:[o===1&&_.jsx(aK,{...l}),o===2&&_.jsx(lK,{...l}),o===3&&_.jsx(cK,{...l}),o>=4&&_.jsxs("span",{className:"text-xs",children:["H",o]})]})};return _.jsx(_.Fragment,{children:_.jsxs("div",{className:"p-3 flex flex-wrap gap-0.5",style:{backgroundColor:"rgba(255, 255, 255, 0.5)",borderBottom:"1px solid rgba(200, 210, 220, 0.4)"},children:[_.jsx(rl,{onClick:()=>t.chain().focus().undo().run(),title:me("Undo"),children:_.jsx(sV,{size:18,strokeWidth:1.75})}),_.jsx(rl,{onClick:()=>t.chain().focus().redo().run(),title:me("Redo"),children:_.jsx(HK,{size:18,strokeWidth:1.75})}),_.jsx("div",{className:"flex",children:Array.from({length:n},(o,l)=>l+1).map((o,l)=>_.jsx(rl,{onClick:()=>t.chain().focus().toggleHeading({level:o}).run(),isActive:t.isActive("heading",{level:o}),title:me(`Heading ${o}`),className:`${l===0?"rounded-r-none":l===n-1?"rounded-l-none":"rounded-l-none rounded-r-none"}`,children:a(o)},o))}),_.jsx(rl,{onClick:()=>t.chain().focus().toggleBulletList().run(),isActive:t.isActive("bulletList"),title:me("Bullet List"),children:_.jsx(oD,{size:18,strokeWidth:1.75})}),_.jsx(rl,{onClick:()=>t.chain().focus().toggleOrderedList().run(),isActive:t.isActive("orderedList"),title:me("Ordered List"),children:_.jsx(CK,{size:18,strokeWidth:1.75})}),_.jsx(rl,{onClick:()=>t.chain().focus().toggleTaskList().run(),isActive:t.isActive("taskList"),title:me("Task List"),children:_.jsx(VK,{size:18,strokeWidth:1.75})}),_.jsx(rl,{onClick:()=>t.chain().focus().toggleBlockquote().run(),isActive:t.isActive("blockquote"),title:me("Quote"),children:_.jsx(MK,{size:18,strokeWidth:1.75})}),_.jsx(rl,{onClick:i,title:me("Add Image"),children:_.jsx(dK,{size:18,strokeWidth:1.75})}),_.jsx(rl,{onClick:s,title:me("Insert Table"),children:_.jsx(JK,{size:18,strokeWidth:1.75})}),_.jsx(rl,{onClick:()=>t.chain().focus().setHorizontalRule().run(),title:me("Horizontal Rule"),children:_.jsx(OK,{size:18,strokeWidth:1.75})}),e&&_.jsx(rl,{onClick:e,title:me("Analyze"),className:"ml-auto",children:_.jsx(nC,{size:18,strokeWidth:1.75})})]})})},Yre=["#EF4444","#F97316","#EAB308","#22C55E","#06B6D4","#3B82F6","#8B5CF6","#EC4899","#6B7280","#000000","#FFFFFF"],iS="diary_saved_colors",Jre=()=>{const t=localStorage.getItem(iS);if(t)try{return JSON.parse(t)}catch{return[]}return[]},AF=({onColorSelect:t,onClose:e})=>{const[r,n]=ke.useState("#000000"),[i,s]=ke.useState(()=>Jre()),a=h=>{let m=h.target.value.toUpperCase();m.startsWith("#")||(m="#"),m.length>7&&(m=m.slice(0,7)),n(m)},o=h=>/^#[0-9A-F]{6}$/i.test(h),l=()=>{if(o(r)){const h=r.toUpperCase(),m=i.includes(h)?i:[h,...i].slice(0,20);s(m),localStorage.setItem(iS,JSON.stringify(m))}},c=h=>{const m=i.filter(d=>d!==h);s(m),localStorage.setItem(iS,JSON.stringify(m))},f=h=>{n(h.toUpperCase())};return _.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm flex items-center justify-center z-50",children:_.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-sm p-6",children:[_.jsxs("div",{className:"flex justify-between items-center mb-5",children:[_.jsx("h3",{className:"text-lg font-semibold text-gray-900 tracking-tight",children:me("Text Color")}),_.jsx("button",{onClick:e,className:"p-1.5 text-gray-400 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-all duration-200 active:scale-95",title:me("Cancel"),children:_.jsx(Mg,{size:18,strokeWidth:1.75})})]}),_.jsxs("div",{className:"mb-5",children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:me("Color Hex Value")}),_.jsxs("div",{className:"flex gap-3",children:[_.jsx("input",{type:"text",value:r,onChange:a,placeholder:"#000000",className:"flex-1 px-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl text-gray-900 font-mono focus:bg-white focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 focus:outline-none transition-all duration-200"}),_.jsx("div",{className:"w-11 h-11 rounded-xl border-2 border-gray-200 shadow-inner",style:{backgroundColor:o(r)?r:"#ffffff"}})]})]}),_.jsxs("div",{className:"mb-5",children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:me("Preset Colors")}),_.jsx("div",{className:"grid grid-cols-6 gap-2",children:Yre.map(h=>_.jsx("button",{onClick:()=>f(h),className:"w-9 h-9 rounded-lg border-2 border-gray-200 hover:border-blue-500 hover:scale-110 transition-all duration-200 shadow-sm",style:{backgroundColor:h},title:h},h))})]}),i.length>0&&_.jsxs("div",{className:"mb-5",children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:me("Saved Colors")}),_.jsx("div",{className:"grid grid-cols-6 gap-2",children:i.map(h=>_.jsxs("div",{className:"relative group",children:[_.jsx("button",{onClick:()=>f(h),className:"w-9 h-9 rounded-lg border-2 border-gray-200 hover:border-blue-500 hover:scale-110 transition-all duration-200 shadow-sm",style:{backgroundColor:h},title:h}),_.jsx("button",{onClick:()=>c(h),className:"absolute -top-1.5 -right-1.5 w-5 h-5 bg-red-500 text-white rounded-full opacity-0 group-hover:opacity-100 transition-all duration-200 flex items-center justify-center text-xs font-medium shadow-sm",title:me("Delete"),children:""})]},h))})]}),_.jsxs("div",{className:"flex gap-3 justify-end",children:[_.jsx("button",{onClick:()=>{o(r)&&l()},disabled:!o(r),className:"px-4 py-2.5 bg-gray-100 text-gray-700 rounded-xl font-medium hover:bg-gray-200 disabled:opacity-40 disabled:cursor-not-allowed transition-all duration-200 active:scale-[0.97]",children:me("Save Color")}),_.jsx("button",{onClick:()=>{o(r)&&(t(r),e())},disabled:!o(r),className:"px-5 py-2.5 bg-blue-500 hover:bg-blue-600 text-white rounded-xl font-medium shadow-md hover:shadow-lg disabled:opacity-40 disabled:cursor-not-allowed transition-all duration-200 active:scale-[0.97]",children:me("Apply")})]})]})})},yf=({onMouseDown:t,isActive:e,title:r,children:n})=>_.jsx("button",{type:"button",onMouseDown:t,title:r,className:`p-2 rounded-apple-sm transition-all duration-200 active:scale-95 ${e?"bg-accent-100 text-accent-600":"text-primary-600 hover:bg-primary-100"}`,children:n}),Xre=({editor:t})=>{const[e,r]=ke.useState(!1),[n,i]=ke.useState({top:0,left:0}),[s,a]=ke.useState(!1),o=ke.useRef(null),l=ke.useCallback(()=>{const{selection:h}=t.state;if(h.empty||!t.isFocused){r(!1);return}const m=window.getSelection();if(!m||m.rangeCount===0||m.isCollapsed){r(!1);return}const g=m.getRangeAt(0).getBoundingClientRect();if(g.width===0&&g.height===0){r(!1);return}const v=g.top+window.scrollY-52,b=g.left+window.scrollX+g.width/2;i({top:v,left:b}),r(!0)},[t]);ke.useEffect(()=>{const h=()=>{requestAnimationFrame(l)},m=()=>{r(!1)};return t.on("selectionUpdate",h),t.on("transaction",h),t.on("focus",h),t.on("blur",m),()=>{t.off("selectionUpdate",h),t.off("transaction",h),t.off("focus",h),t.off("blur",m)}},[t,l]);const c=ke.useCallback(h=>m=>{m.preventDefault(),h()},[]),f=ke.useCallback(()=>{const h=window.prompt(me("Enter URL:"));h&&t.chain().focus().setLink({href:h}).run()},[t]);return e?_.jsxs(_.Fragment,{children:[_.jsxs("div",{className:"fixed z-50 -translate-x-1/2 bg-white/95 backdrop-blur-apple border border-primary-200 rounded-apple-lg shadow-apple-lg p-1.5 flex items-center gap-1",style:{top:`${n.top}px`,left:`${n.left}px`},children:[_.jsx(yf,{onMouseDown:c(()=>t.chain().focus().toggleBold().run()),isActive:t.isActive("bold"),title:me("Bold"),children:_.jsx(kz,{size:16,strokeWidth:1.75})}),_.jsx(yf,{onMouseDown:c(()=>t.chain().focus().toggleItalic().run()),isActive:t.isActive("italic"),title:me("Italic"),children:_.jsx(yK,{size:16,strokeWidth:1.75})}),_.jsx(yf,{onMouseDown:c(()=>t.chain().focus().toggleUnderline().run()),isActive:t.isActive("underline"),title:me("Underline"),children:_.jsx(nV,{size:16,strokeWidth:1.75})}),_.jsx(yf,{onMouseDown:c(()=>t.chain().focus().toggleStrike().run()),isActive:t.isActive("strike"),title:me("Strikethrough"),children:_.jsx($K,{size:16,strokeWidth:1.75})}),_.jsx(yf,{onMouseDown:c(()=>t.chain().focus().toggleCode().run()),isActive:t.isActive("code"),title:me("Code"),children:_.jsx(aD,{size:16,strokeWidth:1.75})}),_.jsx(yf,{onMouseDown:c(f),isActive:t.isActive("link"),title:me("Add Link"),children:_.jsx(vK,{size:16,strokeWidth:1.75})}),_.jsx(yf,{onMouseDown:c(()=>{const{from:h,to:m}=t.state.selection;o.current={from:h,to:m},a(!0)}),title:me("Text Color"),children:_.jsx(cD,{size:16,strokeWidth:1.75})})]}),s&&_.jsx(AF,{onColorSelect:h=>{if(o.current){const{from:m,to:d}=o.current;t.chain().focus().setTextSelection({from:m,to:d}).setColor(h).run()}else t.chain().focus().setColor(h).run()},onClose:()=>{a(!1),o.current=null}})]}):_.jsx(_.Fragment,{children:s&&_.jsx(AF,{onColorSelect:h=>{if(o.current){const{from:m,to:d}=o.current;t.chain().focus().setTextSelection({from:m,to:d}).setColor(h).run()}else t.chain().focus().setColor(h).run()},onClose:()=>{a(!1),o.current=null}})})},cF=({content:t,onChange:e,editable:r=!0,contentRightPanel:n,onAnalyze:i})=>{const s=ke.useMemo(()=>[kre.configure({heading:{levels:[1,2,3,4,5,6]},strike:!1}),A8,l8,$M.configure({openOnClick:!1,HTMLAttributes:{class:"text-blue-600 underline cursor-pointer"}}),Nre.configure({HTMLAttributes:{class:"max-w-full h-auto rounded-lg"}}),w8.configure({resizable:!0}),y8,m8,g8,o8,a8.configure({nested:!0}),Pre.configure({multicolor:!0}),b8,x8],[]),a=qee({extensions:s,content:t,editable:r,onUpdate:({editor:o})=>{e(o.getHTML())},editorProps:{attributes:{class:"prose prose-sm sm:prose lg:prose-lg xl:prose-xl focus:outline-none max-w-none"},handleKeyDown:(o,l)=>{if(l.key==="Tab"){l.preventDefault();const{state:c,dispatch:f}=o,{$from:h}=c.selection,d=c.tr.insertText("",h.pos,h.pos);return f(d),!0}return!1}}});return ke.useEffect(()=>{a&&t!==a.getHTML()&&a.commands.setContent(t)},[t,a]),ke.useEffect(()=>()=>{a?.destroy()},[a]),a?_.jsxs("div",{className:"flex flex-col h-full",style:{backgroundColor:"rgba(255, 255, 255, 0.75)"},children:[r&&_.jsx($re,{editor:a,onAnalyze:i}),r&&_.jsx(Xre,{editor:a}),_.jsxs("div",{className:"flex-1 overflow-hidden flex",children:[_.jsx("div",{className:"flex-1 overflow-y-auto",children:_.jsx(FM,{editor:a,className:"h-full"})}),n]})]}):null};function Zre(t){const e=[],r=new DOMParser;try{const i=r.parseFromString(t,"text/html").querySelectorAll("h1, h2, h3, h4, h5, h6");let s=0;i.forEach(a=>{const o=parseInt(a.tagName[1]),l=a.textContent||"";if(l.trim()){s++;const c=`heading-${s}`;e.push({id:c,level:o,title:l})}})}catch(n){console.error("Error parsing HTML for TOC:",n)}return e}const sx=({content:t,headerAction:e})=>{const r=ke.useMemo(()=>Zre(t),[t]),n=ke.useCallback((s,a)=>{s.preventDefault();const o=document.querySelector(".ProseMirror");if(!o)return;const c=o.querySelectorAll("h1, h2, h3, h4, h5, h6")[a];c&&(c.scrollIntoView({behavior:"smooth",block:"start"}),c.style.transition="background-color 0.3s ease",c.style.backgroundColor="rgba(0, 122, 255, 0.15)",c.style.borderRadius="6px",setTimeout(()=>{c.style.backgroundColor="transparent"},1500))},[]);if(r.length===0)return _.jsxs("div",{className:"h-full flex flex-col overflow-hidden bg-gradient-to-b from-slate-50/80 to-blue-50/40",children:[_.jsxs("div",{className:"px-4 py-3 border-b border-slate-200/60 bg-white/90 flex items-center justify-between",children:[_.jsx("h3",{className:"text-sm font-semibold text-slate-700 tracking-tight",children:me("Table of Contents")}),e]}),_.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-slate-400 p-4",children:[_.jsx(jm,{size:32,className:"mb-2 opacity-50",strokeWidth:1.5}),_.jsx("p",{className:"text-sm text-center",children:me("No headings in this article")})]})]});const i=Math.min(...r.map(s=>s.level));return _.jsxs("div",{className:"h-full flex flex-col overflow-hidden bg-gradient-to-b from-slate-50/80 to-blue-50/40",children:[_.jsxs("div",{className:"px-4 py-3 border-b border-slate-200/60 bg-white/90 flex items-center justify-between",children:[_.jsx("h3",{className:"text-sm font-semibold text-slate-700 tracking-tight",children:me("Table of Contents")}),e]}),_.jsx("div",{className:"flex-1 overflow-y-auto",children:_.jsx("ul",{className:"p-3 space-y-0.5",children:r.map((s,a)=>_.jsx("li",{style:{marginLeft:`${(s.level-i)*14}px`},children:_.jsxs("button",{onClick:o=>n(o,a),className:"w-full text-left text-sm text-slate-600 hover:text-blue-600 hover:bg-white/80 rounded-lg px-2 py-1.5 truncate block transition-all duration-200 active:scale-[0.98] hover:shadow-sm",title:s.title,children:[_.jsxs("span",{className:"inline-flex items-center justify-center w-5 h-5 text-2xs font-medium text-slate-400 bg-slate-100 rounded mr-1.5",children:["H",s.level]}),_.jsx("span",{className:"font-medium",children:s.title})]})},s.id))})})]})},ene=({children:t,minWidth:e=200,maxWidth:r=600,defaultWidth:n=288,isOpen:i,side:s="right",className:a="",persistKey:o,onWidthChange:l})=>{const c=ke.useCallback(B=>Math.max(e,Math.min(r,B)),[e,r]),[f,h]=ke.useState(()=>{if(!o||typeof window>"u")return c(n);try{const B=Number(localStorage.getItem(o));return Number.isFinite(B)?c(B):c(n)}catch(B){return console.warn("Failed to read persisted panel width",B),c(n)}}),[m,d]=ke.useState(!1),g=ke.useRef(null),v=ke.useRef(f),b=ke.useCallback(B=>{B.preventDefault(),d(!0)},[]);ke.useEffect(()=>{v.current=f,l&&l(f)},[f,l]);const w=ke.useCallback(B=>{if(!(!o||typeof window>"u"))try{localStorage.setItem(o,String(c(B)))}catch(S){console.warn("Failed to persist panel width",S)}},[o,c]);return ke.useEffect(()=>{const B=C=>{if(!m||!g.current)return;const k=g.current.getBoundingClientRect();let M;s==="right"?M=k.right-C.clientX:M=C.clientX-k.left;const D=c(M);h(D),l&&l(D)},S=()=>{d(!1),w(v.current)};return m&&(document.addEventListener("mousemove",B),document.addEventListener("mouseup",S),document.body.style.cursor="col-resize",document.body.style.userSelect="none"),()=>{document.removeEventListener("mousemove",B),document.removeEventListener("mouseup",S),document.body.style.cursor="",document.body.style.userSelect=""}},[m,s,c,w,l]),i?_.jsxs("div",{ref:g,className:`relative flex-shrink-0 ${a}`,style:{width:`${f}px`},children:[_.jsx("div",{className:`absolute top-0 ${s==="right"?"left-0":"right-0"} w-1 h-full cursor-col-resize hover:bg-blue-400 transition-colors group z-10`,onMouseDown:b,children:_.jsx("div",{className:"absolute inset-0 -mx-1"})}),_.jsx("div",{className:"h-full overflow-hidden",children:t})]}):null},uF=({tags:t,onChange:e,placeholder:r=me("Add tags (press Enter)..."),className:n=""})=>{const[i,s]=ke.useState(""),a=f=>{if(f.key==="Enter"&&i.trim()){f.preventDefault();const h=i.trim().toLowerCase();t.includes(h)||e([...t,h]),s("")}else f.key==="Backspace"&&!i&&t.length>0&&e(t.slice(0,-1))},o=f=>{e(t.filter(h=>h!==f))},l=["bg-blue-100 text-blue-700 border-blue-200","bg-green-100 text-green-700 border-green-200","bg-purple-100 text-purple-700 border-purple-200","bg-pink-100 text-pink-700 border-pink-200","bg-yellow-100 text-yellow-700 border-yellow-200","bg-indigo-100 text-indigo-700 border-indigo-200","bg-red-100 text-red-700 border-red-200","bg-orange-100 text-orange-700 border-orange-200"],c=f=>{const h=f.split("").reduce((m,d)=>m+d.charCodeAt(0),0);return l[h%l.length]};return _.jsxs("div",{className:`flex items-center p-2 border border-gray-300 rounded-lg focus-within:ring-2 focus-within:ring-blue-500 focus-within:border-transparent ${n}`,style:{minHeight:"40px"},children:[_.jsx("div",{className:"flex-1 overflow-hidden",children:_.jsxs("div",{className:"flex gap-2 overflow-x-auto",style:{scrollbarWidth:"none",msOverflowStyle:"none",WebkitOverflowScrolling:"touch",minHeight:"24px"},children:[t.map(f=>_.jsxs("span",{className:`inline-flex items-center gap-1 px-3 py-1 rounded-full text-xs font-medium border whitespace-nowrap ${c(f)}`,children:[f,_.jsx("button",{onClick:()=>o(f),className:"hover:opacity-70 transition-opacity",type:"button",children:_.jsx(Mg,{size:14})})]},f)),_.jsx("input",{type:"text",value:i,onChange:f=>s(f.target.value),onKeyDown:a,placeholder:t.length===0?r:"",className:"outline-none bg-transparent text-sm ml-2 flex-grow",style:{minWidth:"40px"}})]})}),_.jsx("button",{onClick:()=>{if(i.trim()){const f=i.trim().toLowerCase();t.includes(f)||e([...t,f]),s("")}},className:"ml-2 p-1.5 text-primary-600 hover:bg-primary-100 rounded-full transition-colors flex-shrink-0",type:"button",title:me("Add tag"),children:_.jsx($S,{size:16})})]})},tne=({items:t,className:e})=>{const[r,n]=ke.useState(!1),i=ke.useRef(null);ke.useEffect(()=>{const o=l=>{i.current&&!i.current.contains(l.target)&&n(!1)};return document.addEventListener("click",o),()=>document.removeEventListener("click",o)},[]);const[s,a]=ke.useState(null);return _.jsxs("div",{className:`relative inline-block ${e??""}`,ref:i,children:[_.jsx("button",{"aria-haspopup":"menu","aria-expanded":r,onClick:()=>n(o=>!o),className:"inline-flex items-center justify-center p-2 rounded hover:bg-gray-100 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-400",title:"More actions",type:"button",children:_.jsx(Wz,{size:16})}),r&&_.jsx("div",{role:"menu",className:"absolute right-0 mt-2 w-56 bg-white border border-gray-200 rounded shadow z-50",children:t.map((o,l)=>_.jsxs("div",{className:"relative",children:[_.jsxs("button",{role:"menuitem",onClick:()=>{o.onClick?(o.onClick(),n(!1)):o.children&&a(l===s?null:l)},onMouseEnter:()=>o.children&&a(l),onMouseLeave:()=>o.children&&a(null),className:"w-full text-left px-3 py-2 text-sm hover:bg-gray-50 flex items-center justify-between",children:[_.jsx("span",{children:o.label}),o.children&&_.jsx("span",{className:"text-xs text-gray-400",children:""})]}),o.children&&s===l&&_.jsx("div",{className:"absolute top-0 right-full mr-2 w-48 bg-white border border-gray-200 rounded shadow",children:o.children.map((c,f)=>_.jsx("button",{role:"menuitem",onClick:()=>{c.onClick&&c.onClick(),n(!1)},className:"w-full text-left px-3 py-2 text-sm hover:bg-gray-50",children:c.label},f))})]},l))})]})};var rne=Object.defineProperty,nne=Object.defineProperties,ine=Object.getOwnPropertyDescriptors,fF=Object.getOwnPropertySymbols,sne=Object.prototype.hasOwnProperty,ane=Object.prototype.propertyIsEnumerable,sS=(t,e,r)=>e in t?rne(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Or=(t,e)=>{for(var r in e||(e={}))sne.call(e,r)&&sS(t,r,e[r]);if(fF)for(var r of fF(e))ane.call(e,r)&&sS(t,r,e[r]);return t},Ap=(t,e)=>nne(t,ine(e)),rt=(t,e,r)=>sS(t,typeof e!="symbol"?e+"":e,r),one=(t,e,r)=>new Promise((n,i)=>{var s=l=>{try{o(r.next(l))}catch(c){i(c)}},a=l=>{try{o(r.throw(l))}catch(c){i(c)}},o=l=>l.done?n(l.value):Promise.resolve(l.value).then(s,a);o((r=r.apply(t,e)).next())});class Tw{constructor(e){rt(this,"rootKey"),this.rootKey=e}}const lne=Object.seal({});class ot extends Tw{constructor(e){super(e),rt(this,"root"),this.root=new Array}prepForXml(e){var r;e.stack.push(this);const n=this.root.map(i=>i instanceof Tw?i.prepForXml(e):i).filter(i=>i!==void 0);return e.stack.pop(),{[this.rootKey]:n.length?n.length===1&&((r=n[0])!=null&&r._attr)?n[0]:n:lne}}addChildElement(e){return this.root.push(e),this}}class Cv extends ot{prepForXml(e){const r=super.prepForXml(e);if(r&&(typeof r[this.rootKey]!="object"||Object.keys(r[this.rootKey]).length))return r}}class ir extends Tw{constructor(e){super("_attr"),rt(this,"xmlKeys"),this.root=e}prepForXml(e){const r={};return Object.entries(this.root).forEach(([n,i])=>{if(i!==void 0){const s=this.xmlKeys&&this.xmlKeys[n]||n;r[s]=i}}),{_attr:r}}}class Sv extends Tw{constructor(e){super("_attr"),this.root=e}prepForXml(e){return{_attr:Object.values(this.root).filter(({value:n})=>n!==void 0).reduce((n,{key:i,value:s})=>Ap(Or({},n),{[i]:s}),{})}}}class yi extends ir{constructor(){super(...arguments),rt(this,"xmlKeys",{val:"w:val",color:"w:color",fill:"w:fill",space:"w:space",sz:"w:sz",type:"w:type",rsidR:"w:rsidR",rsidRPr:"w:rsidRPr",rsidSect:"w:rsidSect",w:"w:w",h:"w:h",top:"w:top",right:"w:right",bottom:"w:bottom",left:"w:left",header:"w:header",footer:"w:footer",gutter:"w:gutter",linePitch:"w:linePitch",pos:"w:pos"})}}var Yl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function B8(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ax={},xy={exports:{}},hF;function s_(){if(hF)return xy.exports;hF=1;var t=typeof Reflect=="object"?Reflect:null,e=t&&typeof t.apply=="function"?t.apply:function(k,M,D){return Function.prototype.apply.call(k,M,D)},r;t&&typeof t.ownKeys=="function"?r=t.ownKeys:Object.getOwnPropertySymbols?r=function(k){return Object.getOwnPropertyNames(k).concat(Object.getOwnPropertySymbols(k))}:r=function(k){return Object.getOwnPropertyNames(k)};function n(C){console&&console.warn&&console.warn(C)}var i=Number.isNaN||function(k){return k!==k};function s(){s.init.call(this)}xy.exports=s,xy.exports.once=w,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var a=10;function o(C){if(typeof C!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof C)}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(C){if(typeof C!="number"||C<0||i(C))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+C+".");a=C}}),s.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(k){if(typeof k!="number"||k<0||i(k))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+k+".");return this._maxListeners=k,this};function l(C){return C._maxListeners===void 0?s.defaultMaxListeners:C._maxListeners}s.prototype.getMaxListeners=function(){return l(this)},s.prototype.emit=function(k){for(var M=[],D=1;D<arguments.length;D++)M.push(arguments[D]);var H=k==="error",F=this._events;if(F!==void 0)H=H&&F.error===void 0;else if(!H)return!1;if(H){var $;if(M.length>0&&($=M[0]),$ instanceof Error)throw $;var q=new Error("Unhandled error."+($?" ("+$.message+")":""));throw q.context=$,q}var R=F[k];if(R===void 0)return!1;if(typeof R=="function")e(R,this,M);else for(var G=R.length,U=g(R,G),D=0;D<G;++D)e(U[D],this,M);return!0};function c(C,k,M,D){var H,F,$;if(o(M),F=C._events,F===void 0?(F=C._events=Object.create(null),C._eventsCount=0):(F.newListener!==void 0&&(C.emit("newListener",k,M.listener?M.listener:M),F=C._events),$=F[k]),$===void 0)$=F[k]=M,++C._eventsCount;else if(typeof $=="function"?$=F[k]=D?[M,$]:[$,M]:D?$.unshift(M):$.push(M),H=l(C),H>0&&$.length>H&&!$.warned){$.warned=!0;var q=new Error("Possible EventEmitter memory leak detected. "+$.length+" "+String(k)+" listeners added. Use emitter.setMaxListeners() to increase limit");q.name="MaxListenersExceededWarning",q.emitter=C,q.type=k,q.count=$.length,n(q)}return C}s.prototype.addListener=function(k,M){return c(this,k,M,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(k,M){return c(this,k,M,!0)};function f(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(C,k,M){var D={fired:!1,wrapFn:void 0,target:C,type:k,listener:M},H=f.bind(D);return H.listener=M,D.wrapFn=H,H}s.prototype.once=function(k,M){return o(M),this.on(k,h(this,k,M)),this},s.prototype.prependOnceListener=function(k,M){return o(M),this.prependListener(k,h(this,k,M)),this},s.prototype.removeListener=function(k,M){var D,H,F,$,q;if(o(M),H=this._events,H===void 0)return this;if(D=H[k],D===void 0)return this;if(D===M||D.listener===M)--this._eventsCount===0?this._events=Object.create(null):(delete H[k],H.removeListener&&this.emit("removeListener",k,D.listener||M));else if(typeof D!="function"){for(F=-1,$=D.length-1;$>=0;$--)if(D[$]===M||D[$].listener===M){q=D[$].listener,F=$;break}if(F<0)return this;F===0?D.shift():v(D,F),D.length===1&&(H[k]=D[0]),H.removeListener!==void 0&&this.emit("removeListener",k,q||M)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(k){var M,D,H;if(D=this._events,D===void 0)return this;if(D.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):D[k]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete D[k]),this;if(arguments.length===0){var F=Object.keys(D),$;for(H=0;H<F.length;++H)$=F[H],$!=="removeListener"&&this.removeAllListeners($);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(M=D[k],typeof M=="function")this.removeListener(k,M);else if(M!==void 0)for(H=M.length-1;H>=0;H--)this.removeListener(k,M[H]);return this};function m(C,k,M){var D=C._events;if(D===void 0)return[];var H=D[k];return H===void 0?[]:typeof H=="function"?M?[H.listener||H]:[H]:M?b(H):g(H,H.length)}s.prototype.listeners=function(k){return m(this,k,!0)},s.prototype.rawListeners=function(k){return m(this,k,!1)},s.listenerCount=function(C,k){return typeof C.listenerCount=="function"?C.listenerCount(k):d.call(C,k)},s.prototype.listenerCount=d;function d(C){var k=this._events;if(k!==void 0){var M=k[C];if(typeof M=="function")return 1;if(M!==void 0)return M.length}return 0}s.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]};function g(C,k){for(var M=new Array(k),D=0;D<k;++D)M[D]=C[D];return M}function v(C,k){for(;k+1<C.length;k++)C[k]=C[k+1];C.pop()}function b(C){for(var k=new Array(C.length),M=0;M<k.length;++M)k[M]=C[M].listener||C[M];return k}function w(C,k){return new Promise(function(M,D){function H($){C.removeListener(k,F),D($)}function F(){typeof C.removeListener=="function"&&C.removeListener("error",H),M([].slice.call(arguments))}S(C,k,F,{once:!0}),k!=="error"&&B(C,H,{once:!0})})}function B(C,k,M){typeof C.on=="function"&&S(C,"error",k,M)}function S(C,k,M,D){if(typeof C.on=="function")D.once?C.once(k,M):C.on(k,M);else if(typeof C.addEventListener=="function")C.addEventListener(k,function H(F){D.once&&C.removeEventListener(k,H),M(F)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof C)}return xy.exports}var By={exports:{}},dF;function Lu(){return dF||(dF=1,typeof Object.create=="function"?By.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:By.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}}),By.exports}function Ane(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var C8={exports:{}},wi=C8.exports={},Gl,Wl;function aS(){throw new Error("setTimeout has not been defined")}function oS(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?Gl=setTimeout:Gl=aS}catch{Gl=aS}try{typeof clearTimeout=="function"?Wl=clearTimeout:Wl=oS}catch{Wl=oS}})();function S8(t){if(Gl===setTimeout)return setTimeout(t,0);if((Gl===aS||!Gl)&&setTimeout)return Gl=setTimeout,setTimeout(t,0);try{return Gl(t,0)}catch{try{return Gl.call(null,t,0)}catch{return Gl.call(this,t,0)}}}function cne(t){if(Wl===clearTimeout)return clearTimeout(t);if((Wl===oS||!Wl)&&clearTimeout)return Wl=clearTimeout,clearTimeout(t);try{return Wl(t)}catch{try{return Wl.call(null,t)}catch{return Wl.call(this,t)}}}var ZA=[],qd=!1,Lf,w1=-1;function une(){!qd||!Lf||(qd=!1,Lf.length?ZA=Lf.concat(ZA):w1=-1,ZA.length&&E8())}function E8(){if(!qd){var t=S8(une);qd=!0;for(var e=ZA.length;e;){for(Lf=ZA,ZA=[];++w1<e;)Lf&&Lf[w1].run();w1=-1,e=ZA.length}Lf=null,qd=!1,cne(t)}}wi.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];ZA.push(new _8(t,e)),ZA.length===1&&!qd&&S8(E8)};function _8(t,e){this.fun=t,this.array=e}_8.prototype.run=function(){this.fun.apply(null,this.array)};wi.title="browser";wi.browser=!0;wi.env={};wi.argv=[];wi.version="";wi.versions={};function cc(){}wi.on=cc;wi.addListener=cc;wi.once=cc;wi.off=cc;wi.removeListener=cc;wi.removeAllListeners=cc;wi.emit=cc;wi.prependListener=cc;wi.prependOnceListener=cc;wi.listeners=function(t){return[]};wi.binding=function(t){throw new Error("process.binding is not supported")};wi.cwd=function(){return"/"};wi.chdir=function(t){throw new Error("process.chdir is not supported")};wi.umask=function(){return 0};var fne=C8.exports;const pr=Ane(fne);var ox,pF;function k8(){return pF||(pF=1,ox=s_().EventEmitter),ox}var lx={},hm={},mF;function hne(){if(mF)return hm;mF=1,hm.byteLength=o,hm.toByteArray=c,hm.fromByteArray=m;for(var t=[],e=[],r=typeof Uint8Array<"u"?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,s=n.length;i<s;++i)t[i]=n[i],e[n.charCodeAt(i)]=i;e[45]=62,e[95]=63;function a(d){var g=d.length;if(g%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var v=d.indexOf("=");v===-1&&(v=g);var b=v===g?0:4-v%4;return[v,b]}function o(d){var g=a(d),v=g[0],b=g[1];return(v+b)*3/4-b}function l(d,g,v){return(g+v)*3/4-v}function c(d){var g,v=a(d),b=v[0],w=v[1],B=new r(l(d,b,w)),S=0,C=w>0?b-4:b,k;for(k=0;k<C;k+=4)g=e[d.charCodeAt(k)]<<18|e[d.charCodeAt(k+1)]<<12|e[d.charCodeAt(k+2)]<<6|e[d.charCodeAt(k+3)],B[S++]=g>>16&255,B[S++]=g>>8&255,B[S++]=g&255;return w===2&&(g=e[d.charCodeAt(k)]<<2|e[d.charCodeAt(k+1)]>>4,B[S++]=g&255),w===1&&(g=e[d.charCodeAt(k)]<<10|e[d.charCodeAt(k+1)]<<4|e[d.charCodeAt(k+2)]>>2,B[S++]=g>>8&255,B[S++]=g&255),B}function f(d){return t[d>>18&63]+t[d>>12&63]+t[d>>6&63]+t[d&63]}function h(d,g,v){for(var b,w=[],B=g;B<v;B+=3)b=(d[B]<<16&16711680)+(d[B+1]<<8&65280)+(d[B+2]&255),w.push(f(b));return w.join("")}function m(d){for(var g,v=d.length,b=v%3,w=[],B=16383,S=0,C=v-b;S<C;S+=B)w.push(h(d,S,S+B>C?C:S+B));return b===1?(g=d[v-1],w.push(t[g>>2]+t[g<<4&63]+"==")):b===2&&(g=(d[v-2]<<8)+d[v-1],w.push(t[g>>10]+t[g>>4&63]+t[g<<2&63]+"=")),w.join("")}return hm}var Cy={};var gF;function dne(){return gF||(gF=1,Cy.read=function(t,e,r,n,i){var s,a,o=i*8-n-1,l=(1<<o)-1,c=l>>1,f=-7,h=r?i-1:0,m=r?-1:1,d=t[e+h];for(h+=m,s=d&(1<<-f)-1,d>>=-f,f+=o;f>0;s=s*256+t[e+h],h+=m,f-=8);for(a=s&(1<<-f)-1,s>>=-f,f+=n;f>0;a=a*256+t[e+h],h+=m,f-=8);if(s===0)s=1-c;else{if(s===l)return a?NaN:(d?-1:1)*(1/0);a=a+Math.pow(2,n),s=s-c}return(d?-1:1)*a*Math.pow(2,s-n)},Cy.write=function(t,e,r,n,i,s){var a,o,l,c=s*8-i-1,f=(1<<c)-1,h=f>>1,m=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:s-1,g=n?1:-1,v=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(o=isNaN(e)?1:0,a=f):(a=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-a))<1&&(a--,l*=2),a+h>=1?e+=m/l:e+=m*Math.pow(2,1-h),e*l>=2&&(a++,l/=2),a+h>=f?(o=0,a=f):a+h>=1?(o=(e*l-1)*Math.pow(2,i),a=a+h):(o=e*Math.pow(2,h-1)*Math.pow(2,i),a=0));i>=8;t[r+d]=o&255,d+=g,o/=256,i-=8);for(a=a<<i|o,c+=i;c>0;t[r+d]=a&255,d+=g,a/=256,c-=8);t[r+d-g]|=v*128}),Cy}var yF;function Ev(){return yF||(yF=1,(function(t){var e=hne(),r=dne(),n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=o,t.SlowBuffer=B,t.INSPECT_MAX_BYTES=50;var i=2147483647;t.kMaxLength=i,o.TYPED_ARRAY_SUPPORT=s(),!o.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{var W=new Uint8Array(1),L={foo:function(){return 42}};return Object.setPrototypeOf(L,Uint8Array.prototype),Object.setPrototypeOf(W,L),W.foo()===42}catch{return!1}}Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}});function a(W){if(W>i)throw new RangeError('The value "'+W+'" is invalid for option "size"');var L=new Uint8Array(W);return Object.setPrototypeOf(L,o.prototype),L}function o(W,L,N){if(typeof W=="number"){if(typeof L=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return h(W)}return l(W,L,N)}o.poolSize=8192;function l(W,L,N){if(typeof W=="string")return m(W,L);if(ArrayBuffer.isView(W))return g(W);if(W==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof W);if(Te(W,ArrayBuffer)||W&&Te(W.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Te(W,SharedArrayBuffer)||W&&Te(W.buffer,SharedArrayBuffer)))return v(W,L,N);if(typeof W=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var z=W.valueOf&&W.valueOf();if(z!=null&&z!==W)return o.from(z,L,N);var ge=b(W);if(ge)return ge;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof W[Symbol.toPrimitive]=="function")return o.from(W[Symbol.toPrimitive]("string"),L,N);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof W)}o.from=function(W,L,N){return l(W,L,N)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array);function c(W){if(typeof W!="number")throw new TypeError('"size" argument must be of type number');if(W<0)throw new RangeError('The value "'+W+'" is invalid for option "size"')}function f(W,L,N){return c(W),W<=0?a(W):L!==void 0?typeof N=="string"?a(W).fill(L,N):a(W).fill(L):a(W)}o.alloc=function(W,L,N){return f(W,L,N)};function h(W){return c(W),a(W<0?0:w(W)|0)}o.allocUnsafe=function(W){return h(W)},o.allocUnsafeSlow=function(W){return h(W)};function m(W,L){if((typeof L!="string"||L==="")&&(L="utf8"),!o.isEncoding(L))throw new TypeError("Unknown encoding: "+L);var N=S(W,L)|0,z=a(N),ge=z.write(W,L);return ge!==N&&(z=z.slice(0,ge)),z}function d(W){for(var L=W.length<0?0:w(W.length)|0,N=a(L),z=0;z<L;z+=1)N[z]=W[z]&255;return N}function g(W){if(Te(W,Uint8Array)){var L=new Uint8Array(W);return v(L.buffer,L.byteOffset,L.byteLength)}return d(W)}function v(W,L,N){if(L<0||W.byteLength<L)throw new RangeError('"offset" is outside of buffer bounds');if(W.byteLength<L+(N||0))throw new RangeError('"length" is outside of buffer bounds');var z;return L===void 0&&N===void 0?z=new Uint8Array(W):N===void 0?z=new Uint8Array(W,L):z=new Uint8Array(W,L,N),Object.setPrototypeOf(z,o.prototype),z}function b(W){if(o.isBuffer(W)){var L=w(W.length)|0,N=a(L);return N.length===0||W.copy(N,0,0,L),N}if(W.length!==void 0)return typeof W.length!="number"||V(W.length)?a(0):d(W);if(W.type==="Buffer"&&Array.isArray(W.data))return d(W.data)}function w(W){if(W>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return W|0}function B(W){return+W!=W&&(W=0),o.alloc(+W)}o.isBuffer=function(L){return L!=null&&L._isBuffer===!0&&L!==o.prototype},o.compare=function(L,N){if(Te(L,Uint8Array)&&(L=o.from(L,L.offset,L.byteLength)),Te(N,Uint8Array)&&(N=o.from(N,N.offset,N.byteLength)),!o.isBuffer(L)||!o.isBuffer(N))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(L===N)return 0;for(var z=L.length,ge=N.length,Be=0,be=Math.min(z,ge);Be<be;++Be)if(L[Be]!==N[Be]){z=L[Be],ge=N[Be];break}return z<ge?-1:ge<z?1:0},o.isEncoding=function(L){switch(String(L).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(L,N){if(!Array.isArray(L))throw new TypeError('"list" argument must be an Array of Buffers');if(L.length===0)return o.alloc(0);var z;if(N===void 0)for(N=0,z=0;z<L.length;++z)N+=L[z].length;var ge=o.allocUnsafe(N),Be=0;for(z=0;z<L.length;++z){var be=L[z];if(Te(be,Uint8Array))Be+be.length>ge.length?o.from(be).copy(ge,Be):Uint8Array.prototype.set.call(ge,be,Be);else if(o.isBuffer(be))be.copy(ge,Be);else throw new TypeError('"list" argument must be an Array of Buffers');Be+=be.length}return ge};function S(W,L){if(o.isBuffer(W))return W.length;if(ArrayBuffer.isView(W)||Te(W,ArrayBuffer))return W.byteLength;if(typeof W!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof W);var N=W.length,z=arguments.length>2&&arguments[2]===!0;if(!z&&N===0)return 0;for(var ge=!1;;)switch(L){case"ascii":case"latin1":case"binary":return N;case"utf8":case"utf-8":return P(W).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N*2;case"hex":return N>>>1;case"base64":return ie(W).length;default:if(ge)return z?-1:P(W).length;L=(""+L).toLowerCase(),ge=!0}}o.byteLength=S;function C(W,L,N){var z=!1;if((L===void 0||L<0)&&(L=0),L>this.length||((N===void 0||N>this.length)&&(N=this.length),N<=0)||(N>>>=0,L>>>=0,N<=L))return"";for(W||(W="utf8");;)switch(W){case"hex":return de(this,L,N);case"utf8":case"utf-8":return U(this,L,N);case"ascii":return Y(this,L,N);case"latin1":case"binary":return he(this,L,N);case"base64":return G(this,L,N);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ce(this,L,N);default:if(z)throw new TypeError("Unknown encoding: "+W);W=(W+"").toLowerCase(),z=!0}}o.prototype._isBuffer=!0;function k(W,L,N){var z=W[L];W[L]=W[N],W[N]=z}o.prototype.swap16=function(){var L=this.length;if(L%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var N=0;N<L;N+=2)k(this,N,N+1);return this},o.prototype.swap32=function(){var L=this.length;if(L%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var N=0;N<L;N+=4)k(this,N,N+3),k(this,N+1,N+2);return this},o.prototype.swap64=function(){var L=this.length;if(L%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var N=0;N<L;N+=8)k(this,N,N+7),k(this,N+1,N+6),k(this,N+2,N+5),k(this,N+3,N+4);return this},o.prototype.toString=function(){var L=this.length;return L===0?"":arguments.length===0?U(this,0,L):C.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(L){if(!o.isBuffer(L))throw new TypeError("Argument must be a Buffer");return this===L?!0:o.compare(this,L)===0},o.prototype.inspect=function(){var L="",N=t.INSPECT_MAX_BYTES;return L=this.toString("hex",0,N).replace(/(.{2})/g,"$1 ").trim(),this.length>N&&(L+=" ... "),"<Buffer "+L+">"},n&&(o.prototype[n]=o.prototype.inspect),o.prototype.compare=function(L,N,z,ge,Be){if(Te(L,Uint8Array)&&(L=o.from(L,L.offset,L.byteLength)),!o.isBuffer(L))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof L);if(N===void 0&&(N=0),z===void 0&&(z=L?L.length:0),ge===void 0&&(ge=0),Be===void 0&&(Be=this.length),N<0||z>L.length||ge<0||Be>this.length)throw new RangeError("out of range index");if(ge>=Be&&N>=z)return 0;if(ge>=Be)return-1;if(N>=z)return 1;if(N>>>=0,z>>>=0,ge>>>=0,Be>>>=0,this===L)return 0;for(var be=Be-ge,Oe=z-N,je=Math.min(be,Oe),He=this.slice(ge,Be),We=L.slice(N,z),at=0;at<je;++at)if(He[at]!==We[at]){be=He[at],Oe=We[at];break}return be<Oe?-1:Oe<be?1:0};function M(W,L,N,z,ge){if(W.length===0)return-1;if(typeof N=="string"?(z=N,N=0):N>2147483647?N=2147483647:N<-2147483648&&(N=-2147483648),N=+N,V(N)&&(N=ge?0:W.length-1),N<0&&(N=W.length+N),N>=W.length){if(ge)return-1;N=W.length-1}else if(N<0)if(ge)N=0;else return-1;if(typeof L=="string"&&(L=o.from(L,z)),o.isBuffer(L))return L.length===0?-1:D(W,L,N,z,ge);if(typeof L=="number")return L=L&255,typeof Uint8Array.prototype.indexOf=="function"?ge?Uint8Array.prototype.indexOf.call(W,L,N):Uint8Array.prototype.lastIndexOf.call(W,L,N):D(W,[L],N,z,ge);throw new TypeError("val must be string, number or Buffer")}function D(W,L,N,z,ge){var Be=1,be=W.length,Oe=L.length;if(z!==void 0&&(z=String(z).toLowerCase(),z==="ucs2"||z==="ucs-2"||z==="utf16le"||z==="utf-16le")){if(W.length<2||L.length<2)return-1;Be=2,be/=2,Oe/=2,N/=2}function je(ft,Ot){return Be===1?ft[Ot]:ft.readUInt16BE(Ot*Be)}var He;if(ge){var We=-1;for(He=N;He<be;He++)if(je(W,He)===je(L,We===-1?0:He-We)){if(We===-1&&(We=He),He-We+1===Oe)return We*Be}else We!==-1&&(He-=He-We),We=-1}else for(N+Oe>be&&(N=be-Oe),He=N;He>=0;He--){for(var at=!0,ct=0;ct<Oe;ct++)if(je(W,He+ct)!==je(L,ct)){at=!1;break}if(at)return He}return-1}o.prototype.includes=function(L,N,z){return this.indexOf(L,N,z)!==-1},o.prototype.indexOf=function(L,N,z){return M(this,L,N,z,!0)},o.prototype.lastIndexOf=function(L,N,z){return M(this,L,N,z,!1)};function H(W,L,N,z){N=Number(N)||0;var ge=W.length-N;z?(z=Number(z),z>ge&&(z=ge)):z=ge;var Be=L.length;z>Be/2&&(z=Be/2);for(var be=0;be<z;++be){var Oe=parseInt(L.substr(be*2,2),16);if(V(Oe))return be;W[N+be]=Oe}return be}function F(W,L,N,z){return fe(P(L,W.length-N),W,N,z)}function $(W,L,N,z){return fe(le(L),W,N,z)}function q(W,L,N,z){return fe(ie(L),W,N,z)}function R(W,L,N,z){return fe(oe(L,W.length-N),W,N,z)}o.prototype.write=function(L,N,z,ge){if(N===void 0)ge="utf8",z=this.length,N=0;else if(z===void 0&&typeof N=="string")ge=N,z=this.length,N=0;else if(isFinite(N))N=N>>>0,isFinite(z)?(z=z>>>0,ge===void 0&&(ge="utf8")):(ge=z,z=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var Be=this.length-N;if((z===void 0||z>Be)&&(z=Be),L.length>0&&(z<0||N<0)||N>this.length)throw new RangeError("Attempt to write outside buffer bounds");ge||(ge="utf8");for(var be=!1;;)switch(ge){case"hex":return H(this,L,N,z);case"utf8":case"utf-8":return F(this,L,N,z);case"ascii":case"latin1":case"binary":return $(this,L,N,z);case"base64":return q(this,L,N,z);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,L,N,z);default:if(be)throw new TypeError("Unknown encoding: "+ge);ge=(""+ge).toLowerCase(),be=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function G(W,L,N){return L===0&&N===W.length?e.fromByteArray(W):e.fromByteArray(W.slice(L,N))}function U(W,L,N){N=Math.min(W.length,N);for(var z=[],ge=L;ge<N;){var Be=W[ge],be=null,Oe=Be>239?4:Be>223?3:Be>191?2:1;if(ge+Oe<=N){var je,He,We,at;switch(Oe){case 1:Be<128&&(be=Be);break;case 2:je=W[ge+1],(je&192)===128&&(at=(Be&31)<<6|je&63,at>127&&(be=at));break;case 3:je=W[ge+1],He=W[ge+2],(je&192)===128&&(He&192)===128&&(at=(Be&15)<<12|(je&63)<<6|He&63,at>2047&&(at<55296||at>57343)&&(be=at));break;case 4:je=W[ge+1],He=W[ge+2],We=W[ge+3],(je&192)===128&&(He&192)===128&&(We&192)===128&&(at=(Be&15)<<18|(je&63)<<12|(He&63)<<6|We&63,at>65535&&at<1114112&&(be=at))}}be===null?(be=65533,Oe=1):be>65535&&(be-=65536,z.push(be>>>10&1023|55296),be=56320|be&1023),z.push(be),ge+=Oe}return re(z)}var ae=4096;function re(W){var L=W.length;if(L<=ae)return String.fromCharCode.apply(String,W);for(var N="",z=0;z<L;)N+=String.fromCharCode.apply(String,W.slice(z,z+=ae));return N}function Y(W,L,N){var z="";N=Math.min(W.length,N);for(var ge=L;ge<N;++ge)z+=String.fromCharCode(W[ge]&127);return z}function he(W,L,N){var z="";N=Math.min(W.length,N);for(var ge=L;ge<N;++ge)z+=String.fromCharCode(W[ge]);return z}function de(W,L,N){var z=W.length;(!L||L<0)&&(L=0),(!N||N<0||N>z)&&(N=z);for(var ge="",Be=L;Be<N;++Be)ge+=ne[W[Be]];return ge}function Ce(W,L,N){for(var z=W.slice(L,N),ge="",Be=0;Be<z.length-1;Be+=2)ge+=String.fromCharCode(z[Be]+z[Be+1]*256);return ge}o.prototype.slice=function(L,N){var z=this.length;L=~~L,N=N===void 0?z:~~N,L<0?(L+=z,L<0&&(L=0)):L>z&&(L=z),N<0?(N+=z,N<0&&(N=0)):N>z&&(N=z),N<L&&(N=L);var ge=this.subarray(L,N);return Object.setPrototypeOf(ge,o.prototype),ge};function X(W,L,N){if(W%1!==0||W<0)throw new RangeError("offset is not uint");if(W+L>N)throw new RangeError("Trying to access beyond buffer length")}o.prototype.readUintLE=o.prototype.readUIntLE=function(L,N,z){L=L>>>0,N=N>>>0,z||X(L,N,this.length);for(var ge=this[L],Be=1,be=0;++be<N&&(Be*=256);)ge+=this[L+be]*Be;return ge},o.prototype.readUintBE=o.prototype.readUIntBE=function(L,N,z){L=L>>>0,N=N>>>0,z||X(L,N,this.length);for(var ge=this[L+--N],Be=1;N>0&&(Be*=256);)ge+=this[L+--N]*Be;return ge},o.prototype.readUint8=o.prototype.readUInt8=function(L,N){return L=L>>>0,N||X(L,1,this.length),this[L]},o.prototype.readUint16LE=o.prototype.readUInt16LE=function(L,N){return L=L>>>0,N||X(L,2,this.length),this[L]|this[L+1]<<8},o.prototype.readUint16BE=o.prototype.readUInt16BE=function(L,N){return L=L>>>0,N||X(L,2,this.length),this[L]<<8|this[L+1]},o.prototype.readUint32LE=o.prototype.readUInt32LE=function(L,N){return L=L>>>0,N||X(L,4,this.length),(this[L]|this[L+1]<<8|this[L+2]<<16)+this[L+3]*16777216},o.prototype.readUint32BE=o.prototype.readUInt32BE=function(L,N){return L=L>>>0,N||X(L,4,this.length),this[L]*16777216+(this[L+1]<<16|this[L+2]<<8|this[L+3])},o.prototype.readIntLE=function(L,N,z){L=L>>>0,N=N>>>0,z||X(L,N,this.length);for(var ge=this[L],Be=1,be=0;++be<N&&(Be*=256);)ge+=this[L+be]*Be;return Be*=128,ge>=Be&&(ge-=Math.pow(2,8*N)),ge},o.prototype.readIntBE=function(L,N,z){L=L>>>0,N=N>>>0,z||X(L,N,this.length);for(var ge=N,Be=1,be=this[L+--ge];ge>0&&(Be*=256);)be+=this[L+--ge]*Be;return Be*=128,be>=Be&&(be-=Math.pow(2,8*N)),be},o.prototype.readInt8=function(L,N){return L=L>>>0,N||X(L,1,this.length),this[L]&128?(255-this[L]+1)*-1:this[L]},o.prototype.readInt16LE=function(L,N){L=L>>>0,N||X(L,2,this.length);var z=this[L]|this[L+1]<<8;return z&32768?z|4294901760:z},o.prototype.readInt16BE=function(L,N){L=L>>>0,N||X(L,2,this.length);var z=this[L+1]|this[L]<<8;return z&32768?z|4294901760:z},o.prototype.readInt32LE=function(L,N){return L=L>>>0,N||X(L,4,this.length),this[L]|this[L+1]<<8|this[L+2]<<16|this[L+3]<<24},o.prototype.readInt32BE=function(L,N){return L=L>>>0,N||X(L,4,this.length),this[L]<<24|this[L+1]<<16|this[L+2]<<8|this[L+3]},o.prototype.readFloatLE=function(L,N){return L=L>>>0,N||X(L,4,this.length),r.read(this,L,!0,23,4)},o.prototype.readFloatBE=function(L,N){return L=L>>>0,N||X(L,4,this.length),r.read(this,L,!1,23,4)},o.prototype.readDoubleLE=function(L,N){return L=L>>>0,N||X(L,8,this.length),r.read(this,L,!0,52,8)},o.prototype.readDoubleBE=function(L,N){return L=L>>>0,N||X(L,8,this.length),r.read(this,L,!1,52,8)};function I(W,L,N,z,ge,Be){if(!o.isBuffer(W))throw new TypeError('"buffer" argument must be a Buffer instance');if(L>ge||L<Be)throw new RangeError('"value" argument is out of bounds');if(N+z>W.length)throw new RangeError("Index out of range")}o.prototype.writeUintLE=o.prototype.writeUIntLE=function(L,N,z,ge){if(L=+L,N=N>>>0,z=z>>>0,!ge){var Be=Math.pow(2,8*z)-1;I(this,L,N,z,Be,0)}var be=1,Oe=0;for(this[N]=L&255;++Oe<z&&(be*=256);)this[N+Oe]=L/be&255;return N+z},o.prototype.writeUintBE=o.prototype.writeUIntBE=function(L,N,z,ge){if(L=+L,N=N>>>0,z=z>>>0,!ge){var Be=Math.pow(2,8*z)-1;I(this,L,N,z,Be,0)}var be=z-1,Oe=1;for(this[N+be]=L&255;--be>=0&&(Oe*=256);)this[N+be]=L/Oe&255;return N+z},o.prototype.writeUint8=o.prototype.writeUInt8=function(L,N,z){return L=+L,N=N>>>0,z||I(this,L,N,1,255,0),this[N]=L&255,N+1},o.prototype.writeUint16LE=o.prototype.writeUInt16LE=function(L,N,z){return L=+L,N=N>>>0,z||I(this,L,N,2,65535,0),this[N]=L&255,this[N+1]=L>>>8,N+2},o.prototype.writeUint16BE=o.prototype.writeUInt16BE=function(L,N,z){return L=+L,N=N>>>0,z||I(this,L,N,2,65535,0),this[N]=L>>>8,this[N+1]=L&255,N+2},o.prototype.writeUint32LE=o.prototype.writeUInt32LE=function(L,N,z){return L=+L,N=N>>>0,z||I(this,L,N,4,4294967295,0),this[N+3]=L>>>24,this[N+2]=L>>>16,this[N+1]=L>>>8,this[N]=L&255,N+4},o.prototype.writeUint32BE=o.prototype.writeUInt32BE=function(L,N,z){return L=+L,N=N>>>0,z||I(this,L,N,4,4294967295,0),this[N]=L>>>24,this[N+1]=L>>>16,this[N+2]=L>>>8,this[N+3]=L&255,N+4},o.prototype.writeIntLE=function(L,N,z,ge){if(L=+L,N=N>>>0,!ge){var Be=Math.pow(2,8*z-1);I(this,L,N,z,Be-1,-Be)}var be=0,Oe=1,je=0;for(this[N]=L&255;++be<z&&(Oe*=256);)L<0&&je===0&&this[N+be-1]!==0&&(je=1),this[N+be]=(L/Oe>>0)-je&255;return N+z},o.prototype.writeIntBE=function(L,N,z,ge){if(L=+L,N=N>>>0,!ge){var Be=Math.pow(2,8*z-1);I(this,L,N,z,Be-1,-Be)}var be=z-1,Oe=1,je=0;for(this[N+be]=L&255;--be>=0&&(Oe*=256);)L<0&&je===0&&this[N+be+1]!==0&&(je=1),this[N+be]=(L/Oe>>0)-je&255;return N+z},o.prototype.writeInt8=function(L,N,z){return L=+L,N=N>>>0,z||I(this,L,N,1,127,-128),L<0&&(L=255+L+1),this[N]=L&255,N+1},o.prototype.writeInt16LE=function(L,N,z){return L=+L,N=N>>>0,z||I(this,L,N,2,32767,-32768),this[N]=L&255,this[N+1]=L>>>8,N+2},o.prototype.writeInt16BE=function(L,N,z){return L=+L,N=N>>>0,z||I(this,L,N,2,32767,-32768),this[N]=L>>>8,this[N+1]=L&255,N+2},o.prototype.writeInt32LE=function(L,N,z){return L=+L,N=N>>>0,z||I(this,L,N,4,2147483647,-2147483648),this[N]=L&255,this[N+1]=L>>>8,this[N+2]=L>>>16,this[N+3]=L>>>24,N+4},o.prototype.writeInt32BE=function(L,N,z){return L=+L,N=N>>>0,z||I(this,L,N,4,2147483647,-2147483648),L<0&&(L=4294967295+L+1),this[N]=L>>>24,this[N+1]=L>>>16,this[N+2]=L>>>8,this[N+3]=L&255,N+4};function J(W,L,N,z,ge,Be){if(N+z>W.length)throw new RangeError("Index out of range");if(N<0)throw new RangeError("Index out of range")}function te(W,L,N,z,ge){return L=+L,N=N>>>0,ge||J(W,L,N,4),r.write(W,L,N,z,23,4),N+4}o.prototype.writeFloatLE=function(L,N,z){return te(this,L,N,!0,z)},o.prototype.writeFloatBE=function(L,N,z){return te(this,L,N,!1,z)};function Ae(W,L,N,z,ge){return L=+L,N=N>>>0,ge||J(W,L,N,8),r.write(W,L,N,z,52,8),N+8}o.prototype.writeDoubleLE=function(L,N,z){return Ae(this,L,N,!0,z)},o.prototype.writeDoubleBE=function(L,N,z){return Ae(this,L,N,!1,z)},o.prototype.copy=function(L,N,z,ge){if(!o.isBuffer(L))throw new TypeError("argument should be a Buffer");if(z||(z=0),!ge&&ge!==0&&(ge=this.length),N>=L.length&&(N=L.length),N||(N=0),ge>0&&ge<z&&(ge=z),ge===z||L.length===0||this.length===0)return 0;if(N<0)throw new RangeError("targetStart out of bounds");if(z<0||z>=this.length)throw new RangeError("Index out of range");if(ge<0)throw new RangeError("sourceEnd out of bounds");ge>this.length&&(ge=this.length),L.length-N<ge-z&&(ge=L.length-N+z);var Be=ge-z;return this===L&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(N,z,ge):Uint8Array.prototype.set.call(L,this.subarray(z,ge),N),Be},o.prototype.fill=function(L,N,z,ge){if(typeof L=="string"){if(typeof N=="string"?(ge=N,N=0,z=this.length):typeof z=="string"&&(ge=z,z=this.length),ge!==void 0&&typeof ge!="string")throw new TypeError("encoding must be a string");if(typeof ge=="string"&&!o.isEncoding(ge))throw new TypeError("Unknown encoding: "+ge);if(L.length===1){var Be=L.charCodeAt(0);(ge==="utf8"&&Be<128||ge==="latin1")&&(L=Be)}}else typeof L=="number"?L=L&255:typeof L=="boolean"&&(L=Number(L));if(N<0||this.length<N||this.length<z)throw new RangeError("Out of range index");if(z<=N)return this;N=N>>>0,z=z===void 0?this.length:z>>>0,L||(L=0);var be;if(typeof L=="number")for(be=N;be<z;++be)this[be]=L;else{var Oe=o.isBuffer(L)?L:o.from(L,ge),je=Oe.length;if(je===0)throw new TypeError('The value "'+L+'" is invalid for argument "value"');for(be=0;be<z-N;++be)this[be+N]=Oe[be%je]}return this};var se=/[^+/0-9A-Za-z-_]/g;function Q(W){if(W=W.split("=")[0],W=W.trim().replace(se,""),W.length<2)return"";for(;W.length%4!==0;)W=W+"=";return W}function P(W,L){L=L||1/0;for(var N,z=W.length,ge=null,Be=[],be=0;be<z;++be){if(N=W.charCodeAt(be),N>55295&&N<57344){if(!ge){if(N>56319){(L-=3)>-1&&Be.push(239,191,189);continue}else if(be+1===z){(L-=3)>-1&&Be.push(239,191,189);continue}ge=N;continue}if(N<56320){(L-=3)>-1&&Be.push(239,191,189),ge=N;continue}N=(ge-55296<<10|N-56320)+65536}else ge&&(L-=3)>-1&&Be.push(239,191,189);if(ge=null,N<128){if((L-=1)<0)break;Be.push(N)}else if(N<2048){if((L-=2)<0)break;Be.push(N>>6|192,N&63|128)}else if(N<65536){if((L-=3)<0)break;Be.push(N>>12|224,N>>6&63|128,N&63|128)}else if(N<1114112){if((L-=4)<0)break;Be.push(N>>18|240,N>>12&63|128,N>>6&63|128,N&63|128)}else throw new Error("Invalid code point")}return Be}function le(W){for(var L=[],N=0;N<W.length;++N)L.push(W.charCodeAt(N)&255);return L}function oe(W,L){for(var N,z,ge,Be=[],be=0;be<W.length&&!((L-=2)<0);++be)N=W.charCodeAt(be),z=N>>8,ge=N%256,Be.push(ge),Be.push(z);return Be}function ie(W){return e.toByteArray(Q(W))}function fe(W,L,N,z){for(var ge=0;ge<z&&!(ge+N>=L.length||ge>=W.length);++ge)L[ge+N]=W[ge];return ge}function Te(W,L){return W instanceof L||W!=null&&W.constructor!=null&&W.constructor.name!=null&&W.constructor.name===L.name}function V(W){return W!==W}var ne=(function(){for(var W="0123456789abcdef",L=new Array(256),N=0;N<16;++N)for(var z=N*16,ge=0;ge<16;++ge)L[z+ge]=W[N]+W[ge];return L})()})(lx)),lx}var Ax={},cx={},ux,wF;function T8(){return wF||(wF=1,ux=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(var s in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var a=Object.getOwnPropertySymbols(e);if(a.length!==1||a[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(e,r);if(o.value!==i||o.enumerable!==!0)return!1}return!0}),ux}var fx,vF;function a_(){if(vF)return fx;vF=1;var t=T8();return fx=function(){return t()&&!!Symbol.toStringTag},fx}var hx,bF;function N8(){return bF||(bF=1,hx=Object),hx}var dx,xF;function pne(){return xF||(xF=1,dx=Error),dx}var px,BF;function mne(){return BF||(BF=1,px=EvalError),px}var mx,CF;function gne(){return CF||(CF=1,mx=RangeError),mx}var gx,SF;function yne(){return SF||(SF=1,gx=ReferenceError),gx}var yx,EF;function F8(){return EF||(EF=1,yx=SyntaxError),yx}var wx,_F;function Wg(){return _F||(_F=1,wx=TypeError),wx}var vx,kF;function wne(){return kF||(kF=1,vx=URIError),vx}var bx,TF;function vne(){return TF||(TF=1,bx=Math.abs),bx}var xx,NF;function bne(){return NF||(NF=1,xx=Math.floor),xx}var Bx,FF;function xne(){return FF||(FF=1,Bx=Math.max),Bx}var Cx,UF;function Bne(){return UF||(UF=1,Cx=Math.min),Cx}var Sx,OF;function Cne(){return OF||(OF=1,Sx=Math.pow),Sx}var Ex,LF;function Sne(){return LF||(LF=1,Ex=Math.round),Ex}var _x,DF;function Ene(){return DF||(DF=1,_x=Number.isNaN||function(e){return e!==e}),_x}var kx,IF;function _ne(){if(IF)return kx;IF=1;var t=Ene();return kx=function(r){return t(r)||r===0?r:r<0?-1:1},kx}var Tx,RF;function kne(){return RF||(RF=1,Tx=Object.getOwnPropertyDescriptor),Tx}var Nx,MF;function $g(){if(MF)return Nx;MF=1;var t=kne();if(t)try{t([],"length")}catch{t=null}return Nx=t,Nx}var Fx,QF;function _v(){if(QF)return Fx;QF=1;var t=Object.defineProperty||!1;if(t)try{t({},"a",{value:1})}catch{t=!1}return Fx=t,Fx}var Ux,HF;function Tne(){if(HF)return Ux;HF=1;var t=typeof Symbol<"u"&&Symbol,e=T8();return Ux=function(){return typeof t!="function"||typeof Symbol!="function"||typeof t("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},Ux}var Ox,jF;function U8(){return jF||(jF=1,Ox=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),Ox}var Lx,PF;function O8(){if(PF)return Lx;PF=1;var t=N8();return Lx=t.getPrototypeOf||null,Lx}var Dx,zF;function Nne(){if(zF)return Dx;zF=1;var t="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,r=Math.max,n="[object Function]",i=function(l,c){for(var f=[],h=0;h<l.length;h+=1)f[h]=l[h];for(var m=0;m<c.length;m+=1)f[m+l.length]=c[m];return f},s=function(l,c){for(var f=[],h=c,m=0;h<l.length;h+=1,m+=1)f[m]=l[h];return f},a=function(o,l){for(var c="",f=0;f<o.length;f+=1)c+=o[f],f+1<o.length&&(c+=l);return c};return Dx=function(l){var c=this;if(typeof c!="function"||e.apply(c)!==n)throw new TypeError(t+c);for(var f=s(arguments,1),h,m=function(){if(this instanceof h){var w=c.apply(this,i(f,arguments));return Object(w)===w?w:this}return c.apply(l,i(f,arguments))},d=r(0,c.length-f.length),g=[],v=0;v<d;v++)g[v]="$"+v;if(h=Function("binder","return function ("+a(g,",")+"){ return binder.apply(this,arguments); }")(m),c.prototype){var b=function(){};b.prototype=c.prototype,h.prototype=new b,b.prototype=null}return h},Dx}var Ix,KF;function Yg(){if(KF)return Ix;KF=1;var t=Nne();return Ix=Function.prototype.bind||t,Ix}var Rx,VF;function o_(){return VF||(VF=1,Rx=Function.prototype.call),Rx}var Mx,qF;function L8(){return qF||(qF=1,Mx=Function.prototype.apply),Mx}var Qx,GF;function Fne(){return GF||(GF=1,Qx=typeof Reflect<"u"&&Reflect&&Reflect.apply),Qx}var Hx,WF;function Une(){if(WF)return Hx;WF=1;var t=Yg(),e=L8(),r=o_(),n=Fne();return Hx=n||t.call(r,e),Hx}var jx,$F;function One(){if($F)return jx;$F=1;var t=Yg(),e=Wg(),r=o_(),n=Une();return jx=function(s){if(s.length<1||typeof s[0]!="function")throw new e("a function is required");return n(t,r,s)},jx}var Px,YF;function Lne(){if(YF)return Px;YF=1;var t=One(),e=$g(),r;try{r=[].__proto__===Array.prototype}catch(a){if(!a||typeof a!="object"||!("code"in a)||a.code!=="ERR_PROTO_ACCESS")throw a}var n=!!r&&e&&e(Object.prototype,"__proto__"),i=Object,s=i.getPrototypeOf;return Px=n&&typeof n.get=="function"?t([n.get]):typeof s=="function"?(function(o){return s(o==null?o:i(o))}):!1,Px}var zx,JF;function Dne(){if(JF)return zx;JF=1;var t=U8(),e=O8(),r=Lne();return zx=t?function(i){return t(i)}:e?function(i){if(!i||typeof i!="object"&&typeof i!="function")throw new TypeError("getProto: not an object");return e(i)}:r?function(i){return r(i)}:null,zx}var Kx,XF;function Ine(){if(XF)return Kx;XF=1;var t=Function.prototype.call,e=Object.prototype.hasOwnProperty,r=Yg();return Kx=r.call(t,e),Kx}var Vx,ZF;function l_(){if(ZF)return Vx;ZF=1;var t,e=N8(),r=pne(),n=mne(),i=gne(),s=yne(),a=F8(),o=Wg(),l=wne(),c=vne(),f=bne(),h=xne(),m=Bne(),d=Cne(),g=Sne(),v=_ne(),b=Function,w=function(le){try{return b('"use strict"; return ('+le+").constructor;")()}catch{}},B=$g(),S=_v(),C=function(){throw new o},k=B?(function(){try{return arguments.callee,C}catch{try{return B(arguments,"callee").get}catch{return C}}})():C,M=Tne()(),D=Dne(),H=O8(),F=U8(),$=L8(),q=o_(),R={},G=typeof Uint8Array>"u"||!D?t:D(Uint8Array),U={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?t:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?t:ArrayBuffer,"%ArrayIteratorPrototype%":M&&D?D([][Symbol.iterator]()):t,"%AsyncFromSyncIteratorPrototype%":t,"%AsyncFunction%":R,"%AsyncGenerator%":R,"%AsyncGeneratorFunction%":R,"%AsyncIteratorPrototype%":R,"%Atomics%":typeof Atomics>"u"?t:Atomics,"%BigInt%":typeof BigInt>"u"?t:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?t:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?t:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?t:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":r,"%eval%":eval,"%EvalError%":n,"%Float16Array%":typeof Float16Array>"u"?t:Float16Array,"%Float32Array%":typeof Float32Array>"u"?t:Float32Array,"%Float64Array%":typeof Float64Array>"u"?t:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?t:FinalizationRegistry,"%Function%":b,"%GeneratorFunction%":R,"%Int8Array%":typeof Int8Array>"u"?t:Int8Array,"%Int16Array%":typeof Int16Array>"u"?t:Int16Array,"%Int32Array%":typeof Int32Array>"u"?t:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":M&&D?D(D([][Symbol.iterator]())):t,"%JSON%":typeof JSON=="object"?JSON:t,"%Map%":typeof Map>"u"?t:Map,"%MapIteratorPrototype%":typeof Map>"u"||!M||!D?t:D(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":e,"%Object.getOwnPropertyDescriptor%":B,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?t:Promise,"%Proxy%":typeof Proxy>"u"?t:Proxy,"%RangeError%":i,"%ReferenceError%":s,"%Reflect%":typeof Reflect>"u"?t:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?t:Set,"%SetIteratorPrototype%":typeof Set>"u"||!M||!D?t:D(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?t:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":M&&D?D(""[Symbol.iterator]()):t,"%Symbol%":M?Symbol:t,"%SyntaxError%":a,"%ThrowTypeError%":k,"%TypedArray%":G,"%TypeError%":o,"%Uint8Array%":typeof Uint8Array>"u"?t:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?t:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?t:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?t:Uint32Array,"%URIError%":l,"%WeakMap%":typeof WeakMap>"u"?t:WeakMap,"%WeakRef%":typeof WeakRef>"u"?t:WeakRef,"%WeakSet%":typeof WeakSet>"u"?t:WeakSet,"%Function.prototype.call%":q,"%Function.prototype.apply%":$,"%Object.defineProperty%":S,"%Object.getPrototypeOf%":H,"%Math.abs%":c,"%Math.floor%":f,"%Math.max%":h,"%Math.min%":m,"%Math.pow%":d,"%Math.round%":g,"%Math.sign%":v,"%Reflect.getPrototypeOf%":F};if(D)try{null.error}catch(le){var ae=D(D(le));U["%Error.prototype%"]=ae}var re=function le(oe){var ie;if(oe==="%AsyncFunction%")ie=w("async function () {}");else if(oe==="%GeneratorFunction%")ie=w("function* () {}");else if(oe==="%AsyncGeneratorFunction%")ie=w("async function* () {}");else if(oe==="%AsyncGenerator%"){var fe=le("%AsyncGeneratorFunction%");fe&&(ie=fe.prototype)}else if(oe==="%AsyncIteratorPrototype%"){var Te=le("%AsyncGenerator%");Te&&D&&(ie=D(Te.prototype))}return U[oe]=ie,ie},Y={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},he=Yg(),de=Ine(),Ce=he.call(q,Array.prototype.concat),X=he.call($,Array.prototype.splice),I=he.call(q,String.prototype.replace),J=he.call(q,String.prototype.slice),te=he.call(q,RegExp.prototype.exec),Ae=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,se=/\\(\\)?/g,Q=function(oe){var ie=J(oe,0,1),fe=J(oe,-1);if(ie==="%"&&fe!=="%")throw new a("invalid intrinsic syntax, expected closing `%`");if(fe==="%"&&ie!=="%")throw new a("invalid intrinsic syntax, expected opening `%`");var Te=[];return I(oe,Ae,function(V,ne,W,L){Te[Te.length]=W?I(L,se,"$1"):ne||V}),Te},P=function(oe,ie){var fe=oe,Te;if(de(Y,fe)&&(Te=Y[fe],fe="%"+Te[0]+"%"),de(U,fe)){var V=U[fe];if(V===R&&(V=re(fe)),typeof V>"u"&&!ie)throw new o("intrinsic "+oe+" exists, but is not available. Please file an issue!");return{alias:Te,name:fe,value:V}}throw new a("intrinsic "+oe+" does not exist!")};return Vx=function(oe,ie){if(typeof oe!="string"||oe.length===0)throw new o("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof ie!="boolean")throw new o('"allowMissing" argument must be a boolean');if(te(/^%?[^%]*%?$/,oe)===null)throw new a("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var fe=Q(oe),Te=fe.length>0?fe[0]:"",V=P("%"+Te+"%",ie),ne=V.name,W=V.value,L=!1,N=V.alias;N&&(Te=N[0],X(fe,Ce([0,1],N)));for(var z=1,ge=!0;z<fe.length;z+=1){var Be=fe[z],be=J(Be,0,1),Oe=J(Be,-1);if((be==='"'||be==="'"||be==="`"||Oe==='"'||Oe==="'"||Oe==="`")&&be!==Oe)throw new a("property names with quotes must have matching quotes");if((Be==="constructor"||!ge)&&(L=!0),Te+="."+Be,ne="%"+Te+"%",de(U,ne))W=U[ne];else if(W!=null){if(!(Be in W)){if(!ie)throw new o("base intrinsic for "+oe+" exists, but the property is not available.");return}if(B&&z+1>=fe.length){var je=B(W,Be);ge=!!je,ge&&"get"in je&&!("originalValue"in je.get)?W=je.get:W=W[Be]}else ge=de(W,Be),W=W[Be];ge&&!L&&(U[ne]=W)}}return W},Vx}var qx={exports:{}},Gx,eU;function Rne(){if(eU)return Gx;eU=1;var t=_v(),e=F8(),r=Wg(),n=$g();return Gx=function(s,a,o){if(!s||typeof s!="object"&&typeof s!="function")throw new r("`obj` must be an object or a function`");if(typeof a!="string"&&typeof a!="symbol")throw new r("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new r("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new r("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new r("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new r("`loose`, if provided, must be a boolean");var l=arguments.length>3?arguments[3]:null,c=arguments.length>4?arguments[4]:null,f=arguments.length>5?arguments[5]:null,h=arguments.length>6?arguments[6]:!1,m=!!n&&n(s,a);if(t)t(s,a,{configurable:f===null&&m?m.configurable:!f,enumerable:l===null&&m?m.enumerable:!l,value:o,writable:c===null&&m?m.writable:!c});else if(h||!l&&!c&&!f)s[a]=o;else throw new e("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},Gx}var Wx,tU;function Mne(){if(tU)return Wx;tU=1;var t=_v(),e=function(){return!!t};return e.hasArrayLengthDefineBug=function(){if(!t)return null;try{return t([],"length",{value:1}).length!==1}catch{return!0}},Wx=e,Wx}var $x,rU;function Qne(){if(rU)return $x;rU=1;var t=l_(),e=Rne(),r=Mne()(),n=$g(),i=Wg(),s=t("%Math.floor%");return $x=function(o,l){if(typeof o!="function")throw new i("`fn` is not a function");if(typeof l!="number"||l<0||l>4294967295||s(l)!==l)throw new i("`length` must be a positive 32-bit integer");var c=arguments.length>2&&!!arguments[2],f=!0,h=!0;if("length"in o&&n){var m=n(o,"length");m&&!m.configurable&&(f=!1),m&&!m.writable&&(h=!1)}return(f||h||!c)&&(r?e(o,"length",l,!0,!0):e(o,"length",l)),o},$x}var nU;function D8(){return nU||(nU=1,(function(t){var e=Yg(),r=l_(),n=Qne(),i=Wg(),s=r("%Function.prototype.apply%"),a=r("%Function.prototype.call%"),o=r("%Reflect.apply%",!0)||e.call(a,s),l=_v(),c=r("%Math.max%");t.exports=function(m){if(typeof m!="function")throw new i("a function is required");var d=o(e,a,arguments);return n(d,1+c(0,m.length-(arguments.length-1)),!0)};var f=function(){return o(e,s,arguments)};l?l(t.exports,"apply",{value:f}):t.exports.apply=f})(qx)),qx.exports}var Yx,iU;function I8(){if(iU)return Yx;iU=1;var t=l_(),e=D8(),r=e(t("String.prototype.indexOf"));return Yx=function(i,s){var a=t(i,!!s);return typeof a=="function"&&r(i,".prototype.")>-1?e(a):a},Yx}var Jx,sU;function Hne(){if(sU)return Jx;sU=1;var t=a_()(),e=I8(),r=e("Object.prototype.toString"),n=function(o){return t&&o&&typeof o=="object"&&Symbol.toStringTag in o?!1:r(o)==="[object Arguments]"},i=function(o){return n(o)?!0:o!==null&&typeof o=="object"&&typeof o.length=="number"&&o.length>=0&&r(o)!=="[object Array]"&&r(o.callee)==="[object Function]"},s=(function(){return n(arguments)})();return n.isLegacyArguments=i,Jx=s?n:i,Jx}var Xx,aU;function jne(){if(aU)return Xx;aU=1;var t=Object.prototype.toString,e=Function.prototype.toString,r=/^\s*(?:function)?\*/,n=a_()(),i=Object.getPrototypeOf,s=function(){if(!n)return!1;try{return Function("return function*() {}")()}catch{}},a;return Xx=function(l){if(typeof l!="function")return!1;if(r.test(e.call(l)))return!0;if(!n){var c=t.call(l);return c==="[object GeneratorFunction]"}if(!i)return!1;if(typeof a>"u"){var f=s();a=f?i(f):!1}return i(l)===a},Xx}var Zx,oU;function Pne(){if(oU)return Zx;oU=1;var t=Function.prototype.toString,e=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,r,n;if(typeof e=="function"&&typeof Object.defineProperty=="function")try{r=Object.defineProperty({},"length",{get:function(){throw n}}),n={},e(function(){throw 42},null,r)}catch(B){B!==n&&(e=null)}else e=null;var i=/^\s*class\b/,s=function(S){try{var C=t.call(S);return i.test(C)}catch{return!1}},a=function(S){try{return s(S)?!1:(t.call(S),!0)}catch{return!1}},o=Object.prototype.toString,l="[object Object]",c="[object Function]",f="[object GeneratorFunction]",h="[object HTMLAllCollection]",m="[object HTML document.all class]",d="[object HTMLCollection]",g=typeof Symbol=="function"&&!!Symbol.toStringTag,v=!(0 in[,]),b=function(){return!1};if(typeof document=="object"){var w=document.all;o.call(w)===o.call(document.all)&&(b=function(S){if((v||!S)&&(typeof S>"u"||typeof S=="object"))try{var C=o.call(S);return(C===h||C===m||C===d||C===l)&&S("")==null}catch{}return!1})}return Zx=e?function(S){if(b(S))return!0;if(!S||typeof S!="function"&&typeof S!="object")return!1;try{e(S,null,r)}catch(C){if(C!==n)return!1}return!s(S)&&a(S)}:function(S){if(b(S))return!0;if(!S||typeof S!="function"&&typeof S!="object")return!1;if(g)return a(S);if(s(S))return!1;var C=o.call(S);return C!==c&&C!==f&&!/^\[object HTML/.test(C)?!1:a(S)},Zx}var e5,lU;function zne(){if(lU)return e5;lU=1;var t=Pne(),e=Object.prototype.toString,r=Object.prototype.hasOwnProperty,n=function(l,c,f){for(var h=0,m=l.length;h<m;h++)r.call(l,h)&&(f==null?c(l[h],h,l):c.call(f,l[h],h,l))},i=function(l,c,f){for(var h=0,m=l.length;h<m;h++)f==null?c(l.charAt(h),h,l):c.call(f,l.charAt(h),h,l)},s=function(l,c,f){for(var h in l)r.call(l,h)&&(f==null?c(l[h],h,l):c.call(f,l[h],h,l))},a=function(l,c,f){if(!t(c))throw new TypeError("iterator must be a function");var h;arguments.length>=3&&(h=f),e.call(l)==="[object Array]"?n(l,c,h):typeof l=="string"?i(l,c,h):s(l,c,h)};return e5=a,e5}var t5,AU;function Kne(){return AU||(AU=1,t5=["Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]),t5}var r5,cU;function Vne(){if(cU)return r5;cU=1;var t=Kne(),e=typeof globalThis>"u"?Yl:globalThis;return r5=function(){for(var n=[],i=0;i<t.length;i++)typeof e[t[i]]=="function"&&(n[n.length]=t[i]);return n},r5}var n5,uU;function R8(){if(uU)return n5;uU=1;var t=zne(),e=Vne(),r=D8(),n=I8(),i=$g(),s=n("Object.prototype.toString"),a=a_()(),o=typeof globalThis>"u"?Yl:globalThis,l=e(),c=n("String.prototype.slice"),f=Object.getPrototypeOf,h=n("Array.prototype.indexOf",!0)||function(b,w){for(var B=0;B<b.length;B+=1)if(b[B]===w)return B;return-1},m={__proto__:null};a&&i&&f?t(l,function(v){var b=new o[v];if(Symbol.toStringTag in b){var w=f(b),B=i(w,Symbol.toStringTag);if(!B){var S=f(w);B=i(S,Symbol.toStringTag)}m["$"+v]=r(B.get)}}):t(l,function(v){var b=new o[v],w=b.slice||b.set;w&&(m["$"+v]=r(w))});var d=function(b){var w=!1;return t(m,function(B,S){if(!w)try{"$"+B(b)===S&&(w=c(S,1))}catch{}}),w},g=function(b){var w=!1;return t(m,function(B,S){if(!w)try{B(b),w=c(S,1)}catch{}}),w};return n5=function(b){if(!b||typeof b!="object")return!1;if(!a){var w=c(s(b),8,-1);return h(l,w)>-1?w:w!=="Object"?!1:g(b)}return i?d(b):null},n5}var i5,fU;function qne(){if(fU)return i5;fU=1;var t=R8();return i5=function(r){return!!t(r)},i5}var hU;function Gne(){return hU||(hU=1,(function(t){var e=Hne(),r=jne(),n=R8(),i=qne();function s(z){return z.call.bind(z)}var a=typeof BigInt<"u",o=typeof Symbol<"u",l=s(Object.prototype.toString),c=s(Number.prototype.valueOf),f=s(String.prototype.valueOf),h=s(Boolean.prototype.valueOf);if(a)var m=s(BigInt.prototype.valueOf);if(o)var d=s(Symbol.prototype.valueOf);function g(z,ge){if(typeof z!="object")return!1;try{return ge(z),!0}catch{return!1}}t.isArgumentsObject=e,t.isGeneratorFunction=r,t.isTypedArray=i;function v(z){return typeof Promise<"u"&&z instanceof Promise||z!==null&&typeof z=="object"&&typeof z.then=="function"&&typeof z.catch=="function"}t.isPromise=v;function b(z){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(z):i(z)||J(z)}t.isArrayBufferView=b;function w(z){return n(z)==="Uint8Array"}t.isUint8Array=w;function B(z){return n(z)==="Uint8ClampedArray"}t.isUint8ClampedArray=B;function S(z){return n(z)==="Uint16Array"}t.isUint16Array=S;function C(z){return n(z)==="Uint32Array"}t.isUint32Array=C;function k(z){return n(z)==="Int8Array"}t.isInt8Array=k;function M(z){return n(z)==="Int16Array"}t.isInt16Array=M;function D(z){return n(z)==="Int32Array"}t.isInt32Array=D;function H(z){return n(z)==="Float32Array"}t.isFloat32Array=H;function F(z){return n(z)==="Float64Array"}t.isFloat64Array=F;function $(z){return n(z)==="BigInt64Array"}t.isBigInt64Array=$;function q(z){return n(z)==="BigUint64Array"}t.isBigUint64Array=q;function R(z){return l(z)==="[object Map]"}R.working=typeof Map<"u"&&R(new Map);function G(z){return typeof Map>"u"?!1:R.working?R(z):z instanceof Map}t.isMap=G;function U(z){return l(z)==="[object Set]"}U.working=typeof Set<"u"&&U(new Set);function ae(z){return typeof Set>"u"?!1:U.working?U(z):z instanceof Set}t.isSet=ae;function re(z){return l(z)==="[object WeakMap]"}re.working=typeof WeakMap<"u"&&re(new WeakMap);function Y(z){return typeof WeakMap>"u"?!1:re.working?re(z):z instanceof WeakMap}t.isWeakMap=Y;function he(z){return l(z)==="[object WeakSet]"}he.working=typeof WeakSet<"u"&&he(new WeakSet);function de(z){return he(z)}t.isWeakSet=de;function Ce(z){return l(z)==="[object ArrayBuffer]"}Ce.working=typeof ArrayBuffer<"u"&&Ce(new ArrayBuffer);function X(z){return typeof ArrayBuffer>"u"?!1:Ce.working?Ce(z):z instanceof ArrayBuffer}t.isArrayBuffer=X;function I(z){return l(z)==="[object DataView]"}I.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&I(new DataView(new ArrayBuffer(1),0,1));function J(z){return typeof DataView>"u"?!1:I.working?I(z):z instanceof DataView}t.isDataView=J;var te=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function Ae(z){return l(z)==="[object SharedArrayBuffer]"}function se(z){return typeof te>"u"?!1:(typeof Ae.working>"u"&&(Ae.working=Ae(new te)),Ae.working?Ae(z):z instanceof te)}t.isSharedArrayBuffer=se;function Q(z){return l(z)==="[object AsyncFunction]"}t.isAsyncFunction=Q;function P(z){return l(z)==="[object Map Iterator]"}t.isMapIterator=P;function le(z){return l(z)==="[object Set Iterator]"}t.isSetIterator=le;function oe(z){return l(z)==="[object Generator]"}t.isGeneratorObject=oe;function ie(z){return l(z)==="[object WebAssembly.Module]"}t.isWebAssemblyCompiledModule=ie;function fe(z){return g(z,c)}t.isNumberObject=fe;function Te(z){return g(z,f)}t.isStringObject=Te;function V(z){return g(z,h)}t.isBooleanObject=V;function ne(z){return a&&g(z,m)}t.isBigIntObject=ne;function W(z){return o&&g(z,d)}t.isSymbolObject=W;function L(z){return fe(z)||Te(z)||V(z)||ne(z)||W(z)}t.isBoxedPrimitive=L;function N(z){return typeof Uint8Array<"u"&&(X(z)||se(z))}t.isAnyArrayBuffer=N,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(z){Object.defineProperty(t,z,{enumerable:!1,value:function(){throw new Error(z+" is not supported in userland")}})})})(cx)),cx}var s5,dU;function Wne(){return dU||(dU=1,s5=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"}),s5}var pU;function M8(){return pU||(pU=1,(function(t){var e=Object.getOwnPropertyDescriptors||function(J){for(var te=Object.keys(J),Ae={},se=0;se<te.length;se++)Ae[te[se]]=Object.getOwnPropertyDescriptor(J,te[se]);return Ae},r=/%[sdj%]/g;t.format=function(I){if(!k(I)){for(var J=[],te=0;te<arguments.length;te++)J.push(a(arguments[te]));return J.join(" ")}for(var te=1,Ae=arguments,se=Ae.length,Q=String(I).replace(r,function(le){if(le==="%%")return"%";if(te>=se)return le;switch(le){case"%s":return String(Ae[te++]);case"%d":return Number(Ae[te++]);case"%j":try{return JSON.stringify(Ae[te++])}catch{return"[Circular]"}default:return le}}),P=Ae[te];te<se;P=Ae[++te])B(P)||!F(P)?Q+=" "+P:Q+=" "+a(P);return Q},t.deprecate=function(I,J){if(typeof pr<"u"&&pr.noDeprecation===!0)return I;if(typeof pr>"u")return function(){return t.deprecate(I,J).apply(this,arguments)};var te=!1;function Ae(){if(!te){if(pr.throwDeprecation)throw new Error(J);pr.traceDeprecation?console.trace(J):console.error(J),te=!0}return I.apply(this,arguments)}return Ae};var n={},i=/^$/;if(pr.env.NODE_DEBUG){var s=pr.env.NODE_DEBUG;s=s.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),i=new RegExp("^"+s+"$","i")}t.debuglog=function(I){if(I=I.toUpperCase(),!n[I])if(i.test(I)){var J=pr.pid;n[I]=function(){var te=t.format.apply(t,arguments);console.error("%s %d: %s",I,J,te)}}else n[I]=function(){};return n[I]};function a(I,J){var te={seen:[],stylize:l};return arguments.length>=3&&(te.depth=arguments[2]),arguments.length>=4&&(te.colors=arguments[3]),w(J)?te.showHidden=J:J&&t._extend(te,J),D(te.showHidden)&&(te.showHidden=!1),D(te.depth)&&(te.depth=2),D(te.colors)&&(te.colors=!1),D(te.customInspect)&&(te.customInspect=!0),te.colors&&(te.stylize=o),f(te,I,te.depth)}t.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function o(I,J){var te=a.styles[J];return te?"\x1B["+a.colors[te][0]+"m"+I+"\x1B["+a.colors[te][1]+"m":I}function l(I,J){return I}function c(I){var J={};return I.forEach(function(te,Ae){J[te]=!0}),J}function f(I,J,te){if(I.customInspect&&J&&R(J.inspect)&&J.inspect!==t.inspect&&!(J.constructor&&J.constructor.prototype===J)){var Ae=J.inspect(te,I);return k(Ae)||(Ae=f(I,Ae,te)),Ae}var se=h(I,J);if(se)return se;var Q=Object.keys(J),P=c(Q);if(I.showHidden&&(Q=Object.getOwnPropertyNames(J)),q(J)&&(Q.indexOf("message")>=0||Q.indexOf("description")>=0))return m(J);if(Q.length===0){if(R(J)){var le=J.name?": "+J.name:"";return I.stylize("[Function"+le+"]","special")}if(H(J))return I.stylize(RegExp.prototype.toString.call(J),"regexp");if($(J))return I.stylize(Date.prototype.toString.call(J),"date");if(q(J))return m(J)}var oe="",ie=!1,fe=["{","}"];if(b(J)&&(ie=!0,fe=["[","]"]),R(J)){var Te=J.name?": "+J.name:"";oe=" [Function"+Te+"]"}if(H(J)&&(oe=" "+RegExp.prototype.toString.call(J)),$(J)&&(oe=" "+Date.prototype.toUTCString.call(J)),q(J)&&(oe=" "+m(J)),Q.length===0&&(!ie||J.length==0))return fe[0]+oe+fe[1];if(te<0)return H(J)?I.stylize(RegExp.prototype.toString.call(J),"regexp"):I.stylize("[Object]","special");I.seen.push(J);var V;return ie?V=d(I,J,te,P,Q):V=Q.map(function(ne){return g(I,J,te,P,ne,ie)}),I.seen.pop(),v(V,oe,fe)}function h(I,J){if(D(J))return I.stylize("undefined","undefined");if(k(J)){var te="'"+JSON.stringify(J).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return I.stylize(te,"string")}if(C(J))return I.stylize(""+J,"number");if(w(J))return I.stylize(""+J,"boolean");if(B(J))return I.stylize("null","null")}function m(I){return"["+Error.prototype.toString.call(I)+"]"}function d(I,J,te,Ae,se){for(var Q=[],P=0,le=J.length;P<le;++P)he(J,String(P))?Q.push(g(I,J,te,Ae,String(P),!0)):Q.push("");return se.forEach(function(oe){oe.match(/^\d+$/)||Q.push(g(I,J,te,Ae,oe,!0))}),Q}function g(I,J,te,Ae,se,Q){var P,le,oe;if(oe=Object.getOwnPropertyDescriptor(J,se)||{value:J[se]},oe.get?oe.set?le=I.stylize("[Getter/Setter]","special"):le=I.stylize("[Getter]","special"):oe.set&&(le=I.stylize("[Setter]","special")),he(Ae,se)||(P="["+se+"]"),le||(I.seen.indexOf(oe.value)<0?(B(te)?le=f(I,oe.value,null):le=f(I,oe.value,te-1),le.indexOf(`
`)>-1&&(Q?le=le.split(`
`).map(function(ie){return"  "+ie}).join(`
`).slice(2):le=`
`+le.split(`
`).map(function(ie){return"   "+ie}).join(`
`))):le=I.stylize("[Circular]","special")),D(P)){if(Q&&se.match(/^\d+$/))return le;P=JSON.stringify(""+se),P.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(P=P.slice(1,-1),P=I.stylize(P,"name")):(P=P.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),P=I.stylize(P,"string"))}return P+": "+le}function v(I,J,te){var Ae=I.reduce(function(se,Q){return Q.indexOf(`
`)>=0,se+Q.replace(/\u001b\[\d\d?m/g,"").length+1},0);return Ae>60?te[0]+(J===""?"":J+`
 `)+" "+I.join(`,
  `)+" "+te[1]:te[0]+J+" "+I.join(", ")+" "+te[1]}t.types=Gne();function b(I){return Array.isArray(I)}t.isArray=b;function w(I){return typeof I=="boolean"}t.isBoolean=w;function B(I){return I===null}t.isNull=B;function S(I){return I==null}t.isNullOrUndefined=S;function C(I){return typeof I=="number"}t.isNumber=C;function k(I){return typeof I=="string"}t.isString=k;function M(I){return typeof I=="symbol"}t.isSymbol=M;function D(I){return I===void 0}t.isUndefined=D;function H(I){return F(I)&&U(I)==="[object RegExp]"}t.isRegExp=H,t.types.isRegExp=H;function F(I){return typeof I=="object"&&I!==null}t.isObject=F;function $(I){return F(I)&&U(I)==="[object Date]"}t.isDate=$,t.types.isDate=$;function q(I){return F(I)&&(U(I)==="[object Error]"||I instanceof Error)}t.isError=q,t.types.isNativeError=q;function R(I){return typeof I=="function"}t.isFunction=R;function G(I){return I===null||typeof I=="boolean"||typeof I=="number"||typeof I=="string"||typeof I=="symbol"||typeof I>"u"}t.isPrimitive=G,t.isBuffer=Wne();function U(I){return Object.prototype.toString.call(I)}function ae(I){return I<10?"0"+I.toString(10):I.toString(10)}var re=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function Y(){var I=new Date,J=[ae(I.getHours()),ae(I.getMinutes()),ae(I.getSeconds())].join(":");return[I.getDate(),re[I.getMonth()],J].join(" ")}t.log=function(){console.log("%s - %s",Y(),t.format.apply(t,arguments))},t.inherits=Lu(),t._extend=function(I,J){if(!J||!F(J))return I;for(var te=Object.keys(J),Ae=te.length;Ae--;)I[te[Ae]]=J[te[Ae]];return I};function he(I,J){return Object.prototype.hasOwnProperty.call(I,J)}var de=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;t.promisify=function(J){if(typeof J!="function")throw new TypeError('The "original" argument must be of type Function');if(de&&J[de]){var te=J[de];if(typeof te!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(te,de,{value:te,enumerable:!1,writable:!1,configurable:!0}),te}function te(){for(var Ae,se,Q=new Promise(function(oe,ie){Ae=oe,se=ie}),P=[],le=0;le<arguments.length;le++)P.push(arguments[le]);P.push(function(oe,ie){oe?se(oe):Ae(ie)});try{J.apply(this,P)}catch(oe){se(oe)}return Q}return Object.setPrototypeOf(te,Object.getPrototypeOf(J)),de&&Object.defineProperty(te,de,{value:te,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(te,e(J))},t.promisify.custom=de;function Ce(I,J){if(!I){var te=new Error("Promise was rejected with a falsy value");te.reason=I,I=te}return J(I)}function X(I){if(typeof I!="function")throw new TypeError('The "original" argument must be of type Function');function J(){for(var te=[],Ae=0;Ae<arguments.length;Ae++)te.push(arguments[Ae]);var se=te.pop();if(typeof se!="function")throw new TypeError("The last argument must be of type Function");var Q=this,P=function(){return se.apply(Q,arguments)};I.apply(this,te).then(function(le){pr.nextTick(P.bind(null,null,le))},function(le){pr.nextTick(Ce.bind(null,le,P))})}return Object.setPrototypeOf(J,Object.getPrototypeOf(I)),Object.defineProperties(J,e(I)),J}t.callbackify=X})(Ax)),Ax}var a5,mU;function $ne(){if(mU)return a5;mU=1;function t(m,d){var g=Object.keys(m);if(Object.getOwnPropertySymbols){var v=Object.getOwnPropertySymbols(m);d&&(v=v.filter(function(b){return Object.getOwnPropertyDescriptor(m,b).enumerable})),g.push.apply(g,v)}return g}function e(m){for(var d=1;d<arguments.length;d++){var g=arguments[d]!=null?arguments[d]:{};d%2?t(Object(g),!0).forEach(function(v){r(m,v,g[v])}):Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(g)):t(Object(g)).forEach(function(v){Object.defineProperty(m,v,Object.getOwnPropertyDescriptor(g,v))})}return m}function r(m,d,g){return d in m?Object.defineProperty(m,d,{value:g,enumerable:!0,configurable:!0,writable:!0}):m[d]=g,m}function n(m,d){if(!(m instanceof d))throw new TypeError("Cannot call a class as a function")}function i(m,d){for(var g=0;g<d.length;g++){var v=d[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,v.key,v)}}function s(m,d,g){return d&&i(m.prototype,d),m}var a=Ev(),o=a.Buffer,l=M8(),c=l.inspect,f=c&&c.custom||"inspect";function h(m,d,g){o.prototype.copy.call(m,d,g)}return a5=(function(){function m(){n(this,m),this.head=null,this.tail=null,this.length=0}return s(m,[{key:"push",value:function(g){var v={data:g,next:null};this.length>0?this.tail.next=v:this.head=v,this.tail=v,++this.length}},{key:"unshift",value:function(g){var v={data:g,next:this.head};this.length===0&&(this.tail=v),this.head=v,++this.length}},{key:"shift",value:function(){if(this.length!==0){var g=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,g}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(g){if(this.length===0)return"";for(var v=this.head,b=""+v.data;v=v.next;)b+=g+v.data;return b}},{key:"concat",value:function(g){if(this.length===0)return o.alloc(0);for(var v=o.allocUnsafe(g>>>0),b=this.head,w=0;b;)h(b.data,v,w),w+=b.data.length,b=b.next;return v}},{key:"consume",value:function(g,v){var b;return g<this.head.data.length?(b=this.head.data.slice(0,g),this.head.data=this.head.data.slice(g)):g===this.head.data.length?b=this.shift():b=v?this._getString(g):this._getBuffer(g),b}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(g){var v=this.head,b=1,w=v.data;for(g-=w.length;v=v.next;){var B=v.data,S=g>B.length?B.length:g;if(S===B.length?w+=B:w+=B.slice(0,g),g-=S,g===0){S===B.length?(++b,v.next?this.head=v.next:this.head=this.tail=null):(this.head=v,v.data=B.slice(S));break}++b}return this.length-=b,w}},{key:"_getBuffer",value:function(g){var v=o.allocUnsafe(g),b=this.head,w=1;for(b.data.copy(v),g-=b.data.length;b=b.next;){var B=b.data,S=g>B.length?B.length:g;if(B.copy(v,v.length-g,0,S),g-=S,g===0){S===B.length?(++w,b.next?this.head=b.next:this.head=this.tail=null):(this.head=b,b.data=B.slice(S));break}++w}return this.length-=w,v}},{key:f,value:function(g,v){return c(this,e({},v,{depth:0,customInspect:!1}))}}]),m})(),a5}var o5,gU;function Q8(){if(gU)return o5;gU=1;function t(a,o){var l=this,c=this._readableState&&this._readableState.destroyed,f=this._writableState&&this._writableState.destroyed;return c||f?(o?o(a):a&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,pr.nextTick(i,this,a)):pr.nextTick(i,this,a)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(a||null,function(h){!o&&h?l._writableState?l._writableState.errorEmitted?pr.nextTick(r,l):(l._writableState.errorEmitted=!0,pr.nextTick(e,l,h)):pr.nextTick(e,l,h):o?(pr.nextTick(r,l),o(h)):pr.nextTick(r,l)}),this)}function e(a,o){i(a,o),r(a)}function r(a){a._writableState&&!a._writableState.emitClose||a._readableState&&!a._readableState.emitClose||a.emit("close")}function n(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function i(a,o){a.emit("error",o)}function s(a,o){var l=a._readableState,c=a._writableState;l&&l.autoDestroy||c&&c.autoDestroy?a.destroy(o):a.emit("error",o)}return o5={destroy:t,undestroy:n,errorOrDestroy:s},o5}var l5={},yU;function Bp(){if(yU)return l5;yU=1;function t(o,l){o.prototype=Object.create(l.prototype),o.prototype.constructor=o,o.__proto__=l}var e={};function r(o,l,c){c||(c=Error);function f(m,d,g){return typeof l=="string"?l:l(m,d,g)}var h=(function(m){t(d,m);function d(g,v,b){return m.call(this,f(g,v,b))||this}return d})(c);h.prototype.name=c.name,h.prototype.code=o,e[o]=h}function n(o,l){if(Array.isArray(o)){var c=o.length;return o=o.map(function(f){return String(f)}),c>2?"one of ".concat(l," ").concat(o.slice(0,c-1).join(", "),", or ")+o[c-1]:c===2?"one of ".concat(l," ").concat(o[0]," or ").concat(o[1]):"of ".concat(l," ").concat(o[0])}else return"of ".concat(l," ").concat(String(o))}function i(o,l,c){return o.substr(0,l.length)===l}function s(o,l,c){return(c===void 0||c>o.length)&&(c=o.length),o.substring(c-l.length,c)===l}function a(o,l,c){return typeof c!="number"&&(c=0),c+l.length>o.length?!1:o.indexOf(l,c)!==-1}return r("ERR_INVALID_OPT_VALUE",function(o,l){return'The value "'+l+'" is invalid for option "'+o+'"'},TypeError),r("ERR_INVALID_ARG_TYPE",function(o,l,c){var f;typeof l=="string"&&i(l,"not ")?(f="must not be",l=l.replace(/^not /,"")):f="must be";var h;if(s(o," argument"))h="The ".concat(o," ").concat(f," ").concat(n(l,"type"));else{var m=a(o,".")?"property":"argument";h='The "'.concat(o,'" ').concat(m," ").concat(f," ").concat(n(l,"type"))}return h+=". Received type ".concat(typeof c),h},TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",function(o){return"The "+o+" method is not implemented"}),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",function(o){return"Cannot call "+o+" after a stream was destroyed"}),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",function(o){return"Unknown encoding: "+o},TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),l5.codes=e,l5}var A5,wU;function H8(){if(wU)return A5;wU=1;var t=Bp().codes.ERR_INVALID_OPT_VALUE;function e(n,i,s){return n.highWaterMark!=null?n.highWaterMark:i?n[s]:null}function r(n,i,s,a){var o=e(i,a,s);if(o!=null){if(!(isFinite(o)&&Math.floor(o)===o)||o<0){var l=a?s:"highWaterMark";throw new t(l,o)}return Math.floor(o)}return n.objectMode?16:16*1024}return A5={getHighWaterMark:r},A5}var c5,vU;function Yne(){if(vU)return c5;vU=1,c5=t;function t(r,n){if(e("noDeprecation"))return r;var i=!1;function s(){if(!i){if(e("throwDeprecation"))throw new Error(n);e("traceDeprecation")?console.trace(n):console.warn(n),i=!0}return r.apply(this,arguments)}return s}function e(r){try{if(!Yl.localStorage)return!1}catch{return!1}var n=Yl.localStorage[r];return n==null?!1:String(n).toLowerCase()==="true"}return c5}var u5,bU;function j8(){if(bU)return u5;bU=1,u5=H;function t(se){var Q=this;this.next=null,this.entry=null,this.finish=function(){Ae(Q,se)}}var e;H.WritableState=M;var r={deprecate:Yne()},n=k8(),i=Ev().Buffer,s=Yl.Uint8Array||function(){};function a(se){return i.from(se)}function o(se){return i.isBuffer(se)||se instanceof s}var l=Q8(),c=H8(),f=c.getHighWaterMark,h=Bp().codes,m=h.ERR_INVALID_ARG_TYPE,d=h.ERR_METHOD_NOT_IMPLEMENTED,g=h.ERR_MULTIPLE_CALLBACK,v=h.ERR_STREAM_CANNOT_PIPE,b=h.ERR_STREAM_DESTROYED,w=h.ERR_STREAM_NULL_VALUES,B=h.ERR_STREAM_WRITE_AFTER_END,S=h.ERR_UNKNOWN_ENCODING,C=l.errorOrDestroy;Lu()(H,n);function k(){}function M(se,Q,P){e=e||cp(),se=se||{},typeof P!="boolean"&&(P=Q instanceof e),this.objectMode=!!se.objectMode,P&&(this.objectMode=this.objectMode||!!se.writableObjectMode),this.highWaterMark=f(this,se,"writableHighWaterMark",P),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var le=se.decodeStrings===!1;this.decodeStrings=!le,this.defaultEncoding=se.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(oe){re(Q,oe)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=se.emitClose!==!1,this.autoDestroy=!!se.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new t(this)}M.prototype.getBuffer=function(){for(var Q=this.bufferedRequest,P=[];Q;)P.push(Q),Q=Q.next;return P},(function(){try{Object.defineProperty(M.prototype,"buffer",{get:r.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var D;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(D=Function.prototype[Symbol.hasInstance],Object.defineProperty(H,Symbol.hasInstance,{value:function(Q){return D.call(this,Q)?!0:this!==H?!1:Q&&Q._writableState instanceof M}})):D=function(Q){return Q instanceof this};function H(se){e=e||cp();var Q=this instanceof e;if(!Q&&!D.call(H,this))return new H(se);this._writableState=new M(se,this,Q),this.writable=!0,se&&(typeof se.write=="function"&&(this._write=se.write),typeof se.writev=="function"&&(this._writev=se.writev),typeof se.destroy=="function"&&(this._destroy=se.destroy),typeof se.final=="function"&&(this._final=se.final)),n.call(this)}H.prototype.pipe=function(){C(this,new v)};function F(se,Q){var P=new B;C(se,P),pr.nextTick(Q,P)}function $(se,Q,P,le){var oe;return P===null?oe=new w:typeof P!="string"&&!Q.objectMode&&(oe=new m("chunk",["string","Buffer"],P)),oe?(C(se,oe),pr.nextTick(le,oe),!1):!0}H.prototype.write=function(se,Q,P){var le=this._writableState,oe=!1,ie=!le.objectMode&&o(se);return ie&&!i.isBuffer(se)&&(se=a(se)),typeof Q=="function"&&(P=Q,Q=null),ie?Q="buffer":Q||(Q=le.defaultEncoding),typeof P!="function"&&(P=k),le.ending?F(this,P):(ie||$(this,le,se,P))&&(le.pendingcb++,oe=R(this,le,ie,se,Q,P)),oe},H.prototype.cork=function(){this._writableState.corked++},H.prototype.uncork=function(){var se=this._writableState;se.corked&&(se.corked--,!se.writing&&!se.corked&&!se.bufferProcessing&&se.bufferedRequest&&de(this,se))},H.prototype.setDefaultEncoding=function(Q){if(typeof Q=="string"&&(Q=Q.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((Q+"").toLowerCase())>-1))throw new S(Q);return this._writableState.defaultEncoding=Q,this},Object.defineProperty(H.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function q(se,Q,P){return!se.objectMode&&se.decodeStrings!==!1&&typeof Q=="string"&&(Q=i.from(Q,P)),Q}Object.defineProperty(H.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function R(se,Q,P,le,oe,ie){if(!P){var fe=q(Q,le,oe);le!==fe&&(P=!0,oe="buffer",le=fe)}var Te=Q.objectMode?1:le.length;Q.length+=Te;var V=Q.length<Q.highWaterMark;if(V||(Q.needDrain=!0),Q.writing||Q.corked){var ne=Q.lastBufferedRequest;Q.lastBufferedRequest={chunk:le,encoding:oe,isBuf:P,callback:ie,next:null},ne?ne.next=Q.lastBufferedRequest:Q.bufferedRequest=Q.lastBufferedRequest,Q.bufferedRequestCount+=1}else G(se,Q,!1,Te,le,oe,ie);return V}function G(se,Q,P,le,oe,ie,fe){Q.writelen=le,Q.writecb=fe,Q.writing=!0,Q.sync=!0,Q.destroyed?Q.onwrite(new b("write")):P?se._writev(oe,Q.onwrite):se._write(oe,ie,Q.onwrite),Q.sync=!1}function U(se,Q,P,le,oe){--Q.pendingcb,P?(pr.nextTick(oe,le),pr.nextTick(J,se,Q),se._writableState.errorEmitted=!0,C(se,le)):(oe(le),se._writableState.errorEmitted=!0,C(se,le),J(se,Q))}function ae(se){se.writing=!1,se.writecb=null,se.length-=se.writelen,se.writelen=0}function re(se,Q){var P=se._writableState,le=P.sync,oe=P.writecb;if(typeof oe!="function")throw new g;if(ae(P),Q)U(se,P,le,Q,oe);else{var ie=Ce(P)||se.destroyed;!ie&&!P.corked&&!P.bufferProcessing&&P.bufferedRequest&&de(se,P),le?pr.nextTick(Y,se,P,ie,oe):Y(se,P,ie,oe)}}function Y(se,Q,P,le){P||he(se,Q),Q.pendingcb--,le(),J(se,Q)}function he(se,Q){Q.length===0&&Q.needDrain&&(Q.needDrain=!1,se.emit("drain"))}function de(se,Q){Q.bufferProcessing=!0;var P=Q.bufferedRequest;if(se._writev&&P&&P.next){var le=Q.bufferedRequestCount,oe=new Array(le),ie=Q.corkedRequestsFree;ie.entry=P;for(var fe=0,Te=!0;P;)oe[fe]=P,P.isBuf||(Te=!1),P=P.next,fe+=1;oe.allBuffers=Te,G(se,Q,!0,Q.length,oe,"",ie.finish),Q.pendingcb++,Q.lastBufferedRequest=null,ie.next?(Q.corkedRequestsFree=ie.next,ie.next=null):Q.corkedRequestsFree=new t(Q),Q.bufferedRequestCount=0}else{for(;P;){var V=P.chunk,ne=P.encoding,W=P.callback,L=Q.objectMode?1:V.length;if(G(se,Q,!1,L,V,ne,W),P=P.next,Q.bufferedRequestCount--,Q.writing)break}P===null&&(Q.lastBufferedRequest=null)}Q.bufferedRequest=P,Q.bufferProcessing=!1}H.prototype._write=function(se,Q,P){P(new d("_write()"))},H.prototype._writev=null,H.prototype.end=function(se,Q,P){var le=this._writableState;return typeof se=="function"?(P=se,se=null,Q=null):typeof Q=="function"&&(P=Q,Q=null),se!=null&&this.write(se,Q),le.corked&&(le.corked=1,this.uncork()),le.ending||te(this,le,P),this},Object.defineProperty(H.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function Ce(se){return se.ending&&se.length===0&&se.bufferedRequest===null&&!se.finished&&!se.writing}function X(se,Q){se._final(function(P){Q.pendingcb--,P&&C(se,P),Q.prefinished=!0,se.emit("prefinish"),J(se,Q)})}function I(se,Q){!Q.prefinished&&!Q.finalCalled&&(typeof se._final=="function"&&!Q.destroyed?(Q.pendingcb++,Q.finalCalled=!0,pr.nextTick(X,se,Q)):(Q.prefinished=!0,se.emit("prefinish")))}function J(se,Q){var P=Ce(Q);if(P&&(I(se,Q),Q.pendingcb===0&&(Q.finished=!0,se.emit("finish"),Q.autoDestroy))){var le=se._readableState;(!le||le.autoDestroy&&le.endEmitted)&&se.destroy()}return P}function te(se,Q,P){Q.ending=!0,J(se,Q),P&&(Q.finished?pr.nextTick(P):se.once("finish",P)),Q.ended=!0,se.writable=!1}function Ae(se,Q,P){var le=se.entry;for(se.entry=null;le;){var oe=le.callback;Q.pendingcb--,oe(P),le=le.next}Q.corkedRequestsFree.next=se}return Object.defineProperty(H.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(Q){this._writableState&&(this._writableState.destroyed=Q)}}),H.prototype.destroy=l.destroy,H.prototype._undestroy=l.undestroy,H.prototype._destroy=function(se,Q){Q(se)},u5}var f5,xU;function cp(){if(xU)return f5;xU=1;var t=Object.keys||function(c){var f=[];for(var h in c)f.push(h);return f};f5=a;var e=P8(),r=j8();Lu()(a,e);for(var n=t(r.prototype),i=0;i<n.length;i++){var s=n[i];a.prototype[s]||(a.prototype[s]=r.prototype[s])}function a(c){if(!(this instanceof a))return new a(c);e.call(this,c),r.call(this,c),this.allowHalfOpen=!0,c&&(c.readable===!1&&(this.readable=!1),c.writable===!1&&(this.writable=!1),c.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",o)))}Object.defineProperty(a.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(a.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(a.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function o(){this._writableState.ended||pr.nextTick(l,this)}function l(c){c.end()}return Object.defineProperty(a.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(f){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=f,this._writableState.destroyed=f)}}),f5}var h5={},Sy={exports:{}},BU;function Jne(){return BU||(BU=1,(function(t,e){var r=Ev(),n=r.Buffer;function i(a,o){for(var l in a)o[l]=a[l]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?t.exports=r:(i(r,e),e.Buffer=s);function s(a,o,l){return n(a,o,l)}i(n,s),s.from=function(a,o,l){if(typeof a=="number")throw new TypeError("Argument must not be a number");return n(a,o,l)},s.alloc=function(a,o,l){if(typeof a!="number")throw new TypeError("Argument must be a number");var c=n(a);return o!==void 0?typeof l=="string"?c.fill(o,l):c.fill(o):c.fill(0),c},s.allocUnsafe=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return n(a)},s.allocUnsafeSlow=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(a)}})(Sy,Sy.exports)),Sy.exports}var CU;function lS(){if(CU)return h5;CU=1;var t=Jne().Buffer,e=t.isEncoding||function(w){switch(w=""+w,w&&w.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(w){if(!w)return"utf8";for(var B;;)switch(w){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return w;default:if(B)return;w=(""+w).toLowerCase(),B=!0}}function n(w){var B=r(w);if(typeof B!="string"&&(t.isEncoding===e||!e(w)))throw new Error("Unknown encoding: "+w);return B||w}h5.StringDecoder=i;function i(w){this.encoding=n(w);var B;switch(this.encoding){case"utf16le":this.text=h,this.end=m,B=4;break;case"utf8":this.fillLast=l,B=4;break;case"base64":this.text=d,this.end=g,B=3;break;default:this.write=v,this.end=b;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(B)}i.prototype.write=function(w){if(w.length===0)return"";var B,S;if(this.lastNeed){if(B=this.fillLast(w),B===void 0)return"";S=this.lastNeed,this.lastNeed=0}else S=0;return S<w.length?B?B+this.text(w,S):this.text(w,S):B||""},i.prototype.end=f,i.prototype.text=c,i.prototype.fillLast=function(w){if(this.lastNeed<=w.length)return w.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);w.copy(this.lastChar,this.lastTotal-this.lastNeed,0,w.length),this.lastNeed-=w.length};function s(w){return w<=127?0:w>>5===6?2:w>>4===14?3:w>>3===30?4:w>>6===2?-1:-2}function a(w,B,S){var C=B.length-1;if(C<S)return 0;var k=s(B[C]);return k>=0?(k>0&&(w.lastNeed=k-1),k):--C<S||k===-2?0:(k=s(B[C]),k>=0?(k>0&&(w.lastNeed=k-2),k):--C<S||k===-2?0:(k=s(B[C]),k>=0?(k>0&&(k===2?k=0:w.lastNeed=k-3),k):0))}function o(w,B,S){if((B[0]&192)!==128)return w.lastNeed=0,"";if(w.lastNeed>1&&B.length>1){if((B[1]&192)!==128)return w.lastNeed=1,"";if(w.lastNeed>2&&B.length>2&&(B[2]&192)!==128)return w.lastNeed=2,""}}function l(w){var B=this.lastTotal-this.lastNeed,S=o(this,w);if(S!==void 0)return S;if(this.lastNeed<=w.length)return w.copy(this.lastChar,B,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);w.copy(this.lastChar,B,0,w.length),this.lastNeed-=w.length}function c(w,B){var S=a(this,w,B);if(!this.lastNeed)return w.toString("utf8",B);this.lastTotal=S;var C=w.length-(S-this.lastNeed);return w.copy(this.lastChar,0,C),w.toString("utf8",B,C)}function f(w){var B=w&&w.length?this.write(w):"";return this.lastNeed?B+"":B}function h(w,B){if((w.length-B)%2===0){var S=w.toString("utf16le",B);if(S){var C=S.charCodeAt(S.length-1);if(C>=55296&&C<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=w[w.length-2],this.lastChar[1]=w[w.length-1],S.slice(0,-1)}return S}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=w[w.length-1],w.toString("utf16le",B,w.length-1)}function m(w){var B=w&&w.length?this.write(w):"";if(this.lastNeed){var S=this.lastTotal-this.lastNeed;return B+this.lastChar.toString("utf16le",0,S)}return B}function d(w,B){var S=(w.length-B)%3;return S===0?w.toString("base64",B):(this.lastNeed=3-S,this.lastTotal=3,S===1?this.lastChar[0]=w[w.length-1]:(this.lastChar[0]=w[w.length-2],this.lastChar[1]=w[w.length-1]),w.toString("base64",B,w.length-S))}function g(w){var B=w&&w.length?this.write(w):"";return this.lastNeed?B+this.lastChar.toString("base64",0,3-this.lastNeed):B}function v(w){return w.toString(this.encoding)}function b(w){return w&&w.length?this.write(w):""}return h5}var d5,SU;function A_(){if(SU)return d5;SU=1;var t=Bp().codes.ERR_STREAM_PREMATURE_CLOSE;function e(s){var a=!1;return function(){if(!a){a=!0;for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];s.apply(this,l)}}}function r(){}function n(s){return s.setHeader&&typeof s.abort=="function"}function i(s,a,o){if(typeof a=="function")return i(s,null,a);a||(a={}),o=e(o||r);var l=a.readable||a.readable!==!1&&s.readable,c=a.writable||a.writable!==!1&&s.writable,f=function(){s.writable||m()},h=s._writableState&&s._writableState.finished,m=function(){c=!1,h=!0,l||o.call(s)},d=s._readableState&&s._readableState.endEmitted,g=function(){l=!1,d=!0,c||o.call(s)},v=function(S){o.call(s,S)},b=function(){var S;if(l&&!d)return(!s._readableState||!s._readableState.ended)&&(S=new t),o.call(s,S);if(c&&!h)return(!s._writableState||!s._writableState.ended)&&(S=new t),o.call(s,S)},w=function(){s.req.on("finish",m)};return n(s)?(s.on("complete",m),s.on("abort",b),s.req?w():s.on("request",w)):c&&!s._writableState&&(s.on("end",f),s.on("close",f)),s.on("end",g),s.on("finish",m),a.error!==!1&&s.on("error",v),s.on("close",b),function(){s.removeListener("complete",m),s.removeListener("abort",b),s.removeListener("request",w),s.req&&s.req.removeListener("finish",m),s.removeListener("end",f),s.removeListener("close",f),s.removeListener("finish",m),s.removeListener("end",g),s.removeListener("error",v),s.removeListener("close",b)}}return d5=i,d5}var p5,EU;function Xne(){if(EU)return p5;EU=1;var t;function e(w,B,S){return B in w?Object.defineProperty(w,B,{value:S,enumerable:!0,configurable:!0,writable:!0}):w[B]=S,w}var r=A_(),n=Symbol("lastResolve"),i=Symbol("lastReject"),s=Symbol("error"),a=Symbol("ended"),o=Symbol("lastPromise"),l=Symbol("handlePromise"),c=Symbol("stream");function f(w,B){return{value:w,done:B}}function h(w){var B=w[n];if(B!==null){var S=w[c].read();S!==null&&(w[o]=null,w[n]=null,w[i]=null,B(f(S,!1)))}}function m(w){pr.nextTick(h,w)}function d(w,B){return function(S,C){w.then(function(){if(B[a]){S(f(void 0,!0));return}B[l](S,C)},C)}}var g=Object.getPrototypeOf(function(){}),v=Object.setPrototypeOf((t={get stream(){return this[c]},next:function(){var B=this,S=this[s];if(S!==null)return Promise.reject(S);if(this[a])return Promise.resolve(f(void 0,!0));if(this[c].destroyed)return new Promise(function(D,H){pr.nextTick(function(){B[s]?H(B[s]):D(f(void 0,!0))})});var C=this[o],k;if(C)k=new Promise(d(C,this));else{var M=this[c].read();if(M!==null)return Promise.resolve(f(M,!1));k=new Promise(this[l])}return this[o]=k,k}},e(t,Symbol.asyncIterator,function(){return this}),e(t,"return",function(){var B=this;return new Promise(function(S,C){B[c].destroy(null,function(k){if(k){C(k);return}S(f(void 0,!0))})})}),t),g),b=function(B){var S,C=Object.create(v,(S={},e(S,c,{value:B,writable:!0}),e(S,n,{value:null,writable:!0}),e(S,i,{value:null,writable:!0}),e(S,s,{value:null,writable:!0}),e(S,a,{value:B._readableState.endEmitted,writable:!0}),e(S,l,{value:function(M,D){var H=C[c].read();H?(C[o]=null,C[n]=null,C[i]=null,M(f(H,!1))):(C[n]=M,C[i]=D)},writable:!0}),S));return C[o]=null,r(B,function(k){if(k&&k.code!=="ERR_STREAM_PREMATURE_CLOSE"){var M=C[i];M!==null&&(C[o]=null,C[n]=null,C[i]=null,M(k)),C[s]=k;return}var D=C[n];D!==null&&(C[o]=null,C[n]=null,C[i]=null,D(f(void 0,!0))),C[a]=!0}),B.on("readable",m.bind(null,C)),C};return p5=b,p5}var m5,_U;function Zne(){return _U||(_U=1,m5=function(){throw new Error("Readable.from is not available in the browser")}),m5}var g5,kU;function P8(){if(kU)return g5;kU=1,g5=F;var t;F.ReadableState=H,s_().EventEmitter;var e=function(fe,Te){return fe.listeners(Te).length},r=k8(),n=Ev().Buffer,i=Yl.Uint8Array||function(){};function s(ie){return n.from(ie)}function a(ie){return n.isBuffer(ie)||ie instanceof i}var o=M8(),l;o&&o.debuglog?l=o.debuglog("stream"):l=function(){};var c=$ne(),f=Q8(),h=H8(),m=h.getHighWaterMark,d=Bp().codes,g=d.ERR_INVALID_ARG_TYPE,v=d.ERR_STREAM_PUSH_AFTER_EOF,b=d.ERR_METHOD_NOT_IMPLEMENTED,w=d.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,B,S,C;Lu()(F,r);var k=f.errorOrDestroy,M=["error","close","destroy","pause","resume"];function D(ie,fe,Te){if(typeof ie.prependListener=="function")return ie.prependListener(fe,Te);!ie._events||!ie._events[fe]?ie.on(fe,Te):Array.isArray(ie._events[fe])?ie._events[fe].unshift(Te):ie._events[fe]=[Te,ie._events[fe]]}function H(ie,fe,Te){t=t||cp(),ie=ie||{},typeof Te!="boolean"&&(Te=fe instanceof t),this.objectMode=!!ie.objectMode,Te&&(this.objectMode=this.objectMode||!!ie.readableObjectMode),this.highWaterMark=m(this,ie,"readableHighWaterMark",Te),this.buffer=new c,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=ie.emitClose!==!1,this.autoDestroy=!!ie.autoDestroy,this.destroyed=!1,this.defaultEncoding=ie.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,ie.encoding&&(B||(B=lS().StringDecoder),this.decoder=new B(ie.encoding),this.encoding=ie.encoding)}function F(ie){if(t=t||cp(),!(this instanceof F))return new F(ie);var fe=this instanceof t;this._readableState=new H(ie,this,fe),this.readable=!0,ie&&(typeof ie.read=="function"&&(this._read=ie.read),typeof ie.destroy=="function"&&(this._destroy=ie.destroy)),r.call(this)}Object.defineProperty(F.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(fe){this._readableState&&(this._readableState.destroyed=fe)}}),F.prototype.destroy=f.destroy,F.prototype._undestroy=f.undestroy,F.prototype._destroy=function(ie,fe){fe(ie)},F.prototype.push=function(ie,fe){var Te=this._readableState,V;return Te.objectMode?V=!0:typeof ie=="string"&&(fe=fe||Te.defaultEncoding,fe!==Te.encoding&&(ie=n.from(ie,fe),fe=""),V=!0),$(this,ie,fe,!1,V)},F.prototype.unshift=function(ie){return $(this,ie,null,!0,!1)};function $(ie,fe,Te,V,ne){l("readableAddChunk",fe);var W=ie._readableState;if(fe===null)W.reading=!1,re(ie,W);else{var L;if(ne||(L=R(W,fe)),L)k(ie,L);else if(W.objectMode||fe&&fe.length>0)if(typeof fe!="string"&&!W.objectMode&&Object.getPrototypeOf(fe)!==n.prototype&&(fe=s(fe)),V)W.endEmitted?k(ie,new w):q(ie,W,fe,!0);else if(W.ended)k(ie,new v);else{if(W.destroyed)return!1;W.reading=!1,W.decoder&&!Te?(fe=W.decoder.write(fe),W.objectMode||fe.length!==0?q(ie,W,fe,!1):de(ie,W)):q(ie,W,fe,!1)}else V||(W.reading=!1,de(ie,W))}return!W.ended&&(W.length<W.highWaterMark||W.length===0)}function q(ie,fe,Te,V){fe.flowing&&fe.length===0&&!fe.sync?(fe.awaitDrain=0,ie.emit("data",Te)):(fe.length+=fe.objectMode?1:Te.length,V?fe.buffer.unshift(Te):fe.buffer.push(Te),fe.needReadable&&Y(ie)),de(ie,fe)}function R(ie,fe){var Te;return!a(fe)&&typeof fe!="string"&&fe!==void 0&&!ie.objectMode&&(Te=new g("chunk",["string","Buffer","Uint8Array"],fe)),Te}F.prototype.isPaused=function(){return this._readableState.flowing===!1},F.prototype.setEncoding=function(ie){B||(B=lS().StringDecoder);var fe=new B(ie);this._readableState.decoder=fe,this._readableState.encoding=this._readableState.decoder.encoding;for(var Te=this._readableState.buffer.head,V="";Te!==null;)V+=fe.write(Te.data),Te=Te.next;return this._readableState.buffer.clear(),V!==""&&this._readableState.buffer.push(V),this._readableState.length=V.length,this};var G=1073741824;function U(ie){return ie>=G?ie=G:(ie--,ie|=ie>>>1,ie|=ie>>>2,ie|=ie>>>4,ie|=ie>>>8,ie|=ie>>>16,ie++),ie}function ae(ie,fe){return ie<=0||fe.length===0&&fe.ended?0:fe.objectMode?1:ie!==ie?fe.flowing&&fe.length?fe.buffer.head.data.length:fe.length:(ie>fe.highWaterMark&&(fe.highWaterMark=U(ie)),ie<=fe.length?ie:fe.ended?fe.length:(fe.needReadable=!0,0))}F.prototype.read=function(ie){l("read",ie),ie=parseInt(ie,10);var fe=this._readableState,Te=ie;if(ie!==0&&(fe.emittedReadable=!1),ie===0&&fe.needReadable&&((fe.highWaterMark!==0?fe.length>=fe.highWaterMark:fe.length>0)||fe.ended))return l("read: emitReadable",fe.length,fe.ended),fe.length===0&&fe.ended?P(this):Y(this),null;if(ie=ae(ie,fe),ie===0&&fe.ended)return fe.length===0&&P(this),null;var V=fe.needReadable;l("need readable",V),(fe.length===0||fe.length-ie<fe.highWaterMark)&&(V=!0,l("length less than watermark",V)),fe.ended||fe.reading?(V=!1,l("reading or ended",V)):V&&(l("do read"),fe.reading=!0,fe.sync=!0,fe.length===0&&(fe.needReadable=!0),this._read(fe.highWaterMark),fe.sync=!1,fe.reading||(ie=ae(Te,fe)));var ne;return ie>0?ne=Q(ie,fe):ne=null,ne===null?(fe.needReadable=fe.length<=fe.highWaterMark,ie=0):(fe.length-=ie,fe.awaitDrain=0),fe.length===0&&(fe.ended||(fe.needReadable=!0),Te!==ie&&fe.ended&&P(this)),ne!==null&&this.emit("data",ne),ne};function re(ie,fe){if(l("onEofChunk"),!fe.ended){if(fe.decoder){var Te=fe.decoder.end();Te&&Te.length&&(fe.buffer.push(Te),fe.length+=fe.objectMode?1:Te.length)}fe.ended=!0,fe.sync?Y(ie):(fe.needReadable=!1,fe.emittedReadable||(fe.emittedReadable=!0,he(ie)))}}function Y(ie){var fe=ie._readableState;l("emitReadable",fe.needReadable,fe.emittedReadable),fe.needReadable=!1,fe.emittedReadable||(l("emitReadable",fe.flowing),fe.emittedReadable=!0,pr.nextTick(he,ie))}function he(ie){var fe=ie._readableState;l("emitReadable_",fe.destroyed,fe.length,fe.ended),!fe.destroyed&&(fe.length||fe.ended)&&(ie.emit("readable"),fe.emittedReadable=!1),fe.needReadable=!fe.flowing&&!fe.ended&&fe.length<=fe.highWaterMark,se(ie)}function de(ie,fe){fe.readingMore||(fe.readingMore=!0,pr.nextTick(Ce,ie,fe))}function Ce(ie,fe){for(;!fe.reading&&!fe.ended&&(fe.length<fe.highWaterMark||fe.flowing&&fe.length===0);){var Te=fe.length;if(l("maybeReadMore read 0"),ie.read(0),Te===fe.length)break}fe.readingMore=!1}F.prototype._read=function(ie){k(this,new b("_read()"))},F.prototype.pipe=function(ie,fe){var Te=this,V=this._readableState;switch(V.pipesCount){case 0:V.pipes=ie;break;case 1:V.pipes=[V.pipes,ie];break;default:V.pipes.push(ie);break}V.pipesCount+=1,l("pipe count=%d opts=%j",V.pipesCount,fe);var ne=(!fe||fe.end!==!1)&&ie!==pr.stdout&&ie!==pr.stderr,W=ne?N:We;V.endEmitted?pr.nextTick(W):Te.once("end",W),ie.on("unpipe",L);function L(at,ct){l("onunpipe"),at===Te&&ct&&ct.hasUnpiped===!1&&(ct.hasUnpiped=!0,Be())}function N(){l("onend"),ie.end()}var z=X(Te);ie.on("drain",z);var ge=!1;function Be(){l("cleanup"),ie.removeListener("close",je),ie.removeListener("finish",He),ie.removeListener("drain",z),ie.removeListener("error",Oe),ie.removeListener("unpipe",L),Te.removeListener("end",N),Te.removeListener("end",We),Te.removeListener("data",be),ge=!0,V.awaitDrain&&(!ie._writableState||ie._writableState.needDrain)&&z()}Te.on("data",be);function be(at){l("ondata");var ct=ie.write(at);l("dest.write",ct),ct===!1&&((V.pipesCount===1&&V.pipes===ie||V.pipesCount>1&&oe(V.pipes,ie)!==-1)&&!ge&&(l("false write response, pause",V.awaitDrain),V.awaitDrain++),Te.pause())}function Oe(at){l("onerror",at),We(),ie.removeListener("error",Oe),e(ie,"error")===0&&k(ie,at)}D(ie,"error",Oe);function je(){ie.removeListener("finish",He),We()}ie.once("close",je);function He(){l("onfinish"),ie.removeListener("close",je),We()}ie.once("finish",He);function We(){l("unpipe"),Te.unpipe(ie)}return ie.emit("pipe",Te),V.flowing||(l("pipe resume"),Te.resume()),ie};function X(ie){return function(){var Te=ie._readableState;l("pipeOnDrain",Te.awaitDrain),Te.awaitDrain&&Te.awaitDrain--,Te.awaitDrain===0&&e(ie,"data")&&(Te.flowing=!0,se(ie))}}F.prototype.unpipe=function(ie){var fe=this._readableState,Te={hasUnpiped:!1};if(fe.pipesCount===0)return this;if(fe.pipesCount===1)return ie&&ie!==fe.pipes?this:(ie||(ie=fe.pipes),fe.pipes=null,fe.pipesCount=0,fe.flowing=!1,ie&&ie.emit("unpipe",this,Te),this);if(!ie){var V=fe.pipes,ne=fe.pipesCount;fe.pipes=null,fe.pipesCount=0,fe.flowing=!1;for(var W=0;W<ne;W++)V[W].emit("unpipe",this,{hasUnpiped:!1});return this}var L=oe(fe.pipes,ie);return L===-1?this:(fe.pipes.splice(L,1),fe.pipesCount-=1,fe.pipesCount===1&&(fe.pipes=fe.pipes[0]),ie.emit("unpipe",this,Te),this)},F.prototype.on=function(ie,fe){var Te=r.prototype.on.call(this,ie,fe),V=this._readableState;return ie==="data"?(V.readableListening=this.listenerCount("readable")>0,V.flowing!==!1&&this.resume()):ie==="readable"&&!V.endEmitted&&!V.readableListening&&(V.readableListening=V.needReadable=!0,V.flowing=!1,V.emittedReadable=!1,l("on readable",V.length,V.reading),V.length?Y(this):V.reading||pr.nextTick(J,this)),Te},F.prototype.addListener=F.prototype.on,F.prototype.removeListener=function(ie,fe){var Te=r.prototype.removeListener.call(this,ie,fe);return ie==="readable"&&pr.nextTick(I,this),Te},F.prototype.removeAllListeners=function(ie){var fe=r.prototype.removeAllListeners.apply(this,arguments);return(ie==="readable"||ie===void 0)&&pr.nextTick(I,this),fe};function I(ie){var fe=ie._readableState;fe.readableListening=ie.listenerCount("readable")>0,fe.resumeScheduled&&!fe.paused?fe.flowing=!0:ie.listenerCount("data")>0&&ie.resume()}function J(ie){l("readable nexttick read 0"),ie.read(0)}F.prototype.resume=function(){var ie=this._readableState;return ie.flowing||(l("resume"),ie.flowing=!ie.readableListening,te(this,ie)),ie.paused=!1,this};function te(ie,fe){fe.resumeScheduled||(fe.resumeScheduled=!0,pr.nextTick(Ae,ie,fe))}function Ae(ie,fe){l("resume",fe.reading),fe.reading||ie.read(0),fe.resumeScheduled=!1,ie.emit("resume"),se(ie),fe.flowing&&!fe.reading&&ie.read(0)}F.prototype.pause=function(){return l("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(l("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function se(ie){var fe=ie._readableState;for(l("flow",fe.flowing);fe.flowing&&ie.read()!==null;);}F.prototype.wrap=function(ie){var fe=this,Te=this._readableState,V=!1;ie.on("end",function(){if(l("wrapped end"),Te.decoder&&!Te.ended){var L=Te.decoder.end();L&&L.length&&fe.push(L)}fe.push(null)}),ie.on("data",function(L){if(l("wrapped data"),Te.decoder&&(L=Te.decoder.write(L)),!(Te.objectMode&&L==null)&&!(!Te.objectMode&&(!L||!L.length))){var N=fe.push(L);N||(V=!0,ie.pause())}});for(var ne in ie)this[ne]===void 0&&typeof ie[ne]=="function"&&(this[ne]=(function(N){return function(){return ie[N].apply(ie,arguments)}})(ne));for(var W=0;W<M.length;W++)ie.on(M[W],this.emit.bind(this,M[W]));return this._read=function(L){l("wrapped _read",L),V&&(V=!1,ie.resume())},this},typeof Symbol=="function"&&(F.prototype[Symbol.asyncIterator]=function(){return S===void 0&&(S=Xne()),S(this)}),Object.defineProperty(F.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(F.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(F.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(fe){this._readableState&&(this._readableState.flowing=fe)}}),F._fromList=Q,Object.defineProperty(F.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function Q(ie,fe){if(fe.length===0)return null;var Te;return fe.objectMode?Te=fe.buffer.shift():!ie||ie>=fe.length?(fe.decoder?Te=fe.buffer.join(""):fe.buffer.length===1?Te=fe.buffer.first():Te=fe.buffer.concat(fe.length),fe.buffer.clear()):Te=fe.buffer.consume(ie,fe.decoder),Te}function P(ie){var fe=ie._readableState;l("endReadable",fe.endEmitted),fe.endEmitted||(fe.ended=!0,pr.nextTick(le,fe,ie))}function le(ie,fe){if(l("endReadableNT",ie.endEmitted,ie.length),!ie.endEmitted&&ie.length===0&&(ie.endEmitted=!0,fe.readable=!1,fe.emit("end"),ie.autoDestroy)){var Te=fe._writableState;(!Te||Te.autoDestroy&&Te.finished)&&fe.destroy()}}typeof Symbol=="function"&&(F.from=function(ie,fe){return C===void 0&&(C=Zne()),C(F,ie,fe)});function oe(ie,fe){for(var Te=0,V=ie.length;Te<V;Te++)if(ie[Te]===fe)return Te;return-1}return g5}var y5,TU;function z8(){if(TU)return y5;TU=1,y5=o;var t=Bp().codes,e=t.ERR_METHOD_NOT_IMPLEMENTED,r=t.ERR_MULTIPLE_CALLBACK,n=t.ERR_TRANSFORM_ALREADY_TRANSFORMING,i=t.ERR_TRANSFORM_WITH_LENGTH_0,s=cp();Lu()(o,s);function a(f,h){var m=this._transformState;m.transforming=!1;var d=m.writecb;if(d===null)return this.emit("error",new r);m.writechunk=null,m.writecb=null,h!=null&&this.push(h),d(f);var g=this._readableState;g.reading=!1,(g.needReadable||g.length<g.highWaterMark)&&this._read(g.highWaterMark)}function o(f){if(!(this instanceof o))return new o(f);s.call(this,f),this._transformState={afterTransform:a.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,f&&(typeof f.transform=="function"&&(this._transform=f.transform),typeof f.flush=="function"&&(this._flush=f.flush)),this.on("prefinish",l)}function l(){var f=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(h,m){c(f,h,m)}):c(this,null,null)}o.prototype.push=function(f,h){return this._transformState.needTransform=!1,s.prototype.push.call(this,f,h)},o.prototype._transform=function(f,h,m){m(new e("_transform()"))},o.prototype._write=function(f,h,m){var d=this._transformState;if(d.writecb=m,d.writechunk=f,d.writeencoding=h,!d.transforming){var g=this._readableState;(d.needTransform||g.needReadable||g.length<g.highWaterMark)&&this._read(g.highWaterMark)}},o.prototype._read=function(f){var h=this._transformState;h.writechunk!==null&&!h.transforming?(h.transforming=!0,this._transform(h.writechunk,h.writeencoding,h.afterTransform)):h.needTransform=!0},o.prototype._destroy=function(f,h){s.prototype._destroy.call(this,f,function(m){h(m)})};function c(f,h,m){if(h)return f.emit("error",h);if(m!=null&&f.push(m),f._writableState.length)throw new i;if(f._transformState.transforming)throw new n;return f.push(null)}return y5}var w5,NU;function eie(){if(NU)return w5;NU=1,w5=e;var t=z8();Lu()(e,t);function e(r){if(!(this instanceof e))return new e(r);t.call(this,r)}return e.prototype._transform=function(r,n,i){i(null,r)},w5}var v5,FU;function tie(){if(FU)return v5;FU=1;var t;function e(m){var d=!1;return function(){d||(d=!0,m.apply(void 0,arguments))}}var r=Bp().codes,n=r.ERR_MISSING_ARGS,i=r.ERR_STREAM_DESTROYED;function s(m){if(m)throw m}function a(m){return m.setHeader&&typeof m.abort=="function"}function o(m,d,g,v){v=e(v);var b=!1;m.on("close",function(){b=!0}),t===void 0&&(t=A_()),t(m,{readable:d,writable:g},function(B){if(B)return v(B);b=!0,v()});var w=!1;return function(B){if(!b&&!w){if(w=!0,a(m))return m.abort();if(typeof m.destroy=="function")return m.destroy();v(B||new i("pipe"))}}}function l(m){m()}function c(m,d){return m.pipe(d)}function f(m){return!m.length||typeof m[m.length-1]!="function"?s:m.pop()}function h(){for(var m=arguments.length,d=new Array(m),g=0;g<m;g++)d[g]=arguments[g];var v=f(d);if(Array.isArray(d[0])&&(d=d[0]),d.length<2)throw new n("streams");var b,w=d.map(function(B,S){var C=S<d.length-1,k=S>0;return o(B,C,k,function(M){b||(b=M),M&&w.forEach(l),!C&&(w.forEach(l),v(b))})});return d.reduce(c)}return v5=h,v5}var b5,UU;function c_(){if(UU)return b5;UU=1,b5=r;var t=s_().EventEmitter,e=Lu();e(r,t),r.Readable=P8(),r.Writable=j8(),r.Duplex=cp(),r.Transform=z8(),r.PassThrough=eie(),r.finished=A_(),r.pipeline=tie(),r.Stream=r;function r(){t.call(this)}return r.prototype.pipe=function(n,i){var s=this;function a(d){n.writable&&n.write(d)===!1&&s.pause&&s.pause()}s.on("data",a);function o(){s.readable&&s.resume&&s.resume()}n.on("drain",o),!n._isStdio&&(!i||i.end!==!1)&&(s.on("end",c),s.on("close",f));var l=!1;function c(){l||(l=!0,n.end())}function f(){l||(l=!0,typeof n.destroy=="function"&&n.destroy())}function h(d){if(m(),t.listenerCount(this,"error")===0)throw d}s.on("error",h),n.on("error",h);function m(){s.removeListener("data",a),n.removeListener("drain",o),s.removeListener("end",c),s.removeListener("close",f),s.removeListener("error",h),n.removeListener("error",h),s.removeListener("end",m),s.removeListener("close",m),n.removeListener("close",m)}return s.on("end",m),s.on("close",m),n.on("close",m),n.emit("pipe",s),n},b5}var OU;function rie(){return OU||(OU=1,(function(t){(function(e){e.parser=function(Q,P){return new n(Q,P)},e.SAXParser=n,e.SAXStream=f,e.createStream=c,e.MAX_BUFFER_LENGTH=64*1024;var r=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];e.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"];function n(Q,P){if(!(this instanceof n))return new n(Q,P);var le=this;s(le),le.q=le.c="",le.bufferCheckPosition=e.MAX_BUFFER_LENGTH,le.opt=P||{},le.opt.lowercase=le.opt.lowercase||le.opt.lowercasetags,le.looseCase=le.opt.lowercase?"toLowerCase":"toUpperCase",le.tags=[],le.closed=le.closedRoot=le.sawRoot=!1,le.tag=le.error=null,le.strict=!!Q,le.noscript=!!(Q||le.opt.noscript),le.state=F.BEGIN,le.strictEntities=le.opt.strictEntities,le.ENTITIES=le.strictEntities?Object.create(e.XML_ENTITIES):Object.create(e.ENTITIES),le.attribList=[],le.opt.xmlns&&(le.ns=Object.create(v)),le.trackPosition=le.opt.position!==!1,le.trackPosition&&(le.position=le.line=le.column=0),q(le,"onready")}Object.create||(Object.create=function(Q){function P(){}P.prototype=Q;var le=new P;return le}),Object.keys||(Object.keys=function(Q){var P=[];for(var le in Q)Q.hasOwnProperty(le)&&P.push(le);return P});function i(Q){for(var P=Math.max(e.MAX_BUFFER_LENGTH,10),le=0,oe=0,ie=r.length;oe<ie;oe++){var fe=Q[r[oe]].length;if(fe>P)switch(r[oe]){case"textNode":G(Q);break;case"cdata":R(Q,"oncdata",Q.cdata),Q.cdata="";break;case"script":R(Q,"onscript",Q.script),Q.script="";break;default:ae(Q,"Max buffer length exceeded: "+r[oe])}le=Math.max(le,fe)}var Te=e.MAX_BUFFER_LENGTH-le;Q.bufferCheckPosition=Te+Q.position}function s(Q){for(var P=0,le=r.length;P<le;P++)Q[r[P]]=""}function a(Q){G(Q),Q.cdata!==""&&(R(Q,"oncdata",Q.cdata),Q.cdata=""),Q.script!==""&&(R(Q,"onscript",Q.script),Q.script="")}n.prototype={end:function(){re(this)},write:se,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){a(this)}};var o;try{o=c_().Stream}catch{o=function(){}}var l=e.EVENTS.filter(function(Q){return Q!=="error"&&Q!=="end"});function c(Q,P){return new f(Q,P)}function f(Q,P){if(!(this instanceof f))return new f(Q,P);o.apply(this),this._parser=new n(Q,P),this.writable=!0,this.readable=!0;var le=this;this._parser.onend=function(){le.emit("end")},this._parser.onerror=function(oe){le.emit("error",oe),le._parser.error=null},this._decoder=null,l.forEach(function(oe){Object.defineProperty(le,"on"+oe,{get:function(){return le._parser["on"+oe]},set:function(ie){if(!ie)return le.removeAllListeners(oe),le._parser["on"+oe]=ie,ie;le.on(oe,ie)},enumerable:!0,configurable:!1})})}f.prototype=Object.create(o.prototype,{constructor:{value:f}}),f.prototype.write=function(Q){if(typeof Buffer=="function"&&typeof Buffer.isBuffer=="function"&&Buffer.isBuffer(Q)){if(!this._decoder){var P=lS().StringDecoder;this._decoder=new P("utf8")}Q=this._decoder.write(Q)}return this._parser.write(Q.toString()),this.emit("data",Q),!0},f.prototype.end=function(Q){return Q&&Q.length&&this.write(Q),this._parser.end(),!0},f.prototype.on=function(Q,P){var le=this;return!le._parser["on"+Q]&&l.indexOf(Q)!==-1&&(le._parser["on"+Q]=function(){var oe=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);oe.splice(0,0,Q),le.emit.apply(le,oe)}),o.prototype.on.call(le,Q,P)};var h="[CDATA[",m="DOCTYPE",d="http://www.w3.org/XML/1998/namespace",g="http://www.w3.org/2000/xmlns/",v={xml:d,xmlns:g},b=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,w=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,B=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,S=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function C(Q){return Q===" "||Q===`
`||Q==="\r"||Q==="	"}function k(Q){return Q==='"'||Q==="'"}function M(Q){return Q===">"||C(Q)}function D(Q,P){return Q.test(P)}function H(Q,P){return!D(Q,P)}var F=0;e.STATE={BEGIN:F++,BEGIN_WHITESPACE:F++,TEXT:F++,TEXT_ENTITY:F++,OPEN_WAKA:F++,SGML_DECL:F++,SGML_DECL_QUOTED:F++,DOCTYPE:F++,DOCTYPE_QUOTED:F++,DOCTYPE_DTD:F++,DOCTYPE_DTD_QUOTED:F++,COMMENT_STARTING:F++,COMMENT:F++,COMMENT_ENDING:F++,COMMENT_ENDED:F++,CDATA:F++,CDATA_ENDING:F++,CDATA_ENDING_2:F++,PROC_INST:F++,PROC_INST_BODY:F++,PROC_INST_ENDING:F++,OPEN_TAG:F++,OPEN_TAG_SLASH:F++,ATTRIB:F++,ATTRIB_NAME:F++,ATTRIB_NAME_SAW_WHITE:F++,ATTRIB_VALUE:F++,ATTRIB_VALUE_QUOTED:F++,ATTRIB_VALUE_CLOSED:F++,ATTRIB_VALUE_UNQUOTED:F++,ATTRIB_VALUE_ENTITY_Q:F++,ATTRIB_VALUE_ENTITY_U:F++,CLOSE_TAG:F++,CLOSE_TAG_SAW_WHITE:F++,SCRIPT:F++,SCRIPT_ENDING:F++},e.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},e.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(e.ENTITIES).forEach(function(Q){var P=e.ENTITIES[Q],le=typeof P=="number"?String.fromCharCode(P):P;e.ENTITIES[Q]=le});for(var $ in e.STATE)e.STATE[e.STATE[$]]=$;F=e.STATE;function q(Q,P,le){Q[P]&&Q[P](le)}function R(Q,P,le){Q.textNode&&G(Q),q(Q,P,le)}function G(Q){Q.textNode=U(Q.opt,Q.textNode),Q.textNode&&q(Q,"ontext",Q.textNode),Q.textNode=""}function U(Q,P){return Q.trim&&(P=P.trim()),Q.normalize&&(P=P.replace(/\s+/g," ")),P}function ae(Q,P){return G(Q),Q.trackPosition&&(P+=`
Line: `+Q.line+`
Column: `+Q.column+`
Char: `+Q.c),P=new Error(P),Q.error=P,q(Q,"onerror",P),Q}function re(Q){return Q.sawRoot&&!Q.closedRoot&&Y(Q,"Unclosed root tag"),Q.state!==F.BEGIN&&Q.state!==F.BEGIN_WHITESPACE&&Q.state!==F.TEXT&&ae(Q,"Unexpected end"),G(Q),Q.c="",Q.closed=!0,q(Q,"onend"),n.call(Q,Q.strict,Q.opt),Q}function Y(Q,P){if(typeof Q!="object"||!(Q instanceof n))throw new Error("bad call to strictFail");Q.strict&&ae(Q,P)}function he(Q){Q.strict||(Q.tagName=Q.tagName[Q.looseCase]());var P=Q.tags[Q.tags.length-1]||Q,le=Q.tag={name:Q.tagName,attributes:{}};Q.opt.xmlns&&(le.ns=P.ns),Q.attribList.length=0,R(Q,"onopentagstart",le)}function de(Q,P){var le=Q.indexOf(":"),oe=le<0?["",Q]:Q.split(":"),ie=oe[0],fe=oe[1];return P&&Q==="xmlns"&&(ie="xmlns",fe=""),{prefix:ie,local:fe}}function Ce(Q){if(Q.strict||(Q.attribName=Q.attribName[Q.looseCase]()),Q.attribList.indexOf(Q.attribName)!==-1||Q.tag.attributes.hasOwnProperty(Q.attribName)){Q.attribName=Q.attribValue="";return}if(Q.opt.xmlns){var P=de(Q.attribName,!0),le=P.prefix,oe=P.local;if(le==="xmlns")if(oe==="xml"&&Q.attribValue!==d)Y(Q,"xml: prefix must be bound to "+d+`
Actual: `+Q.attribValue);else if(oe==="xmlns"&&Q.attribValue!==g)Y(Q,"xmlns: prefix must be bound to "+g+`
Actual: `+Q.attribValue);else{var ie=Q.tag,fe=Q.tags[Q.tags.length-1]||Q;ie.ns===fe.ns&&(ie.ns=Object.create(fe.ns)),ie.ns[oe]=Q.attribValue}Q.attribList.push([Q.attribName,Q.attribValue])}else Q.tag.attributes[Q.attribName]=Q.attribValue,R(Q,"onattribute",{name:Q.attribName,value:Q.attribValue});Q.attribName=Q.attribValue=""}function X(Q,P){if(Q.opt.xmlns){var le=Q.tag,oe=de(Q.tagName);le.prefix=oe.prefix,le.local=oe.local,le.uri=le.ns[oe.prefix]||"",le.prefix&&!le.uri&&(Y(Q,"Unbound namespace prefix: "+JSON.stringify(Q.tagName)),le.uri=oe.prefix);var ie=Q.tags[Q.tags.length-1]||Q;le.ns&&ie.ns!==le.ns&&Object.keys(le.ns).forEach(function(be){R(Q,"onopennamespace",{prefix:be,uri:le.ns[be]})});for(var fe=0,Te=Q.attribList.length;fe<Te;fe++){var V=Q.attribList[fe],ne=V[0],W=V[1],L=de(ne,!0),N=L.prefix,z=L.local,ge=N===""?"":le.ns[N]||"",Be={name:ne,value:W,prefix:N,local:z,uri:ge};N&&N!=="xmlns"&&!ge&&(Y(Q,"Unbound namespace prefix: "+JSON.stringify(N)),Be.uri=N),Q.tag.attributes[ne]=Be,R(Q,"onattribute",Be)}Q.attribList.length=0}Q.tag.isSelfClosing=!!P,Q.sawRoot=!0,Q.tags.push(Q.tag),R(Q,"onopentag",Q.tag),P||(!Q.noscript&&Q.tagName.toLowerCase()==="script"?Q.state=F.SCRIPT:Q.state=F.TEXT,Q.tag=null,Q.tagName=""),Q.attribName=Q.attribValue="",Q.attribList.length=0}function I(Q){if(!Q.tagName){Y(Q,"Weird empty close tag."),Q.textNode+="</>",Q.state=F.TEXT;return}if(Q.script){if(Q.tagName!=="script"){Q.script+="</"+Q.tagName+">",Q.tagName="",Q.state=F.SCRIPT;return}R(Q,"onscript",Q.script),Q.script=""}var P=Q.tags.length,le=Q.tagName;Q.strict||(le=le[Q.looseCase]());for(var oe=le;P--;){var ie=Q.tags[P];if(ie.name!==oe)Y(Q,"Unexpected close tag");else break}if(P<0){Y(Q,"Unmatched closing tag: "+Q.tagName),Q.textNode+="</"+Q.tagName+">",Q.state=F.TEXT;return}Q.tagName=le;for(var fe=Q.tags.length;fe-- >P;){var Te=Q.tag=Q.tags.pop();Q.tagName=Q.tag.name,R(Q,"onclosetag",Q.tagName);var V={};for(var ne in Te.ns)V[ne]=Te.ns[ne];var W=Q.tags[Q.tags.length-1]||Q;Q.opt.xmlns&&Te.ns!==W.ns&&Object.keys(Te.ns).forEach(function(L){var N=Te.ns[L];R(Q,"onclosenamespace",{prefix:L,uri:N})})}P===0&&(Q.closedRoot=!0),Q.tagName=Q.attribValue=Q.attribName="",Q.attribList.length=0,Q.state=F.TEXT}function J(Q){var P=Q.entity,le=P.toLowerCase(),oe,ie="";return Q.ENTITIES[P]?Q.ENTITIES[P]:Q.ENTITIES[le]?Q.ENTITIES[le]:(P=le,P.charAt(0)==="#"&&(P.charAt(1)==="x"?(P=P.slice(2),oe=parseInt(P,16),ie=oe.toString(16)):(P=P.slice(1),oe=parseInt(P,10),ie=oe.toString(10))),P=P.replace(/^0+/,""),isNaN(oe)||ie.toLowerCase()!==P?(Y(Q,"Invalid character entity"),"&"+Q.entity+";"):String.fromCodePoint(oe))}function te(Q,P){P==="<"?(Q.state=F.OPEN_WAKA,Q.startTagPosition=Q.position):C(P)||(Y(Q,"Non-whitespace before first tag."),Q.textNode=P,Q.state=F.TEXT)}function Ae(Q,P){var le="";return P<Q.length&&(le=Q.charAt(P)),le}function se(Q){var P=this;if(this.error)throw this.error;if(P.closed)return ae(P,"Cannot write after close. Assign an onready handler.");if(Q===null)return re(P);typeof Q=="object"&&(Q=Q.toString());for(var le=0,oe="";oe=Ae(Q,le++),P.c=oe,!!oe;)switch(P.trackPosition&&(P.position++,oe===`
`?(P.line++,P.column=0):P.column++),P.state){case F.BEGIN:if(P.state=F.BEGIN_WHITESPACE,oe==="\uFEFF")continue;te(P,oe);continue;case F.BEGIN_WHITESPACE:te(P,oe);continue;case F.TEXT:if(P.sawRoot&&!P.closedRoot){for(var ie=le-1;oe&&oe!=="<"&&oe!=="&";)oe=Ae(Q,le++),oe&&P.trackPosition&&(P.position++,oe===`
`?(P.line++,P.column=0):P.column++);P.textNode+=Q.substring(ie,le-1)}oe==="<"&&!(P.sawRoot&&P.closedRoot&&!P.strict)?(P.state=F.OPEN_WAKA,P.startTagPosition=P.position):(!C(oe)&&(!P.sawRoot||P.closedRoot)&&Y(P,"Text data outside of root node."),oe==="&"?P.state=F.TEXT_ENTITY:P.textNode+=oe);continue;case F.SCRIPT:oe==="<"?P.state=F.SCRIPT_ENDING:P.script+=oe;continue;case F.SCRIPT_ENDING:oe==="/"?P.state=F.CLOSE_TAG:(P.script+="<"+oe,P.state=F.SCRIPT);continue;case F.OPEN_WAKA:if(oe==="!")P.state=F.SGML_DECL,P.sgmlDecl="";else if(!C(oe))if(D(b,oe))P.state=F.OPEN_TAG,P.tagName=oe;else if(oe==="/")P.state=F.CLOSE_TAG,P.tagName="";else if(oe==="?")P.state=F.PROC_INST,P.procInstName=P.procInstBody="";else{if(Y(P,"Unencoded <"),P.startTagPosition+1<P.position){var fe=P.position-P.startTagPosition;oe=new Array(fe).join(" ")+oe}P.textNode+="<"+oe,P.state=F.TEXT}continue;case F.SGML_DECL:(P.sgmlDecl+oe).toUpperCase()===h?(R(P,"onopencdata"),P.state=F.CDATA,P.sgmlDecl="",P.cdata=""):P.sgmlDecl+oe==="--"?(P.state=F.COMMENT,P.comment="",P.sgmlDecl=""):(P.sgmlDecl+oe).toUpperCase()===m?(P.state=F.DOCTYPE,(P.doctype||P.sawRoot)&&Y(P,"Inappropriately located doctype declaration"),P.doctype="",P.sgmlDecl=""):oe===">"?(R(P,"onsgmldeclaration",P.sgmlDecl),P.sgmlDecl="",P.state=F.TEXT):(k(oe)&&(P.state=F.SGML_DECL_QUOTED),P.sgmlDecl+=oe);continue;case F.SGML_DECL_QUOTED:oe===P.q&&(P.state=F.SGML_DECL,P.q=""),P.sgmlDecl+=oe;continue;case F.DOCTYPE:oe===">"?(P.state=F.TEXT,R(P,"ondoctype",P.doctype),P.doctype=!0):(P.doctype+=oe,oe==="["?P.state=F.DOCTYPE_DTD:k(oe)&&(P.state=F.DOCTYPE_QUOTED,P.q=oe));continue;case F.DOCTYPE_QUOTED:P.doctype+=oe,oe===P.q&&(P.q="",P.state=F.DOCTYPE);continue;case F.DOCTYPE_DTD:P.doctype+=oe,oe==="]"?P.state=F.DOCTYPE:k(oe)&&(P.state=F.DOCTYPE_DTD_QUOTED,P.q=oe);continue;case F.DOCTYPE_DTD_QUOTED:P.doctype+=oe,oe===P.q&&(P.state=F.DOCTYPE_DTD,P.q="");continue;case F.COMMENT:oe==="-"?P.state=F.COMMENT_ENDING:P.comment+=oe;continue;case F.COMMENT_ENDING:oe==="-"?(P.state=F.COMMENT_ENDED,P.comment=U(P.opt,P.comment),P.comment&&R(P,"oncomment",P.comment),P.comment=""):(P.comment+="-"+oe,P.state=F.COMMENT);continue;case F.COMMENT_ENDED:oe!==">"?(Y(P,"Malformed comment"),P.comment+="--"+oe,P.state=F.COMMENT):P.state=F.TEXT;continue;case F.CDATA:oe==="]"?P.state=F.CDATA_ENDING:P.cdata+=oe;continue;case F.CDATA_ENDING:oe==="]"?P.state=F.CDATA_ENDING_2:(P.cdata+="]"+oe,P.state=F.CDATA);continue;case F.CDATA_ENDING_2:oe===">"?(P.cdata&&R(P,"oncdata",P.cdata),R(P,"onclosecdata"),P.cdata="",P.state=F.TEXT):oe==="]"?P.cdata+="]":(P.cdata+="]]"+oe,P.state=F.CDATA);continue;case F.PROC_INST:oe==="?"?P.state=F.PROC_INST_ENDING:C(oe)?P.state=F.PROC_INST_BODY:P.procInstName+=oe;continue;case F.PROC_INST_BODY:if(!P.procInstBody&&C(oe))continue;oe==="?"?P.state=F.PROC_INST_ENDING:P.procInstBody+=oe;continue;case F.PROC_INST_ENDING:oe===">"?(R(P,"onprocessinginstruction",{name:P.procInstName,body:P.procInstBody}),P.procInstName=P.procInstBody="",P.state=F.TEXT):(P.procInstBody+="?"+oe,P.state=F.PROC_INST_BODY);continue;case F.OPEN_TAG:D(w,oe)?P.tagName+=oe:(he(P),oe===">"?X(P):oe==="/"?P.state=F.OPEN_TAG_SLASH:(C(oe)||Y(P,"Invalid character in tag name"),P.state=F.ATTRIB));continue;case F.OPEN_TAG_SLASH:oe===">"?(X(P,!0),I(P)):(Y(P,"Forward-slash in opening tag not followed by >"),P.state=F.ATTRIB);continue;case F.ATTRIB:if(C(oe))continue;oe===">"?X(P):oe==="/"?P.state=F.OPEN_TAG_SLASH:D(b,oe)?(P.attribName=oe,P.attribValue="",P.state=F.ATTRIB_NAME):Y(P,"Invalid attribute name");continue;case F.ATTRIB_NAME:oe==="="?P.state=F.ATTRIB_VALUE:oe===">"?(Y(P,"Attribute without value"),P.attribValue=P.attribName,Ce(P),X(P)):C(oe)?P.state=F.ATTRIB_NAME_SAW_WHITE:D(w,oe)?P.attribName+=oe:Y(P,"Invalid attribute name");continue;case F.ATTRIB_NAME_SAW_WHITE:if(oe==="=")P.state=F.ATTRIB_VALUE;else{if(C(oe))continue;Y(P,"Attribute without value"),P.tag.attributes[P.attribName]="",P.attribValue="",R(P,"onattribute",{name:P.attribName,value:""}),P.attribName="",oe===">"?X(P):D(b,oe)?(P.attribName=oe,P.state=F.ATTRIB_NAME):(Y(P,"Invalid attribute name"),P.state=F.ATTRIB)}continue;case F.ATTRIB_VALUE:if(C(oe))continue;k(oe)?(P.q=oe,P.state=F.ATTRIB_VALUE_QUOTED):(Y(P,"Unquoted attribute value"),P.state=F.ATTRIB_VALUE_UNQUOTED,P.attribValue=oe);continue;case F.ATTRIB_VALUE_QUOTED:if(oe!==P.q){oe==="&"?P.state=F.ATTRIB_VALUE_ENTITY_Q:P.attribValue+=oe;continue}Ce(P),P.q="",P.state=F.ATTRIB_VALUE_CLOSED;continue;case F.ATTRIB_VALUE_CLOSED:C(oe)?P.state=F.ATTRIB:oe===">"?X(P):oe==="/"?P.state=F.OPEN_TAG_SLASH:D(b,oe)?(Y(P,"No whitespace between attributes"),P.attribName=oe,P.attribValue="",P.state=F.ATTRIB_NAME):Y(P,"Invalid attribute name");continue;case F.ATTRIB_VALUE_UNQUOTED:if(!M(oe)){oe==="&"?P.state=F.ATTRIB_VALUE_ENTITY_U:P.attribValue+=oe;continue}Ce(P),oe===">"?X(P):P.state=F.ATTRIB;continue;case F.CLOSE_TAG:if(P.tagName)oe===">"?I(P):D(w,oe)?P.tagName+=oe:P.script?(P.script+="</"+P.tagName,P.tagName="",P.state=F.SCRIPT):(C(oe)||Y(P,"Invalid tagname in closing tag"),P.state=F.CLOSE_TAG_SAW_WHITE);else{if(C(oe))continue;H(b,oe)?P.script?(P.script+="</"+oe,P.state=F.SCRIPT):Y(P,"Invalid tagname in closing tag."):P.tagName=oe}continue;case F.CLOSE_TAG_SAW_WHITE:if(C(oe))continue;oe===">"?I(P):Y(P,"Invalid characters in closing tag");continue;case F.TEXT_ENTITY:case F.ATTRIB_VALUE_ENTITY_Q:case F.ATTRIB_VALUE_ENTITY_U:var Te,V;switch(P.state){case F.TEXT_ENTITY:Te=F.TEXT,V="textNode";break;case F.ATTRIB_VALUE_ENTITY_Q:Te=F.ATTRIB_VALUE_QUOTED,V="attribValue";break;case F.ATTRIB_VALUE_ENTITY_U:Te=F.ATTRIB_VALUE_UNQUOTED,V="attribValue";break}oe===";"?(P[V]+=J(P),P.entity="",P.state=Te):D(P.entity.length?S:B,oe)?P.entity+=oe:(Y(P,"Invalid character in entity name"),P[V]+="&"+P.entity+oe,P.entity="",P.state=Te);continue;default:throw new Error(P,"Unknown state: "+P.state)}return P.position>=P.bufferCheckPosition&&i(P),P}String.fromCodePoint||(function(){var Q=String.fromCharCode,P=Math.floor,le=function(){var oe=16384,ie=[],fe,Te,V=-1,ne=arguments.length;if(!ne)return"";for(var W="";++V<ne;){var L=Number(arguments[V]);if(!isFinite(L)||L<0||L>1114111||P(L)!==L)throw RangeError("Invalid code point: "+L);L<=65535?ie.push(L):(L-=65536,fe=(L>>10)+55296,Te=L%1024+56320,ie.push(fe,Te)),(V+1===ne||ie.length>oe)&&(W+=Q.apply(null,ie),ie.length=0)}return W};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:le,configurable:!0,writable:!0}):String.fromCodePoint=le})()})(t)})(ax)),ax}var x5,LU;function u_(){return LU||(LU=1,x5={isArray:function(t){return Array.isArray?Array.isArray(t):Object.prototype.toString.call(t)==="[object Array]"}}),x5}var B5,DU;function f_(){if(DU)return B5;DU=1;var t=u_().isArray;return B5={copyOptions:function(e){var r,n={};for(r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);return n},ensureFlagExists:function(e,r){(!(e in r)||typeof r[e]!="boolean")&&(r[e]=!1)},ensureSpacesExists:function(e){(!("spaces"in e)||typeof e.spaces!="number"&&typeof e.spaces!="string")&&(e.spaces=0)},ensureAlwaysArrayExists:function(e){(!("alwaysArray"in e)||typeof e.alwaysArray!="boolean"&&!t(e.alwaysArray))&&(e.alwaysArray=!1)},ensureKeyExists:function(e,r){(!(e+"Key"in r)||typeof r[e+"Key"]!="string")&&(r[e+"Key"]=r.compact?"_"+e:e)},checkFnExists:function(e,r){return e+"Fn"in r}},B5}var C5,IU;function K8(){if(IU)return C5;IU=1;var t=rie(),e=f_(),r=u_().isArray,n,i;function s(w){return n=e.copyOptions(w),e.ensureFlagExists("ignoreDeclaration",n),e.ensureFlagExists("ignoreInstruction",n),e.ensureFlagExists("ignoreAttributes",n),e.ensureFlagExists("ignoreText",n),e.ensureFlagExists("ignoreComment",n),e.ensureFlagExists("ignoreCdata",n),e.ensureFlagExists("ignoreDoctype",n),e.ensureFlagExists("compact",n),e.ensureFlagExists("alwaysChildren",n),e.ensureFlagExists("addParent",n),e.ensureFlagExists("trim",n),e.ensureFlagExists("nativeType",n),e.ensureFlagExists("nativeTypeAttributes",n),e.ensureFlagExists("sanitize",n),e.ensureFlagExists("instructionHasAttributes",n),e.ensureFlagExists("captureSpacesBetweenElements",n),e.ensureAlwaysArrayExists(n),e.ensureKeyExists("declaration",n),e.ensureKeyExists("instruction",n),e.ensureKeyExists("attributes",n),e.ensureKeyExists("text",n),e.ensureKeyExists("comment",n),e.ensureKeyExists("cdata",n),e.ensureKeyExists("doctype",n),e.ensureKeyExists("type",n),e.ensureKeyExists("name",n),e.ensureKeyExists("elements",n),e.ensureKeyExists("parent",n),e.checkFnExists("doctype",n),e.checkFnExists("instruction",n),e.checkFnExists("cdata",n),e.checkFnExists("comment",n),e.checkFnExists("text",n),e.checkFnExists("instructionName",n),e.checkFnExists("elementName",n),e.checkFnExists("attributeName",n),e.checkFnExists("attributeValue",n),e.checkFnExists("attributes",n),n}function a(w){var B=Number(w);if(!isNaN(B))return B;var S=w.toLowerCase();return S==="true"?!0:S==="false"?!1:w}function o(w,B){var S;if(n.compact){if(!i[n[w+"Key"]]&&(r(n.alwaysArray)?n.alwaysArray.indexOf(n[w+"Key"])!==-1:n.alwaysArray)&&(i[n[w+"Key"]]=[]),i[n[w+"Key"]]&&!r(i[n[w+"Key"]])&&(i[n[w+"Key"]]=[i[n[w+"Key"]]]),w+"Fn"in n&&typeof B=="string"&&(B=n[w+"Fn"](B,i)),w==="instruction"&&("instructionFn"in n||"instructionNameFn"in n)){for(S in B)if(B.hasOwnProperty(S))if("instructionFn"in n)B[S]=n.instructionFn(B[S],S,i);else{var C=B[S];delete B[S],B[n.instructionNameFn(S,C,i)]=C}}r(i[n[w+"Key"]])?i[n[w+"Key"]].push(B):i[n[w+"Key"]]=B}else{i[n.elementsKey]||(i[n.elementsKey]=[]);var k={};if(k[n.typeKey]=w,w==="instruction"){for(S in B)if(B.hasOwnProperty(S))break;k[n.nameKey]="instructionNameFn"in n?n.instructionNameFn(S,B,i):S,n.instructionHasAttributes?(k[n.attributesKey]=B[S][n.attributesKey],"instructionFn"in n&&(k[n.attributesKey]=n.instructionFn(k[n.attributesKey],S,i))):("instructionFn"in n&&(B[S]=n.instructionFn(B[S],S,i)),k[n.instructionKey]=B[S])}else w+"Fn"in n&&(B=n[w+"Fn"](B,i)),k[n[w+"Key"]]=B;n.addParent&&(k[n.parentKey]=i),i[n.elementsKey].push(k)}}function l(w){if("attributesFn"in n&&w&&(w=n.attributesFn(w,i)),(n.trim||"attributeValueFn"in n||"attributeNameFn"in n||n.nativeTypeAttributes)&&w){var B;for(B in w)if(w.hasOwnProperty(B)&&(n.trim&&(w[B]=w[B].trim()),n.nativeTypeAttributes&&(w[B]=a(w[B])),"attributeValueFn"in n&&(w[B]=n.attributeValueFn(w[B],B,i)),"attributeNameFn"in n)){var S=w[B];delete w[B],w[n.attributeNameFn(B,w[B],i)]=S}}return w}function c(w){var B={};if(w.body&&(w.name.toLowerCase()==="xml"||n.instructionHasAttributes)){for(var S=/([\w:-]+)\s*=\s*(?:"([^"]*)"|'([^']*)'|(\w+))\s*/g,C;(C=S.exec(w.body))!==null;)B[C[1]]=C[2]||C[3]||C[4];B=l(B)}if(w.name.toLowerCase()==="xml"){if(n.ignoreDeclaration)return;i[n.declarationKey]={},Object.keys(B).length&&(i[n.declarationKey][n.attributesKey]=B),n.addParent&&(i[n.declarationKey][n.parentKey]=i)}else{if(n.ignoreInstruction)return;n.trim&&(w.body=w.body.trim());var k={};n.instructionHasAttributes&&Object.keys(B).length?(k[w.name]={},k[w.name][n.attributesKey]=B):k[w.name]=w.body,o("instruction",k)}}function f(w,B){var S;if(typeof w=="object"&&(B=w.attributes,w=w.name),B=l(B),"elementNameFn"in n&&(w=n.elementNameFn(w,i)),n.compact){if(S={},!n.ignoreAttributes&&B&&Object.keys(B).length){S[n.attributesKey]={};var C;for(C in B)B.hasOwnProperty(C)&&(S[n.attributesKey][C]=B[C])}!(w in i)&&(r(n.alwaysArray)?n.alwaysArray.indexOf(w)!==-1:n.alwaysArray)&&(i[w]=[]),i[w]&&!r(i[w])&&(i[w]=[i[w]]),r(i[w])?i[w].push(S):i[w]=S}else i[n.elementsKey]||(i[n.elementsKey]=[]),S={},S[n.typeKey]="element",S[n.nameKey]=w,!n.ignoreAttributes&&B&&Object.keys(B).length&&(S[n.attributesKey]=B),n.alwaysChildren&&(S[n.elementsKey]=[]),i[n.elementsKey].push(S);S[n.parentKey]=i,i=S}function h(w){n.ignoreText||!w.trim()&&!n.captureSpacesBetweenElements||(n.trim&&(w=w.trim()),n.nativeType&&(w=a(w)),n.sanitize&&(w=w.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")),o("text",w))}function m(w){n.ignoreComment||(n.trim&&(w=w.trim()),o("comment",w))}function d(w){var B=i[n.parentKey];n.addParent||delete i[n.parentKey],i=B}function g(w){n.ignoreCdata||(n.trim&&(w=w.trim()),o("cdata",w))}function v(w){n.ignoreDoctype||(w=w.replace(/^ /,""),n.trim&&(w=w.trim()),o("doctype",w))}function b(w){w.note=w}return C5=function(w,B){var S=t.parser(!0,{}),C={};if(i=C,n=s(B),S.opt={strictEntities:!0},S.onopentag=f,S.ontext=h,S.oncomment=m,S.onclosetag=d,S.onerror=b,S.oncdata=g,S.ondoctype=v,S.onprocessinginstruction=c,S.write(w).close(),C[n.elementsKey]){var k=C[n.elementsKey];delete C[n.elementsKey],C[n.elementsKey]=k,delete C.text}return C},C5}var S5,RU;function nie(){if(RU)return S5;RU=1;var t=f_(),e=K8();function r(n){var i=t.copyOptions(n);return t.ensureSpacesExists(i),i}return S5=function(n,i){var s,a,o,l;return s=r(i),a=e(n,s),l="compact"in s&&s.compact?"_parent":"parent","addParent"in s&&s.addParent?o=JSON.stringify(a,function(c,f){return c===l?"_":f},s.spaces):o=JSON.stringify(a,null,s.spaces),o.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")},S5}var E5,MU;function V8(){if(MU)return E5;MU=1;var t=f_(),e=u_().isArray,r,n;function i(S){var C=t.copyOptions(S);return t.ensureFlagExists("ignoreDeclaration",C),t.ensureFlagExists("ignoreInstruction",C),t.ensureFlagExists("ignoreAttributes",C),t.ensureFlagExists("ignoreText",C),t.ensureFlagExists("ignoreComment",C),t.ensureFlagExists("ignoreCdata",C),t.ensureFlagExists("ignoreDoctype",C),t.ensureFlagExists("compact",C),t.ensureFlagExists("indentText",C),t.ensureFlagExists("indentCdata",C),t.ensureFlagExists("indentAttributes",C),t.ensureFlagExists("indentInstruction",C),t.ensureFlagExists("fullTagEmptyElement",C),t.ensureFlagExists("noQuotesForNativeAttributes",C),t.ensureSpacesExists(C),typeof C.spaces=="number"&&(C.spaces=Array(C.spaces+1).join(" ")),t.ensureKeyExists("declaration",C),t.ensureKeyExists("instruction",C),t.ensureKeyExists("attributes",C),t.ensureKeyExists("text",C),t.ensureKeyExists("comment",C),t.ensureKeyExists("cdata",C),t.ensureKeyExists("doctype",C),t.ensureKeyExists("type",C),t.ensureKeyExists("name",C),t.ensureKeyExists("elements",C),t.checkFnExists("doctype",C),t.checkFnExists("instruction",C),t.checkFnExists("cdata",C),t.checkFnExists("comment",C),t.checkFnExists("text",C),t.checkFnExists("instructionName",C),t.checkFnExists("elementName",C),t.checkFnExists("attributeName",C),t.checkFnExists("attributeValue",C),t.checkFnExists("attributes",C),t.checkFnExists("fullTagEmptyElement",C),C}function s(S,C,k){return(!k&&S.spaces?`
`:"")+Array(C+1).join(S.spaces)}function a(S,C,k){if(C.ignoreAttributes)return"";"attributesFn"in C&&(S=C.attributesFn(S,n,r));var M,D,H,F,$=[];for(M in S)S.hasOwnProperty(M)&&S[M]!==null&&S[M]!==void 0&&(F=C.noQuotesForNativeAttributes&&typeof S[M]!="string"?"":'"',D=""+S[M],D=D.replace(/"/g,"&quot;"),H="attributeNameFn"in C?C.attributeNameFn(M,D,n,r):M,$.push(C.spaces&&C.indentAttributes?s(C,k+1,!1):" "),$.push(H+"="+F+("attributeValueFn"in C?C.attributeValueFn(D,M,n,r):D)+F));return S&&Object.keys(S).length&&C.spaces&&C.indentAttributes&&$.push(s(C,k,!1)),$.join("")}function o(S,C,k){return r=S,n="xml",C.ignoreDeclaration?"":"<?xml"+a(S[C.attributesKey],C,k)+"?>"}function l(S,C,k){if(C.ignoreInstruction)return"";var M;for(M in S)if(S.hasOwnProperty(M))break;var D="instructionNameFn"in C?C.instructionNameFn(M,S[M],n,r):M;if(typeof S[M]=="object")return r=S,n=D,"<?"+D+a(S[M][C.attributesKey],C,k)+"?>";var H=S[M]?S[M]:"";return"instructionFn"in C&&(H=C.instructionFn(H,M,n,r)),"<?"+D+(H?" "+H:"")+"?>"}function c(S,C){return C.ignoreComment?"":"<!--"+("commentFn"in C?C.commentFn(S,n,r):S)+"-->"}function f(S,C){return C.ignoreCdata?"":"<![CDATA["+("cdataFn"in C?C.cdataFn(S,n,r):S.replace("]]>","]]]]><![CDATA[>"))+"]]>"}function h(S,C){return C.ignoreDoctype?"":"<!DOCTYPE "+("doctypeFn"in C?C.doctypeFn(S,n,r):S)+">"}function m(S,C){return C.ignoreText?"":(S=""+S,S=S.replace(/&amp;/g,"&"),S=S.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),"textFn"in C?C.textFn(S,n,r):S)}function d(S,C){var k;if(S.elements&&S.elements.length)for(k=0;k<S.elements.length;++k)switch(S.elements[k][C.typeKey]){case"text":if(C.indentText)return!0;break;case"cdata":if(C.indentCdata)return!0;break;case"instruction":if(C.indentInstruction)return!0;break;case"doctype":case"comment":case"element":return!0;default:return!0}return!1}function g(S,C,k){r=S,n=S.name;var M=[],D="elementNameFn"in C?C.elementNameFn(S.name,S):S.name;M.push("<"+D),S[C.attributesKey]&&M.push(a(S[C.attributesKey],C,k));var H=S[C.elementsKey]&&S[C.elementsKey].length||S[C.attributesKey]&&S[C.attributesKey]["xml:space"]==="preserve";return H||("fullTagEmptyElementFn"in C?H=C.fullTagEmptyElementFn(S.name,S):H=C.fullTagEmptyElement),H?(M.push(">"),S[C.elementsKey]&&S[C.elementsKey].length&&(M.push(v(S[C.elementsKey],C,k+1)),r=S,n=S.name),M.push(C.spaces&&d(S,C)?`
`+Array(k+1).join(C.spaces):""),M.push("</"+D+">")):M.push("/>"),M.join("")}function v(S,C,k,M){return S.reduce(function(D,H){var F=s(C,k,M&&!D);switch(H.type){case"element":return D+F+g(H,C,k);case"comment":return D+F+c(H[C.commentKey],C);case"doctype":return D+F+h(H[C.doctypeKey],C);case"cdata":return D+(C.indentCdata?F:"")+f(H[C.cdataKey],C);case"text":return D+(C.indentText?F:"")+m(H[C.textKey],C);case"instruction":var $={};return $[H[C.nameKey]]=H[C.attributesKey]?H:H[C.instructionKey],D+(C.indentInstruction?F:"")+l($,C,k)}},"")}function b(S,C,k){var M;for(M in S)if(S.hasOwnProperty(M))switch(M){case C.parentKey:case C.attributesKey:break;case C.textKey:if(C.indentText||k)return!0;break;case C.cdataKey:if(C.indentCdata||k)return!0;break;case C.instructionKey:if(C.indentInstruction||k)return!0;break;case C.doctypeKey:case C.commentKey:return!0;default:return!0}return!1}function w(S,C,k,M,D){r=S,n=C;var H="elementNameFn"in k?k.elementNameFn(C,S):C;if(typeof S>"u"||S===null||S==="")return"fullTagEmptyElementFn"in k&&k.fullTagEmptyElementFn(C,S)||k.fullTagEmptyElement?"<"+H+"></"+H+">":"<"+H+"/>";var F=[];if(C){if(F.push("<"+H),typeof S!="object")return F.push(">"+m(S,k)+"</"+H+">"),F.join("");S[k.attributesKey]&&F.push(a(S[k.attributesKey],k,M));var $=b(S,k,!0)||S[k.attributesKey]&&S[k.attributesKey]["xml:space"]==="preserve";if($||("fullTagEmptyElementFn"in k?$=k.fullTagEmptyElementFn(C,S):$=k.fullTagEmptyElement),$)F.push(">");else return F.push("/>"),F.join("")}return F.push(B(S,k,M+1,!1)),r=S,n=C,C&&F.push((D?s(k,M,!1):"")+"</"+H+">"),F.join("")}function B(S,C,k,M){var D,H,F,$=[];for(H in S)if(S.hasOwnProperty(H))for(F=e(S[H])?S[H]:[S[H]],D=0;D<F.length;++D){switch(H){case C.declarationKey:$.push(o(F[D],C,k));break;case C.instructionKey:$.push((C.indentInstruction?s(C,k,M):"")+l(F[D],C,k));break;case C.attributesKey:case C.parentKey:break;case C.textKey:$.push((C.indentText?s(C,k,M):"")+m(F[D],C));break;case C.cdataKey:$.push((C.indentCdata?s(C,k,M):"")+f(F[D],C));break;case C.doctypeKey:$.push(s(C,k,M)+h(F[D],C));break;case C.commentKey:$.push(s(C,k,M)+c(F[D],C));break;default:$.push(s(C,k,M)+w(F[D],H,C,k,b(F[D],C)))}M=M&&!$.length}return $.join("")}return E5=function(S,C){C=i(C);var k=[];return r=S,n="_root_",C.compact?k.push(B(S,C,0,!0)):(S[C.declarationKey]&&k.push(o(S[C.declarationKey],C,0)),S[C.elementsKey]&&S[C.elementsKey].length&&k.push(v(S[C.elementsKey],C,0,!k.length))),k.join("")},E5}var _5,QU;function iie(){if(QU)return _5;QU=1;var t=V8();return _5=function(e,r){e instanceof Buffer&&(e=e.toString());var n=null;if(typeof e=="string")try{n=JSON.parse(e)}catch{throw new Error("The JSON structure is invalid")}else n=e;return t(n,r)},_5}var k5,HU;function sie(){if(HU)return k5;HU=1;var t=K8(),e=nie(),r=V8(),n=iie();return k5={xml2js:t,xml2json:e,js2xml:r,json2xml:n},k5}var q8=sie();const h_=t=>{switch(t.type){case void 0:case"element":const e=new oie(t.name,t.attributes),r=t.elements||[];for(const n of r){const i=h_(n);i!==void 0&&e.push(i)}return e;case"text":return t.text;default:return}};class aie extends ir{}class oie extends ot{static fromXmlString(e){const r=q8.xml2js(e,{compact:!1});return h_(r)}constructor(e,r){super(e),r&&this.root.push(new aie(r))}push(e){this.root.push(e)}}class lie extends ot{constructor(e){super(""),this._attr=e}prepForXml(e){return{_attr:this._attr}}}class G8 extends ot{constructor(e,r){super(e),r&&(this.root=r.root)}}const Ca=t=>{if(isNaN(t))throw new Error(`Invalid value '${t}' specified. Must be an integer.`);return Math.floor(t)},kv=t=>{const e=Ca(t);if(e<0)throw new Error(`Invalid value '${t}' specified. Must be a positive integer.`);return e},W8=(t,e)=>{const r=e*2;if(t.length!==r||isNaN(+`0x${t}`))throw new Error(`Invalid hex value '${t}'. Expected ${r} digit hex value`);return t},jU=t=>W8(t,1),$8=t=>{const e=t.slice(-2),r=t.substring(0,t.length-2);return`${Number(r)}${e}`},Y8=t=>{const e=$8(t);if(parseFloat(e)<0)throw new Error(`Invalid value '${e}' specified. Expected a positive number.`);return e},up=t=>{if(t==="auto")return t;const e=t.charAt(0)==="#"?t.substring(1):t;return W8(e,3)},Df=t=>typeof t=="string"?$8(t):Ca(t),Aie=t=>typeof t=="string"?Y8(t):kv(t),cl=t=>typeof t=="string"?Y8(t):kv(t),cie=kv,uie=kv,fie=t=>t.toISOString();class lt extends ot{constructor(e,r=!0){super(e),r!==!0&&this.root.push(new yi({val:r}))}}class T5 extends ot{constructor(e,r){super(e),this.root.push(new yi({val:Aie(r)}))}}class Gd extends ot{constructor(e,r){super(e),this.root.push(new yi({val:r}))}}const dm=(t,e)=>new nA({name:t,attributes:{value:{key:"w:val",value:e}}});class Zm extends ot{constructor(e,r){super(e),this.root.push(new yi({val:r}))}}class wf extends ot{constructor(e,r){super(e),this.root.push(r)}}class nA extends ot{constructor({name:e,attributes:r,children:n}){super(e),r&&this.root.push(new Sv(r)),n&&this.root.push(...n)}}const zl={START:"start",LEFT:"left"};class hie extends ir{constructor(){super(...arguments),rt(this,"xmlKeys",{val:"w:val"})}}class die extends ot{constructor(e){super("w:jc"),this.root.push(new hie({val:e}))}}class ri extends ot{constructor(e,{color:r,size:n,space:i,style:s}){super(e),this.root.push(new pie({style:s,color:r===void 0?void 0:up(r),size:n===void 0?void 0:cie(n),space:i===void 0?void 0:uie(i)}))}}class pie extends ir{constructor(){super(...arguments),rt(this,"xmlKeys",{style:"w:val",color:"w:color",size:"w:sz",space:"w:space"})}}const d_={SINGLE:"single",NONE:"none"};class mie extends Cv{constructor(e){super("w:pBdr"),e.top&&this.root.push(new ri("w:top",e.top)),e.bottom&&this.root.push(new ri("w:bottom",e.bottom)),e.left&&this.root.push(new ri("w:left",e.left)),e.right&&this.root.push(new ri("w:right",e.right))}}class gie extends ot{constructor(){super("w:pBdr");const e=new ri("w:bottom",{color:"auto",space:1,style:d_.SINGLE,size:6});this.root.push(e)}}class yie extends ot{constructor({start:e,end:r,left:n,right:i,hanging:s,firstLine:a}){super("w:ind"),this.root.push(new Sv({start:{key:"w:start",value:e===void 0?void 0:Df(e)},end:{key:"w:end",value:r===void 0?void 0:Df(r)},left:{key:"w:left",value:n===void 0?void 0:Df(n)},right:{key:"w:right",value:i===void 0?void 0:Df(i)},hanging:{key:"w:hanging",value:s===void 0?void 0:cl(s)},firstLine:{key:"w:firstLine",value:a===void 0?void 0:cl(a)}}))}}let wie=class extends ot{constructor(){super("w:br")}};const p_={BEGIN:"begin",END:"end",SEPARATE:"separate"};class m_ extends ir{constructor(){super(...arguments),rt(this,"xmlKeys",{type:"w:fldCharType",dirty:"w:dirty"})}}class Ey extends ot{constructor(e){super("w:fldChar"),this.root.push(new m_({type:p_.BEGIN,dirty:e}))}}class _y extends ot{constructor(e){super("w:fldChar"),this.root.push(new m_({type:p_.SEPARATE,dirty:e}))}}class ky extends ot{constructor(e){super("w:fldChar"),this.root.push(new m_({type:p_.END,dirty:e}))}}const fp={DEFAULT:"default",PRESERVE:"preserve"};class hp extends ir{constructor(){super(...arguments),rt(this,"xmlKeys",{space:"xml:space"})}}class vie extends ot{constructor(){super("w:instrText"),this.root.push(new hp({space:fp.PRESERVE})),this.root.push("PAGE")}}class bie extends ot{constructor(){super("w:instrText"),this.root.push(new hp({space:fp.PRESERVE})),this.root.push("NUMPAGES")}}class xie extends ot{constructor(){super("w:instrText"),this.root.push(new hp({space:fp.PRESERVE})),this.root.push("SECTIONPAGES")}}class Bie extends ot{constructor(){super("w:instrText"),this.root.push(new hp({space:fp.PRESERVE})),this.root.push("SECTION")}}class Cie extends ir{constructor(){super(...arguments),rt(this,"xmlKeys",{fill:"w:fill",color:"w:color",type:"w:val"})}}class J8 extends ot{constructor({fill:e,color:r,type:n}){super("w:shd"),this.root.push(new Cie({fill:e===void 0?void 0:up(e),color:r===void 0?void 0:up(r),type:n}))}}class Sie extends ir{constructor(){super(...arguments),rt(this,"xmlKeys",{id:"w:id",author:"w:author",date:"w:date"})}}const Eie={DOT:"dot"};class _ie extends ot{constructor(e){super("w:em"),this.root.push(new yi({val:e}))}}class kie extends _ie{constructor(e=Eie.DOT){super(e)}}class Tie extends ot{constructor(e){super("w:spacing"),this.root.push(new yi({val:Df(e)}))}}class Nie extends ot{constructor(e){super("w:color"),this.root.push(new yi({val:up(e)}))}}class Fie extends ot{constructor(e){super("w:highlight"),this.root.push(new yi({val:e}))}}class Uie extends ot{constructor(e){super("w:highlightCs"),this.root.push(new yi({val:e}))}}const Oie=t=>new nA({name:"w:lang",attributes:{value:{key:"w:val",value:t.value},eastAsia:{key:"w:eastAsia",value:t.eastAsia},bidirectional:{key:"w:bidi",value:t.bidirectional}}});class PU extends ir{constructor(){super(...arguments),rt(this,"xmlKeys",{ascii:"w:ascii",cs:"w:cs",eastAsia:"w:eastAsia",hAnsi:"w:hAnsi",hint:"w:hint"})}}class N5 extends ot{constructor(e,r){if(super("w:rFonts"),typeof e=="string"){const n=e;this.root.push(new PU({ascii:n,cs:n,eastAsia:n,hAnsi:n,hint:r}))}else{const n=e;this.root.push(new PU(n))}}}let X8=class extends ot{constructor(e){super("w:vertAlign"),this.root.push(new yi({val:e}))}};class Lie extends X8{constructor(){super("superscript")}}class Die extends X8{constructor(){super("subscript")}}const Z8={SINGLE:"single"};class Iie extends ot{constructor(e=Z8.SINGLE,r){super("w:u"),this.root.push(new yi({val:e,color:r===void 0?void 0:up(r)}))}}class sh extends Cv{constructor(e){var r,n;if(super("w:rPr"),!e)return;e.style&&this.push(new Gd("w:rStyle",e.style)),e.font&&(typeof e.font=="string"?this.push(new N5(e.font)):"name"in e.font?this.push(new N5(e.font.name,e.font.hint)):this.push(new N5(e.font))),e.bold!==void 0&&this.push(new lt("w:b",e.bold)),(e.boldComplexScript===void 0&&e.bold!==void 0||e.boldComplexScript)&&this.push(new lt("w:bCs",(r=e.boldComplexScript)!=null?r:e.bold)),e.italics!==void 0&&this.push(new lt("w:i",e.italics)),(e.italicsComplexScript===void 0&&e.italics!==void 0||e.italicsComplexScript)&&this.push(new lt("w:iCs",(n=e.italicsComplexScript)!=null?n:e.italics)),e.smallCaps!==void 0?this.push(new lt("w:smallCaps",e.smallCaps)):e.allCaps!==void 0&&this.push(new lt("w:caps",e.allCaps)),e.strike!==void 0&&this.push(new lt("w:strike",e.strike)),e.doubleStrike!==void 0&&this.push(new lt("w:dstrike",e.doubleStrike)),e.emboss!==void 0&&this.push(new lt("w:emboss",e.emboss)),e.imprint!==void 0&&this.push(new lt("w:imprint",e.imprint)),e.noProof!==void 0&&this.push(new lt("w:noProof",e.noProof)),e.snapToGrid!==void 0&&this.push(new lt("w:snapToGrid",e.snapToGrid)),e.vanish&&this.push(new lt("w:vanish",e.vanish)),e.color&&this.push(new Nie(e.color)),e.characterSpacing&&this.push(new Tie(e.characterSpacing)),e.scale!==void 0&&this.push(new Zm("w:w",e.scale)),e.kern&&this.push(new T5("w:kern",e.kern)),e.position&&this.push(new Gd("w:position",e.position)),e.size!==void 0&&this.push(new T5("w:sz",e.size));const i=e.sizeComplexScript===void 0||e.sizeComplexScript===!0?e.size:e.sizeComplexScript;i&&this.push(new T5("w:szCs",i)),e.highlight&&this.push(new Fie(e.highlight));const s=e.highlightComplexScript===void 0||e.highlightComplexScript===!0?e.highlight:e.highlightComplexScript;s&&this.push(new Uie(s)),e.underline&&this.push(new Iie(e.underline.type,e.underline.color)),e.effect&&this.push(new Gd("w:effect",e.effect)),e.border&&this.push(new ri("w:bdr",e.border)),e.shading&&this.push(new J8(e.shading)),e.subScript&&this.push(new Die),e.superScript&&this.push(new Lie),e.rightToLeft!==void 0&&this.push(new lt("w:rtl",e.rightToLeft)),e.emphasisMark&&this.push(new kie(e.emphasisMark.type)),e.language&&this.push(Oie(e.language)),e.specVanish&&this.push(new lt("w:specVanish",e.vanish)),e.math&&this.push(new lt("w:oMath",e.math)),e.revision&&this.push(new Rie(e.revision))}push(e){this.root.push(e)}}class Rie extends ot{constructor(e){super("w:rPrChange"),this.root.push(new Sie({id:e.id,author:e.author,date:e.date})),this.addChildElement(new sh(e))}}class zU extends ot{constructor(e){var r;super("w:t"),typeof e=="string"?(this.root.push(new hp({space:fp.PRESERVE})),this.root.push(e)):(this.root.push(new hp({space:(r=e.space)!=null?r:fp.DEFAULT})),this.root.push(e.text))}}const Ty={CURRENT:"CURRENT",TOTAL_PAGES:"TOTAL_PAGES",TOTAL_PAGES_IN_SECTION:"TOTAL_PAGES_IN_SECTION",CURRENT_SECTION:"SECTION"};class Tv extends ot{constructor(e){if(super("w:r"),rt(this,"properties"),this.properties=new sh(e),this.root.push(this.properties),e.break)for(let r=0;r<e.break;r++)this.root.push(new wie);if(e.children)for(const r of e.children){if(typeof r=="string"){switch(r){case Ty.CURRENT:this.root.push(new Ey),this.root.push(new vie),this.root.push(new _y),this.root.push(new ky);break;case Ty.TOTAL_PAGES:this.root.push(new Ey),this.root.push(new bie),this.root.push(new _y),this.root.push(new ky);break;case Ty.TOTAL_PAGES_IN_SECTION:this.root.push(new Ey),this.root.push(new xie),this.root.push(new _y),this.root.push(new ky);break;case Ty.CURRENT_SECTION:this.root.push(new Ey),this.root.push(new Bie),this.root.push(new _y),this.root.push(new ky);break;default:this.root.push(new zU(r));break}continue}this.root.push(r)}else e.text!==void 0&&this.root.push(new zU(e.text))}}class Nw extends Tv{constructor(e){super(typeof e=="string"?{text:e}:e)}}var F5={},sn={},U5,KU;function Jg(){if(KU)return U5;KU=1,U5=t;function t(e,r){if(!e)throw new Error(r||"Assertion failed")}return t.equal=function(r,n,i){if(r!=n)throw new Error(i||"Assertion failed: "+r+" != "+n)},U5}var VU;function sA(){if(VU)return sn;VU=1;var t=Jg(),e=Lu();sn.inherits=e;function r(R,G){return(R.charCodeAt(G)&64512)!==55296||G<0||G+1>=R.length?!1:(R.charCodeAt(G+1)&64512)===56320}function n(R,G){if(Array.isArray(R))return R.slice();if(!R)return[];var U=[];if(typeof R=="string")if(G){if(G==="hex")for(R=R.replace(/[^a-z0-9]+/ig,""),R.length%2!==0&&(R="0"+R),re=0;re<R.length;re+=2)U.push(parseInt(R[re]+R[re+1],16))}else for(var ae=0,re=0;re<R.length;re++){var Y=R.charCodeAt(re);Y<128?U[ae++]=Y:Y<2048?(U[ae++]=Y>>6|192,U[ae++]=Y&63|128):r(R,re)?(Y=65536+((Y&1023)<<10)+(R.charCodeAt(++re)&1023),U[ae++]=Y>>18|240,U[ae++]=Y>>12&63|128,U[ae++]=Y>>6&63|128,U[ae++]=Y&63|128):(U[ae++]=Y>>12|224,U[ae++]=Y>>6&63|128,U[ae++]=Y&63|128)}else for(re=0;re<R.length;re++)U[re]=R[re]|0;return U}sn.toArray=n;function i(R){for(var G="",U=0;U<R.length;U++)G+=o(R[U].toString(16));return G}sn.toHex=i;function s(R){var G=R>>>24|R>>>8&65280|R<<8&16711680|(R&255)<<24;return G>>>0}sn.htonl=s;function a(R,G){for(var U="",ae=0;ae<R.length;ae++){var re=R[ae];G==="little"&&(re=s(re)),U+=l(re.toString(16))}return U}sn.toHex32=a;function o(R){return R.length===1?"0"+R:R}sn.zero2=o;function l(R){return R.length===7?"0"+R:R.length===6?"00"+R:R.length===5?"000"+R:R.length===4?"0000"+R:R.length===3?"00000"+R:R.length===2?"000000"+R:R.length===1?"0000000"+R:R}sn.zero8=l;function c(R,G,U,ae){var re=U-G;t(re%4===0);for(var Y=new Array(re/4),he=0,de=G;he<Y.length;he++,de+=4){var Ce;ae==="big"?Ce=R[de]<<24|R[de+1]<<16|R[de+2]<<8|R[de+3]:Ce=R[de+3]<<24|R[de+2]<<16|R[de+1]<<8|R[de],Y[he]=Ce>>>0}return Y}sn.join32=c;function f(R,G){for(var U=new Array(R.length*4),ae=0,re=0;ae<R.length;ae++,re+=4){var Y=R[ae];G==="big"?(U[re]=Y>>>24,U[re+1]=Y>>>16&255,U[re+2]=Y>>>8&255,U[re+3]=Y&255):(U[re+3]=Y>>>24,U[re+2]=Y>>>16&255,U[re+1]=Y>>>8&255,U[re]=Y&255)}return U}sn.split32=f;function h(R,G){return R>>>G|R<<32-G}sn.rotr32=h;function m(R,G){return R<<G|R>>>32-G}sn.rotl32=m;function d(R,G){return R+G>>>0}sn.sum32=d;function g(R,G,U){return R+G+U>>>0}sn.sum32_3=g;function v(R,G,U,ae){return R+G+U+ae>>>0}sn.sum32_4=v;function b(R,G,U,ae,re){return R+G+U+ae+re>>>0}sn.sum32_5=b;function w(R,G,U,ae){var re=R[G],Y=R[G+1],he=ae+Y>>>0,de=(he<ae?1:0)+U+re;R[G]=de>>>0,R[G+1]=he}sn.sum64=w;function B(R,G,U,ae){var re=G+ae>>>0,Y=(re<G?1:0)+R+U;return Y>>>0}sn.sum64_hi=B;function S(R,G,U,ae){var re=G+ae;return re>>>0}sn.sum64_lo=S;function C(R,G,U,ae,re,Y,he,de){var Ce=0,X=G;X=X+ae>>>0,Ce+=X<G?1:0,X=X+Y>>>0,Ce+=X<Y?1:0,X=X+de>>>0,Ce+=X<de?1:0;var I=R+U+re+he+Ce;return I>>>0}sn.sum64_4_hi=C;function k(R,G,U,ae,re,Y,he,de){var Ce=G+ae+Y+de;return Ce>>>0}sn.sum64_4_lo=k;function M(R,G,U,ae,re,Y,he,de,Ce,X){var I=0,J=G;J=J+ae>>>0,I+=J<G?1:0,J=J+Y>>>0,I+=J<Y?1:0,J=J+de>>>0,I+=J<de?1:0,J=J+X>>>0,I+=J<X?1:0;var te=R+U+re+he+Ce+I;return te>>>0}sn.sum64_5_hi=M;function D(R,G,U,ae,re,Y,he,de,Ce,X){var I=G+ae+Y+de+X;return I>>>0}sn.sum64_5_lo=D;function H(R,G,U){var ae=G<<32-U|R>>>U;return ae>>>0}sn.rotr64_hi=H;function F(R,G,U){var ae=R<<32-U|G>>>U;return ae>>>0}sn.rotr64_lo=F;function $(R,G,U){return R>>>U}sn.shr64_hi=$;function q(R,G,U){var ae=R<<32-U|G>>>U;return ae>>>0}return sn.shr64_lo=q,sn}var O5={},qU;function Xg(){if(qU)return O5;qU=1;var t=sA(),e=Jg();function r(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}return O5.BlockHash=r,r.prototype.update=function(i,s){if(i=t.toArray(i,s),this.pending?this.pending=this.pending.concat(i):this.pending=i,this.pendingTotal+=i.length,this.pending.length>=this._delta8){i=this.pending;var a=i.length%this._delta8;this.pending=i.slice(i.length-a,i.length),this.pending.length===0&&(this.pending=null),i=t.join32(i,0,i.length-a,this.endian);for(var o=0;o<i.length;o+=this._delta32)this._update(i,o,o+this._delta32)}return this},r.prototype.digest=function(i){return this.update(this._pad()),e(this.pending===null),this._digest(i)},r.prototype._pad=function(){var i=this.pendingTotal,s=this._delta8,a=s-(i+this.padLength)%s,o=new Array(a+this.padLength);o[0]=128;for(var l=1;l<a;l++)o[l]=0;if(i<<=3,this.endian==="big"){for(var c=8;c<this.padLength;c++)o[l++]=0;o[l++]=0,o[l++]=0,o[l++]=0,o[l++]=0,o[l++]=i>>>24&255,o[l++]=i>>>16&255,o[l++]=i>>>8&255,o[l++]=i&255}else for(o[l++]=i&255,o[l++]=i>>>8&255,o[l++]=i>>>16&255,o[l++]=i>>>24&255,o[l++]=0,o[l++]=0,o[l++]=0,o[l++]=0,c=8;c<this.padLength;c++)o[l++]=0;return o},O5}var vf={},Hl={},GU;function eQ(){if(GU)return Hl;GU=1;var t=sA(),e=t.rotr32;function r(f,h,m,d){if(f===0)return n(h,m,d);if(f===1||f===3)return s(h,m,d);if(f===2)return i(h,m,d)}Hl.ft_1=r;function n(f,h,m){return f&h^~f&m}Hl.ch32=n;function i(f,h,m){return f&h^f&m^h&m}Hl.maj32=i;function s(f,h,m){return f^h^m}Hl.p32=s;function a(f){return e(f,2)^e(f,13)^e(f,22)}Hl.s0_256=a;function o(f){return e(f,6)^e(f,11)^e(f,25)}Hl.s1_256=o;function l(f){return e(f,7)^e(f,18)^f>>>3}Hl.g0_256=l;function c(f){return e(f,17)^e(f,19)^f>>>10}return Hl.g1_256=c,Hl}var L5,WU;function Mie(){if(WU)return L5;WU=1;var t=sA(),e=Xg(),r=eQ(),n=t.rotl32,i=t.sum32,s=t.sum32_5,a=r.ft_1,o=e.BlockHash,l=[1518500249,1859775393,2400959708,3395469782];function c(){if(!(this instanceof c))return new c;o.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}return t.inherits(c,o),L5=c,c.blockSize=512,c.outSize=160,c.hmacStrength=80,c.padLength=64,c.prototype._update=function(h,m){for(var d=this.W,g=0;g<16;g++)d[g]=h[m+g];for(;g<d.length;g++)d[g]=n(d[g-3]^d[g-8]^d[g-14]^d[g-16],1);var v=this.h[0],b=this.h[1],w=this.h[2],B=this.h[3],S=this.h[4];for(g=0;g<d.length;g++){var C=~~(g/20),k=s(n(v,5),a(C,b,w,B),S,d[g],l[C]);S=B,B=w,w=n(b,30),b=v,v=k}this.h[0]=i(this.h[0],v),this.h[1]=i(this.h[1],b),this.h[2]=i(this.h[2],w),this.h[3]=i(this.h[3],B),this.h[4]=i(this.h[4],S)},c.prototype._digest=function(h){return h==="hex"?t.toHex32(this.h,"big"):t.split32(this.h,"big")},L5}var D5,$U;function tQ(){if($U)return D5;$U=1;var t=sA(),e=Xg(),r=eQ(),n=Jg(),i=t.sum32,s=t.sum32_4,a=t.sum32_5,o=r.ch32,l=r.maj32,c=r.s0_256,f=r.s1_256,h=r.g0_256,m=r.g1_256,d=e.BlockHash,g=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function v(){if(!(this instanceof v))return new v;d.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=g,this.W=new Array(64)}return t.inherits(v,d),D5=v,v.blockSize=512,v.outSize=256,v.hmacStrength=192,v.padLength=64,v.prototype._update=function(w,B){for(var S=this.W,C=0;C<16;C++)S[C]=w[B+C];for(;C<S.length;C++)S[C]=s(m(S[C-2]),S[C-7],h(S[C-15]),S[C-16]);var k=this.h[0],M=this.h[1],D=this.h[2],H=this.h[3],F=this.h[4],$=this.h[5],q=this.h[6],R=this.h[7];for(n(this.k.length===S.length),C=0;C<S.length;C++){var G=a(R,f(F),o(F,$,q),this.k[C],S[C]),U=i(c(k),l(k,M,D));R=q,q=$,$=F,F=i(H,G),H=D,D=M,M=k,k=i(G,U)}this.h[0]=i(this.h[0],k),this.h[1]=i(this.h[1],M),this.h[2]=i(this.h[2],D),this.h[3]=i(this.h[3],H),this.h[4]=i(this.h[4],F),this.h[5]=i(this.h[5],$),this.h[6]=i(this.h[6],q),this.h[7]=i(this.h[7],R)},v.prototype._digest=function(w){return w==="hex"?t.toHex32(this.h,"big"):t.split32(this.h,"big")},D5}var I5,YU;function Qie(){if(YU)return I5;YU=1;var t=sA(),e=tQ();function r(){if(!(this instanceof r))return new r;e.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}return t.inherits(r,e),I5=r,r.blockSize=512,r.outSize=224,r.hmacStrength=192,r.padLength=64,r.prototype._digest=function(i){return i==="hex"?t.toHex32(this.h.slice(0,7),"big"):t.split32(this.h.slice(0,7),"big")},I5}var R5,JU;function rQ(){if(JU)return R5;JU=1;var t=sA(),e=Xg(),r=Jg(),n=t.rotr64_hi,i=t.rotr64_lo,s=t.shr64_hi,a=t.shr64_lo,o=t.sum64,l=t.sum64_hi,c=t.sum64_lo,f=t.sum64_4_hi,h=t.sum64_4_lo,m=t.sum64_5_hi,d=t.sum64_5_lo,g=e.BlockHash,v=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function b(){if(!(this instanceof b))return new b;g.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=v,this.W=new Array(160)}t.inherits(b,g),R5=b,b.blockSize=1024,b.outSize=512,b.hmacStrength=192,b.padLength=128,b.prototype._prepareBlock=function(U,ae){for(var re=this.W,Y=0;Y<32;Y++)re[Y]=U[ae+Y];for(;Y<re.length;Y+=2){var he=q(re[Y-4],re[Y-3]),de=R(re[Y-4],re[Y-3]),Ce=re[Y-14],X=re[Y-13],I=F(re[Y-30],re[Y-29]),J=$(re[Y-30],re[Y-29]),te=re[Y-32],Ae=re[Y-31];re[Y]=f(he,de,Ce,X,I,J,te,Ae),re[Y+1]=h(he,de,Ce,X,I,J,te,Ae)}},b.prototype._update=function(U,ae){this._prepareBlock(U,ae);var re=this.W,Y=this.h[0],he=this.h[1],de=this.h[2],Ce=this.h[3],X=this.h[4],I=this.h[5],J=this.h[6],te=this.h[7],Ae=this.h[8],se=this.h[9],Q=this.h[10],P=this.h[11],le=this.h[12],oe=this.h[13],ie=this.h[14],fe=this.h[15];r(this.k.length===re.length);for(var Te=0;Te<re.length;Te+=2){var V=ie,ne=fe,W=D(Ae,se),L=H(Ae,se),N=w(Ae,se,Q,P,le),z=B(Ae,se,Q,P,le,oe),ge=this.k[Te],Be=this.k[Te+1],be=re[Te],Oe=re[Te+1],je=m(V,ne,W,L,N,z,ge,Be,be,Oe),He=d(V,ne,W,L,N,z,ge,Be,be,Oe);V=k(Y,he),ne=M(Y,he),W=S(Y,he,de,Ce,X),L=C(Y,he,de,Ce,X,I);var We=l(V,ne,W,L),at=c(V,ne,W,L);ie=le,fe=oe,le=Q,oe=P,Q=Ae,P=se,Ae=l(J,te,je,He),se=c(te,te,je,He),J=X,te=I,X=de,I=Ce,de=Y,Ce=he,Y=l(je,He,We,at),he=c(je,He,We,at)}o(this.h,0,Y,he),o(this.h,2,de,Ce),o(this.h,4,X,I),o(this.h,6,J,te),o(this.h,8,Ae,se),o(this.h,10,Q,P),o(this.h,12,le,oe),o(this.h,14,ie,fe)},b.prototype._digest=function(U){return U==="hex"?t.toHex32(this.h,"big"):t.split32(this.h,"big")};function w(G,U,ae,re,Y){var he=G&ae^~G&Y;return he<0&&(he+=4294967296),he}function B(G,U,ae,re,Y,he){var de=U&re^~U&he;return de<0&&(de+=4294967296),de}function S(G,U,ae,re,Y){var he=G&ae^G&Y^ae&Y;return he<0&&(he+=4294967296),he}function C(G,U,ae,re,Y,he){var de=U&re^U&he^re&he;return de<0&&(de+=4294967296),de}function k(G,U){var ae=n(G,U,28),re=n(U,G,2),Y=n(U,G,7),he=ae^re^Y;return he<0&&(he+=4294967296),he}function M(G,U){var ae=i(G,U,28),re=i(U,G,2),Y=i(U,G,7),he=ae^re^Y;return he<0&&(he+=4294967296),he}function D(G,U){var ae=n(G,U,14),re=n(G,U,18),Y=n(U,G,9),he=ae^re^Y;return he<0&&(he+=4294967296),he}function H(G,U){var ae=i(G,U,14),re=i(G,U,18),Y=i(U,G,9),he=ae^re^Y;return he<0&&(he+=4294967296),he}function F(G,U){var ae=n(G,U,1),re=n(G,U,8),Y=s(G,U,7),he=ae^re^Y;return he<0&&(he+=4294967296),he}function $(G,U){var ae=i(G,U,1),re=i(G,U,8),Y=a(G,U,7),he=ae^re^Y;return he<0&&(he+=4294967296),he}function q(G,U){var ae=n(G,U,19),re=n(U,G,29),Y=s(G,U,6),he=ae^re^Y;return he<0&&(he+=4294967296),he}function R(G,U){var ae=i(G,U,19),re=i(U,G,29),Y=a(G,U,6),he=ae^re^Y;return he<0&&(he+=4294967296),he}return R5}var M5,XU;function Hie(){if(XU)return M5;XU=1;var t=sA(),e=rQ();function r(){if(!(this instanceof r))return new r;e.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}return t.inherits(r,e),M5=r,r.blockSize=1024,r.outSize=384,r.hmacStrength=192,r.padLength=128,r.prototype._digest=function(i){return i==="hex"?t.toHex32(this.h.slice(0,12),"big"):t.split32(this.h.slice(0,12),"big")},M5}var ZU;function jie(){return ZU||(ZU=1,vf.sha1=Mie(),vf.sha224=Qie(),vf.sha256=tQ(),vf.sha384=Hie(),vf.sha512=rQ()),vf}var Q5={},e6;function Pie(){if(e6)return Q5;e6=1;var t=sA(),e=Xg(),r=t.rotl32,n=t.sum32,i=t.sum32_3,s=t.sum32_4,a=e.BlockHash;function o(){if(!(this instanceof o))return new o;a.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}t.inherits(o,a),Q5.ripemd160=o,o.blockSize=512,o.outSize=160,o.hmacStrength=192,o.padLength=64,o.prototype._update=function(b,w){for(var B=this.h[0],S=this.h[1],C=this.h[2],k=this.h[3],M=this.h[4],D=B,H=S,F=C,$=k,q=M,R=0;R<80;R++){var G=n(r(s(B,l(R,S,C,k),b[h[R]+w],c(R)),d[R]),M);B=M,M=k,k=r(C,10),C=S,S=G,G=n(r(s(D,l(79-R,H,F,$),b[m[R]+w],f(R)),g[R]),q),D=q,q=$,$=r(F,10),F=H,H=G}G=i(this.h[1],C,$),this.h[1]=i(this.h[2],k,q),this.h[2]=i(this.h[3],M,D),this.h[3]=i(this.h[4],B,H),this.h[4]=i(this.h[0],S,F),this.h[0]=G},o.prototype._digest=function(b){return b==="hex"?t.toHex32(this.h,"little"):t.split32(this.h,"little")};function l(v,b,w,B){return v<=15?b^w^B:v<=31?b&w|~b&B:v<=47?(b|~w)^B:v<=63?b&B|w&~B:b^(w|~B)}function c(v){return v<=15?0:v<=31?1518500249:v<=47?1859775393:v<=63?2400959708:2840853838}function f(v){return v<=15?1352829926:v<=31?1548603684:v<=47?1836072691:v<=63?2053994217:0}var h=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],m=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],d=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],g=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11];return Q5}var H5,t6;function zie(){if(t6)return H5;t6=1;var t=sA(),e=Jg();function r(n,i,s){if(!(this instanceof r))return new r(n,i,s);this.Hash=n,this.blockSize=n.blockSize/8,this.outSize=n.outSize/8,this.inner=null,this.outer=null,this._init(t.toArray(i,s))}return H5=r,r.prototype._init=function(i){i.length>this.blockSize&&(i=new this.Hash().update(i).digest()),e(i.length<=this.blockSize);for(var s=i.length;s<this.blockSize;s++)i.push(0);for(s=0;s<i.length;s++)i[s]^=54;for(this.inner=new this.Hash().update(i),s=0;s<i.length;s++)i[s]^=106;this.outer=new this.Hash().update(i)},r.prototype.update=function(i,s){return this.inner.update(i,s),this},r.prototype.digest=function(i){return this.outer.update(this.inner.digest()),this.outer.digest(i)},H5}var r6;function Kie(){return r6||(r6=1,(function(t){var e=t;e.utils=sA(),e.common=Xg(),e.sha=jie(),e.ripemd=Pie(),e.hmac=zie(),e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160})(F5)),F5}Kie();let Vie="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",qie=(t,e=21)=>(r=e)=>{let n="",i=r|0;for(;i--;)n+=t[Math.random()*t.length|0];return n},Gie=(t=21)=>{let e="",r=t|0;for(;r--;)e+=Vie[Math.random()*64|0];return e};const nl=t=>Math.floor(t*72*20),g_=(t=0)=>{let e=t;return()=>++e},Wie=()=>g_(),$ie=()=>g_(1),Yie=()=>g_(),Jie=()=>Gie().toLowerCase(),pm=t=>qie("1234567890abcdef",t)(),Xie=()=>`${pm(8)}-${pm(4)}-${pm(4)}-${pm(4)}-${pm(12)}`;class Zie extends ir{constructor(){super(...arguments),rt(this,"xmlKeys",{xmlns:"xmlns"})}}class ese extends ir{constructor(){super(...arguments),rt(this,"xmlKeys",{id:"Id",type:"Type",target:"Target",targetMode:"TargetMode"})}}const tse={EXTERNAL:"External"};class rse extends ot{constructor(e,r,n,i){super("Relationship"),this.root.push(new ese({id:e,type:r,target:n,targetMode:i}))}}class ah extends ot{constructor(){super("Relationships"),this.root.push(new Zie({xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"}))}createRelationship(e,r,n,i){const s=new rse(`rId${e}`,r,n,i);return this.root.push(s),s}get RelationshipCount(){return this.root.length-1}}class nse extends ir{constructor(){super(...arguments),rt(this,"xmlKeys",{id:"w:id",initials:"w:initials",author:"w:author",date:"w:date"})}}class ise extends ir{constructor(){super(...arguments),rt(this,"xmlKeys",{"xmlns:cx":"xmlns:cx","xmlns:cx1":"xmlns:cx1","xmlns:cx2":"xmlns:cx2","xmlns:cx3":"xmlns:cx3","xmlns:cx4":"xmlns:cx4","xmlns:cx5":"xmlns:cx5","xmlns:cx6":"xmlns:cx6","xmlns:cx7":"xmlns:cx7","xmlns:cx8":"xmlns:cx8","xmlns:mc":"xmlns:mc","xmlns:aink":"xmlns:aink","xmlns:am3d":"xmlns:am3d","xmlns:o":"xmlns:o","xmlns:r":"xmlns:r","xmlns:m":"xmlns:m","xmlns:v":"xmlns:v","xmlns:wp14":"xmlns:wp14","xmlns:wp":"xmlns:wp","xmlns:w10":"xmlns:w10","xmlns:w":"xmlns:w","xmlns:w14":"xmlns:w14","xmlns:w15":"xmlns:w15","xmlns:w16cex":"xmlns:w16cex","xmlns:w16cid":"xmlns:w16cid","xmlns:w16":"xmlns:w16","xmlns:w16sdtdh":"xmlns:w16sdtdh","xmlns:w16se":"xmlns:w16se","xmlns:wpg":"xmlns:wpg","xmlns:wpi":"xmlns:wpi","xmlns:wne":"xmlns:wne","xmlns:wps":"xmlns:wps"})}}class sse extends ot{constructor({id:e,initials:r,author:n,date:i=new Date,children:s}){super("w:comment"),this.root.push(new nse({id:e,initials:r,author:n,date:i.toISOString()}));for(const a of s)this.root.push(a)}}class ase extends ot{constructor({children:e}){super("w:comments"),rt(this,"relationships"),this.root.push(new ise({"xmlns:cx":"http://schemas.microsoft.com/office/drawing/2014/chartex","xmlns:cx1":"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex","xmlns:cx2":"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex","xmlns:cx3":"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex","xmlns:cx4":"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex","xmlns:cx5":"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex","xmlns:cx6":"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex","xmlns:cx7":"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex","xmlns:cx8":"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","xmlns:aink":"http://schemas.microsoft.com/office/drawing/2016/ink","xmlns:am3d":"http://schemas.microsoft.com/office/drawing/2017/model3d","xmlns:o":"urn:schemas-microsoft-com:office:office","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:m":"http://schemas.openxmlformats.org/officeDocument/2006/math","xmlns:v":"urn:schemas-microsoft-com:vml","xmlns:wp14":"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing","xmlns:wp":"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing","xmlns:w10":"urn:schemas-microsoft-com:office:word","xmlns:w":"http://schemas.openxmlformats.org/wordprocessingml/2006/main","xmlns:w14":"http://schemas.microsoft.com/office/word/2010/wordml","xmlns:w15":"http://schemas.microsoft.com/office/word/2012/wordml","xmlns:w16cex":"http://schemas.microsoft.com/office/word/2018/wordml/cex","xmlns:w16cid":"http://schemas.microsoft.com/office/word/2016/wordml/cid","xmlns:w16":"http://schemas.microsoft.com/office/word/2018/wordml","xmlns:w16sdtdh":"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash","xmlns:w16se":"http://schemas.microsoft.com/office/word/2015/wordml/symex","xmlns:wpg":"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup","xmlns:wpi":"http://schemas.microsoft.com/office/word/2010/wordprocessingInk","xmlns:wne":"http://schemas.microsoft.com/office/word/2006/wordml","xmlns:wps":"http://schemas.microsoft.com/office/word/2010/wordprocessingShape"}));for(const r of e)this.root.push(new sse(r));this.relationships=new ah}get Relationships(){return this.relationships}}class ose extends ot{constructor(){super("w:pageBreakBefore")}}const AS={AUTO:"auto"};class lse extends ir{constructor(){super(...arguments),rt(this,"xmlKeys",{after:"w:after",before:"w:before",line:"w:line",lineRule:"w:lineRule",beforeAutoSpacing:"w:beforeAutospacing",afterAutoSpacing:"w:afterAutospacing"})}}class Ase extends ot{constructor(e){super("w:spacing"),this.root.push(new lse(e))}}const cse={HEADING_1:"Heading1"};let Ny=class extends ot{constructor(e){super("w:pStyle"),this.root.push(new yi({val:e}))}};class use extends ot{constructor(e){super("w:tabs");for(const r of e)this.root.push(new hse(r))}}const n6={LEFT:"left",RIGHT:"right"};class fse extends ir{constructor(){super(...arguments),rt(this,"xmlKeys",{val:"w:val",pos:"w:pos",leader:"w:leader"})}}class hse extends ot{constructor({type:e,position:r,leader:n}){super("w:tab"),this.root.push(new fse({val:e,pos:r,leader:n}))}}class j5 extends ot{constructor(e,r){super("w:numPr"),this.root.push(new dse(r)),this.root.push(new pse(e))}}class dse extends ot{constructor(e){if(super("w:ilvl"),e>9)throw new Error("Level cannot be greater than 9. Read more here: https://answers.microsoft.com/en-us/msoffice/forum/all/does-word-support-more-than-9-list-levels/d130fdcd-1781-446d-8c84-c6c79124e4d7");this.root.push(new yi({val:e}))}}class pse extends ot{constructor(e){super("w:numId"),this.root.push(new yi({val:typeof e=="string"?`{${e}}`:e}))}}class mse extends ot{constructor(){super(...arguments),rt(this,"fileChild",Symbol())}}class gse extends ir{constructor(){super(...arguments),rt(this,"xmlKeys",{id:"r:id",history:"w:history",anchor:"w:anchor"})}}class yse extends ot{constructor(e,r,n){super("w:hyperlink"),rt(this,"linkId"),this.linkId=r;const i={history:1,anchor:n||void 0,id:n?void 0:`rId${this.linkId}`},s=new gse(i);this.root.push(s),e.forEach(a=>{this.root.push(a)})}}class wse extends ot{constructor(e){super("w:externalHyperlink"),this.options=e}}class vse extends ir{constructor(){super(...arguments),rt(this,"xmlKeys",{id:"w:id",name:"w:name"})}}class bse extends ir{constructor(){super(...arguments),rt(this,"xmlKeys",{id:"w:id"})}}class xse{constructor(e){rt(this,"bookmarkUniqueNumericId",Yie()),rt(this,"start"),rt(this,"children"),rt(this,"end");const r=this.bookmarkUniqueNumericId();this.start=new Bse(e.id,r),this.children=e.children,this.end=new Cse(r)}}class Bse extends ot{constructor(e,r){super("w:bookmarkStart");const n=new vse({name:e,id:r});this.root.push(n)}}class Cse extends ot{constructor(e){super("w:bookmarkEnd");const r=new bse({id:e});this.root.push(r)}}class Sse extends ot{constructor(e){super("w:outlineLvl"),this.level=e,this.root.push(new yi({val:e}))}}const Ese={TOP:"top",CENTER:"center",BOTTOM:"bottom"};Ap(Or({},Ese),{BOTH:"both"});class _se extends ir{constructor(){super(...arguments),rt(this,"xmlKeys",{verticalAlign:"w:val"})}}class kse extends ot{constructor(e){super("w:vAlign"),this.root.push(new _se({verticalAlign:e}))}}class Tse extends ot{constructor({space:e,count:r,separate:n,equalWidth:i,children:s}){super("w:cols"),this.root.push(new Sv({space:{key:"w:space",value:e===void 0?void 0:cl(e)},count:{key:"w:num",value:r===void 0?void 0:Ca(r)},separate:{key:"w:sep",value:n},equalWidth:{key:"w:equalWidth",value:i}})),!i&&s&&s.forEach(a=>this.addChildElement(a))}}const Nse=({type:t,linePitch:e,charSpace:r})=>new nA({name:"w:docGrid",attributes:{type:{key:"w:type",value:t},linePitch:{key:"w:linePitch",value:Ca(e)},charSpace:{key:"w:charSpace",value:r?Ca(r):void 0}}}),Wd={DEFAULT:"default",FIRST:"first",EVEN:"even"};class Fse extends ir{constructor(){super(...arguments),rt(this,"xmlKeys",{type:"w:type",id:"r:id"})}}const i6={HEADER:"w:headerReference",FOOTER:"w:footerReference"};class P5 extends ot{constructor(e,r){super(e),this.root.push(new Fse({type:r.type||Wd.DEFAULT,id:`rId${r.id}`}))}}const Use=({countBy:t,start:e,restart:r,distance:n})=>new nA({name:"w:lnNumType",attributes:{countBy:{key:"w:countBy",value:t===void 0?void 0:Ca(t)},start:{key:"w:start",value:e===void 0?void 0:Ca(e)},restart:{key:"w:restart",value:r},distance:{key:"w:distance",value:n===void 0?void 0:cl(n)}}});class s6 extends ir{constructor(){super(...arguments),rt(this,"xmlKeys",{display:"w:display",offsetFrom:"w:offsetFrom",zOrder:"w:zOrder"})}}class Ose extends Cv{constructor(e){if(super("w:pgBorders"),!e)return this;e.pageBorders?this.root.push(new s6({display:e.pageBorders.display,offsetFrom:e.pageBorders.offsetFrom,zOrder:e.pageBorders.zOrder})):this.root.push(new s6({})),e.pageBorderTop&&this.root.push(new ri("w:top",e.pageBorderTop)),e.pageBorderLeft&&this.root.push(new ri("w:left",e.pageBorderLeft)),e.pageBorderBottom&&this.root.push(new ri("w:bottom",e.pageBorderBottom)),e.pageBorderRight&&this.root.push(new ri("w:right",e.pageBorderRight))}}class Lse extends ot{constructor(e,r,n,i,s,a,o){super("w:pgMar"),this.root.push(new Sv({top:{key:"w:top",value:Df(e)},right:{key:"w:right",value:cl(r)},bottom:{key:"w:bottom",value:Df(n)},left:{key:"w:left",value:cl(i)},header:{key:"w:header",value:cl(s)},footer:{key:"w:footer",value:cl(a)},gutter:{key:"w:gutter",value:cl(o)}}))}}class Dse extends ir{constructor(){super(...arguments),rt(this,"xmlKeys",{start:"w:start",formatType:"w:fmt",separator:"w:chapSep"})}}class Ise extends ot{constructor({start:e,formatType:r,separator:n}){super("w:pgNumType"),this.root.push(new Dse({start:e===void 0?void 0:Ca(e),formatType:r,separator:n}))}}const cS={PORTRAIT:"portrait",LANDSCAPE:"landscape"},Rse=({width:t,height:e,orientation:r,code:n})=>{const i=cl(t),s=cl(e);return new nA({name:"w:pgSz",attributes:{width:{key:"w:w",value:r===cS.LANDSCAPE?s:i},height:{key:"w:h",value:r===cS.LANDSCAPE?i:s},orientation:{key:"w:orient",value:r},code:{key:"w:code",value:n}}})};class Mse extends ir{constructor(){super(...arguments),rt(this,"xmlKeys",{val:"w:val"})}}class Qse extends ot{constructor(e){super("w:textDirection"),this.root.push(new Mse({val:e}))}}class Hse extends ir{constructor(){super(...arguments),rt(this,"xmlKeys",{val:"w:val"})}}class jse extends ot{constructor(e){super("w:type"),this.root.push(new Hse({val:e}))}}const bf={TOP:1440,RIGHT:1440,BOTTOM:1440,LEFT:1440,HEADER:708,FOOTER:708,GUTTER:0},z5={WIDTH:11906,HEIGHT:16838,ORIENTATION:cS.PORTRAIT};class Pse extends ot{constructor({page:{size:{width:e=z5.WIDTH,height:r=z5.HEIGHT,orientation:n=z5.ORIENTATION}={},margin:{top:i=bf.TOP,right:s=bf.RIGHT,bottom:a=bf.BOTTOM,left:o=bf.LEFT,header:l=bf.HEADER,footer:c=bf.FOOTER,gutter:f=bf.GUTTER}={},pageNumbers:h={},borders:m,textDirection:d}={},grid:{linePitch:g=360,charSpace:v,type:b}={},headerWrapperGroup:w={},footerWrapperGroup:B={},lineNumbers:S,titlePage:C,verticalAlign:k,column:M,type:D}={}){super("w:sectPr"),this.addHeaderFooterGroup(i6.HEADER,w),this.addHeaderFooterGroup(i6.FOOTER,B),D&&this.root.push(new jse(D)),this.root.push(Rse({width:e,height:r,orientation:n})),this.root.push(new Lse(i,s,a,o,l,c,f)),m&&this.root.push(new Ose(m)),S&&this.root.push(Use(S)),this.root.push(new Ise(h)),M&&this.root.push(new Tse(M)),k&&this.root.push(new kse(k)),C!==void 0&&this.root.push(new lt("w:titlePg",C)),d&&this.root.push(new Qse(d)),this.root.push(Nse({linePitch:g,charSpace:v,type:b}))}addHeaderFooterGroup(e,r){r.default&&this.root.push(new P5(e,{type:Wd.DEFAULT,id:r.default.View.ReferenceId})),r.first&&this.root.push(new P5(e,{type:Wd.FIRST,id:r.first.View.ReferenceId})),r.even&&this.root.push(new P5(e,{type:Wd.EVEN,id:r.even.View.ReferenceId}))}}class zse extends ot{constructor(){super("w:body"),rt(this,"sections",[])}addSection(e){const r=this.sections.pop();this.root.push(this.createSectionParagraph(r)),this.sections.push(new Pse(e))}prepForXml(e){return this.sections.length===1&&(this.root.splice(0,1),this.root.push(this.sections.pop())),super.prepForXml(e)}push(e){this.root.push(e)}createSectionParagraph(e){const r=new Au({}),n=new dp({});return n.push(e),r.addChildElement(n),r}}const a6={wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",cp:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",xsi:"http://www.w3.org/2001/XMLSchema-instance",cx:"http://schemas.microsoft.com/office/drawing/2014/chartex",cx1:"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex",cx2:"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex",cx3:"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex",cx4:"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex",cx5:"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex",cx6:"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex",cx7:"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex",cx8:"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex",aink:"http://schemas.microsoft.com/office/drawing/2016/ink",am3d:"http://schemas.microsoft.com/office/drawing/2017/model3d",w16cex:"http://schemas.microsoft.com/office/word/2018/wordml/cex",w16cid:"http://schemas.microsoft.com/office/word/2016/wordml/cid",w16:"http://schemas.microsoft.com/office/word/2018/wordml",w16sdtdh:"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash",w16se:"http://schemas.microsoft.com/office/word/2015/wordml/symex"};class Nv extends ir{constructor(e,r){super(Or({Ignorable:r},Object.fromEntries(e.map(n=>[n,a6[n]])))),rt(this,"xmlKeys",Or({Ignorable:"mc:Ignorable"},Object.fromEntries(Object.keys(a6).map(n=>[n,`xmlns:${n}`]))))}}class Kse extends ir{constructor(){super(...arguments),rt(this,"xmlKeys",{color:"w:color",themeColor:"w:themeColor",themeShade:"w:themeShade",themeTint:"w:themeTint"})}}class Vse extends ot{constructor(e){super("w:background"),this.root.push(new Kse({color:e.color===void 0?void 0:up(e.color),themeColor:e.themeColor,themeShade:e.themeShade===void 0?void 0:jU(e.themeShade),themeTint:e.themeTint===void 0?void 0:jU(e.themeTint)}))}}class qse extends ot{constructor(e){super("w:document"),rt(this,"body"),this.root.push(new Nv(["wpc","mc","o","r","m","v","wp14","wp","w10","w","w14","w15","wpg","wpi","wne","wps","cx","cx1","cx2","cx3","cx4","cx5","cx6","cx7","cx8","aink","am3d","w16cex","w16cid","w16","w16sdtdh","w16se"],"w14 w15 wp14")),this.body=new zse,e.background&&this.root.push(new Vse(e.background)),this.root.push(this.body)}add(e){return this.body.push(e),this}get Body(){return this.body}}class nQ{constructor(e){rt(this,"document"),rt(this,"relationships"),this.document=new qse(e),this.relationships=new ah}get View(){return this.document}get Relationships(){return this.relationships}}class Gse extends ir{constructor(){super(...arguments),rt(this,"xmlKeys",{val:"w:val"})}}class Wse extends ot{constructor(){super("w:wordWrap"),this.root.push(new Gse({val:0}))}}const $se=t=>{var e,r;return new nA({name:"w:framePr",attributes:{anchorLock:{key:"w:anchorLock",value:t.anchorLock},dropCap:{key:"w:dropCap",value:t.dropCap},width:{key:"w:w",value:t.width},height:{key:"w:h",value:t.height},x:{key:"w:x",value:t.position?t.position.x:void 0},y:{key:"w:y",value:t.position?t.position.y:void 0},anchorHorizontal:{key:"w:hAnchor",value:t.anchor.horizontal},anchorVertical:{key:"w:vAnchor",value:t.anchor.vertical},spaceHorizontal:{key:"w:hSpace",value:(e=t.space)==null?void 0:e.horizontal},spaceVertical:{key:"w:vSpace",value:(r=t.space)==null?void 0:r.vertical},rule:{key:"w:hRule",value:t.rule},alignmentX:{key:"w:xAlign",value:t.alignment?t.alignment.x:void 0},alignmentY:{key:"w:yAlign",value:t.alignment?t.alignment.y:void 0},lines:{key:"w:lines",value:t.lines},wrap:{key:"w:wrap",value:t.wrap}}})};class dp extends Cv{constructor(e){var r,n;if(super("w:pPr"),rt(this,"numberingReferences",[]),!e)return this;e.heading&&this.push(new Ny(e.heading)),e.bullet&&this.push(new Ny("ListParagraph")),e.numbering&&!e.style&&!e.heading&&(e.numbering.custom||this.push(new Ny("ListParagraph"))),e.style&&this.push(new Ny(e.style)),e.keepNext!==void 0&&this.push(new lt("w:keepNext",e.keepNext)),e.keepLines!==void 0&&this.push(new lt("w:keepLines",e.keepLines)),e.pageBreakBefore&&this.push(new ose),e.frame&&this.push($se(e.frame)),e.widowControl!==void 0&&this.push(new lt("w:widowControl",e.widowControl)),e.bullet&&this.push(new j5(1,e.bullet.level)),e.numbering?(this.numberingReferences.push({reference:e.numbering.reference,instance:(r=e.numbering.instance)!=null?r:0}),this.push(new j5(`${e.numbering.reference}-${(n=e.numbering.instance)!=null?n:0}`,e.numbering.level))):e.numbering===!1&&this.push(new j5(0,0)),e.border&&this.push(new mie(e.border)),e.thematicBreak&&this.push(new gie),e.shading&&this.push(new J8(e.shading)),e.wordWrap&&this.push(new Wse),e.overflowPunctuation&&this.push(new lt("w:overflowPunct",e.overflowPunctuation));const i=[...e.rightTabStop!==void 0?[{type:n6.RIGHT,position:e.rightTabStop}]:[],...e.tabStops?e.tabStops:[],...e.leftTabStop!==void 0?[{type:n6.LEFT,position:e.leftTabStop}]:[]];i.length>0&&this.push(new use(i)),e.bidirectional!==void 0&&this.push(new lt("w:bidi",e.bidirectional)),e.spacing&&this.push(new Ase(e.spacing)),e.indent&&this.push(new yie(e.indent)),e.contextualSpacing!==void 0&&this.push(new lt("w:contextualSpacing",e.contextualSpacing)),e.alignment&&this.push(new die(e.alignment)),e.outlineLevel!==void 0&&this.push(new Sse(e.outlineLevel)),e.suppressLineNumbers!==void 0&&this.push(new lt("w:suppressLineNumbers",e.suppressLineNumbers)),e.autoSpaceEastAsianText!==void 0&&this.push(new lt("w:autoSpaceDN",e.autoSpaceEastAsianText)),e.run&&this.push(new sh(e.run))}push(e){this.root.push(e)}prepForXml(e){if(e.viewWrapper instanceof nQ)for(const r of this.numberingReferences)e.file.Numbering.createConcreteNumberingInstance(r.reference,r.instance);return super.prepForXml(e)}}class Au extends mse{constructor(e){if(super("w:p"),rt(this,"properties"),typeof e=="string")return this.properties=new dp({}),this.root.push(this.properties),this.root.push(new Nw(e)),this;if(this.properties=new dp(e),this.root.push(this.properties),e.text&&this.root.push(new Nw(e.text)),e.children)for(const r of e.children){if(r instanceof xse){this.root.push(r.start);for(const n of r.children)this.root.push(n);this.root.push(r.end);continue}this.root.push(r)}}prepForXml(e){for(const r of this.root)if(r instanceof wse){const n=this.root.indexOf(r),i=new yse(r.options.children,Jie());e.viewWrapper.Relationships.createRelationship(i.linkId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",r.options.link,tse.EXTERNAL),this.root[n]=i}return super.prepForXml(e)}addRunToFront(e){return this.root.splice(1,0,e),this}}const ld={style:d_.NONE,size:0,color:"auto"},Ad={style:d_.SINGLE,size:4,color:"auto"};class Yse extends ot{constructor(e){super("w:tblBorders"),e.top?this.root.push(new ri("w:top",e.top)):this.root.push(new ri("w:top",Ad)),e.left?this.root.push(new ri("w:left",e.left)):this.root.push(new ri("w:left",Ad)),e.bottom?this.root.push(new ri("w:bottom",e.bottom)):this.root.push(new ri("w:bottom",Ad)),e.right?this.root.push(new ri("w:right",e.right)):this.root.push(new ri("w:right",Ad)),e.insideHorizontal?this.root.push(new ri("w:insideH",e.insideHorizontal)):this.root.push(new ri("w:insideH",Ad)),e.insideVertical?this.root.push(new ri("w:insideV",e.insideVertical)):this.root.push(new ri("w:insideV",Ad))}}rt(Yse,"NONE",{top:ld,bottom:ld,left:ld,right:ld,insideHorizontal:ld,insideVertical:ld});class Jse extends ir{constructor(){super(...arguments),rt(this,"xmlKeys",{xmlns:"xmlns",vt:"xmlns:vt"})}}class Xse extends ot{constructor(){super("Properties"),this.root.push(new Jse({xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"}))}}class Zse extends ir{constructor(){super(...arguments),rt(this,"xmlKeys",{xmlns:"xmlns"})}}class eae extends ir{constructor(){super(...arguments),rt(this,"xmlKeys",{contentType:"ContentType",extension:"Extension"})}}class QA extends ot{constructor(e,r){super("Default"),this.root.push(new eae({contentType:e,extension:r}))}}class tae extends ir{constructor(){super(...arguments),rt(this,"xmlKeys",{contentType:"ContentType",partName:"PartName"})}}class po extends ot{constructor(e,r){super("Override"),this.root.push(new tae({contentType:e,partName:r}))}}class rae extends ot{constructor(){super("Types"),this.root.push(new Zse({xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"})),this.root.push(new QA("image/png","png")),this.root.push(new QA("image/jpeg","jpeg")),this.root.push(new QA("image/jpeg","jpg")),this.root.push(new QA("image/bmp","bmp")),this.root.push(new QA("image/gif","gif")),this.root.push(new QA("image/svg+xml","svg")),this.root.push(new QA("application/vnd.openxmlformats-package.relationships+xml","rels")),this.root.push(new QA("application/xml","xml")),this.root.push(new QA("application/vnd.openxmlformats-officedocument.obfuscatedFont","odttf")),this.root.push(new po("application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml","/word/document.xml")),this.root.push(new po("application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml","/word/styles.xml")),this.root.push(new po("application/vnd.openxmlformats-package.core-properties+xml","/docProps/core.xml")),this.root.push(new po("application/vnd.openxmlformats-officedocument.custom-properties+xml","/docProps/custom.xml")),this.root.push(new po("application/vnd.openxmlformats-officedocument.extended-properties+xml","/docProps/app.xml")),this.root.push(new po("application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml","/word/numbering.xml")),this.root.push(new po("application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml","/word/footnotes.xml")),this.root.push(new po("application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml","/word/settings.xml")),this.root.push(new po("application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml","/word/comments.xml")),this.root.push(new po("application/vnd.openxmlformats-officedocument.wordprocessingml.fontTable+xml","/word/fontTable.xml"))}addFooter(e){this.root.push(new po("application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml",`/word/footer${e}.xml`))}addHeader(e){this.root.push(new po("application/vnd.openxmlformats-officedocument.wordprocessingml.header+xml",`/word/header${e}.xml`))}}class nae extends ot{constructor(e){super("cp:coreProperties"),this.root.push(new Nv(["cp","dc","dcterms","dcmitype","xsi"])),e.title&&this.root.push(new wf("dc:title",e.title)),e.subject&&this.root.push(new wf("dc:subject",e.subject)),e.creator&&this.root.push(new wf("dc:creator",e.creator)),e.keywords&&this.root.push(new wf("cp:keywords",e.keywords)),e.description&&this.root.push(new wf("dc:description",e.description)),e.lastModifiedBy&&this.root.push(new wf("cp:lastModifiedBy",e.lastModifiedBy)),e.revision&&this.root.push(new wf("cp:revision",String(e.revision))),this.root.push(new o6("dcterms:created")),this.root.push(new o6("dcterms:modified"))}}class iae extends ir{constructor(){super(...arguments),rt(this,"xmlKeys",{type:"xsi:type"})}}class o6 extends ot{constructor(e){super(e),this.root.push(new iae({type:"dcterms:W3CDTF"})),this.root.push(fie(new Date))}}class sae extends ir{constructor(){super(...arguments),rt(this,"xmlKeys",{xmlns:"xmlns",vt:"xmlns:vt"})}}class aae extends ir{constructor(){super(...arguments),rt(this,"xmlKeys",{fmtid:"fmtid",pid:"pid",name:"name"})}}class oae extends ot{constructor(e,r){super("property"),this.root.push(new aae({fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:e.toString(),name:r.name})),this.root.push(new lae(r.value))}}class lae extends ot{constructor(e){super("vt:lpwstr"),this.root.push(e)}}class Aae extends ot{constructor(e){super("Properties"),rt(this,"nextId"),rt(this,"properties",[]),this.root.push(new sae({xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"})),this.nextId=2;for(const r of e)this.addCustomProperty(r)}prepForXml(e){return this.properties.forEach(r=>this.root.push(r)),super.prepForXml(e)}addCustomProperty(e){this.properties.push(new oae(this.nextId++,e))}}const Fy=({id:t,fontKey:e,subsetted:r},n)=>new nA({name:n,attributes:Or({id:{key:"r:id",value:t}},e?{fontKey:{key:"w:fontKey",value:`{${e}}`}}:{}),children:[...r?[new lt("w:subsetted",r)]:[]]}),cae=({name:t,altName:e,panose1:r,charset:n,family:i,notTrueType:s,pitch:a,sig:o,embedRegular:l,embedBold:c,embedItalic:f,embedBoldItalic:h})=>new nA({name:"w:font",attributes:{name:{key:"w:name",value:t}},children:[...e?[dm("w:altName",e)]:[],...r?[dm("w:panose1",r)]:[],...n?[dm("w:charset",n)]:[],dm("w:family",i),...s?[new lt("w:notTrueType",s)]:[],dm("w:pitch",a),...o?[new nA({name:"w:sig",attributes:{usb0:{key:"w:usb0",value:o.usb0},usb1:{key:"w:usb1",value:o.usb1},usb2:{key:"w:usb2",value:o.usb2},usb3:{key:"w:usb3",value:o.usb3},csb0:{key:"w:csb0",value:o.csb0},csb1:{key:"w:csb1",value:o.csb1}}})]:[],...l?[Fy(l,"w:embedRegular")]:[],...c?[Fy(c,"w:embedBold")]:[],...f?[Fy(f,"w:embedItalic")]:[],...h?[Fy(h,"w:embedBoldItalic")]:[]]}),uae=({name:t,index:e,fontKey:r,characterSet:n})=>cae({name:t,sig:{usb0:"E0002AFF",usb1:"C000247B",usb2:"00000009",usb3:"00000000",csb0:"000001FF",csb1:"00000000"},charset:n,family:"auto",pitch:"variable",embedRegular:{fontKey:r,id:`rId${e}`}}),fae=t=>new nA({name:"w:fonts",attributes:{mc:{key:"xmlns:mc",value:"http://schemas.openxmlformats.org/markup-compatibility/2006"},r:{key:"xmlns:r",value:"http://schemas.openxmlformats.org/officeDocument/2006/relationships"},w:{key:"xmlns:w",value:"http://schemas.openxmlformats.org/wordprocessingml/2006/main"},w14:{key:"xmlns:w14",value:"http://schemas.microsoft.com/office/word/2010/wordml"},w15:{key:"xmlns:w15",value:"http://schemas.microsoft.com/office/word/2012/wordml"},w16cex:{key:"xmlns:w16cex",value:"http://schemas.microsoft.com/office/word/2018/wordml/cex"},w16cid:{key:"xmlns:w16cid",value:"http://schemas.microsoft.com/office/word/2016/wordml/cid"},w16:{key:"xmlns:w16",value:"http://schemas.microsoft.com/office/word/2018/wordml"},w16sdtdh:{key:"xmlns:w16sdtdh",value:"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash"},w16se:{key:"xmlns:w16se",value:"http://schemas.microsoft.com/office/word/2015/wordml/symex"},Ignorable:{key:"mc:Ignorable",value:"w14 w15 w16se w16cid w16 w16cex w16sdtdh"}},children:t.map((e,r)=>uae({name:e.name,index:r+1,fontKey:e.fontKey}))});class hae{constructor(e){rt(this,"fontTable"),rt(this,"relationships"),rt(this,"fontOptionsWithKey",[]),this.options=e,this.fontOptionsWithKey=e.map(r=>Ap(Or({},r),{fontKey:Xie()})),this.fontTable=fae(this.fontOptionsWithKey),this.relationships=new ah;for(let r=0;r<e.length;r++)this.relationships.createRelationship(r+1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/font",`fonts/${e[r].name}.odttf`)}get View(){return this.fontTable}get Relationships(){return this.relationships}}class dae extends ir{constructor(){super(...arguments),rt(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",cp:"xmlns:cp",dc:"xmlns:dc",dcterms:"xmlns:dcterms",dcmitype:"xmlns:dcmitype",xsi:"xmlns:xsi",type:"xsi:type"})}}let pae=class extends G8{constructor(e,r){super("w:ftr",r),rt(this,"refId"),this.refId=e,r||this.root.push(new dae({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape"}))}get ReferenceId(){return this.refId}add(e){this.root.push(e)}};class mae{constructor(e,r,n){rt(this,"footer"),rt(this,"relationships"),this.media=e,this.footer=new pae(r,n),this.relationships=new ah}add(e){this.footer.add(e)}addChildElement(e){this.footer.addChildElement(e)}get View(){return this.footer}get Relationships(){return this.relationships}get Media(){return this.media}}class gae extends ir{constructor(){super(...arguments),rt(this,"xmlKeys",{type:"w:type",id:"w:id"})}}class yae extends ot{constructor(){super("w:footnoteRef")}}class wae extends Tv{constructor(){super({style:"FootnoteReference"}),this.root.push(new yae)}}const l6={SEPERATOR:"separator",CONTINUATION_SEPERATOR:"continuationSeparator"};class K5 extends ot{constructor(e){super("w:footnote"),this.root.push(new gae({type:e.type,id:e.id}));for(let r=0;r<e.children.length;r++){const n=e.children[r];r===0&&n.addRunToFront(new wae),this.root.push(n)}}}class vae extends ot{constructor(){super("w:continuationSeparator")}}class bae extends Tv{constructor(){super({}),this.root.push(new vae)}}class xae extends ot{constructor(){super("w:separator")}}class Bae extends Tv{constructor(){super({}),this.root.push(new xae)}}class Cae extends ir{constructor(){super(...arguments),rt(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",Ignorable:"mc:Ignorable"})}}class Sae extends ot{constructor(){super("w:footnotes"),this.root.push(new Cae({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",Ignorable:"w14 w15 wp14"}));const e=new K5({id:-1,type:l6.SEPERATOR,children:[new Au({spacing:{after:0,line:240,lineRule:AS.AUTO},children:[new Bae]})]});this.root.push(e);const r=new K5({id:0,type:l6.CONTINUATION_SEPERATOR,children:[new Au({spacing:{after:0,line:240,lineRule:AS.AUTO},children:[new bae]})]});this.root.push(r)}createFootNote(e,r){const n=new K5({id:e,children:r});this.root.push(n)}}class Eae{constructor(){rt(this,"footnotess"),rt(this,"relationships"),this.footnotess=new Sae,this.relationships=new ah}get View(){return this.footnotess}get Relationships(){return this.relationships}}class _ae extends ir{constructor(){super(...arguments),rt(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",cp:"xmlns:cp",dc:"xmlns:dc",dcterms:"xmlns:dcterms",dcmitype:"xmlns:dcmitype",xsi:"xmlns:xsi",type:"xsi:type",cx:"xmlns:cx",cx1:"xmlns:cx1",cx2:"xmlns:cx2",cx3:"xmlns:cx3",cx4:"xmlns:cx4",cx5:"xmlns:cx5",cx6:"xmlns:cx6",cx7:"xmlns:cx7",cx8:"xmlns:cx8",w16cid:"xmlns:w16cid",w16se:"xmlns:w16se"})}}let kae=class extends G8{constructor(e,r){super("w:hdr",r),rt(this,"refId"),this.refId=e,r||this.root.push(new _ae({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",cx:"http://schemas.microsoft.com/office/drawing/2014/chartex",cx1:"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex",cx2:"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex",cx3:"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex",cx4:"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex",cx5:"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex",cx6:"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex",cx7:"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex",cx8:"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex",w16cid:"http://schemas.microsoft.com/office/word/2016/wordml/cid",w16se:"http://schemas.microsoft.com/office/word/2015/wordml/symex"}))}get ReferenceId(){return this.refId}add(e){this.root.push(e)}};class Tae{constructor(e,r,n){rt(this,"header"),rt(this,"relationships"),this.media=e,this.header=new kae(r,n),this.relationships=new ah}add(e){return this.header.add(e),this}addChildElement(e){this.header.addChildElement(e)}get View(){return this.header}get Relationships(){return this.relationships}get Media(){return this.media}}class Nae{constructor(){rt(this,"map"),this.map=new Map}addImage(e,r){this.map.set(e,r)}get Array(){return Array.from(this.map.values())}}const HA={BULLET:"bullet"};class Fae extends ir{constructor(){super(...arguments),rt(this,"xmlKeys",{ilvl:"w:ilvl",tentative:"w15:tentative"})}}class Uae extends ot{constructor(e){super("w:numFmt"),this.root.push(new yi({val:e}))}}class Oae extends ot{constructor(e){super("w:lvlText"),this.root.push(new yi({val:e}))}}class Lae extends ot{constructor(e){super("w:lvlJc"),this.root.push(new yi({val:e}))}}class Dae extends ot{constructor(e){super("w:suff"),this.root.push(new yi({val:e}))}}class Iae extends ot{constructor(){super("w:isLgl")}}class Rae extends ot{constructor({level:e,format:r,text:n,alignment:i=zl.START,start:s=1,style:a,suffix:o,isLegalNumberingStyle:l}){if(super("w:lvl"),rt(this,"paragraphProperties"),rt(this,"runProperties"),this.root.push(new Zm("w:start",Ca(s))),r&&this.root.push(new Uae(r)),o&&this.root.push(new Dae(o)),l&&this.root.push(new Iae),n&&this.root.push(new Oae(n)),this.root.push(new Lae(i)),this.paragraphProperties=new dp(a&&a.paragraph),this.runProperties=new sh(a&&a.run),this.root.push(this.paragraphProperties),this.root.push(this.runProperties),e>9)throw new Error("Level cannot be greater than 9. Read more here: https://answers.microsoft.com/en-us/msoffice/forum/all/does-word-support-more-than-9-list-levels/d130fdcd-1781-446d-8c84-c6c79124e4d7");this.root.push(new Fae({ilvl:Ca(e),tentative:1}))}}class Mae extends Rae{}class Qae extends ot{constructor(e){super("w:multiLevelType"),this.root.push(new yi({val:e}))}}class Hae extends ir{constructor(){super(...arguments),rt(this,"xmlKeys",{abstractNumId:"w:abstractNumId",restartNumberingAfterBreak:"w15:restartNumberingAfterBreak"})}}class A6 extends ot{constructor(e,r){super("w:abstractNum"),rt(this,"id"),this.root.push(new Hae({abstractNumId:Ca(e),restartNumberingAfterBreak:0})),this.root.push(new Qae("hybridMultilevel")),this.id=e;for(const n of r)this.root.push(new Mae(n))}}class jae extends ot{constructor(e){super("w:abstractNumId"),this.root.push(new yi({val:e}))}}class Pae extends ir{constructor(){super(...arguments),rt(this,"xmlKeys",{numId:"w:numId"})}}class c6 extends ot{constructor(e){if(super("w:num"),rt(this,"numId"),rt(this,"reference"),rt(this,"instance"),this.numId=e.numId,this.reference=e.reference,this.instance=e.instance,this.root.push(new Pae({numId:Ca(e.numId)})),this.root.push(new jae(Ca(e.abstractNumId))),e.overrideLevels&&e.overrideLevels.length)for(const r of e.overrideLevels)this.root.push(new Kae(r.num,r.start))}}class zae extends ir{constructor(){super(...arguments),rt(this,"xmlKeys",{ilvl:"w:ilvl"})}}class Kae extends ot{constructor(e,r){super("w:lvlOverride"),this.root.push(new zae({ilvl:e})),r!==void 0&&this.root.push(new qae(r))}}class Vae extends ir{constructor(){super(...arguments),rt(this,"xmlKeys",{val:"w:val"})}}class qae extends ot{constructor(e){super("w:startOverride"),this.root.push(new Vae({val:e}))}}class Gae extends ot{constructor(e){super("w:numbering"),rt(this,"abstractNumberingMap",new Map),rt(this,"concreteNumberingMap",new Map),rt(this,"referenceConfigMap",new Map),rt(this,"abstractNumUniqueNumericId",Wie()),rt(this,"concreteNumUniqueNumericId",$ie()),this.root.push(new Nv(["wpc","mc","o","r","m","v","wp14","wp","w10","w","w14","w15","wpg","wpi","wne","wps"],"w14 w15 wp14"));const r=new A6(this.abstractNumUniqueNumericId(),[{level:0,format:HA.BULLET,text:"",alignment:zl.LEFT,style:{paragraph:{indent:{left:nl(.5),hanging:nl(.25)}}}},{level:1,format:HA.BULLET,text:"",alignment:zl.LEFT,style:{paragraph:{indent:{left:nl(1),hanging:nl(.25)}}}},{level:2,format:HA.BULLET,text:"",alignment:zl.LEFT,style:{paragraph:{indent:{left:2160,hanging:nl(.25)}}}},{level:3,format:HA.BULLET,text:"",alignment:zl.LEFT,style:{paragraph:{indent:{left:2880,hanging:nl(.25)}}}},{level:4,format:HA.BULLET,text:"",alignment:zl.LEFT,style:{paragraph:{indent:{left:3600,hanging:nl(.25)}}}},{level:5,format:HA.BULLET,text:"",alignment:zl.LEFT,style:{paragraph:{indent:{left:4320,hanging:nl(.25)}}}},{level:6,format:HA.BULLET,text:"",alignment:zl.LEFT,style:{paragraph:{indent:{left:5040,hanging:nl(.25)}}}},{level:7,format:HA.BULLET,text:"",alignment:zl.LEFT,style:{paragraph:{indent:{left:5760,hanging:nl(.25)}}}},{level:8,format:HA.BULLET,text:"",alignment:zl.LEFT,style:{paragraph:{indent:{left:6480,hanging:nl(.25)}}}}]);this.concreteNumberingMap.set("default-bullet-numbering",new c6({numId:1,abstractNumId:r.id,reference:"default-bullet-numbering",instance:0,overrideLevels:[{num:0,start:1}]})),this.abstractNumberingMap.set("default-bullet-numbering",r);for(const n of e.config)this.abstractNumberingMap.set(n.reference,new A6(this.abstractNumUniqueNumericId(),n.levels)),this.referenceConfigMap.set(n.reference,n.levels)}prepForXml(e){for(const r of this.abstractNumberingMap.values())this.root.push(r);for(const r of this.concreteNumberingMap.values())this.root.push(r);return super.prepForXml(e)}createConcreteNumberingInstance(e,r){const n=this.abstractNumberingMap.get(e);if(!n)return;const i=`${e}-${r}`;if(this.concreteNumberingMap.has(i))return;const s=this.referenceConfigMap.get(e),a=s&&s[0].start,o={numId:this.concreteNumUniqueNumericId(),abstractNumId:n.id,reference:e,instance:r,overrideLevels:[a&&Number.isInteger(a)?{num:0,start:a}:{num:0,start:1}]};this.concreteNumberingMap.set(i,new c6(o))}get ConcreteNumbering(){return Array.from(this.concreteNumberingMap.values())}get ReferenceConfig(){return Array.from(this.referenceConfigMap.values())}}class Wae extends ir{constructor(){super(...arguments),rt(this,"xmlKeys",{version:"w:val",name:"w:name",uri:"w:uri"})}}class $ae extends ot{constructor(e){super("w:compatSetting"),this.root.push(new Wae({version:e,uri:"http://schemas.microsoft.com/office/word",name:"compatibilityMode"}))}}class Yae extends ot{constructor(e){super("w:compat"),e.version&&this.root.push(new $ae(e.version)),e.useSingleBorderforContiguousCells&&this.root.push(new lt("w:useSingleBorderforContiguousCells",e.useSingleBorderforContiguousCells)),e.wordPerfectJustification&&this.root.push(new lt("w:wpJustification",e.wordPerfectJustification)),e.noTabStopForHangingIndent&&this.root.push(new lt("w:noTabHangInd",e.noTabStopForHangingIndent)),e.noLeading&&this.root.push(new lt("w:noLeading",e.noLeading)),e.spaceForUnderline&&this.root.push(new lt("w:spaceForUL",e.spaceForUnderline)),e.noColumnBalance&&this.root.push(new lt("w:noColumnBalance",e.noColumnBalance)),e.balanceSingleByteDoubleByteWidth&&this.root.push(new lt("w:balanceSingleByteDoubleByteWidth",e.balanceSingleByteDoubleByteWidth)),e.noExtraLineSpacing&&this.root.push(new lt("w:noExtraLineSpacing",e.noExtraLineSpacing)),e.doNotLeaveBackslashAlone&&this.root.push(new lt("w:doNotLeaveBackslashAlone",e.doNotLeaveBackslashAlone)),e.underlineTrailingSpaces&&this.root.push(new lt("w:ulTrailSpace",e.underlineTrailingSpaces)),e.doNotExpandShiftReturn&&this.root.push(new lt("w:doNotExpandShiftReturn",e.doNotExpandShiftReturn)),e.spacingInWholePoints&&this.root.push(new lt("w:spacingInWholePoints",e.spacingInWholePoints)),e.lineWrapLikeWord6&&this.root.push(new lt("w:lineWrapLikeWord6",e.lineWrapLikeWord6)),e.printBodyTextBeforeHeader&&this.root.push(new lt("w:printBodyTextBeforeHeader",e.printBodyTextBeforeHeader)),e.printColorsBlack&&this.root.push(new lt("w:printColBlack",e.printColorsBlack)),e.spaceWidth&&this.root.push(new lt("w:wpSpaceWidth",e.spaceWidth)),e.showBreaksInFrames&&this.root.push(new lt("w:showBreaksInFrames",e.showBreaksInFrames)),e.subFontBySize&&this.root.push(new lt("w:subFontBySize",e.subFontBySize)),e.suppressBottomSpacing&&this.root.push(new lt("w:suppressBottomSpacing",e.suppressBottomSpacing)),e.suppressTopSpacing&&this.root.push(new lt("w:suppressTopSpacing",e.suppressTopSpacing)),e.suppressSpacingAtTopOfPage&&this.root.push(new lt("w:suppressSpacingAtTopOfPage",e.suppressSpacingAtTopOfPage)),e.suppressTopSpacingWP&&this.root.push(new lt("w:suppressTopSpacingWP",e.suppressTopSpacingWP)),e.suppressSpBfAfterPgBrk&&this.root.push(new lt("w:suppressSpBfAfterPgBrk",e.suppressSpBfAfterPgBrk)),e.swapBordersFacingPages&&this.root.push(new lt("w:swapBordersFacingPages",e.swapBordersFacingPages)),e.convertMailMergeEsc&&this.root.push(new lt("w:convMailMergeEsc",e.convertMailMergeEsc)),e.truncateFontHeightsLikeWP6&&this.root.push(new lt("w:truncateFontHeightsLikeWP6",e.truncateFontHeightsLikeWP6)),e.macWordSmallCaps&&this.root.push(new lt("w:mwSmallCaps",e.macWordSmallCaps)),e.usePrinterMetrics&&this.root.push(new lt("w:usePrinterMetrics",e.usePrinterMetrics)),e.doNotSuppressParagraphBorders&&this.root.push(new lt("w:doNotSuppressParagraphBorders",e.doNotSuppressParagraphBorders)),e.wrapTrailSpaces&&this.root.push(new lt("w:wrapTrailSpaces",e.wrapTrailSpaces)),e.footnoteLayoutLikeWW8&&this.root.push(new lt("w:footnoteLayoutLikeWW8",e.footnoteLayoutLikeWW8)),e.shapeLayoutLikeWW8&&this.root.push(new lt("w:shapeLayoutLikeWW8",e.shapeLayoutLikeWW8)),e.alignTablesRowByRow&&this.root.push(new lt("w:alignTablesRowByRow",e.alignTablesRowByRow)),e.forgetLastTabAlignment&&this.root.push(new lt("w:forgetLastTabAlignment",e.forgetLastTabAlignment)),e.adjustLineHeightInTable&&this.root.push(new lt("w:adjustLineHeightInTable",e.adjustLineHeightInTable)),e.autoSpaceLikeWord95&&this.root.push(new lt("w:autoSpaceLikeWord95",e.autoSpaceLikeWord95)),e.noSpaceRaiseLower&&this.root.push(new lt("w:noSpaceRaiseLower",e.noSpaceRaiseLower)),e.doNotUseHTMLParagraphAutoSpacing&&this.root.push(new lt("w:doNotUseHTMLParagraphAutoSpacing",e.doNotUseHTMLParagraphAutoSpacing)),e.layoutRawTableWidth&&this.root.push(new lt("w:layoutRawTableWidth",e.layoutRawTableWidth)),e.layoutTableRowsApart&&this.root.push(new lt("w:layoutTableRowsApart",e.layoutTableRowsApart)),e.useWord97LineBreakRules&&this.root.push(new lt("w:useWord97LineBreakRules",e.useWord97LineBreakRules)),e.doNotBreakWrappedTables&&this.root.push(new lt("w:doNotBreakWrappedTables",e.doNotBreakWrappedTables)),e.doNotSnapToGridInCell&&this.root.push(new lt("w:doNotSnapToGridInCell",e.doNotSnapToGridInCell)),e.selectFieldWithFirstOrLastCharacter&&this.root.push(new lt("w:selectFldWithFirstOrLastChar",e.selectFieldWithFirstOrLastCharacter)),e.applyBreakingRules&&this.root.push(new lt("w:applyBreakingRules",e.applyBreakingRules)),e.doNotWrapTextWithPunctuation&&this.root.push(new lt("w:doNotWrapTextWithPunct",e.doNotWrapTextWithPunctuation)),e.doNotUseEastAsianBreakRules&&this.root.push(new lt("w:doNotUseEastAsianBreakRules",e.doNotUseEastAsianBreakRules)),e.useWord2002TableStyleRules&&this.root.push(new lt("w:useWord2002TableStyleRules",e.useWord2002TableStyleRules)),e.growAutofit&&this.root.push(new lt("w:growAutofit",e.growAutofit)),e.useFELayout&&this.root.push(new lt("w:useFELayout",e.useFELayout)),e.useNormalStyleForList&&this.root.push(new lt("w:useNormalStyleForList",e.useNormalStyleForList)),e.doNotUseIndentAsNumberingTabStop&&this.root.push(new lt("w:doNotUseIndentAsNumberingTabStop",e.doNotUseIndentAsNumberingTabStop)),e.useAlternateEastAsianLineBreakRules&&this.root.push(new lt("w:useAltKinsokuLineBreakRules",e.useAlternateEastAsianLineBreakRules)),e.allowSpaceOfSameStyleInTable&&this.root.push(new lt("w:allowSpaceOfSameStyleInTable",e.allowSpaceOfSameStyleInTable)),e.doNotSuppressIndentation&&this.root.push(new lt("w:doNotSuppressIndentation",e.doNotSuppressIndentation)),e.doNotAutofitConstrainedTables&&this.root.push(new lt("w:doNotAutofitConstrainedTables",e.doNotAutofitConstrainedTables)),e.autofitToFirstFixedWidthCell&&this.root.push(new lt("w:autofitToFirstFixedWidthCell",e.autofitToFirstFixedWidthCell)),e.underlineTabInNumberingList&&this.root.push(new lt("w:underlineTabInNumList",e.underlineTabInNumberingList)),e.displayHangulFixedWidth&&this.root.push(new lt("w:displayHangulFixedWidth",e.displayHangulFixedWidth)),e.splitPgBreakAndParaMark&&this.root.push(new lt("w:splitPgBreakAndParaMark",e.splitPgBreakAndParaMark)),e.doNotVerticallyAlignCellWithSp&&this.root.push(new lt("w:doNotVertAlignCellWithSp",e.doNotVerticallyAlignCellWithSp)),e.doNotBreakConstrainedForcedTable&&this.root.push(new lt("w:doNotBreakConstrainedForcedTable",e.doNotBreakConstrainedForcedTable)),e.ignoreVerticalAlignmentInTextboxes&&this.root.push(new lt("w:doNotVertAlignInTxbx",e.ignoreVerticalAlignmentInTextboxes)),e.useAnsiKerningPairs&&this.root.push(new lt("w:useAnsiKerningPairs",e.useAnsiKerningPairs)),e.cachedColumnBalance&&this.root.push(new lt("w:cachedColBalance",e.cachedColumnBalance))}}class Jae extends ir{constructor(){super(...arguments),rt(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",Ignorable:"mc:Ignorable"})}}class Xae extends ot{constructor(e){var r,n,i,s,a,o,l,c;super("w:settings"),this.root.push(new Jae({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",Ignorable:"w14 w15 wp14"})),this.root.push(new lt("w:displayBackgroundShape",!0)),e.trackRevisions!==void 0&&this.root.push(new lt("w:trackRevisions",e.trackRevisions)),e.evenAndOddHeaders!==void 0&&this.root.push(new lt("w:evenAndOddHeaders",e.evenAndOddHeaders)),e.updateFields!==void 0&&this.root.push(new lt("w:updateFields",e.updateFields)),e.defaultTabStop!==void 0&&this.root.push(new Zm("w:defaultTabStop",e.defaultTabStop)),((r=e.hyphenation)==null?void 0:r.autoHyphenation)!==void 0&&this.root.push(new lt("w:autoHyphenation",e.hyphenation.autoHyphenation)),((n=e.hyphenation)==null?void 0:n.hyphenationZone)!==void 0&&this.root.push(new Zm("w:hyphenationZone",e.hyphenation.hyphenationZone)),((i=e.hyphenation)==null?void 0:i.consecutiveHyphenLimit)!==void 0&&this.root.push(new Zm("w:consecutiveHyphenLimit",e.hyphenation.consecutiveHyphenLimit)),((s=e.hyphenation)==null?void 0:s.doNotHyphenateCaps)!==void 0&&this.root.push(new lt("w:doNotHyphenateCaps",e.hyphenation.doNotHyphenateCaps)),this.root.push(new Yae(Ap(Or({},(a=e.compatibility)!=null?a:{}),{version:(c=(l=(o=e.compatibility)==null?void 0:o.version)!=null?l:e.compatibilityModeVersion)!=null?c:15})))}}class iQ extends ir{constructor(){super(...arguments),rt(this,"xmlKeys",{val:"w:val"})}}class Zae extends ot{constructor(e){super("w:name"),this.root.push(new iQ({val:e}))}}class eoe extends ot{constructor(e){super("w:uiPriority"),this.root.push(new iQ({val:Ca(e)}))}}class toe extends ir{constructor(){super(...arguments),rt(this,"xmlKeys",{type:"w:type",styleId:"w:styleId",default:"w:default",customStyle:"w:customStyle"})}}class sQ extends ot{constructor(e,r){super("w:style"),this.root.push(new toe(e)),r.name&&this.root.push(new Zae(r.name)),r.basedOn&&this.root.push(new Gd("w:basedOn",r.basedOn)),r.next&&this.root.push(new Gd("w:next",r.next)),r.link&&this.root.push(new Gd("w:link",r.link)),r.uiPriority!==void 0&&this.root.push(new eoe(r.uiPriority)),r.semiHidden!==void 0&&this.root.push(new lt("w:semiHidden",r.semiHidden)),r.unhideWhenUsed!==void 0&&this.root.push(new lt("w:unhideWhenUsed",r.unhideWhenUsed)),r.quickFormat!==void 0&&this.root.push(new lt("w:qFormat",r.quickFormat))}}class Fv extends sQ{constructor(e){super({type:"paragraph",styleId:e.id},e),rt(this,"paragraphProperties"),rt(this,"runProperties"),this.paragraphProperties=new dp(e.paragraph),this.runProperties=new sh(e.run),this.root.push(this.paragraphProperties),this.root.push(this.runProperties)}}class Uv extends sQ{constructor(e){super({type:"character",styleId:e.id},Or({uiPriority:99,unhideWhenUsed:!0},e)),rt(this,"runProperties"),this.runProperties=new sh(e.run),this.root.push(this.runProperties)}}class Du extends Fv{constructor(e){super(Or({basedOn:"Normal",next:"Normal",quickFormat:!0},e))}}class roe extends Du{constructor(e){super(Or({id:"Title",name:"Title"},e))}}class noe extends Du{constructor(e){super(Or({id:"Heading1",name:"Heading 1"},e))}}class ioe extends Du{constructor(e){super(Or({id:"Heading2",name:"Heading 2"},e))}}class soe extends Du{constructor(e){super(Or({id:"Heading3",name:"Heading 3"},e))}}class aoe extends Du{constructor(e){super(Or({id:"Heading4",name:"Heading 4"},e))}}class ooe extends Du{constructor(e){super(Or({id:"Heading5",name:"Heading 5"},e))}}class loe extends Du{constructor(e){super(Or({id:"Heading6",name:"Heading 6"},e))}}class Aoe extends Du{constructor(e){super(Or({id:"Strong",name:"Strong"},e))}}class coe extends Fv{constructor(e){super(Or({id:"ListParagraph",name:"List Paragraph",basedOn:"Normal",quickFormat:!0},e))}}class uoe extends Fv{constructor(e){super(Or({id:"FootnoteText",name:"footnote text",link:"FootnoteTextChar",basedOn:"Normal",uiPriority:99,semiHidden:!0,unhideWhenUsed:!0,paragraph:{spacing:{after:0,line:240,lineRule:AS.AUTO}},run:{size:20}},e))}}class foe extends Uv{constructor(e){super(Or({id:"FootnoteReference",name:"footnote reference",basedOn:"DefaultParagraphFont",semiHidden:!0,run:{superScript:!0}},e))}}class hoe extends Uv{constructor(e){super(Or({id:"FootnoteTextChar",name:"Footnote Text Char",basedOn:"DefaultParagraphFont",link:"FootnoteText",semiHidden:!0,run:{size:20}},e))}}class doe extends Uv{constructor(e){super(Or({id:"Hyperlink",name:"Hyperlink",basedOn:"DefaultParagraphFont",run:{color:"0563C1",underline:{type:Z8.SINGLE}}},e))}}class uS extends ot{constructor(e){if(super("w:styles"),e.initialStyles&&this.root.push(e.initialStyles),e.importedStyles)for(const r of e.importedStyles)this.root.push(r);if(e.paragraphStyles)for(const r of e.paragraphStyles)this.root.push(new Fv(r));if(e.characterStyles)for(const r of e.characterStyles)this.root.push(new Uv(r))}}class poe extends ot{constructor(e){super("w:pPrDefault"),this.root.push(new dp(e))}}class moe extends ot{constructor(e){super("w:rPrDefault"),this.root.push(new sh(e))}}class goe extends ot{constructor(e){super("w:docDefaults"),rt(this,"runPropertiesDefaults"),rt(this,"paragraphPropertiesDefaults"),this.runPropertiesDefaults=new moe(e.run),this.paragraphPropertiesDefaults=new poe(e.paragraph),this.root.push(this.runPropertiesDefaults),this.root.push(this.paragraphPropertiesDefaults)}}class yoe{newInstance(e){const r=q8.xml2js(e,{compact:!1});let n;for(const a of r.elements||[])a.name==="w:styles"&&(n=a);if(n===void 0)throw new Error("can not find styles element");const i=n.elements||[];return new uS({initialStyles:new lie(n.attributes),importedStyles:i.map(a=>h_(a))})}}class u6{newInstance(e={}){var r;return{initialStyles:new Nv(["mc","r","w","w14","w15"],"w14 w15"),importedStyles:[new goe((r=e.document)!=null?r:{}),new roe(Or({run:{size:56}},e.title)),new noe(Or({run:{color:"2E74B5",size:32}},e.heading1)),new ioe(Or({run:{color:"2E74B5",size:26}},e.heading2)),new soe(Or({run:{color:"1F4D78",size:24}},e.heading3)),new aoe(Or({run:{color:"2E74B5",italics:!0}},e.heading4)),new ooe(Or({run:{color:"2E74B5"}},e.heading5)),new loe(Or({run:{color:"1F4D78"}},e.heading6)),new Aoe(Or({run:{bold:!0}},e.strong)),new coe(e.listParagraph||{}),new doe(e.hyperlink||{}),new foe(e.footnoteReference||{}),new uoe(e.footnoteText||{}),new hoe(e.footnoteTextChar||{})]}}}class woe{constructor(e){rt(this,"currentRelationshipId",1),rt(this,"documentWrapper"),rt(this,"headers",[]),rt(this,"footers",[]),rt(this,"coreProperties"),rt(this,"numbering"),rt(this,"media"),rt(this,"fileRelationships"),rt(this,"footnotesWrapper"),rt(this,"settings"),rt(this,"contentTypes"),rt(this,"customProperties"),rt(this,"appProperties"),rt(this,"styles"),rt(this,"comments"),rt(this,"fontWrapper");var r,n,i,s,a,o,l,c,f,h,m,d;if(this.coreProperties=new nae(Ap(Or({},e),{creator:(r=e.creator)!=null?r:"Un-named",revision:(n=e.revision)!=null?n:1,lastModifiedBy:(i=e.lastModifiedBy)!=null?i:"Un-named"})),this.numbering=new Gae(e.numbering?e.numbering:{config:[]}),this.comments=new ase((s=e.comments)!=null?s:{children:[]}),this.fileRelationships=new ah,this.customProperties=new Aae((a=e.customProperties)!=null?a:[]),this.appProperties=new Xse,this.footnotesWrapper=new Eae,this.contentTypes=new rae,this.documentWrapper=new nQ({background:e.background}),this.settings=new Xae({compatibilityModeVersion:e.compatabilityModeVersion,compatibility:e.compatibility,evenAndOddHeaders:!!e.evenAndOddHeaderAndFooters,trackRevisions:(o=e.features)==null?void 0:o.trackRevisions,updateFields:(l=e.features)==null?void 0:l.updateFields,defaultTabStop:e.defaultTabStop,hyphenation:{autoHyphenation:(c=e.hyphenation)==null?void 0:c.autoHyphenation,hyphenationZone:(f=e.hyphenation)==null?void 0:f.hyphenationZone,consecutiveHyphenLimit:(h=e.hyphenation)==null?void 0:h.consecutiveHyphenLimit,doNotHyphenateCaps:(m=e.hyphenation)==null?void 0:m.doNotHyphenateCaps}}),this.media=new Nae,e.externalStyles!==void 0){const g=new yoe;this.styles=g.newInstance(e.externalStyles)}else if(e.styles){const v=new u6().newInstance(e.styles.default);this.styles=new uS(Or(Or({},v),e.styles))}else{const g=new u6;this.styles=new uS(g.newInstance())}this.addDefaultRelationships();for(const g of e.sections)this.addSection(g);if(e.footnotes)for(const g in e.footnotes)this.footnotesWrapper.View.createFootNote(parseFloat(g),e.footnotes[g].children);this.fontWrapper=new hae((d=e.fonts)!=null?d:[])}addSection({headers:e={},footers:r={},children:n,properties:i}){this.documentWrapper.View.Body.addSection(Ap(Or({},i),{headerWrapperGroup:{default:e.default?this.createHeader(e.default):void 0,first:e.first?this.createHeader(e.first):void 0,even:e.even?this.createHeader(e.even):void 0},footerWrapperGroup:{default:r.default?this.createFooter(r.default):void 0,first:r.first?this.createFooter(r.first):void 0,even:r.even?this.createFooter(r.even):void 0}}));for(const s of n)this.documentWrapper.View.add(s)}createHeader(e){const r=new Tae(this.media,this.currentRelationshipId++);for(const n of e.options.children)r.add(n);return this.addHeaderToDocument(r),r}createFooter(e){const r=new mae(this.media,this.currentRelationshipId++);for(const n of e.options.children)r.add(n);return this.addFooterToDocument(r),r}addHeaderToDocument(e,r=Wd.DEFAULT){this.headers.push({header:e,type:r}),this.documentWrapper.Relationships.createRelationship(e.View.ReferenceId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/header",`header${this.headers.length}.xml`),this.contentTypes.addHeader(this.headers.length)}addFooterToDocument(e,r=Wd.DEFAULT){this.footers.push({footer:e,type:r}),this.documentWrapper.Relationships.createRelationship(e.View.ReferenceId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/footer",`footer${this.footers.length}.xml`),this.contentTypes.addFooter(this.footers.length)}addDefaultRelationships(){this.fileRelationships.createRelationship(1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument","word/document.xml"),this.fileRelationships.createRelationship(2,"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties","docProps/core.xml"),this.fileRelationships.createRelationship(3,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties","docProps/app.xml"),this.fileRelationships.createRelationship(4,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties","docProps/custom.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles","styles.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/numbering","numbering.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/footnotes","footnotes.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/settings","settings.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments","comments.xml")}get Document(){return this.documentWrapper}get Styles(){return this.styles}get CoreProperties(){return this.coreProperties}get Numbering(){return this.numbering}get Media(){return this.media}get FileRelationships(){return this.fileRelationships}get Headers(){return this.headers.map(e=>e.header)}get Footers(){return this.footers.map(e=>e.footer)}get ContentTypes(){return this.contentTypes}get CustomProperties(){return this.customProperties}get AppProperties(){return this.appProperties}get FootNotes(){return this.footnotesWrapper}get Settings(){return this.settings}get Comments(){return this.comments}get FontTable(){return this.fontWrapper}}var voe=c_();function Uy(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var V5={exports:{}},f6;function boe(){return f6||(f6=1,(function(t,e){(function(r){t.exports=r()})(function(){return(function r(n,i,s){function a(c,f){if(!i[c]){if(!n[c]){var h=typeof Uy=="function"&&Uy;if(!f&&h)return h(c,!0);if(o)return o(c,!0);var m=new Error("Cannot find module '"+c+"'");throw m.code="MODULE_NOT_FOUND",m}var d=i[c]={exports:{}};n[c][0].call(d.exports,function(g){var v=n[c][1][g];return a(v||g)},d,d.exports,r,n,i,s)}return i[c].exports}for(var o=typeof Uy=="function"&&Uy,l=0;l<s.length;l++)a(s[l]);return a})({1:[function(r,n,i){var s=r("./utils"),a=r("./support"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(l){for(var c,f,h,m,d,g,v,b=[],w=0,B=l.length,S=B,C=s.getTypeOf(l)!=="string";w<l.length;)S=B-w,h=C?(c=l[w++],f=w<B?l[w++]:0,w<B?l[w++]:0):(c=l.charCodeAt(w++),f=w<B?l.charCodeAt(w++):0,w<B?l.charCodeAt(w++):0),m=c>>2,d=(3&c)<<4|f>>4,g=1<S?(15&f)<<2|h>>6:64,v=2<S?63&h:64,b.push(o.charAt(m)+o.charAt(d)+o.charAt(g)+o.charAt(v));return b.join("")},i.decode=function(l){var c,f,h,m,d,g,v=0,b=0,w="data:";if(l.substr(0,w.length)===w)throw new Error("Invalid base64 input, it looks like a data url.");var B,S=3*(l=l.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(l.charAt(l.length-1)===o.charAt(64)&&S--,l.charAt(l.length-2)===o.charAt(64)&&S--,S%1!=0)throw new Error("Invalid base64 input, bad content length.");for(B=a.uint8array?new Uint8Array(0|S):new Array(0|S);v<l.length;)c=o.indexOf(l.charAt(v++))<<2|(m=o.indexOf(l.charAt(v++)))>>4,f=(15&m)<<4|(d=o.indexOf(l.charAt(v++)))>>2,h=(3&d)<<6|(g=o.indexOf(l.charAt(v++))),B[b++]=c,d!==64&&(B[b++]=f),g!==64&&(B[b++]=h);return B}},{"./support":30,"./utils":32}],2:[function(r,n,i){var s=r("./external"),a=r("./stream/DataWorker"),o=r("./stream/Crc32Probe"),l=r("./stream/DataLengthProbe");function c(f,h,m,d,g){this.compressedSize=f,this.uncompressedSize=h,this.crc32=m,this.compression=d,this.compressedContent=g}c.prototype={getContentWorker:function(){var f=new a(s.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new l("data_length")),h=this;return f.on("end",function(){if(this.streamInfo.data_length!==h.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),f},getCompressedWorker:function(){return new a(s.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},c.createWorkerFrom=function(f,h,m){return f.pipe(new o).pipe(new l("uncompressedSize")).pipe(h.compressWorker(m)).pipe(new l("compressedSize")).withStreamInfo("compression",h)},n.exports=c},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(r,n,i){var s=r("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new s("STORE compression")},uncompressWorker:function(){return new s("STORE decompression")}},i.DEFLATE=r("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(r,n,i){var s=r("./utils"),a=(function(){for(var o,l=[],c=0;c<256;c++){o=c;for(var f=0;f<8;f++)o=1&o?3988292384^o>>>1:o>>>1;l[c]=o}return l})();n.exports=function(o,l){return o!==void 0&&o.length?s.getTypeOf(o)!=="string"?(function(c,f,h,m){var d=a,g=m+h;c^=-1;for(var v=m;v<g;v++)c=c>>>8^d[255&(c^f[v])];return-1^c})(0|l,o,o.length,0):(function(c,f,h,m){var d=a,g=m+h;c^=-1;for(var v=m;v<g;v++)c=c>>>8^d[255&(c^f.charCodeAt(v))];return-1^c})(0|l,o,o.length,0):0}},{"./utils":32}],5:[function(r,n,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(r,n,i){var s=null;s=typeof Promise<"u"?Promise:r("lie"),n.exports={Promise:s}},{lie:37}],7:[function(r,n,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",a=r("pako"),o=r("./utils"),l=r("./stream/GenericWorker"),c=s?"uint8array":"array";function f(h,m){l.call(this,"FlateWorker/"+h),this._pako=null,this._pakoAction=h,this._pakoOptions=m,this.meta={}}i.magic="\b\0",o.inherits(f,l),f.prototype.processChunk=function(h){this.meta=h.meta,this._pako===null&&this._createPako(),this._pako.push(o.transformTo(c,h.data),!1)},f.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},f.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},f.prototype._createPako=function(){this._pako=new a[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var h=this;this._pako.onData=function(m){h.push({data:m,meta:h.meta})}},i.compressWorker=function(h){return new f("Deflate",h)},i.uncompressWorker=function(){return new f("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(r,n,i){function s(d,g){var v,b="";for(v=0;v<g;v++)b+=String.fromCharCode(255&d),d>>>=8;return b}function a(d,g,v,b,w,B){var S,C,k=d.file,M=d.compression,D=B!==c.utf8encode,H=o.transformTo("string",B(k.name)),F=o.transformTo("string",c.utf8encode(k.name)),$=k.comment,q=o.transformTo("string",B($)),R=o.transformTo("string",c.utf8encode($)),G=F.length!==k.name.length,U=R.length!==$.length,ae="",re="",Y="",he=k.dir,de=k.date,Ce={crc32:0,compressedSize:0,uncompressedSize:0};g&&!v||(Ce.crc32=d.crc32,Ce.compressedSize=d.compressedSize,Ce.uncompressedSize=d.uncompressedSize);var X=0;g&&(X|=8),D||!G&&!U||(X|=2048);var I=0,J=0;he&&(I|=16),w==="UNIX"?(J=798,I|=(function(Ae,se){var Q=Ae;return Ae||(Q=se?16893:33204),(65535&Q)<<16})(k.unixPermissions,he)):(J=20,I|=(function(Ae){return 63&(Ae||0)})(k.dosPermissions)),S=de.getUTCHours(),S<<=6,S|=de.getUTCMinutes(),S<<=5,S|=de.getUTCSeconds()/2,C=de.getUTCFullYear()-1980,C<<=4,C|=de.getUTCMonth()+1,C<<=5,C|=de.getUTCDate(),G&&(re=s(1,1)+s(f(H),4)+F,ae+="up"+s(re.length,2)+re),U&&(Y=s(1,1)+s(f(q),4)+R,ae+="uc"+s(Y.length,2)+Y);var te="";return te+=`
\0`,te+=s(X,2),te+=M.magic,te+=s(S,2),te+=s(C,2),te+=s(Ce.crc32,4),te+=s(Ce.compressedSize,4),te+=s(Ce.uncompressedSize,4),te+=s(H.length,2),te+=s(ae.length,2),{fileRecord:h.LOCAL_FILE_HEADER+te+H+ae,dirRecord:h.CENTRAL_FILE_HEADER+s(J,2)+te+s(q.length,2)+"\0\0\0\0"+s(I,4)+s(b,4)+H+ae+q}}var o=r("../utils"),l=r("../stream/GenericWorker"),c=r("../utf8"),f=r("../crc32"),h=r("../signature");function m(d,g,v,b){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=g,this.zipPlatform=v,this.encodeFileName=b,this.streamFiles=d,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}o.inherits(m,l),m.prototype.push=function(d){var g=d.meta.percent||0,v=this.entriesCount,b=this._sources.length;this.accumulate?this.contentBuffer.push(d):(this.bytesWritten+=d.data.length,l.prototype.push.call(this,{data:d.data,meta:{currentFile:this.currentFile,percent:v?(g+100*(v-b-1))/v:100}}))},m.prototype.openedSource=function(d){this.currentSourceOffset=this.bytesWritten,this.currentFile=d.file.name;var g=this.streamFiles&&!d.file.dir;if(g){var v=a(d,g,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:v.fileRecord,meta:{percent:0}})}else this.accumulate=!0},m.prototype.closedSource=function(d){this.accumulate=!1;var g=this.streamFiles&&!d.file.dir,v=a(d,g,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(v.dirRecord),g)this.push({data:(function(b){return h.DATA_DESCRIPTOR+s(b.crc32,4)+s(b.compressedSize,4)+s(b.uncompressedSize,4)})(d),meta:{percent:100}});else for(this.push({data:v.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},m.prototype.flush=function(){for(var d=this.bytesWritten,g=0;g<this.dirRecords.length;g++)this.push({data:this.dirRecords[g],meta:{percent:100}});var v=this.bytesWritten-d,b=(function(w,B,S,C,k){var M=o.transformTo("string",k(C));return h.CENTRAL_DIRECTORY_END+"\0\0\0\0"+s(w,2)+s(w,2)+s(B,4)+s(S,4)+s(M.length,2)+M})(this.dirRecords.length,v,d,this.zipComment,this.encodeFileName);this.push({data:b,meta:{percent:100}})},m.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},m.prototype.registerPrevious=function(d){this._sources.push(d);var g=this;return d.on("data",function(v){g.processChunk(v)}),d.on("end",function(){g.closedSource(g.previous.streamInfo),g._sources.length?g.prepareNextSource():g.end()}),d.on("error",function(v){g.error(v)}),this},m.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},m.prototype.error=function(d){var g=this._sources;if(!l.prototype.error.call(this,d))return!1;for(var v=0;v<g.length;v++)try{g[v].error(d)}catch{}return!0},m.prototype.lock=function(){l.prototype.lock.call(this);for(var d=this._sources,g=0;g<d.length;g++)d[g].lock()},n.exports=m},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(r,n,i){var s=r("../compressions"),a=r("./ZipFileWorker");i.generateWorker=function(o,l,c){var f=new a(l.streamFiles,c,l.platform,l.encodeFileName),h=0;try{o.forEach(function(m,d){h++;var g=(function(B,S){var C=B||S,k=s[C];if(!k)throw new Error(C+" is not a valid compression method !");return k})(d.options.compression,l.compression),v=d.options.compressionOptions||l.compressionOptions||{},b=d.dir,w=d.date;d._compressWorker(g,v).withStreamInfo("file",{name:m,dir:b,date:w,comment:d.comment||"",unixPermissions:d.unixPermissions,dosPermissions:d.dosPermissions}).pipe(f)}),f.entriesCount=h}catch(m){f.error(m)}return f}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(r,n,i){function s(){if(!(this instanceof s))return new s;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var a=new s;for(var o in this)typeof this[o]!="function"&&(a[o]=this[o]);return a}}(s.prototype=r("./object")).loadAsync=r("./load"),s.support=r("./support"),s.defaults=r("./defaults"),s.version="3.10.1",s.loadAsync=function(a,o){return new s().loadAsync(a,o)},s.external=r("./external"),n.exports=s},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(r,n,i){var s=r("./utils"),a=r("./external"),o=r("./utf8"),l=r("./zipEntries"),c=r("./stream/Crc32Probe"),f=r("./nodejsUtils");function h(m){return new a.Promise(function(d,g){var v=m.decompressed.getContentWorker().pipe(new c);v.on("error",function(b){g(b)}).on("end",function(){v.streamInfo.crc32!==m.decompressed.crc32?g(new Error("Corrupted zip : CRC32 mismatch")):d()}).resume()})}n.exports=function(m,d){var g=this;return d=s.extend(d||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),f.isNode&&f.isStream(m)?a.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):s.prepareContent("the loaded zip file",m,!0,d.optimizedBinaryString,d.base64).then(function(v){var b=new l(d);return b.load(v),b}).then(function(v){var b=[a.Promise.resolve(v)],w=v.files;if(d.checkCRC32)for(var B=0;B<w.length;B++)b.push(h(w[B]));return a.Promise.all(b)}).then(function(v){for(var b=v.shift(),w=b.files,B=0;B<w.length;B++){var S=w[B],C=S.fileNameStr,k=s.resolve(S.fileNameStr);g.file(k,S.decompressed,{binary:!0,optimizedBinaryString:!0,date:S.date,dir:S.dir,comment:S.fileCommentStr.length?S.fileCommentStr:null,unixPermissions:S.unixPermissions,dosPermissions:S.dosPermissions,createFolders:d.createFolders}),S.dir||(g.file(k).unsafeOriginalName=C)}return b.zipComment.length&&(g.comment=b.zipComment),g})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(r,n,i){var s=r("../utils"),a=r("../stream/GenericWorker");function o(l,c){a.call(this,"Nodejs stream input adapter for "+l),this._upstreamEnded=!1,this._bindStream(c)}s.inherits(o,a),o.prototype._bindStream=function(l){var c=this;(this._stream=l).pause(),l.on("data",function(f){c.push({data:f,meta:{percent:0}})}).on("error",function(f){c.isPaused?this.generatedError=f:c.error(f)}).on("end",function(){c.isPaused?c._upstreamEnded=!0:c.end()})},o.prototype.pause=function(){return!!a.prototype.pause.call(this)&&(this._stream.pause(),!0)},o.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},n.exports=o},{"../stream/GenericWorker":28,"../utils":32}],13:[function(r,n,i){var s=r("readable-stream").Readable;function a(o,l,c){s.call(this,l),this._helper=o;var f=this;o.on("data",function(h,m){f.push(h)||f._helper.pause(),c&&c(m)}).on("error",function(h){f.emit("error",h)}).on("end",function(){f.push(null)})}r("../utils").inherits(a,s),a.prototype._read=function(){this._helper.resume()},n.exports=a},{"../utils":32,"readable-stream":16}],14:[function(r,n,i){n.exports={isNode:typeof Buffer<"u",newBufferFrom:function(s,a){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(s,a);if(typeof s=="number")throw new Error('The "data" argument must not be a number');return new Buffer(s,a)},allocBuffer:function(s){if(Buffer.alloc)return Buffer.alloc(s);var a=new Buffer(s);return a.fill(0),a},isBuffer:function(s){return Buffer.isBuffer(s)},isStream:function(s){return s&&typeof s.on=="function"&&typeof s.pause=="function"&&typeof s.resume=="function"}}},{}],15:[function(r,n,i){function s(k,M,D){var H,F=o.getTypeOf(M),$=o.extend(D||{},f);$.date=$.date||new Date,$.compression!==null&&($.compression=$.compression.toUpperCase()),typeof $.unixPermissions=="string"&&($.unixPermissions=parseInt($.unixPermissions,8)),$.unixPermissions&&16384&$.unixPermissions&&($.dir=!0),$.dosPermissions&&16&$.dosPermissions&&($.dir=!0),$.dir&&(k=w(k)),$.createFolders&&(H=b(k))&&B.call(this,H,!0);var q=F==="string"&&$.binary===!1&&$.base64===!1;D&&D.binary!==void 0||($.binary=!q),(M instanceof h&&M.uncompressedSize===0||$.dir||!M||M.length===0)&&($.base64=!1,$.binary=!0,M="",$.compression="STORE",F="string");var R=null;R=M instanceof h||M instanceof l?M:g.isNode&&g.isStream(M)?new v(k,M):o.prepareContent(k,M,$.binary,$.optimizedBinaryString,$.base64);var G=new m(k,R,$);this.files[k]=G}var a=r("./utf8"),o=r("./utils"),l=r("./stream/GenericWorker"),c=r("./stream/StreamHelper"),f=r("./defaults"),h=r("./compressedObject"),m=r("./zipObject"),d=r("./generate"),g=r("./nodejsUtils"),v=r("./nodejs/NodejsStreamInputAdapter"),b=function(k){k.slice(-1)==="/"&&(k=k.substring(0,k.length-1));var M=k.lastIndexOf("/");return 0<M?k.substring(0,M):""},w=function(k){return k.slice(-1)!=="/"&&(k+="/"),k},B=function(k,M){return M=M!==void 0?M:f.createFolders,k=w(k),this.files[k]||s.call(this,k,null,{dir:!0,createFolders:M}),this.files[k]};function S(k){return Object.prototype.toString.call(k)==="[object RegExp]"}var C={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(k){var M,D,H;for(M in this.files)H=this.files[M],(D=M.slice(this.root.length,M.length))&&M.slice(0,this.root.length)===this.root&&k(D,H)},filter:function(k){var M=[];return this.forEach(function(D,H){k(D,H)&&M.push(H)}),M},file:function(k,M,D){if(arguments.length!==1)return k=this.root+k,s.call(this,k,M,D),this;if(S(k)){var H=k;return this.filter(function($,q){return!q.dir&&H.test($)})}var F=this.files[this.root+k];return F&&!F.dir?F:null},folder:function(k){if(!k)return this;if(S(k))return this.filter(function(F,$){return $.dir&&k.test(F)});var M=this.root+k,D=B.call(this,M),H=this.clone();return H.root=D.name,H},remove:function(k){k=this.root+k;var M=this.files[k];if(M||(k.slice(-1)!=="/"&&(k+="/"),M=this.files[k]),M&&!M.dir)delete this.files[k];else for(var D=this.filter(function(F,$){return $.name.slice(0,k.length)===k}),H=0;H<D.length;H++)delete this.files[D[H].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(k){var M,D={};try{if((D=o.extend(k||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:a.utf8encode})).type=D.type.toLowerCase(),D.compression=D.compression.toUpperCase(),D.type==="binarystring"&&(D.type="string"),!D.type)throw new Error("No output type specified.");o.checkSupport(D.type),D.platform!=="darwin"&&D.platform!=="freebsd"&&D.platform!=="linux"&&D.platform!=="sunos"||(D.platform="UNIX"),D.platform==="win32"&&(D.platform="DOS");var H=D.comment||this.comment||"";M=d.generateWorker(this,D,H)}catch(F){(M=new l("error")).error(F)}return new c(M,D.type||"string",D.mimeType)},generateAsync:function(k,M){return this.generateInternalStream(k).accumulate(M)},generateNodeStream:function(k,M){return(k=k||{}).type||(k.type="nodebuffer"),this.generateInternalStream(k).toNodejsStream(M)}};n.exports=C},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(r,n,i){n.exports=r("stream")},{stream:void 0}],17:[function(r,n,i){var s=r("./DataReader");function a(o){s.call(this,o);for(var l=0;l<this.data.length;l++)o[l]=255&o[l]}r("../utils").inherits(a,s),a.prototype.byteAt=function(o){return this.data[this.zero+o]},a.prototype.lastIndexOfSignature=function(o){for(var l=o.charCodeAt(0),c=o.charCodeAt(1),f=o.charCodeAt(2),h=o.charCodeAt(3),m=this.length-4;0<=m;--m)if(this.data[m]===l&&this.data[m+1]===c&&this.data[m+2]===f&&this.data[m+3]===h)return m-this.zero;return-1},a.prototype.readAndCheckSignature=function(o){var l=o.charCodeAt(0),c=o.charCodeAt(1),f=o.charCodeAt(2),h=o.charCodeAt(3),m=this.readData(4);return l===m[0]&&c===m[1]&&f===m[2]&&h===m[3]},a.prototype.readData=function(o){if(this.checkOffset(o),o===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},n.exports=a},{"../utils":32,"./DataReader":18}],18:[function(r,n,i){var s=r("../utils");function a(o){this.data=o,this.length=o.length,this.index=0,this.zero=0}a.prototype={checkOffset:function(o){this.checkIndex(this.index+o)},checkIndex:function(o){if(this.length<this.zero+o||o<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+o+"). Corrupted zip ?")},setIndex:function(o){this.checkIndex(o),this.index=o},skip:function(o){this.setIndex(this.index+o)},byteAt:function(){},readInt:function(o){var l,c=0;for(this.checkOffset(o),l=this.index+o-1;l>=this.index;l--)c=(c<<8)+this.byteAt(l);return this.index+=o,c},readString:function(o){return s.transformTo("string",this.readData(o))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var o=this.readInt(4);return new Date(Date.UTC(1980+(o>>25&127),(o>>21&15)-1,o>>16&31,o>>11&31,o>>5&63,(31&o)<<1))}},n.exports=a},{"../utils":32}],19:[function(r,n,i){var s=r("./Uint8ArrayReader");function a(o){s.call(this,o)}r("../utils").inherits(a,s),a.prototype.readData=function(o){this.checkOffset(o);var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},n.exports=a},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(r,n,i){var s=r("./DataReader");function a(o){s.call(this,o)}r("../utils").inherits(a,s),a.prototype.byteAt=function(o){return this.data.charCodeAt(this.zero+o)},a.prototype.lastIndexOfSignature=function(o){return this.data.lastIndexOf(o)-this.zero},a.prototype.readAndCheckSignature=function(o){return o===this.readData(4)},a.prototype.readData=function(o){this.checkOffset(o);var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},n.exports=a},{"../utils":32,"./DataReader":18}],21:[function(r,n,i){var s=r("./ArrayReader");function a(o){s.call(this,o)}r("../utils").inherits(a,s),a.prototype.readData=function(o){if(this.checkOffset(o),o===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},n.exports=a},{"../utils":32,"./ArrayReader":17}],22:[function(r,n,i){var s=r("../utils"),a=r("../support"),o=r("./ArrayReader"),l=r("./StringReader"),c=r("./NodeBufferReader"),f=r("./Uint8ArrayReader");n.exports=function(h){var m=s.getTypeOf(h);return s.checkSupport(m),m!=="string"||a.uint8array?m==="nodebuffer"?new c(h):a.uint8array?new f(s.transformTo("uint8array",h)):new o(s.transformTo("array",h)):new l(h)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(r,n,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(r,n,i){var s=r("./GenericWorker"),a=r("../utils");function o(l){s.call(this,"ConvertWorker to "+l),this.destType=l}a.inherits(o,s),o.prototype.processChunk=function(l){this.push({data:a.transformTo(this.destType,l.data),meta:l.meta})},n.exports=o},{"../utils":32,"./GenericWorker":28}],25:[function(r,n,i){var s=r("./GenericWorker"),a=r("../crc32");function o(){s.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}r("../utils").inherits(o,s),o.prototype.processChunk=function(l){this.streamInfo.crc32=a(l.data,this.streamInfo.crc32||0),this.push(l)},n.exports=o},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(r,n,i){var s=r("../utils"),a=r("./GenericWorker");function o(l){a.call(this,"DataLengthProbe for "+l),this.propName=l,this.withStreamInfo(l,0)}s.inherits(o,a),o.prototype.processChunk=function(l){if(l){var c=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=c+l.data.length}a.prototype.processChunk.call(this,l)},n.exports=o},{"../utils":32,"./GenericWorker":28}],27:[function(r,n,i){var s=r("../utils"),a=r("./GenericWorker");function o(l){a.call(this,"DataWorker");var c=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(f){c.dataIsReady=!0,c.data=f,c.max=f&&f.length||0,c.type=s.getTypeOf(f),c.isPaused||c._tickAndRepeat()},function(f){c.error(f)})}s.inherits(o,a),o.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this.data=null},o.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,s.delay(this._tickAndRepeat,[],this)),!0)},o.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(s.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},o.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=null,c=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":l=this.data.substring(this.index,c);break;case"uint8array":l=this.data.subarray(this.index,c);break;case"array":case"nodebuffer":l=this.data.slice(this.index,c)}return this.index=c,this.push({data:l,meta:{percent:this.max?this.index/this.max*100:0}})},n.exports=o},{"../utils":32,"./GenericWorker":28}],28:[function(r,n,i){function s(a){this.name=a||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}s.prototype={push:function(a){this.emit("data",a)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(a){this.emit("error",a)}return!0},error:function(a){return!this.isFinished&&(this.isPaused?this.generatedError=a:(this.isFinished=!0,this.emit("error",a),this.previous&&this.previous.error(a),this.cleanUp()),!0)},on:function(a,o){return this._listeners[a].push(o),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(a,o){if(this._listeners[a])for(var l=0;l<this._listeners[a].length;l++)this._listeners[a][l].call(this,o)},pipe:function(a){return a.registerPrevious(this)},registerPrevious:function(a){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=a.streamInfo,this.mergeStreamInfo(),this.previous=a;var o=this;return a.on("data",function(l){o.processChunk(l)}),a.on("end",function(){o.end()}),a.on("error",function(l){o.error(l)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var a=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),a=!0),this.previous&&this.previous.resume(),!a},flush:function(){},processChunk:function(a){this.push(a)},withStreamInfo:function(a,o){return this.extraStreamInfo[a]=o,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var a in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,a)&&(this.streamInfo[a]=this.extraStreamInfo[a])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var a="Worker "+this.name;return this.previous?this.previous+" -> "+a:a}},n.exports=s},{}],29:[function(r,n,i){var s=r("../utils"),a=r("./ConvertWorker"),o=r("./GenericWorker"),l=r("../base64"),c=r("../support"),f=r("../external"),h=null;if(c.nodestream)try{h=r("../nodejs/NodejsStreamOutputAdapter")}catch{}function m(g,v){return new f.Promise(function(b,w){var B=[],S=g._internalType,C=g._outputType,k=g._mimeType;g.on("data",function(M,D){B.push(M),v&&v(D)}).on("error",function(M){B=[],w(M)}).on("end",function(){try{var M=(function(D,H,F){switch(D){case"blob":return s.newBlob(s.transformTo("arraybuffer",H),F);case"base64":return l.encode(H);default:return s.transformTo(D,H)}})(C,(function(D,H){var F,$=0,q=null,R=0;for(F=0;F<H.length;F++)R+=H[F].length;switch(D){case"string":return H.join("");case"array":return Array.prototype.concat.apply([],H);case"uint8array":for(q=new Uint8Array(R),F=0;F<H.length;F++)q.set(H[F],$),$+=H[F].length;return q;case"nodebuffer":return Buffer.concat(H);default:throw new Error("concat : unsupported type '"+D+"'")}})(S,B),k);b(M)}catch(D){w(D)}B=[]}).resume()})}function d(g,v,b){var w=v;switch(v){case"blob":case"arraybuffer":w="uint8array";break;case"base64":w="string"}try{this._internalType=w,this._outputType=v,this._mimeType=b,s.checkSupport(w),this._worker=g.pipe(new a(w)),g.lock()}catch(B){this._worker=new o("error"),this._worker.error(B)}}d.prototype={accumulate:function(g){return m(this,g)},on:function(g,v){var b=this;return g==="data"?this._worker.on(g,function(w){v.call(b,w.data,w.meta)}):this._worker.on(g,function(){s.delay(v,arguments,b)}),this},resume:function(){return s.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(g){if(s.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new h(this,{objectMode:this._outputType!=="nodebuffer"},g)}},n.exports=d},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(r,n,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var s=new ArrayBuffer(0);try{i.blob=new Blob([s],{type:"application/zip"}).size===0}catch{try{var a=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);a.append(s),i.blob=a.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!r("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(r,n,i){for(var s=r("./utils"),a=r("./support"),o=r("./nodejsUtils"),l=r("./stream/GenericWorker"),c=new Array(256),f=0;f<256;f++)c[f]=252<=f?6:248<=f?5:240<=f?4:224<=f?3:192<=f?2:1;c[254]=c[254]=1;function h(){l.call(this,"utf-8 decode"),this.leftOver=null}function m(){l.call(this,"utf-8 encode")}i.utf8encode=function(d){return a.nodebuffer?o.newBufferFrom(d,"utf-8"):(function(g){var v,b,w,B,S,C=g.length,k=0;for(B=0;B<C;B++)(64512&(b=g.charCodeAt(B)))==55296&&B+1<C&&(64512&(w=g.charCodeAt(B+1)))==56320&&(b=65536+(b-55296<<10)+(w-56320),B++),k+=b<128?1:b<2048?2:b<65536?3:4;for(v=a.uint8array?new Uint8Array(k):new Array(k),B=S=0;S<k;B++)(64512&(b=g.charCodeAt(B)))==55296&&B+1<C&&(64512&(w=g.charCodeAt(B+1)))==56320&&(b=65536+(b-55296<<10)+(w-56320),B++),b<128?v[S++]=b:(b<2048?v[S++]=192|b>>>6:(b<65536?v[S++]=224|b>>>12:(v[S++]=240|b>>>18,v[S++]=128|b>>>12&63),v[S++]=128|b>>>6&63),v[S++]=128|63&b);return v})(d)},i.utf8decode=function(d){return a.nodebuffer?s.transformTo("nodebuffer",d).toString("utf-8"):(function(g){var v,b,w,B,S=g.length,C=new Array(2*S);for(v=b=0;v<S;)if((w=g[v++])<128)C[b++]=w;else if(4<(B=c[w]))C[b++]=65533,v+=B-1;else{for(w&=B===2?31:B===3?15:7;1<B&&v<S;)w=w<<6|63&g[v++],B--;1<B?C[b++]=65533:w<65536?C[b++]=w:(w-=65536,C[b++]=55296|w>>10&1023,C[b++]=56320|1023&w)}return C.length!==b&&(C.subarray?C=C.subarray(0,b):C.length=b),s.applyFromCharCode(C)})(d=s.transformTo(a.uint8array?"uint8array":"array",d))},s.inherits(h,l),h.prototype.processChunk=function(d){var g=s.transformTo(a.uint8array?"uint8array":"array",d.data);if(this.leftOver&&this.leftOver.length){if(a.uint8array){var v=g;(g=new Uint8Array(v.length+this.leftOver.length)).set(this.leftOver,0),g.set(v,this.leftOver.length)}else g=this.leftOver.concat(g);this.leftOver=null}var b=(function(B,S){var C;for((S=S||B.length)>B.length&&(S=B.length),C=S-1;0<=C&&(192&B[C])==128;)C--;return C<0||C===0?S:C+c[B[C]]>S?C:S})(g),w=g;b!==g.length&&(a.uint8array?(w=g.subarray(0,b),this.leftOver=g.subarray(b,g.length)):(w=g.slice(0,b),this.leftOver=g.slice(b,g.length))),this.push({data:i.utf8decode(w),meta:d.meta})},h.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=h,s.inherits(m,l),m.prototype.processChunk=function(d){this.push({data:i.utf8encode(d.data),meta:d.meta})},i.Utf8EncodeWorker=m},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(r,n,i){var s=r("./support"),a=r("./base64"),o=r("./nodejsUtils"),l=r("./external");function c(v){return v}function f(v,b){for(var w=0;w<v.length;++w)b[w]=255&v.charCodeAt(w);return b}r("setimmediate"),i.newBlob=function(v,b){i.checkSupport("blob");try{return new Blob([v],{type:b})}catch{try{var w=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return w.append(v),w.getBlob(b)}catch{throw new Error("Bug : can't construct the Blob.")}}};var h={stringifyByChunk:function(v,b,w){var B=[],S=0,C=v.length;if(C<=w)return String.fromCharCode.apply(null,v);for(;S<C;)b==="array"||b==="nodebuffer"?B.push(String.fromCharCode.apply(null,v.slice(S,Math.min(S+w,C)))):B.push(String.fromCharCode.apply(null,v.subarray(S,Math.min(S+w,C)))),S+=w;return B.join("")},stringifyByChar:function(v){for(var b="",w=0;w<v.length;w++)b+=String.fromCharCode(v[w]);return b},applyCanBeUsed:{uint8array:(function(){try{return s.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return s.nodebuffer&&String.fromCharCode.apply(null,o.allocBuffer(1)).length===1}catch{return!1}})()}};function m(v){var b=65536,w=i.getTypeOf(v),B=!0;if(w==="uint8array"?B=h.applyCanBeUsed.uint8array:w==="nodebuffer"&&(B=h.applyCanBeUsed.nodebuffer),B)for(;1<b;)try{return h.stringifyByChunk(v,w,b)}catch{b=Math.floor(b/2)}return h.stringifyByChar(v)}function d(v,b){for(var w=0;w<v.length;w++)b[w]=v[w];return b}i.applyFromCharCode=m;var g={};g.string={string:c,array:function(v){return f(v,new Array(v.length))},arraybuffer:function(v){return g.string.uint8array(v).buffer},uint8array:function(v){return f(v,new Uint8Array(v.length))},nodebuffer:function(v){return f(v,o.allocBuffer(v.length))}},g.array={string:m,array:c,arraybuffer:function(v){return new Uint8Array(v).buffer},uint8array:function(v){return new Uint8Array(v)},nodebuffer:function(v){return o.newBufferFrom(v)}},g.arraybuffer={string:function(v){return m(new Uint8Array(v))},array:function(v){return d(new Uint8Array(v),new Array(v.byteLength))},arraybuffer:c,uint8array:function(v){return new Uint8Array(v)},nodebuffer:function(v){return o.newBufferFrom(new Uint8Array(v))}},g.uint8array={string:m,array:function(v){return d(v,new Array(v.length))},arraybuffer:function(v){return v.buffer},uint8array:c,nodebuffer:function(v){return o.newBufferFrom(v)}},g.nodebuffer={string:m,array:function(v){return d(v,new Array(v.length))},arraybuffer:function(v){return g.nodebuffer.uint8array(v).buffer},uint8array:function(v){return d(v,new Uint8Array(v.length))},nodebuffer:c},i.transformTo=function(v,b){if(b=b||"",!v)return b;i.checkSupport(v);var w=i.getTypeOf(b);return g[w][v](b)},i.resolve=function(v){for(var b=v.split("/"),w=[],B=0;B<b.length;B++){var S=b[B];S==="."||S===""&&B!==0&&B!==b.length-1||(S===".."?w.pop():w.push(S))}return w.join("/")},i.getTypeOf=function(v){return typeof v=="string"?"string":Object.prototype.toString.call(v)==="[object Array]"?"array":s.nodebuffer&&o.isBuffer(v)?"nodebuffer":s.uint8array&&v instanceof Uint8Array?"uint8array":s.arraybuffer&&v instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(v){if(!s[v.toLowerCase()])throw new Error(v+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(v){var b,w,B="";for(w=0;w<(v||"").length;w++)B+="\\x"+((b=v.charCodeAt(w))<16?"0":"")+b.toString(16).toUpperCase();return B},i.delay=function(v,b,w){setImmediate(function(){v.apply(w||null,b||[])})},i.inherits=function(v,b){function w(){}w.prototype=b.prototype,v.prototype=new w},i.extend=function(){var v,b,w={};for(v=0;v<arguments.length;v++)for(b in arguments[v])Object.prototype.hasOwnProperty.call(arguments[v],b)&&w[b]===void 0&&(w[b]=arguments[v][b]);return w},i.prepareContent=function(v,b,w,B,S){return l.Promise.resolve(b).then(function(C){return s.blob&&(C instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(C))!==-1)&&typeof FileReader<"u"?new l.Promise(function(k,M){var D=new FileReader;D.onload=function(H){k(H.target.result)},D.onerror=function(H){M(H.target.error)},D.readAsArrayBuffer(C)}):C}).then(function(C){var k=i.getTypeOf(C);return k?(k==="arraybuffer"?C=i.transformTo("uint8array",C):k==="string"&&(S?C=a.decode(C):w&&B!==!0&&(C=(function(M){return f(M,s.uint8array?new Uint8Array(M.length):new Array(M.length))})(C))),C):l.Promise.reject(new Error("Can't read the data of '"+v+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(r,n,i){var s=r("./reader/readerFor"),a=r("./utils"),o=r("./signature"),l=r("./zipEntry"),c=r("./support");function f(h){this.files=[],this.loadOptions=h}f.prototype={checkSignature:function(h){if(!this.reader.readAndCheckSignature(h)){this.reader.index-=4;var m=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+a.pretty(m)+", expected "+a.pretty(h)+")")}},isSignature:function(h,m){var d=this.reader.index;this.reader.setIndex(h);var g=this.reader.readString(4)===m;return this.reader.setIndex(d),g},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var h=this.reader.readData(this.zipCommentLength),m=c.uint8array?"uint8array":"array",d=a.transformTo(m,h);this.zipComment=this.loadOptions.decodeFileName(d)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var h,m,d,g=this.zip64EndOfCentralSize-44;0<g;)h=this.reader.readInt(2),m=this.reader.readInt(4),d=this.reader.readData(m),this.zip64ExtensibleData[h]={id:h,length:m,value:d}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var h,m;for(h=0;h<this.files.length;h++)m=this.files[h],this.reader.setIndex(m.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),m.readLocalPart(this.reader),m.handleUTF8(),m.processAttributes()},readCentralDir:function(){var h;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)(h=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(h);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var h=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(h<0)throw this.isSignature(0,o.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(h);var m=h;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===a.MAX_VALUE_16BITS||this.diskWithCentralDirStart===a.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===a.MAX_VALUE_16BITS||this.centralDirRecords===a.MAX_VALUE_16BITS||this.centralDirSize===a.MAX_VALUE_32BITS||this.centralDirOffset===a.MAX_VALUE_32BITS){if(this.zip64=!0,(h=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(h),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var d=this.centralDirOffset+this.centralDirSize;this.zip64&&(d+=20,d+=12+this.zip64EndOfCentralSize);var g=m-d;if(0<g)this.isSignature(m,o.CENTRAL_FILE_HEADER)||(this.reader.zero=g);else if(g<0)throw new Error("Corrupted zip: missing "+Math.abs(g)+" bytes.")},prepareReader:function(h){this.reader=s(h)},load:function(h){this.prepareReader(h),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},n.exports=f},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(r,n,i){var s=r("./reader/readerFor"),a=r("./utils"),o=r("./compressedObject"),l=r("./crc32"),c=r("./utf8"),f=r("./compressions"),h=r("./support");function m(d,g){this.options=d,this.loadOptions=g}m.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(d){var g,v;if(d.skip(22),this.fileNameLength=d.readInt(2),v=d.readInt(2),this.fileName=d.readData(this.fileNameLength),d.skip(v),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((g=(function(b){for(var w in f)if(Object.prototype.hasOwnProperty.call(f,w)&&f[w].magic===b)return f[w];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+a.pretty(this.compressionMethod)+" unknown (inner file : "+a.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,g,d.readData(this.compressedSize))},readCentralPart:function(d){this.versionMadeBy=d.readInt(2),d.skip(2),this.bitFlag=d.readInt(2),this.compressionMethod=d.readString(2),this.date=d.readDate(),this.crc32=d.readInt(4),this.compressedSize=d.readInt(4),this.uncompressedSize=d.readInt(4);var g=d.readInt(2);if(this.extraFieldsLength=d.readInt(2),this.fileCommentLength=d.readInt(2),this.diskNumberStart=d.readInt(2),this.internalFileAttributes=d.readInt(2),this.externalFileAttributes=d.readInt(4),this.localHeaderOffset=d.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");d.skip(g),this.readExtraFields(d),this.parseZIP64ExtraField(d),this.fileComment=d.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var d=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),d==0&&(this.dosPermissions=63&this.externalFileAttributes),d==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var d=s(this.extraFields[1].value);this.uncompressedSize===a.MAX_VALUE_32BITS&&(this.uncompressedSize=d.readInt(8)),this.compressedSize===a.MAX_VALUE_32BITS&&(this.compressedSize=d.readInt(8)),this.localHeaderOffset===a.MAX_VALUE_32BITS&&(this.localHeaderOffset=d.readInt(8)),this.diskNumberStart===a.MAX_VALUE_32BITS&&(this.diskNumberStart=d.readInt(4))}},readExtraFields:function(d){var g,v,b,w=d.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});d.index+4<w;)g=d.readInt(2),v=d.readInt(2),b=d.readData(v),this.extraFields[g]={id:g,length:v,value:b};d.setIndex(w)},handleUTF8:function(){var d=h.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=c.utf8decode(this.fileName),this.fileCommentStr=c.utf8decode(this.fileComment);else{var g=this.findExtraFieldUnicodePath();if(g!==null)this.fileNameStr=g;else{var v=a.transformTo(d,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(v)}var b=this.findExtraFieldUnicodeComment();if(b!==null)this.fileCommentStr=b;else{var w=a.transformTo(d,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(w)}}},findExtraFieldUnicodePath:function(){var d=this.extraFields[28789];if(d){var g=s(d.value);return g.readInt(1)!==1||l(this.fileName)!==g.readInt(4)?null:c.utf8decode(g.readData(d.length-5))}return null},findExtraFieldUnicodeComment:function(){var d=this.extraFields[25461];if(d){var g=s(d.value);return g.readInt(1)!==1||l(this.fileComment)!==g.readInt(4)?null:c.utf8decode(g.readData(d.length-5))}return null}},n.exports=m},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(r,n,i){function s(g,v,b){this.name=g,this.dir=b.dir,this.date=b.date,this.comment=b.comment,this.unixPermissions=b.unixPermissions,this.dosPermissions=b.dosPermissions,this._data=v,this._dataBinary=b.binary,this.options={compression:b.compression,compressionOptions:b.compressionOptions}}var a=r("./stream/StreamHelper"),o=r("./stream/DataWorker"),l=r("./utf8"),c=r("./compressedObject"),f=r("./stream/GenericWorker");s.prototype={internalStream:function(g){var v=null,b="string";try{if(!g)throw new Error("No output type specified.");var w=(b=g.toLowerCase())==="string"||b==="text";b!=="binarystring"&&b!=="text"||(b="string"),v=this._decompressWorker();var B=!this._dataBinary;B&&!w&&(v=v.pipe(new l.Utf8EncodeWorker)),!B&&w&&(v=v.pipe(new l.Utf8DecodeWorker))}catch(S){(v=new f("error")).error(S)}return new a(v,b,"")},async:function(g,v){return this.internalStream(g).accumulate(v)},nodeStream:function(g,v){return this.internalStream(g||"nodebuffer").toNodejsStream(v)},_compressWorker:function(g,v){if(this._data instanceof c&&this._data.compression.magic===g.magic)return this._data.getCompressedWorker();var b=this._decompressWorker();return this._dataBinary||(b=b.pipe(new l.Utf8EncodeWorker)),c.createWorkerFrom(b,g,v)},_decompressWorker:function(){return this._data instanceof c?this._data.getContentWorker():this._data instanceof f?this._data:new o(this._data)}};for(var h=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],m=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},d=0;d<h.length;d++)s.prototype[h[d]]=m;n.exports=s},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(r,n,i){(function(s){var a,o,l=s.MutationObserver||s.WebKitMutationObserver;if(l){var c=0,f=new l(g),h=s.document.createTextNode("");f.observe(h,{characterData:!0}),a=function(){h.data=c=++c%2}}else if(s.setImmediate||s.MessageChannel===void 0)a="document"in s&&"onreadystatechange"in s.document.createElement("script")?function(){var v=s.document.createElement("script");v.onreadystatechange=function(){g(),v.onreadystatechange=null,v.parentNode.removeChild(v),v=null},s.document.documentElement.appendChild(v)}:function(){setTimeout(g,0)};else{var m=new s.MessageChannel;m.port1.onmessage=g,a=function(){m.port2.postMessage(0)}}var d=[];function g(){var v,b;o=!0;for(var w=d.length;w;){for(b=d,d=[],v=-1;++v<w;)b[v]();w=d.length}o=!1}n.exports=function(v){d.push(v)!==1||o||a()}}).call(this,typeof Yl<"u"?Yl:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(r,n,i){var s=r("immediate");function a(){}var o={},l=["REJECTED"],c=["FULFILLED"],f=["PENDING"];function h(w){if(typeof w!="function")throw new TypeError("resolver must be a function");this.state=f,this.queue=[],this.outcome=void 0,w!==a&&v(this,w)}function m(w,B,S){this.promise=w,typeof B=="function"&&(this.onFulfilled=B,this.callFulfilled=this.otherCallFulfilled),typeof S=="function"&&(this.onRejected=S,this.callRejected=this.otherCallRejected)}function d(w,B,S){s(function(){var C;try{C=B(S)}catch(k){return o.reject(w,k)}C===w?o.reject(w,new TypeError("Cannot resolve promise with itself")):o.resolve(w,C)})}function g(w){var B=w&&w.then;if(w&&(typeof w=="object"||typeof w=="function")&&typeof B=="function")return function(){B.apply(w,arguments)}}function v(w,B){var S=!1;function C(D){S||(S=!0,o.reject(w,D))}function k(D){S||(S=!0,o.resolve(w,D))}var M=b(function(){B(k,C)});M.status==="error"&&C(M.value)}function b(w,B){var S={};try{S.value=w(B),S.status="success"}catch(C){S.status="error",S.value=C}return S}(n.exports=h).prototype.finally=function(w){if(typeof w!="function")return this;var B=this.constructor;return this.then(function(S){return B.resolve(w()).then(function(){return S})},function(S){return B.resolve(w()).then(function(){throw S})})},h.prototype.catch=function(w){return this.then(null,w)},h.prototype.then=function(w,B){if(typeof w!="function"&&this.state===c||typeof B!="function"&&this.state===l)return this;var S=new this.constructor(a);return this.state!==f?d(S,this.state===c?w:B,this.outcome):this.queue.push(new m(S,w,B)),S},m.prototype.callFulfilled=function(w){o.resolve(this.promise,w)},m.prototype.otherCallFulfilled=function(w){d(this.promise,this.onFulfilled,w)},m.prototype.callRejected=function(w){o.reject(this.promise,w)},m.prototype.otherCallRejected=function(w){d(this.promise,this.onRejected,w)},o.resolve=function(w,B){var S=b(g,B);if(S.status==="error")return o.reject(w,S.value);var C=S.value;if(C)v(w,C);else{w.state=c,w.outcome=B;for(var k=-1,M=w.queue.length;++k<M;)w.queue[k].callFulfilled(B)}return w},o.reject=function(w,B){w.state=l,w.outcome=B;for(var S=-1,C=w.queue.length;++S<C;)w.queue[S].callRejected(B);return w},h.resolve=function(w){return w instanceof this?w:o.resolve(new this(a),w)},h.reject=function(w){var B=new this(a);return o.reject(B,w)},h.all=function(w){var B=this;if(Object.prototype.toString.call(w)!=="[object Array]")return this.reject(new TypeError("must be an array"));var S=w.length,C=!1;if(!S)return this.resolve([]);for(var k=new Array(S),M=0,D=-1,H=new this(a);++D<S;)F(w[D],D);return H;function F($,q){B.resolve($).then(function(R){k[q]=R,++M!==S||C||(C=!0,o.resolve(H,k))},function(R){C||(C=!0,o.reject(H,R))})}},h.race=function(w){var B=this;if(Object.prototype.toString.call(w)!=="[object Array]")return this.reject(new TypeError("must be an array"));var S=w.length,C=!1;if(!S)return this.resolve([]);for(var k=-1,M=new this(a);++k<S;)D=w[k],B.resolve(D).then(function(H){C||(C=!0,o.resolve(M,H))},function(H){C||(C=!0,o.reject(M,H))});var D;return M}},{immediate:36}],38:[function(r,n,i){var s={};(0,r("./lib/utils/common").assign)(s,r("./lib/deflate"),r("./lib/inflate"),r("./lib/zlib/constants")),n.exports=s},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(r,n,i){var s=r("./zlib/deflate"),a=r("./utils/common"),o=r("./utils/strings"),l=r("./zlib/messages"),c=r("./zlib/zstream"),f=Object.prototype.toString,h=0,m=-1,d=0,g=8;function v(w){if(!(this instanceof v))return new v(w);this.options=a.assign({level:m,method:g,chunkSize:16384,windowBits:15,memLevel:8,strategy:d,to:""},w||{});var B=this.options;B.raw&&0<B.windowBits?B.windowBits=-B.windowBits:B.gzip&&0<B.windowBits&&B.windowBits<16&&(B.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var S=s.deflateInit2(this.strm,B.level,B.method,B.windowBits,B.memLevel,B.strategy);if(S!==h)throw new Error(l[S]);if(B.header&&s.deflateSetHeader(this.strm,B.header),B.dictionary){var C;if(C=typeof B.dictionary=="string"?o.string2buf(B.dictionary):f.call(B.dictionary)==="[object ArrayBuffer]"?new Uint8Array(B.dictionary):B.dictionary,(S=s.deflateSetDictionary(this.strm,C))!==h)throw new Error(l[S]);this._dict_set=!0}}function b(w,B){var S=new v(B);if(S.push(w,!0),S.err)throw S.msg||l[S.err];return S.result}v.prototype.push=function(w,B){var S,C,k=this.strm,M=this.options.chunkSize;if(this.ended)return!1;C=B===~~B?B:B===!0?4:0,typeof w=="string"?k.input=o.string2buf(w):f.call(w)==="[object ArrayBuffer]"?k.input=new Uint8Array(w):k.input=w,k.next_in=0,k.avail_in=k.input.length;do{if(k.avail_out===0&&(k.output=new a.Buf8(M),k.next_out=0,k.avail_out=M),(S=s.deflate(k,C))!==1&&S!==h)return this.onEnd(S),!(this.ended=!0);k.avail_out!==0&&(k.avail_in!==0||C!==4&&C!==2)||(this.options.to==="string"?this.onData(o.buf2binstring(a.shrinkBuf(k.output,k.next_out))):this.onData(a.shrinkBuf(k.output,k.next_out)))}while((0<k.avail_in||k.avail_out===0)&&S!==1);return C===4?(S=s.deflateEnd(this.strm),this.onEnd(S),this.ended=!0,S===h):C!==2||(this.onEnd(h),!(k.avail_out=0))},v.prototype.onData=function(w){this.chunks.push(w)},v.prototype.onEnd=function(w){w===h&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=w,this.msg=this.strm.msg},i.Deflate=v,i.deflate=b,i.deflateRaw=function(w,B){return(B=B||{}).raw=!0,b(w,B)},i.gzip=function(w,B){return(B=B||{}).gzip=!0,b(w,B)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(r,n,i){var s=r("./zlib/inflate"),a=r("./utils/common"),o=r("./utils/strings"),l=r("./zlib/constants"),c=r("./zlib/messages"),f=r("./zlib/zstream"),h=r("./zlib/gzheader"),m=Object.prototype.toString;function d(v){if(!(this instanceof d))return new d(v);this.options=a.assign({chunkSize:16384,windowBits:0,to:""},v||{});var b=this.options;b.raw&&0<=b.windowBits&&b.windowBits<16&&(b.windowBits=-b.windowBits,b.windowBits===0&&(b.windowBits=-15)),!(0<=b.windowBits&&b.windowBits<16)||v&&v.windowBits||(b.windowBits+=32),15<b.windowBits&&b.windowBits<48&&(15&b.windowBits)==0&&(b.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new f,this.strm.avail_out=0;var w=s.inflateInit2(this.strm,b.windowBits);if(w!==l.Z_OK)throw new Error(c[w]);this.header=new h,s.inflateGetHeader(this.strm,this.header)}function g(v,b){var w=new d(b);if(w.push(v,!0),w.err)throw w.msg||c[w.err];return w.result}d.prototype.push=function(v,b){var w,B,S,C,k,M,D=this.strm,H=this.options.chunkSize,F=this.options.dictionary,$=!1;if(this.ended)return!1;B=b===~~b?b:b===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof v=="string"?D.input=o.binstring2buf(v):m.call(v)==="[object ArrayBuffer]"?D.input=new Uint8Array(v):D.input=v,D.next_in=0,D.avail_in=D.input.length;do{if(D.avail_out===0&&(D.output=new a.Buf8(H),D.next_out=0,D.avail_out=H),(w=s.inflate(D,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&F&&(M=typeof F=="string"?o.string2buf(F):m.call(F)==="[object ArrayBuffer]"?new Uint8Array(F):F,w=s.inflateSetDictionary(this.strm,M)),w===l.Z_BUF_ERROR&&$===!0&&(w=l.Z_OK,$=!1),w!==l.Z_STREAM_END&&w!==l.Z_OK)return this.onEnd(w),!(this.ended=!0);D.next_out&&(D.avail_out!==0&&w!==l.Z_STREAM_END&&(D.avail_in!==0||B!==l.Z_FINISH&&B!==l.Z_SYNC_FLUSH)||(this.options.to==="string"?(S=o.utf8border(D.output,D.next_out),C=D.next_out-S,k=o.buf2string(D.output,S),D.next_out=C,D.avail_out=H-C,C&&a.arraySet(D.output,D.output,S,C,0),this.onData(k)):this.onData(a.shrinkBuf(D.output,D.next_out)))),D.avail_in===0&&D.avail_out===0&&($=!0)}while((0<D.avail_in||D.avail_out===0)&&w!==l.Z_STREAM_END);return w===l.Z_STREAM_END&&(B=l.Z_FINISH),B===l.Z_FINISH?(w=s.inflateEnd(this.strm),this.onEnd(w),this.ended=!0,w===l.Z_OK):B!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),!(D.avail_out=0))},d.prototype.onData=function(v){this.chunks.push(v)},d.prototype.onEnd=function(v){v===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=v,this.msg=this.strm.msg},i.Inflate=d,i.inflate=g,i.inflateRaw=function(v,b){return(b=b||{}).raw=!0,g(v,b)},i.ungzip=g},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(r,n,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(l){for(var c=Array.prototype.slice.call(arguments,1);c.length;){var f=c.shift();if(f){if(typeof f!="object")throw new TypeError(f+"must be non-object");for(var h in f)f.hasOwnProperty(h)&&(l[h]=f[h])}}return l},i.shrinkBuf=function(l,c){return l.length===c?l:l.subarray?l.subarray(0,c):(l.length=c,l)};var a={arraySet:function(l,c,f,h,m){if(c.subarray&&l.subarray)l.set(c.subarray(f,f+h),m);else for(var d=0;d<h;d++)l[m+d]=c[f+d]},flattenChunks:function(l){var c,f,h,m,d,g;for(c=h=0,f=l.length;c<f;c++)h+=l[c].length;for(g=new Uint8Array(h),c=m=0,f=l.length;c<f;c++)d=l[c],g.set(d,m),m+=d.length;return g}},o={arraySet:function(l,c,f,h,m){for(var d=0;d<h;d++)l[m+d]=c[f+d]},flattenChunks:function(l){return[].concat.apply([],l)}};i.setTyped=function(l){l?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,a)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,o))},i.setTyped(s)},{}],42:[function(r,n,i){var s=r("./common"),a=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch{a=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{o=!1}for(var l=new s.Buf8(256),c=0;c<256;c++)l[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;function f(h,m){if(m<65537&&(h.subarray&&o||!h.subarray&&a))return String.fromCharCode.apply(null,s.shrinkBuf(h,m));for(var d="",g=0;g<m;g++)d+=String.fromCharCode(h[g]);return d}l[254]=l[254]=1,i.string2buf=function(h){var m,d,g,v,b,w=h.length,B=0;for(v=0;v<w;v++)(64512&(d=h.charCodeAt(v)))==55296&&v+1<w&&(64512&(g=h.charCodeAt(v+1)))==56320&&(d=65536+(d-55296<<10)+(g-56320),v++),B+=d<128?1:d<2048?2:d<65536?3:4;for(m=new s.Buf8(B),v=b=0;b<B;v++)(64512&(d=h.charCodeAt(v)))==55296&&v+1<w&&(64512&(g=h.charCodeAt(v+1)))==56320&&(d=65536+(d-55296<<10)+(g-56320),v++),d<128?m[b++]=d:(d<2048?m[b++]=192|d>>>6:(d<65536?m[b++]=224|d>>>12:(m[b++]=240|d>>>18,m[b++]=128|d>>>12&63),m[b++]=128|d>>>6&63),m[b++]=128|63&d);return m},i.buf2binstring=function(h){return f(h,h.length)},i.binstring2buf=function(h){for(var m=new s.Buf8(h.length),d=0,g=m.length;d<g;d++)m[d]=h.charCodeAt(d);return m},i.buf2string=function(h,m){var d,g,v,b,w=m||h.length,B=new Array(2*w);for(d=g=0;d<w;)if((v=h[d++])<128)B[g++]=v;else if(4<(b=l[v]))B[g++]=65533,d+=b-1;else{for(v&=b===2?31:b===3?15:7;1<b&&d<w;)v=v<<6|63&h[d++],b--;1<b?B[g++]=65533:v<65536?B[g++]=v:(v-=65536,B[g++]=55296|v>>10&1023,B[g++]=56320|1023&v)}return f(B,g)},i.utf8border=function(h,m){var d;for((m=m||h.length)>h.length&&(m=h.length),d=m-1;0<=d&&(192&h[d])==128;)d--;return d<0||d===0?m:d+l[h[d]]>m?d:m}},{"./common":41}],43:[function(r,n,i){n.exports=function(s,a,o,l){for(var c=65535&s|0,f=s>>>16&65535|0,h=0;o!==0;){for(o-=h=2e3<o?2e3:o;f=f+(c=c+a[l++]|0)|0,--h;);c%=65521,f%=65521}return c|f<<16|0}},{}],44:[function(r,n,i){n.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(r,n,i){var s=(function(){for(var a,o=[],l=0;l<256;l++){a=l;for(var c=0;c<8;c++)a=1&a?3988292384^a>>>1:a>>>1;o[l]=a}return o})();n.exports=function(a,o,l,c){var f=s,h=c+l;a^=-1;for(var m=c;m<h;m++)a=a>>>8^f[255&(a^o[m])];return-1^a}},{}],46:[function(r,n,i){var s,a=r("../utils/common"),o=r("./trees"),l=r("./adler32"),c=r("./crc32"),f=r("./messages"),h=0,m=4,d=0,g=-2,v=-1,b=4,w=2,B=8,S=9,C=286,k=30,M=19,D=2*C+1,H=15,F=3,$=258,q=$+F+1,R=42,G=113,U=1,ae=2,re=3,Y=4;function he(V,ne){return V.msg=f[ne],ne}function de(V){return(V<<1)-(4<V?9:0)}function Ce(V){for(var ne=V.length;0<=--ne;)V[ne]=0}function X(V){var ne=V.state,W=ne.pending;W>V.avail_out&&(W=V.avail_out),W!==0&&(a.arraySet(V.output,ne.pending_buf,ne.pending_out,W,V.next_out),V.next_out+=W,ne.pending_out+=W,V.total_out+=W,V.avail_out-=W,ne.pending-=W,ne.pending===0&&(ne.pending_out=0))}function I(V,ne){o._tr_flush_block(V,0<=V.block_start?V.block_start:-1,V.strstart-V.block_start,ne),V.block_start=V.strstart,X(V.strm)}function J(V,ne){V.pending_buf[V.pending++]=ne}function te(V,ne){V.pending_buf[V.pending++]=ne>>>8&255,V.pending_buf[V.pending++]=255&ne}function Ae(V,ne){var W,L,N=V.max_chain_length,z=V.strstart,ge=V.prev_length,Be=V.nice_match,be=V.strstart>V.w_size-q?V.strstart-(V.w_size-q):0,Oe=V.window,je=V.w_mask,He=V.prev,We=V.strstart+$,at=Oe[z+ge-1],ct=Oe[z+ge];V.prev_length>=V.good_match&&(N>>=2),Be>V.lookahead&&(Be=V.lookahead);do if(Oe[(W=ne)+ge]===ct&&Oe[W+ge-1]===at&&Oe[W]===Oe[z]&&Oe[++W]===Oe[z+1]){z+=2,W++;do;while(Oe[++z]===Oe[++W]&&Oe[++z]===Oe[++W]&&Oe[++z]===Oe[++W]&&Oe[++z]===Oe[++W]&&Oe[++z]===Oe[++W]&&Oe[++z]===Oe[++W]&&Oe[++z]===Oe[++W]&&Oe[++z]===Oe[++W]&&z<We);if(L=$-(We-z),z=We-$,ge<L){if(V.match_start=ne,Be<=(ge=L))break;at=Oe[z+ge-1],ct=Oe[z+ge]}}while((ne=He[ne&je])>be&&--N!=0);return ge<=V.lookahead?ge:V.lookahead}function se(V){var ne,W,L,N,z,ge,Be,be,Oe,je,He=V.w_size;do{if(N=V.window_size-V.lookahead-V.strstart,V.strstart>=He+(He-q)){for(a.arraySet(V.window,V.window,He,He,0),V.match_start-=He,V.strstart-=He,V.block_start-=He,ne=W=V.hash_size;L=V.head[--ne],V.head[ne]=He<=L?L-He:0,--W;);for(ne=W=He;L=V.prev[--ne],V.prev[ne]=He<=L?L-He:0,--W;);N+=He}if(V.strm.avail_in===0)break;if(ge=V.strm,Be=V.window,be=V.strstart+V.lookahead,Oe=N,je=void 0,je=ge.avail_in,Oe<je&&(je=Oe),W=je===0?0:(ge.avail_in-=je,a.arraySet(Be,ge.input,ge.next_in,je,be),ge.state.wrap===1?ge.adler=l(ge.adler,Be,je,be):ge.state.wrap===2&&(ge.adler=c(ge.adler,Be,je,be)),ge.next_in+=je,ge.total_in+=je,je),V.lookahead+=W,V.lookahead+V.insert>=F)for(z=V.strstart-V.insert,V.ins_h=V.window[z],V.ins_h=(V.ins_h<<V.hash_shift^V.window[z+1])&V.hash_mask;V.insert&&(V.ins_h=(V.ins_h<<V.hash_shift^V.window[z+F-1])&V.hash_mask,V.prev[z&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=z,z++,V.insert--,!(V.lookahead+V.insert<F)););}while(V.lookahead<q&&V.strm.avail_in!==0)}function Q(V,ne){for(var W,L;;){if(V.lookahead<q){if(se(V),V.lookahead<q&&ne===h)return U;if(V.lookahead===0)break}if(W=0,V.lookahead>=F&&(V.ins_h=(V.ins_h<<V.hash_shift^V.window[V.strstart+F-1])&V.hash_mask,W=V.prev[V.strstart&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=V.strstart),W!==0&&V.strstart-W<=V.w_size-q&&(V.match_length=Ae(V,W)),V.match_length>=F)if(L=o._tr_tally(V,V.strstart-V.match_start,V.match_length-F),V.lookahead-=V.match_length,V.match_length<=V.max_lazy_match&&V.lookahead>=F){for(V.match_length--;V.strstart++,V.ins_h=(V.ins_h<<V.hash_shift^V.window[V.strstart+F-1])&V.hash_mask,W=V.prev[V.strstart&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=V.strstart,--V.match_length!=0;);V.strstart++}else V.strstart+=V.match_length,V.match_length=0,V.ins_h=V.window[V.strstart],V.ins_h=(V.ins_h<<V.hash_shift^V.window[V.strstart+1])&V.hash_mask;else L=o._tr_tally(V,0,V.window[V.strstart]),V.lookahead--,V.strstart++;if(L&&(I(V,!1),V.strm.avail_out===0))return U}return V.insert=V.strstart<F-1?V.strstart:F-1,ne===m?(I(V,!0),V.strm.avail_out===0?re:Y):V.last_lit&&(I(V,!1),V.strm.avail_out===0)?U:ae}function P(V,ne){for(var W,L,N;;){if(V.lookahead<q){if(se(V),V.lookahead<q&&ne===h)return U;if(V.lookahead===0)break}if(W=0,V.lookahead>=F&&(V.ins_h=(V.ins_h<<V.hash_shift^V.window[V.strstart+F-1])&V.hash_mask,W=V.prev[V.strstart&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=V.strstart),V.prev_length=V.match_length,V.prev_match=V.match_start,V.match_length=F-1,W!==0&&V.prev_length<V.max_lazy_match&&V.strstart-W<=V.w_size-q&&(V.match_length=Ae(V,W),V.match_length<=5&&(V.strategy===1||V.match_length===F&&4096<V.strstart-V.match_start)&&(V.match_length=F-1)),V.prev_length>=F&&V.match_length<=V.prev_length){for(N=V.strstart+V.lookahead-F,L=o._tr_tally(V,V.strstart-1-V.prev_match,V.prev_length-F),V.lookahead-=V.prev_length-1,V.prev_length-=2;++V.strstart<=N&&(V.ins_h=(V.ins_h<<V.hash_shift^V.window[V.strstart+F-1])&V.hash_mask,W=V.prev[V.strstart&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=V.strstart),--V.prev_length!=0;);if(V.match_available=0,V.match_length=F-1,V.strstart++,L&&(I(V,!1),V.strm.avail_out===0))return U}else if(V.match_available){if((L=o._tr_tally(V,0,V.window[V.strstart-1]))&&I(V,!1),V.strstart++,V.lookahead--,V.strm.avail_out===0)return U}else V.match_available=1,V.strstart++,V.lookahead--}return V.match_available&&(L=o._tr_tally(V,0,V.window[V.strstart-1]),V.match_available=0),V.insert=V.strstart<F-1?V.strstart:F-1,ne===m?(I(V,!0),V.strm.avail_out===0?re:Y):V.last_lit&&(I(V,!1),V.strm.avail_out===0)?U:ae}function le(V,ne,W,L,N){this.good_length=V,this.max_lazy=ne,this.nice_length=W,this.max_chain=L,this.func=N}function oe(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=B,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new a.Buf16(2*D),this.dyn_dtree=new a.Buf16(2*(2*k+1)),this.bl_tree=new a.Buf16(2*(2*M+1)),Ce(this.dyn_ltree),Ce(this.dyn_dtree),Ce(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new a.Buf16(H+1),this.heap=new a.Buf16(2*C+1),Ce(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new a.Buf16(2*C+1),Ce(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function ie(V){var ne;return V&&V.state?(V.total_in=V.total_out=0,V.data_type=w,(ne=V.state).pending=0,ne.pending_out=0,ne.wrap<0&&(ne.wrap=-ne.wrap),ne.status=ne.wrap?R:G,V.adler=ne.wrap===2?0:1,ne.last_flush=h,o._tr_init(ne),d):he(V,g)}function fe(V){var ne=ie(V);return ne===d&&(function(W){W.window_size=2*W.w_size,Ce(W.head),W.max_lazy_match=s[W.level].max_lazy,W.good_match=s[W.level].good_length,W.nice_match=s[W.level].nice_length,W.max_chain_length=s[W.level].max_chain,W.strstart=0,W.block_start=0,W.lookahead=0,W.insert=0,W.match_length=W.prev_length=F-1,W.match_available=0,W.ins_h=0})(V.state),ne}function Te(V,ne,W,L,N,z){if(!V)return g;var ge=1;if(ne===v&&(ne=6),L<0?(ge=0,L=-L):15<L&&(ge=2,L-=16),N<1||S<N||W!==B||L<8||15<L||ne<0||9<ne||z<0||b<z)return he(V,g);L===8&&(L=9);var Be=new oe;return(V.state=Be).strm=V,Be.wrap=ge,Be.gzhead=null,Be.w_bits=L,Be.w_size=1<<Be.w_bits,Be.w_mask=Be.w_size-1,Be.hash_bits=N+7,Be.hash_size=1<<Be.hash_bits,Be.hash_mask=Be.hash_size-1,Be.hash_shift=~~((Be.hash_bits+F-1)/F),Be.window=new a.Buf8(2*Be.w_size),Be.head=new a.Buf16(Be.hash_size),Be.prev=new a.Buf16(Be.w_size),Be.lit_bufsize=1<<N+6,Be.pending_buf_size=4*Be.lit_bufsize,Be.pending_buf=new a.Buf8(Be.pending_buf_size),Be.d_buf=1*Be.lit_bufsize,Be.l_buf=3*Be.lit_bufsize,Be.level=ne,Be.strategy=z,Be.method=W,fe(V)}s=[new le(0,0,0,0,function(V,ne){var W=65535;for(W>V.pending_buf_size-5&&(W=V.pending_buf_size-5);;){if(V.lookahead<=1){if(se(V),V.lookahead===0&&ne===h)return U;if(V.lookahead===0)break}V.strstart+=V.lookahead,V.lookahead=0;var L=V.block_start+W;if((V.strstart===0||V.strstart>=L)&&(V.lookahead=V.strstart-L,V.strstart=L,I(V,!1),V.strm.avail_out===0)||V.strstart-V.block_start>=V.w_size-q&&(I(V,!1),V.strm.avail_out===0))return U}return V.insert=0,ne===m?(I(V,!0),V.strm.avail_out===0?re:Y):(V.strstart>V.block_start&&(I(V,!1),V.strm.avail_out),U)}),new le(4,4,8,4,Q),new le(4,5,16,8,Q),new le(4,6,32,32,Q),new le(4,4,16,16,P),new le(8,16,32,32,P),new le(8,16,128,128,P),new le(8,32,128,256,P),new le(32,128,258,1024,P),new le(32,258,258,4096,P)],i.deflateInit=function(V,ne){return Te(V,ne,B,15,8,0)},i.deflateInit2=Te,i.deflateReset=fe,i.deflateResetKeep=ie,i.deflateSetHeader=function(V,ne){return V&&V.state?V.state.wrap!==2?g:(V.state.gzhead=ne,d):g},i.deflate=function(V,ne){var W,L,N,z;if(!V||!V.state||5<ne||ne<0)return V?he(V,g):g;if(L=V.state,!V.output||!V.input&&V.avail_in!==0||L.status===666&&ne!==m)return he(V,V.avail_out===0?-5:g);if(L.strm=V,W=L.last_flush,L.last_flush=ne,L.status===R)if(L.wrap===2)V.adler=0,J(L,31),J(L,139),J(L,8),L.gzhead?(J(L,(L.gzhead.text?1:0)+(L.gzhead.hcrc?2:0)+(L.gzhead.extra?4:0)+(L.gzhead.name?8:0)+(L.gzhead.comment?16:0)),J(L,255&L.gzhead.time),J(L,L.gzhead.time>>8&255),J(L,L.gzhead.time>>16&255),J(L,L.gzhead.time>>24&255),J(L,L.level===9?2:2<=L.strategy||L.level<2?4:0),J(L,255&L.gzhead.os),L.gzhead.extra&&L.gzhead.extra.length&&(J(L,255&L.gzhead.extra.length),J(L,L.gzhead.extra.length>>8&255)),L.gzhead.hcrc&&(V.adler=c(V.adler,L.pending_buf,L.pending,0)),L.gzindex=0,L.status=69):(J(L,0),J(L,0),J(L,0),J(L,0),J(L,0),J(L,L.level===9?2:2<=L.strategy||L.level<2?4:0),J(L,3),L.status=G);else{var ge=B+(L.w_bits-8<<4)<<8;ge|=(2<=L.strategy||L.level<2?0:L.level<6?1:L.level===6?2:3)<<6,L.strstart!==0&&(ge|=32),ge+=31-ge%31,L.status=G,te(L,ge),L.strstart!==0&&(te(L,V.adler>>>16),te(L,65535&V.adler)),V.adler=1}if(L.status===69)if(L.gzhead.extra){for(N=L.pending;L.gzindex<(65535&L.gzhead.extra.length)&&(L.pending!==L.pending_buf_size||(L.gzhead.hcrc&&L.pending>N&&(V.adler=c(V.adler,L.pending_buf,L.pending-N,N)),X(V),N=L.pending,L.pending!==L.pending_buf_size));)J(L,255&L.gzhead.extra[L.gzindex]),L.gzindex++;L.gzhead.hcrc&&L.pending>N&&(V.adler=c(V.adler,L.pending_buf,L.pending-N,N)),L.gzindex===L.gzhead.extra.length&&(L.gzindex=0,L.status=73)}else L.status=73;if(L.status===73)if(L.gzhead.name){N=L.pending;do{if(L.pending===L.pending_buf_size&&(L.gzhead.hcrc&&L.pending>N&&(V.adler=c(V.adler,L.pending_buf,L.pending-N,N)),X(V),N=L.pending,L.pending===L.pending_buf_size)){z=1;break}z=L.gzindex<L.gzhead.name.length?255&L.gzhead.name.charCodeAt(L.gzindex++):0,J(L,z)}while(z!==0);L.gzhead.hcrc&&L.pending>N&&(V.adler=c(V.adler,L.pending_buf,L.pending-N,N)),z===0&&(L.gzindex=0,L.status=91)}else L.status=91;if(L.status===91)if(L.gzhead.comment){N=L.pending;do{if(L.pending===L.pending_buf_size&&(L.gzhead.hcrc&&L.pending>N&&(V.adler=c(V.adler,L.pending_buf,L.pending-N,N)),X(V),N=L.pending,L.pending===L.pending_buf_size)){z=1;break}z=L.gzindex<L.gzhead.comment.length?255&L.gzhead.comment.charCodeAt(L.gzindex++):0,J(L,z)}while(z!==0);L.gzhead.hcrc&&L.pending>N&&(V.adler=c(V.adler,L.pending_buf,L.pending-N,N)),z===0&&(L.status=103)}else L.status=103;if(L.status===103&&(L.gzhead.hcrc?(L.pending+2>L.pending_buf_size&&X(V),L.pending+2<=L.pending_buf_size&&(J(L,255&V.adler),J(L,V.adler>>8&255),V.adler=0,L.status=G)):L.status=G),L.pending!==0){if(X(V),V.avail_out===0)return L.last_flush=-1,d}else if(V.avail_in===0&&de(ne)<=de(W)&&ne!==m)return he(V,-5);if(L.status===666&&V.avail_in!==0)return he(V,-5);if(V.avail_in!==0||L.lookahead!==0||ne!==h&&L.status!==666){var Be=L.strategy===2?(function(be,Oe){for(var je;;){if(be.lookahead===0&&(se(be),be.lookahead===0)){if(Oe===h)return U;break}if(be.match_length=0,je=o._tr_tally(be,0,be.window[be.strstart]),be.lookahead--,be.strstart++,je&&(I(be,!1),be.strm.avail_out===0))return U}return be.insert=0,Oe===m?(I(be,!0),be.strm.avail_out===0?re:Y):be.last_lit&&(I(be,!1),be.strm.avail_out===0)?U:ae})(L,ne):L.strategy===3?(function(be,Oe){for(var je,He,We,at,ct=be.window;;){if(be.lookahead<=$){if(se(be),be.lookahead<=$&&Oe===h)return U;if(be.lookahead===0)break}if(be.match_length=0,be.lookahead>=F&&0<be.strstart&&(He=ct[We=be.strstart-1])===ct[++We]&&He===ct[++We]&&He===ct[++We]){at=be.strstart+$;do;while(He===ct[++We]&&He===ct[++We]&&He===ct[++We]&&He===ct[++We]&&He===ct[++We]&&He===ct[++We]&&He===ct[++We]&&He===ct[++We]&&We<at);be.match_length=$-(at-We),be.match_length>be.lookahead&&(be.match_length=be.lookahead)}if(be.match_length>=F?(je=o._tr_tally(be,1,be.match_length-F),be.lookahead-=be.match_length,be.strstart+=be.match_length,be.match_length=0):(je=o._tr_tally(be,0,be.window[be.strstart]),be.lookahead--,be.strstart++),je&&(I(be,!1),be.strm.avail_out===0))return U}return be.insert=0,Oe===m?(I(be,!0),be.strm.avail_out===0?re:Y):be.last_lit&&(I(be,!1),be.strm.avail_out===0)?U:ae})(L,ne):s[L.level].func(L,ne);if(Be!==re&&Be!==Y||(L.status=666),Be===U||Be===re)return V.avail_out===0&&(L.last_flush=-1),d;if(Be===ae&&(ne===1?o._tr_align(L):ne!==5&&(o._tr_stored_block(L,0,0,!1),ne===3&&(Ce(L.head),L.lookahead===0&&(L.strstart=0,L.block_start=0,L.insert=0))),X(V),V.avail_out===0))return L.last_flush=-1,d}return ne!==m?d:L.wrap<=0?1:(L.wrap===2?(J(L,255&V.adler),J(L,V.adler>>8&255),J(L,V.adler>>16&255),J(L,V.adler>>24&255),J(L,255&V.total_in),J(L,V.total_in>>8&255),J(L,V.total_in>>16&255),J(L,V.total_in>>24&255)):(te(L,V.adler>>>16),te(L,65535&V.adler)),X(V),0<L.wrap&&(L.wrap=-L.wrap),L.pending!==0?d:1)},i.deflateEnd=function(V){var ne;return V&&V.state?(ne=V.state.status)!==R&&ne!==69&&ne!==73&&ne!==91&&ne!==103&&ne!==G&&ne!==666?he(V,g):(V.state=null,ne===G?he(V,-3):d):g},i.deflateSetDictionary=function(V,ne){var W,L,N,z,ge,Be,be,Oe,je=ne.length;if(!V||!V.state||(z=(W=V.state).wrap)===2||z===1&&W.status!==R||W.lookahead)return g;for(z===1&&(V.adler=l(V.adler,ne,je,0)),W.wrap=0,je>=W.w_size&&(z===0&&(Ce(W.head),W.strstart=0,W.block_start=0,W.insert=0),Oe=new a.Buf8(W.w_size),a.arraySet(Oe,ne,je-W.w_size,W.w_size,0),ne=Oe,je=W.w_size),ge=V.avail_in,Be=V.next_in,be=V.input,V.avail_in=je,V.next_in=0,V.input=ne,se(W);W.lookahead>=F;){for(L=W.strstart,N=W.lookahead-(F-1);W.ins_h=(W.ins_h<<W.hash_shift^W.window[L+F-1])&W.hash_mask,W.prev[L&W.w_mask]=W.head[W.ins_h],W.head[W.ins_h]=L,L++,--N;);W.strstart=L,W.lookahead=F-1,se(W)}return W.strstart+=W.lookahead,W.block_start=W.strstart,W.insert=W.lookahead,W.lookahead=0,W.match_length=W.prev_length=F-1,W.match_available=0,V.next_in=Be,V.input=be,V.avail_in=ge,W.wrap=z,d},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(r,n,i){n.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(r,n,i){n.exports=function(s,a){var o,l,c,f,h,m,d,g,v,b,w,B,S,C,k,M,D,H,F,$,q,R,G,U,ae;o=s.state,l=s.next_in,U=s.input,c=l+(s.avail_in-5),f=s.next_out,ae=s.output,h=f-(a-s.avail_out),m=f+(s.avail_out-257),d=o.dmax,g=o.wsize,v=o.whave,b=o.wnext,w=o.window,B=o.hold,S=o.bits,C=o.lencode,k=o.distcode,M=(1<<o.lenbits)-1,D=(1<<o.distbits)-1;e:do{S<15&&(B+=U[l++]<<S,S+=8,B+=U[l++]<<S,S+=8),H=C[B&M];t:for(;;){if(B>>>=F=H>>>24,S-=F,(F=H>>>16&255)===0)ae[f++]=65535&H;else{if(!(16&F)){if((64&F)==0){H=C[(65535&H)+(B&(1<<F)-1)];continue t}if(32&F){o.mode=12;break e}s.msg="invalid literal/length code",o.mode=30;break e}$=65535&H,(F&=15)&&(S<F&&(B+=U[l++]<<S,S+=8),$+=B&(1<<F)-1,B>>>=F,S-=F),S<15&&(B+=U[l++]<<S,S+=8,B+=U[l++]<<S,S+=8),H=k[B&D];r:for(;;){if(B>>>=F=H>>>24,S-=F,!(16&(F=H>>>16&255))){if((64&F)==0){H=k[(65535&H)+(B&(1<<F)-1)];continue r}s.msg="invalid distance code",o.mode=30;break e}if(q=65535&H,S<(F&=15)&&(B+=U[l++]<<S,(S+=8)<F&&(B+=U[l++]<<S,S+=8)),d<(q+=B&(1<<F)-1)){s.msg="invalid distance too far back",o.mode=30;break e}if(B>>>=F,S-=F,(F=f-h)<q){if(v<(F=q-F)&&o.sane){s.msg="invalid distance too far back",o.mode=30;break e}if(G=w,(R=0)===b){if(R+=g-F,F<$){for($-=F;ae[f++]=w[R++],--F;);R=f-q,G=ae}}else if(b<F){if(R+=g+b-F,(F-=b)<$){for($-=F;ae[f++]=w[R++],--F;);if(R=0,b<$){for($-=F=b;ae[f++]=w[R++],--F;);R=f-q,G=ae}}}else if(R+=b-F,F<$){for($-=F;ae[f++]=w[R++],--F;);R=f-q,G=ae}for(;2<$;)ae[f++]=G[R++],ae[f++]=G[R++],ae[f++]=G[R++],$-=3;$&&(ae[f++]=G[R++],1<$&&(ae[f++]=G[R++]))}else{for(R=f-q;ae[f++]=ae[R++],ae[f++]=ae[R++],ae[f++]=ae[R++],2<($-=3););$&&(ae[f++]=ae[R++],1<$&&(ae[f++]=ae[R++]))}break}}break}}while(l<c&&f<m);l-=$=S>>3,B&=(1<<(S-=$<<3))-1,s.next_in=l,s.next_out=f,s.avail_in=l<c?c-l+5:5-(l-c),s.avail_out=f<m?m-f+257:257-(f-m),o.hold=B,o.bits=S}},{}],49:[function(r,n,i){var s=r("../utils/common"),a=r("./adler32"),o=r("./crc32"),l=r("./inffast"),c=r("./inftrees"),f=1,h=2,m=0,d=-2,g=1,v=852,b=592;function w(R){return(R>>>24&255)+(R>>>8&65280)+((65280&R)<<8)+((255&R)<<24)}function B(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new s.Buf16(320),this.work=new s.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function S(R){var G;return R&&R.state?(G=R.state,R.total_in=R.total_out=G.total=0,R.msg="",G.wrap&&(R.adler=1&G.wrap),G.mode=g,G.last=0,G.havedict=0,G.dmax=32768,G.head=null,G.hold=0,G.bits=0,G.lencode=G.lendyn=new s.Buf32(v),G.distcode=G.distdyn=new s.Buf32(b),G.sane=1,G.back=-1,m):d}function C(R){var G;return R&&R.state?((G=R.state).wsize=0,G.whave=0,G.wnext=0,S(R)):d}function k(R,G){var U,ae;return R&&R.state?(ae=R.state,G<0?(U=0,G=-G):(U=1+(G>>4),G<48&&(G&=15)),G&&(G<8||15<G)?d:(ae.window!==null&&ae.wbits!==G&&(ae.window=null),ae.wrap=U,ae.wbits=G,C(R))):d}function M(R,G){var U,ae;return R?(ae=new B,(R.state=ae).window=null,(U=k(R,G))!==m&&(R.state=null),U):d}var D,H,F=!0;function $(R){if(F){var G;for(D=new s.Buf32(512),H=new s.Buf32(32),G=0;G<144;)R.lens[G++]=8;for(;G<256;)R.lens[G++]=9;for(;G<280;)R.lens[G++]=7;for(;G<288;)R.lens[G++]=8;for(c(f,R.lens,0,288,D,0,R.work,{bits:9}),G=0;G<32;)R.lens[G++]=5;c(h,R.lens,0,32,H,0,R.work,{bits:5}),F=!1}R.lencode=D,R.lenbits=9,R.distcode=H,R.distbits=5}function q(R,G,U,ae){var re,Y=R.state;return Y.window===null&&(Y.wsize=1<<Y.wbits,Y.wnext=0,Y.whave=0,Y.window=new s.Buf8(Y.wsize)),ae>=Y.wsize?(s.arraySet(Y.window,G,U-Y.wsize,Y.wsize,0),Y.wnext=0,Y.whave=Y.wsize):(ae<(re=Y.wsize-Y.wnext)&&(re=ae),s.arraySet(Y.window,G,U-ae,re,Y.wnext),(ae-=re)?(s.arraySet(Y.window,G,U-ae,ae,0),Y.wnext=ae,Y.whave=Y.wsize):(Y.wnext+=re,Y.wnext===Y.wsize&&(Y.wnext=0),Y.whave<Y.wsize&&(Y.whave+=re))),0}i.inflateReset=C,i.inflateReset2=k,i.inflateResetKeep=S,i.inflateInit=function(R){return M(R,15)},i.inflateInit2=M,i.inflate=function(R,G){var U,ae,re,Y,he,de,Ce,X,I,J,te,Ae,se,Q,P,le,oe,ie,fe,Te,V,ne,W,L,N=0,z=new s.Buf8(4),ge=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!R||!R.state||!R.output||!R.input&&R.avail_in!==0)return d;(U=R.state).mode===12&&(U.mode=13),he=R.next_out,re=R.output,Ce=R.avail_out,Y=R.next_in,ae=R.input,de=R.avail_in,X=U.hold,I=U.bits,J=de,te=Ce,ne=m;e:for(;;)switch(U.mode){case g:if(U.wrap===0){U.mode=13;break}for(;I<16;){if(de===0)break e;de--,X+=ae[Y++]<<I,I+=8}if(2&U.wrap&&X===35615){z[U.check=0]=255&X,z[1]=X>>>8&255,U.check=o(U.check,z,2,0),I=X=0,U.mode=2;break}if(U.flags=0,U.head&&(U.head.done=!1),!(1&U.wrap)||(((255&X)<<8)+(X>>8))%31){R.msg="incorrect header check",U.mode=30;break}if((15&X)!=8){R.msg="unknown compression method",U.mode=30;break}if(I-=4,V=8+(15&(X>>>=4)),U.wbits===0)U.wbits=V;else if(V>U.wbits){R.msg="invalid window size",U.mode=30;break}U.dmax=1<<V,R.adler=U.check=1,U.mode=512&X?10:12,I=X=0;break;case 2:for(;I<16;){if(de===0)break e;de--,X+=ae[Y++]<<I,I+=8}if(U.flags=X,(255&U.flags)!=8){R.msg="unknown compression method",U.mode=30;break}if(57344&U.flags){R.msg="unknown header flags set",U.mode=30;break}U.head&&(U.head.text=X>>8&1),512&U.flags&&(z[0]=255&X,z[1]=X>>>8&255,U.check=o(U.check,z,2,0)),I=X=0,U.mode=3;case 3:for(;I<32;){if(de===0)break e;de--,X+=ae[Y++]<<I,I+=8}U.head&&(U.head.time=X),512&U.flags&&(z[0]=255&X,z[1]=X>>>8&255,z[2]=X>>>16&255,z[3]=X>>>24&255,U.check=o(U.check,z,4,0)),I=X=0,U.mode=4;case 4:for(;I<16;){if(de===0)break e;de--,X+=ae[Y++]<<I,I+=8}U.head&&(U.head.xflags=255&X,U.head.os=X>>8),512&U.flags&&(z[0]=255&X,z[1]=X>>>8&255,U.check=o(U.check,z,2,0)),I=X=0,U.mode=5;case 5:if(1024&U.flags){for(;I<16;){if(de===0)break e;de--,X+=ae[Y++]<<I,I+=8}U.length=X,U.head&&(U.head.extra_len=X),512&U.flags&&(z[0]=255&X,z[1]=X>>>8&255,U.check=o(U.check,z,2,0)),I=X=0}else U.head&&(U.head.extra=null);U.mode=6;case 6:if(1024&U.flags&&(de<(Ae=U.length)&&(Ae=de),Ae&&(U.head&&(V=U.head.extra_len-U.length,U.head.extra||(U.head.extra=new Array(U.head.extra_len)),s.arraySet(U.head.extra,ae,Y,Ae,V)),512&U.flags&&(U.check=o(U.check,ae,Ae,Y)),de-=Ae,Y+=Ae,U.length-=Ae),U.length))break e;U.length=0,U.mode=7;case 7:if(2048&U.flags){if(de===0)break e;for(Ae=0;V=ae[Y+Ae++],U.head&&V&&U.length<65536&&(U.head.name+=String.fromCharCode(V)),V&&Ae<de;);if(512&U.flags&&(U.check=o(U.check,ae,Ae,Y)),de-=Ae,Y+=Ae,V)break e}else U.head&&(U.head.name=null);U.length=0,U.mode=8;case 8:if(4096&U.flags){if(de===0)break e;for(Ae=0;V=ae[Y+Ae++],U.head&&V&&U.length<65536&&(U.head.comment+=String.fromCharCode(V)),V&&Ae<de;);if(512&U.flags&&(U.check=o(U.check,ae,Ae,Y)),de-=Ae,Y+=Ae,V)break e}else U.head&&(U.head.comment=null);U.mode=9;case 9:if(512&U.flags){for(;I<16;){if(de===0)break e;de--,X+=ae[Y++]<<I,I+=8}if(X!==(65535&U.check)){R.msg="header crc mismatch",U.mode=30;break}I=X=0}U.head&&(U.head.hcrc=U.flags>>9&1,U.head.done=!0),R.adler=U.check=0,U.mode=12;break;case 10:for(;I<32;){if(de===0)break e;de--,X+=ae[Y++]<<I,I+=8}R.adler=U.check=w(X),I=X=0,U.mode=11;case 11:if(U.havedict===0)return R.next_out=he,R.avail_out=Ce,R.next_in=Y,R.avail_in=de,U.hold=X,U.bits=I,2;R.adler=U.check=1,U.mode=12;case 12:if(G===5||G===6)break e;case 13:if(U.last){X>>>=7&I,I-=7&I,U.mode=27;break}for(;I<3;){if(de===0)break e;de--,X+=ae[Y++]<<I,I+=8}switch(U.last=1&X,I-=1,3&(X>>>=1)){case 0:U.mode=14;break;case 1:if($(U),U.mode=20,G!==6)break;X>>>=2,I-=2;break e;case 2:U.mode=17;break;case 3:R.msg="invalid block type",U.mode=30}X>>>=2,I-=2;break;case 14:for(X>>>=7&I,I-=7&I;I<32;){if(de===0)break e;de--,X+=ae[Y++]<<I,I+=8}if((65535&X)!=(X>>>16^65535)){R.msg="invalid stored block lengths",U.mode=30;break}if(U.length=65535&X,I=X=0,U.mode=15,G===6)break e;case 15:U.mode=16;case 16:if(Ae=U.length){if(de<Ae&&(Ae=de),Ce<Ae&&(Ae=Ce),Ae===0)break e;s.arraySet(re,ae,Y,Ae,he),de-=Ae,Y+=Ae,Ce-=Ae,he+=Ae,U.length-=Ae;break}U.mode=12;break;case 17:for(;I<14;){if(de===0)break e;de--,X+=ae[Y++]<<I,I+=8}if(U.nlen=257+(31&X),X>>>=5,I-=5,U.ndist=1+(31&X),X>>>=5,I-=5,U.ncode=4+(15&X),X>>>=4,I-=4,286<U.nlen||30<U.ndist){R.msg="too many length or distance symbols",U.mode=30;break}U.have=0,U.mode=18;case 18:for(;U.have<U.ncode;){for(;I<3;){if(de===0)break e;de--,X+=ae[Y++]<<I,I+=8}U.lens[ge[U.have++]]=7&X,X>>>=3,I-=3}for(;U.have<19;)U.lens[ge[U.have++]]=0;if(U.lencode=U.lendyn,U.lenbits=7,W={bits:U.lenbits},ne=c(0,U.lens,0,19,U.lencode,0,U.work,W),U.lenbits=W.bits,ne){R.msg="invalid code lengths set",U.mode=30;break}U.have=0,U.mode=19;case 19:for(;U.have<U.nlen+U.ndist;){for(;le=(N=U.lencode[X&(1<<U.lenbits)-1])>>>16&255,oe=65535&N,!((P=N>>>24)<=I);){if(de===0)break e;de--,X+=ae[Y++]<<I,I+=8}if(oe<16)X>>>=P,I-=P,U.lens[U.have++]=oe;else{if(oe===16){for(L=P+2;I<L;){if(de===0)break e;de--,X+=ae[Y++]<<I,I+=8}if(X>>>=P,I-=P,U.have===0){R.msg="invalid bit length repeat",U.mode=30;break}V=U.lens[U.have-1],Ae=3+(3&X),X>>>=2,I-=2}else if(oe===17){for(L=P+3;I<L;){if(de===0)break e;de--,X+=ae[Y++]<<I,I+=8}I-=P,V=0,Ae=3+(7&(X>>>=P)),X>>>=3,I-=3}else{for(L=P+7;I<L;){if(de===0)break e;de--,X+=ae[Y++]<<I,I+=8}I-=P,V=0,Ae=11+(127&(X>>>=P)),X>>>=7,I-=7}if(U.have+Ae>U.nlen+U.ndist){R.msg="invalid bit length repeat",U.mode=30;break}for(;Ae--;)U.lens[U.have++]=V}}if(U.mode===30)break;if(U.lens[256]===0){R.msg="invalid code -- missing end-of-block",U.mode=30;break}if(U.lenbits=9,W={bits:U.lenbits},ne=c(f,U.lens,0,U.nlen,U.lencode,0,U.work,W),U.lenbits=W.bits,ne){R.msg="invalid literal/lengths set",U.mode=30;break}if(U.distbits=6,U.distcode=U.distdyn,W={bits:U.distbits},ne=c(h,U.lens,U.nlen,U.ndist,U.distcode,0,U.work,W),U.distbits=W.bits,ne){R.msg="invalid distances set",U.mode=30;break}if(U.mode=20,G===6)break e;case 20:U.mode=21;case 21:if(6<=de&&258<=Ce){R.next_out=he,R.avail_out=Ce,R.next_in=Y,R.avail_in=de,U.hold=X,U.bits=I,l(R,te),he=R.next_out,re=R.output,Ce=R.avail_out,Y=R.next_in,ae=R.input,de=R.avail_in,X=U.hold,I=U.bits,U.mode===12&&(U.back=-1);break}for(U.back=0;le=(N=U.lencode[X&(1<<U.lenbits)-1])>>>16&255,oe=65535&N,!((P=N>>>24)<=I);){if(de===0)break e;de--,X+=ae[Y++]<<I,I+=8}if(le&&(240&le)==0){for(ie=P,fe=le,Te=oe;le=(N=U.lencode[Te+((X&(1<<ie+fe)-1)>>ie)])>>>16&255,oe=65535&N,!(ie+(P=N>>>24)<=I);){if(de===0)break e;de--,X+=ae[Y++]<<I,I+=8}X>>>=ie,I-=ie,U.back+=ie}if(X>>>=P,I-=P,U.back+=P,U.length=oe,le===0){U.mode=26;break}if(32&le){U.back=-1,U.mode=12;break}if(64&le){R.msg="invalid literal/length code",U.mode=30;break}U.extra=15&le,U.mode=22;case 22:if(U.extra){for(L=U.extra;I<L;){if(de===0)break e;de--,X+=ae[Y++]<<I,I+=8}U.length+=X&(1<<U.extra)-1,X>>>=U.extra,I-=U.extra,U.back+=U.extra}U.was=U.length,U.mode=23;case 23:for(;le=(N=U.distcode[X&(1<<U.distbits)-1])>>>16&255,oe=65535&N,!((P=N>>>24)<=I);){if(de===0)break e;de--,X+=ae[Y++]<<I,I+=8}if((240&le)==0){for(ie=P,fe=le,Te=oe;le=(N=U.distcode[Te+((X&(1<<ie+fe)-1)>>ie)])>>>16&255,oe=65535&N,!(ie+(P=N>>>24)<=I);){if(de===0)break e;de--,X+=ae[Y++]<<I,I+=8}X>>>=ie,I-=ie,U.back+=ie}if(X>>>=P,I-=P,U.back+=P,64&le){R.msg="invalid distance code",U.mode=30;break}U.offset=oe,U.extra=15&le,U.mode=24;case 24:if(U.extra){for(L=U.extra;I<L;){if(de===0)break e;de--,X+=ae[Y++]<<I,I+=8}U.offset+=X&(1<<U.extra)-1,X>>>=U.extra,I-=U.extra,U.back+=U.extra}if(U.offset>U.dmax){R.msg="invalid distance too far back",U.mode=30;break}U.mode=25;case 25:if(Ce===0)break e;if(Ae=te-Ce,U.offset>Ae){if((Ae=U.offset-Ae)>U.whave&&U.sane){R.msg="invalid distance too far back",U.mode=30;break}se=Ae>U.wnext?(Ae-=U.wnext,U.wsize-Ae):U.wnext-Ae,Ae>U.length&&(Ae=U.length),Q=U.window}else Q=re,se=he-U.offset,Ae=U.length;for(Ce<Ae&&(Ae=Ce),Ce-=Ae,U.length-=Ae;re[he++]=Q[se++],--Ae;);U.length===0&&(U.mode=21);break;case 26:if(Ce===0)break e;re[he++]=U.length,Ce--,U.mode=21;break;case 27:if(U.wrap){for(;I<32;){if(de===0)break e;de--,X|=ae[Y++]<<I,I+=8}if(te-=Ce,R.total_out+=te,U.total+=te,te&&(R.adler=U.check=U.flags?o(U.check,re,te,he-te):a(U.check,re,te,he-te)),te=Ce,(U.flags?X:w(X))!==U.check){R.msg="incorrect data check",U.mode=30;break}I=X=0}U.mode=28;case 28:if(U.wrap&&U.flags){for(;I<32;){if(de===0)break e;de--,X+=ae[Y++]<<I,I+=8}if(X!==(4294967295&U.total)){R.msg="incorrect length check",U.mode=30;break}I=X=0}U.mode=29;case 29:ne=1;break e;case 30:ne=-3;break e;case 31:return-4;default:return d}return R.next_out=he,R.avail_out=Ce,R.next_in=Y,R.avail_in=de,U.hold=X,U.bits=I,(U.wsize||te!==R.avail_out&&U.mode<30&&(U.mode<27||G!==4))&&q(R,R.output,R.next_out,te-R.avail_out)?(U.mode=31,-4):(J-=R.avail_in,te-=R.avail_out,R.total_in+=J,R.total_out+=te,U.total+=te,U.wrap&&te&&(R.adler=U.check=U.flags?o(U.check,re,te,R.next_out-te):a(U.check,re,te,R.next_out-te)),R.data_type=U.bits+(U.last?64:0)+(U.mode===12?128:0)+(U.mode===20||U.mode===15?256:0),(J==0&&te===0||G===4)&&ne===m&&(ne=-5),ne)},i.inflateEnd=function(R){if(!R||!R.state)return d;var G=R.state;return G.window&&(G.window=null),R.state=null,m},i.inflateGetHeader=function(R,G){var U;return R&&R.state?(2&(U=R.state).wrap)==0?d:((U.head=G).done=!1,m):d},i.inflateSetDictionary=function(R,G){var U,ae=G.length;return R&&R.state?(U=R.state).wrap!==0&&U.mode!==11?d:U.mode===11&&a(1,G,ae,0)!==U.check?-3:q(R,G,ae,ae)?(U.mode=31,-4):(U.havedict=1,m):d},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(r,n,i){var s=r("../utils/common"),a=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],c=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];n.exports=function(f,h,m,d,g,v,b,w){var B,S,C,k,M,D,H,F,$,q=w.bits,R=0,G=0,U=0,ae=0,re=0,Y=0,he=0,de=0,Ce=0,X=0,I=null,J=0,te=new s.Buf16(16),Ae=new s.Buf16(16),se=null,Q=0;for(R=0;R<=15;R++)te[R]=0;for(G=0;G<d;G++)te[h[m+G]]++;for(re=q,ae=15;1<=ae&&te[ae]===0;ae--);if(ae<re&&(re=ae),ae===0)return g[v++]=20971520,g[v++]=20971520,w.bits=1,0;for(U=1;U<ae&&te[U]===0;U++);for(re<U&&(re=U),R=de=1;R<=15;R++)if(de<<=1,(de-=te[R])<0)return-1;if(0<de&&(f===0||ae!==1))return-1;for(Ae[1]=0,R=1;R<15;R++)Ae[R+1]=Ae[R]+te[R];for(G=0;G<d;G++)h[m+G]!==0&&(b[Ae[h[m+G]]++]=G);if(D=f===0?(I=se=b,19):f===1?(I=a,J-=257,se=o,Q-=257,256):(I=l,se=c,-1),R=U,M=v,he=G=X=0,C=-1,k=(Ce=1<<(Y=re))-1,f===1&&852<Ce||f===2&&592<Ce)return 1;for(;;){for(H=R-he,$=b[G]<D?(F=0,b[G]):b[G]>D?(F=se[Q+b[G]],I[J+b[G]]):(F=96,0),B=1<<R-he,U=S=1<<Y;g[M+(X>>he)+(S-=B)]=H<<24|F<<16|$|0,S!==0;);for(B=1<<R-1;X&B;)B>>=1;if(B!==0?(X&=B-1,X+=B):X=0,G++,--te[R]==0){if(R===ae)break;R=h[m+b[G]]}if(re<R&&(X&k)!==C){for(he===0&&(he=re),M+=U,de=1<<(Y=R-he);Y+he<ae&&!((de-=te[Y+he])<=0);)Y++,de<<=1;if(Ce+=1<<Y,f===1&&852<Ce||f===2&&592<Ce)return 1;g[C=X&k]=re<<24|Y<<16|M-v|0}}return X!==0&&(g[M+X]=R-he<<24|64<<16|0),w.bits=re,0}},{"../utils/common":41}],51:[function(r,n,i){n.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(r,n,i){var s=r("../utils/common"),a=0,o=1;function l(N){for(var z=N.length;0<=--z;)N[z]=0}var c=0,f=29,h=256,m=h+1+f,d=30,g=19,v=2*m+1,b=15,w=16,B=7,S=256,C=16,k=17,M=18,D=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],H=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],F=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],$=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],q=new Array(2*(m+2));l(q);var R=new Array(2*d);l(R);var G=new Array(512);l(G);var U=new Array(256);l(U);var ae=new Array(f);l(ae);var re,Y,he,de=new Array(d);function Ce(N,z,ge,Be,be){this.static_tree=N,this.extra_bits=z,this.extra_base=ge,this.elems=Be,this.max_length=be,this.has_stree=N&&N.length}function X(N,z){this.dyn_tree=N,this.max_code=0,this.stat_desc=z}function I(N){return N<256?G[N]:G[256+(N>>>7)]}function J(N,z){N.pending_buf[N.pending++]=255&z,N.pending_buf[N.pending++]=z>>>8&255}function te(N,z,ge){N.bi_valid>w-ge?(N.bi_buf|=z<<N.bi_valid&65535,J(N,N.bi_buf),N.bi_buf=z>>w-N.bi_valid,N.bi_valid+=ge-w):(N.bi_buf|=z<<N.bi_valid&65535,N.bi_valid+=ge)}function Ae(N,z,ge){te(N,ge[2*z],ge[2*z+1])}function se(N,z){for(var ge=0;ge|=1&N,N>>>=1,ge<<=1,0<--z;);return ge>>>1}function Q(N,z,ge){var Be,be,Oe=new Array(b+1),je=0;for(Be=1;Be<=b;Be++)Oe[Be]=je=je+ge[Be-1]<<1;for(be=0;be<=z;be++){var He=N[2*be+1];He!==0&&(N[2*be]=se(Oe[He]++,He))}}function P(N){var z;for(z=0;z<m;z++)N.dyn_ltree[2*z]=0;for(z=0;z<d;z++)N.dyn_dtree[2*z]=0;for(z=0;z<g;z++)N.bl_tree[2*z]=0;N.dyn_ltree[2*S]=1,N.opt_len=N.static_len=0,N.last_lit=N.matches=0}function le(N){8<N.bi_valid?J(N,N.bi_buf):0<N.bi_valid&&(N.pending_buf[N.pending++]=N.bi_buf),N.bi_buf=0,N.bi_valid=0}function oe(N,z,ge,Be){var be=2*z,Oe=2*ge;return N[be]<N[Oe]||N[be]===N[Oe]&&Be[z]<=Be[ge]}function ie(N,z,ge){for(var Be=N.heap[ge],be=ge<<1;be<=N.heap_len&&(be<N.heap_len&&oe(z,N.heap[be+1],N.heap[be],N.depth)&&be++,!oe(z,Be,N.heap[be],N.depth));)N.heap[ge]=N.heap[be],ge=be,be<<=1;N.heap[ge]=Be}function fe(N,z,ge){var Be,be,Oe,je,He=0;if(N.last_lit!==0)for(;Be=N.pending_buf[N.d_buf+2*He]<<8|N.pending_buf[N.d_buf+2*He+1],be=N.pending_buf[N.l_buf+He],He++,Be===0?Ae(N,be,z):(Ae(N,(Oe=U[be])+h+1,z),(je=D[Oe])!==0&&te(N,be-=ae[Oe],je),Ae(N,Oe=I(--Be),ge),(je=H[Oe])!==0&&te(N,Be-=de[Oe],je)),He<N.last_lit;);Ae(N,S,z)}function Te(N,z){var ge,Be,be,Oe=z.dyn_tree,je=z.stat_desc.static_tree,He=z.stat_desc.has_stree,We=z.stat_desc.elems,at=-1;for(N.heap_len=0,N.heap_max=v,ge=0;ge<We;ge++)Oe[2*ge]!==0?(N.heap[++N.heap_len]=at=ge,N.depth[ge]=0):Oe[2*ge+1]=0;for(;N.heap_len<2;)Oe[2*(be=N.heap[++N.heap_len]=at<2?++at:0)]=1,N.depth[be]=0,N.opt_len--,He&&(N.static_len-=je[2*be+1]);for(z.max_code=at,ge=N.heap_len>>1;1<=ge;ge--)ie(N,Oe,ge);for(be=We;ge=N.heap[1],N.heap[1]=N.heap[N.heap_len--],ie(N,Oe,1),Be=N.heap[1],N.heap[--N.heap_max]=ge,N.heap[--N.heap_max]=Be,Oe[2*be]=Oe[2*ge]+Oe[2*Be],N.depth[be]=(N.depth[ge]>=N.depth[Be]?N.depth[ge]:N.depth[Be])+1,Oe[2*ge+1]=Oe[2*Be+1]=be,N.heap[1]=be++,ie(N,Oe,1),2<=N.heap_len;);N.heap[--N.heap_max]=N.heap[1],(function(ct,ft){var Ot,mt,kr,yt,_t,It,Pt=ft.dyn_tree,Ve=ft.max_code,gt=ft.stat_desc.static_tree,Bt=ft.stat_desc.has_stree,Rt=ft.stat_desc.extra_bits,ur=ft.stat_desc.extra_base,Vt=ft.stat_desc.max_length,dt=0;for(yt=0;yt<=b;yt++)ct.bl_count[yt]=0;for(Pt[2*ct.heap[ct.heap_max]+1]=0,Ot=ct.heap_max+1;Ot<v;Ot++)Vt<(yt=Pt[2*Pt[2*(mt=ct.heap[Ot])+1]+1]+1)&&(yt=Vt,dt++),Pt[2*mt+1]=yt,Ve<mt||(ct.bl_count[yt]++,_t=0,ur<=mt&&(_t=Rt[mt-ur]),It=Pt[2*mt],ct.opt_len+=It*(yt+_t),Bt&&(ct.static_len+=It*(gt[2*mt+1]+_t)));if(dt!==0){do{for(yt=Vt-1;ct.bl_count[yt]===0;)yt--;ct.bl_count[yt]--,ct.bl_count[yt+1]+=2,ct.bl_count[Vt]--,dt-=2}while(0<dt);for(yt=Vt;yt!==0;yt--)for(mt=ct.bl_count[yt];mt!==0;)Ve<(kr=ct.heap[--Ot])||(Pt[2*kr+1]!==yt&&(ct.opt_len+=(yt-Pt[2*kr+1])*Pt[2*kr],Pt[2*kr+1]=yt),mt--)}})(N,z),Q(Oe,at,N.bl_count)}function V(N,z,ge){var Be,be,Oe=-1,je=z[1],He=0,We=7,at=4;for(je===0&&(We=138,at=3),z[2*(ge+1)+1]=65535,Be=0;Be<=ge;Be++)be=je,je=z[2*(Be+1)+1],++He<We&&be===je||(He<at?N.bl_tree[2*be]+=He:be!==0?(be!==Oe&&N.bl_tree[2*be]++,N.bl_tree[2*C]++):He<=10?N.bl_tree[2*k]++:N.bl_tree[2*M]++,Oe=be,at=(He=0)===je?(We=138,3):be===je?(We=6,3):(We=7,4))}function ne(N,z,ge){var Be,be,Oe=-1,je=z[1],He=0,We=7,at=4;for(je===0&&(We=138,at=3),Be=0;Be<=ge;Be++)if(be=je,je=z[2*(Be+1)+1],!(++He<We&&be===je)){if(He<at)for(;Ae(N,be,N.bl_tree),--He!=0;);else be!==0?(be!==Oe&&(Ae(N,be,N.bl_tree),He--),Ae(N,C,N.bl_tree),te(N,He-3,2)):He<=10?(Ae(N,k,N.bl_tree),te(N,He-3,3)):(Ae(N,M,N.bl_tree),te(N,He-11,7));Oe=be,at=(He=0)===je?(We=138,3):be===je?(We=6,3):(We=7,4)}}l(de);var W=!1;function L(N,z,ge,Be){te(N,(c<<1)+(Be?1:0),3),(function(be,Oe,je,He){le(be),J(be,je),J(be,~je),s.arraySet(be.pending_buf,be.window,Oe,je,be.pending),be.pending+=je})(N,z,ge)}i._tr_init=function(N){W||((function(){var z,ge,Be,be,Oe,je=new Array(b+1);for(be=Be=0;be<f-1;be++)for(ae[be]=Be,z=0;z<1<<D[be];z++)U[Be++]=be;for(U[Be-1]=be,be=Oe=0;be<16;be++)for(de[be]=Oe,z=0;z<1<<H[be];z++)G[Oe++]=be;for(Oe>>=7;be<d;be++)for(de[be]=Oe<<7,z=0;z<1<<H[be]-7;z++)G[256+Oe++]=be;for(ge=0;ge<=b;ge++)je[ge]=0;for(z=0;z<=143;)q[2*z+1]=8,z++,je[8]++;for(;z<=255;)q[2*z+1]=9,z++,je[9]++;for(;z<=279;)q[2*z+1]=7,z++,je[7]++;for(;z<=287;)q[2*z+1]=8,z++,je[8]++;for(Q(q,m+1,je),z=0;z<d;z++)R[2*z+1]=5,R[2*z]=se(z,5);re=new Ce(q,D,h+1,m,b),Y=new Ce(R,H,0,d,b),he=new Ce(new Array(0),F,0,g,B)})(),W=!0),N.l_desc=new X(N.dyn_ltree,re),N.d_desc=new X(N.dyn_dtree,Y),N.bl_desc=new X(N.bl_tree,he),N.bi_buf=0,N.bi_valid=0,P(N)},i._tr_stored_block=L,i._tr_flush_block=function(N,z,ge,Be){var be,Oe,je=0;0<N.level?(N.strm.data_type===2&&(N.strm.data_type=(function(He){var We,at=4093624447;for(We=0;We<=31;We++,at>>>=1)if(1&at&&He.dyn_ltree[2*We]!==0)return a;if(He.dyn_ltree[18]!==0||He.dyn_ltree[20]!==0||He.dyn_ltree[26]!==0)return o;for(We=32;We<h;We++)if(He.dyn_ltree[2*We]!==0)return o;return a})(N)),Te(N,N.l_desc),Te(N,N.d_desc),je=(function(He){var We;for(V(He,He.dyn_ltree,He.l_desc.max_code),V(He,He.dyn_dtree,He.d_desc.max_code),Te(He,He.bl_desc),We=g-1;3<=We&&He.bl_tree[2*$[We]+1]===0;We--);return He.opt_len+=3*(We+1)+5+5+4,We})(N),be=N.opt_len+3+7>>>3,(Oe=N.static_len+3+7>>>3)<=be&&(be=Oe)):be=Oe=ge+5,ge+4<=be&&z!==-1?L(N,z,ge,Be):N.strategy===4||Oe===be?(te(N,2+(Be?1:0),3),fe(N,q,R)):(te(N,4+(Be?1:0),3),(function(He,We,at,ct){var ft;for(te(He,We-257,5),te(He,at-1,5),te(He,ct-4,4),ft=0;ft<ct;ft++)te(He,He.bl_tree[2*$[ft]+1],3);ne(He,He.dyn_ltree,We-1),ne(He,He.dyn_dtree,at-1)})(N,N.l_desc.max_code+1,N.d_desc.max_code+1,je+1),fe(N,N.dyn_ltree,N.dyn_dtree)),P(N),Be&&le(N)},i._tr_tally=function(N,z,ge){return N.pending_buf[N.d_buf+2*N.last_lit]=z>>>8&255,N.pending_buf[N.d_buf+2*N.last_lit+1]=255&z,N.pending_buf[N.l_buf+N.last_lit]=255&ge,N.last_lit++,z===0?N.dyn_ltree[2*ge]++:(N.matches++,z--,N.dyn_ltree[2*(U[ge]+h+1)]++,N.dyn_dtree[2*I(z)]++),N.last_lit===N.lit_bufsize-1},i._tr_align=function(N){te(N,2,3),Ae(N,S,q),(function(z){z.bi_valid===16?(J(z,z.bi_buf),z.bi_buf=0,z.bi_valid=0):8<=z.bi_valid&&(z.pending_buf[z.pending++]=255&z.bi_buf,z.bi_buf>>=8,z.bi_valid-=8)})(N)}},{"../utils/common":41}],53:[function(r,n,i){n.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(r,n,i){(function(s){(function(a,o){if(!a.setImmediate){var l,c,f,h,m=1,d={},g=!1,v=a.document,b=Object.getPrototypeOf&&Object.getPrototypeOf(a);b=b&&b.setTimeout?b:a,l={}.toString.call(a.process)==="[object process]"?function(C){pr.nextTick(function(){B(C)})}:(function(){if(a.postMessage&&!a.importScripts){var C=!0,k=a.onmessage;return a.onmessage=function(){C=!1},a.postMessage("","*"),a.onmessage=k,C}})()?(h="setImmediate$"+Math.random()+"$",a.addEventListener?a.addEventListener("message",S,!1):a.attachEvent("onmessage",S),function(C){a.postMessage(h+C,"*")}):a.MessageChannel?((f=new MessageChannel).port1.onmessage=function(C){B(C.data)},function(C){f.port2.postMessage(C)}):v&&"onreadystatechange"in v.createElement("script")?(c=v.documentElement,function(C){var k=v.createElement("script");k.onreadystatechange=function(){B(C),k.onreadystatechange=null,c.removeChild(k),k=null},c.appendChild(k)}):function(C){setTimeout(B,0,C)},b.setImmediate=function(C){typeof C!="function"&&(C=new Function(""+C));for(var k=new Array(arguments.length-1),M=0;M<k.length;M++)k[M]=arguments[M+1];var D={callback:C,args:k};return d[m]=D,l(m),m++},b.clearImmediate=w}function w(C){delete d[C]}function B(C){if(g)setTimeout(B,0,C);else{var k=d[C];if(k){g=!0;try{(function(M){var D=M.callback,H=M.args;switch(H.length){case 0:D();break;case 1:D(H[0]);break;case 2:D(H[0],H[1]);break;case 3:D(H[0],H[1],H[2]);break;default:D.apply(o,H)}})(k)}finally{w(C),g=!1}}}}function S(C){C.source===a&&typeof C.data=="string"&&C.data.indexOf(h)===0&&B(+C.data.slice(h.length))}})(typeof self>"u"?s===void 0?this:s:self)}).call(this,typeof Yl<"u"?Yl:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(V5)),V5.exports}var xoe=boe();const Boe=B8(xoe);var mm={exports:{}},q5,h6;function Coe(){if(h6)return q5;h6=1;var t={"&":"&amp;",'"':"&quot;","'":"&apos;","<":"&lt;",">":"&gt;"};function e(r){return r&&r.replace?r.replace(/([&"<>'])/g,function(n,i){return t[i]}):r}return q5=e,q5}var d6;function Soe(){if(d6)return mm.exports;d6=1;var t=Coe(),e=c_().Stream,r="    ";function n(c,f){typeof f!="object"&&(f={indent:f});var h=f.stream?new e:null,m="",d=!1,g=f.indent?f.indent===!0?r:f.indent:"",v=!0;function b(k){v?pr.nextTick(k):k()}function w(k,M){if(M!==void 0&&(m+=M),k&&!d&&(h=h||new e,d=!0),k&&d){var D=m;b(function(){h.emit("data",D)}),m=""}}function B(k,M){o(w,a(k,g,g?1:0),M)}function S(){if(h){var k=m;b(function(){h.emit("data",k),h.emit("end"),h.readable=!1,h.emit("close")})}}function C(k){var M=k.encoding||"UTF-8",D={version:"1.0",encoding:M};k.standalone&&(D.standalone=k.standalone),B({"?xml":{_attr:D}}),m=m.replace("/>","?>")}return b(function(){v=!1}),f.declaration&&C(f.declaration),c&&c.forEach?c.forEach(function(k,M){var D;M+1===c.length&&(D=S),B(k,D)}):B(c,S),h?(h.readable=!0,h):m}function i(){var c=Array.prototype.slice.call(arguments),f={_elem:a(c)};return f.push=function(h){if(!this.append)throw new Error("not assigned to a parent!");var m=this,d=this._elem.indent;o(this.append,a(h,d,this._elem.icount+(d?1:0)),function(){m.append(!0)})},f.close=function(h){h!==void 0&&this.push(h),this.end&&this.end()},f}function s(c,f){return new Array(f||0).join(c||"")}function a(c,f,h){h=h||0;var m=s(f,h),d,g=c,v=!1;if(typeof c=="object"){var b=Object.keys(c);if(d=b[0],g=c[d],g&&g._elem)return g._elem.name=d,g._elem.icount=h,g._elem.indent=f,g._elem.indents=m,g._elem.interrupt=g,g._elem}var w=[],B=[],S;function C(k){var M=Object.keys(k);M.forEach(function(D){w.push(l(D,k[D]))})}switch(typeof g){case"object":if(g===null)break;g._attr&&C(g._attr),g._cdata&&B.push(("<![CDATA["+g._cdata).replace(/\]\]>/g,"]]]]><![CDATA[>")+"]]>"),g.forEach&&(S=!1,B.push(""),g.forEach(function(k){if(typeof k=="object"){var M=Object.keys(k)[0];M=="_attr"?C(k._attr):B.push(a(k,f,h+1))}else B.pop(),S=!0,B.push(t(k))}),S||B.push(""));break;default:B.push(t(g))}return{name:d,interrupt:v,attributes:w,content:B,icount:h,indents:m,indent:f}}function o(c,f,h){if(typeof f!="object")return c(!1,f);var m=f.interrupt?1:f.content.length;function d(){for(;f.content.length;){var v=f.content.shift();if(v!==void 0){if(g(v))return;o(c,v)}}c(!1,(m>1?f.indents:"")+(f.name?"</"+f.name+">":"")+(f.indent&&!h?`
`:"")),h&&h()}function g(v){return v.interrupt?(v.interrupt.append=c,v.interrupt.end=d,v.interrupt=!1,c(!0),!0):!1}if(c(!1,f.indents+(f.name?"<"+f.name:"")+(f.attributes.length?" "+f.attributes.join(" "):"")+(m?f.name?">":"":f.name?"/>":"")+(f.indent&&m>1?`
`:"")),!m)return c(!1,f.indent?`
`:"");g(f)||d()}function l(c,f){return c+'="'+t(f)+'"'}return mm.exports=n,mm.exports.element=mm.exports.Element=i,mm.exports}var Eoe=Soe();const ti=B8(Eoe),gm=0,G5=32,_oe=32,koe=(t,e)=>{const r=e.replace(/-/g,"");if(r.length!==_oe)throw new Error(`Error: Cannot extract GUID from font filename: ${e}`);const i=r.replace(/(..)/g,"$1 ").trim().split(" ").map(l=>parseInt(l,16));i.reverse();const a=t.slice(gm,G5).map((l,c)=>l^i[c%i.length]),o=new Uint8Array(gm+a.length+Math.max(0,t.length-G5));return o.set(t.slice(0,gm)),o.set(a,gm),o.set(t.slice(G5),gm+a.length),o};class Toe{format(e,r={stack:[]}){const n=e.prepForXml(r);if(n)return n;throw Error("XMLComponent did not format correctly")}}class Noe{replace(e,r,n){let i=e;return r.forEach((s,a)=>{i=i.replace(new RegExp(`{${s.fileName}}`,"g"),(n+a).toString())}),i}getMediaData(e,r){return r.Array.filter(n=>e.search(`{${n.fileName}}`)>0)}}class Foe{replace(e,r){let n=e;for(const i of r)n=n.replace(new RegExp(`{${i.reference}-${i.instance}}`,"g"),i.numId.toString());return n}}class Uoe{constructor(){rt(this,"formatter"),rt(this,"imageReplacer"),rt(this,"numberingReplacer"),this.formatter=new Toe,this.imageReplacer=new Noe,this.numberingReplacer=new Foe}compile(e,r,n=[]){const i=new Boe,s=this.xmlifyFile(e,r),a=new Map(Object.entries(s));for(const[,o]of a)if(Array.isArray(o))for(const l of o)i.file(l.path,l.data);else i.file(o.path,o.data);for(const o of n)i.file(o.path,o.data);for(const o of e.Media.Array)o.type!=="svg"?i.file(`word/media/${o.fileName}`,o.data):(i.file(`word/media/${o.fileName}`,o.data),i.file(`word/media/${o.fallback.fileName}`,o.fallback.data));for(const{data:o,name:l,fontKey:c}of e.FontTable.fontOptionsWithKey){const[f]=l.split(".");i.file(`word/fonts/${f}.odttf`,koe(o,c))}return i}xmlifyFile(e,r){const n=e.Document.Relationships.RelationshipCount+1,i=ti(this.formatter.format(e.Document.View,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),s=e.Comments.Relationships.RelationshipCount+1,a=ti(this.formatter.format(e.Comments,{viewWrapper:{View:e.Comments,Relationships:e.Comments.Relationships},file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),o=this.imageReplacer.getMediaData(i,e.Media),l=this.imageReplacer.getMediaData(a,e.Media);return{Relationships:{data:(o.forEach((c,f)=>{e.Document.Relationships.createRelationship(n+f,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${c.fileName}`)}),e.Document.Relationships.createRelationship(e.Document.Relationships.RelationshipCount+1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/fontTable","fontTable.xml"),ti(this.formatter.format(e.Document.Relationships,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}})),path:"word/_rels/document.xml.rels"},Document:{data:(()=>{const c=this.imageReplacer.replace(i,o,n);return this.numberingReplacer.replace(c,e.Numbering.ConcreteNumbering)})(),path:"word/document.xml"},Styles:{data:(()=>{const c=ti(this.formatter.format(e.Styles,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}});return this.numberingReplacer.replace(c,e.Numbering.ConcreteNumbering)})(),path:"word/styles.xml"},Properties:{data:ti(this.formatter.format(e.CoreProperties,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/core.xml"},Numbering:{data:ti(this.formatter.format(e.Numbering,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/numbering.xml"},FileRelationships:{data:ti(this.formatter.format(e.FileRelationships,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"_rels/.rels"},HeaderRelationships:e.Headers.map((c,f)=>{const h=ti(this.formatter.format(c.View,{viewWrapper:c,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}});return this.imageReplacer.getMediaData(h,e.Media).forEach((d,g)=>{c.Relationships.createRelationship(g,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${d.fileName}`)}),{data:ti(this.formatter.format(c.Relationships,{viewWrapper:c,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:`word/_rels/header${f+1}.xml.rels`}}),FooterRelationships:e.Footers.map((c,f)=>{const h=ti(this.formatter.format(c.View,{viewWrapper:c,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}});return this.imageReplacer.getMediaData(h,e.Media).forEach((d,g)=>{c.Relationships.createRelationship(g,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${d.fileName}`)}),{data:ti(this.formatter.format(c.Relationships,{viewWrapper:c,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:`word/_rels/footer${f+1}.xml.rels`}}),Headers:e.Headers.map((c,f)=>{const h=ti(this.formatter.format(c.View,{viewWrapper:c,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),m=this.imageReplacer.getMediaData(h,e.Media),d=this.imageReplacer.replace(h,m,0);return{data:this.numberingReplacer.replace(d,e.Numbering.ConcreteNumbering),path:`word/header${f+1}.xml`}}),Footers:e.Footers.map((c,f)=>{const h=ti(this.formatter.format(c.View,{viewWrapper:c,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),m=this.imageReplacer.getMediaData(h,e.Media),d=this.imageReplacer.replace(h,m,0);return{data:this.numberingReplacer.replace(d,e.Numbering.ConcreteNumbering),path:`word/footer${f+1}.xml`}}),ContentTypes:{data:ti(this.formatter.format(e.ContentTypes,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"[Content_Types].xml"},CustomProperties:{data:ti(this.formatter.format(e.CustomProperties,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/custom.xml"},AppProperties:{data:ti(this.formatter.format(e.AppProperties,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/app.xml"},FootNotes:{data:ti(this.formatter.format(e.FootNotes.View,{viewWrapper:e.FootNotes,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"word/footnotes.xml"},FootNotesRelationships:{data:ti(this.formatter.format(e.FootNotes.Relationships,{viewWrapper:e.FootNotes,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"word/_rels/footnotes.xml.rels"},Settings:{data:ti(this.formatter.format(e.Settings,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/settings.xml"},Comments:{data:(()=>{const c=this.imageReplacer.replace(a,l,s);return this.numberingReplacer.replace(c,e.Numbering.ConcreteNumbering)})(),path:"word/comments.xml"},CommentsRelationships:{data:(l.forEach((c,f)=>{e.Comments.Relationships.createRelationship(s+f,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${c.fileName}`)}),ti(this.formatter.format(e.Comments.Relationships,{viewWrapper:{View:e.Comments,Relationships:e.Comments.Relationships},file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}})),path:"word/_rels/comments.xml.rels"},FontTable:{data:ti(this.formatter.format(e.FontTable.View,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/fontTable.xml"},FontTableRelationships:{data:ti(this.formatter.format(e.FontTable.Relationships,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"word/_rels/fontTable.xml.rels"}}}}const Ooe={WITH_2_BLANKS:"  "},p6=t=>t===!0?Ooe.WITH_2_BLANKS:t===!1?void 0:t,aQ=class Ed{static pack(e,r,n){return one(this,arguments,function*(i,s,a,o=[]){return this.compiler.compile(i,p6(a),o).generateAsync({type:s,mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"})})}static toString(e,r,n=[]){return Ed.pack(e,"string",r,n)}static toBuffer(e,r,n=[]){return Ed.pack(e,"nodebuffer",r,n)}static toBase64String(e,r,n=[]){return Ed.pack(e,"base64",r,n)}static toBlob(e,r,n=[]){return Ed.pack(e,"blob",r,n)}static toArrayBuffer(e,r,n=[]){return Ed.pack(e,"arraybuffer",r,n)}static toStream(e,r,n=[]){const i=new voe.Stream;return this.compiler.compile(e,p6(r),n).generateAsync({type:"nodebuffer",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"}).then(a=>{i.emit("data",a),i.emit("end")}),i}};rt(aQ,"compiler",new Uoe);let Loe=aQ;var v1={exports:{}},Doe=v1.exports,m6;function Ioe(){return m6||(m6=1,(function(t,e){(function(r,n){n()})(Doe,function(){function r(c,f){return typeof f>"u"?f={autoBom:!1}:typeof f!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),f={autoBom:!f}),f.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(c.type)?new Blob(["\uFEFF",c],{type:c.type}):c}function n(c,f,h){var m=new XMLHttpRequest;m.open("GET",c),m.responseType="blob",m.onload=function(){l(m.response,f,h)},m.onerror=function(){console.error("could not download file")},m.send()}function i(c){var f=new XMLHttpRequest;f.open("HEAD",c,!1);try{f.send()}catch{}return 200<=f.status&&299>=f.status}function s(c){try{c.dispatchEvent(new MouseEvent("click"))}catch{var f=document.createEvent("MouseEvents");f.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),c.dispatchEvent(f)}}var a=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof W0=="object"&&W0.global===W0?W0:void 0,o=a.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),l=a.saveAs||(typeof window!="object"||window!==a?function(){}:"download"in HTMLAnchorElement.prototype&&!o?function(c,f,h){var m=a.URL||a.webkitURL,d=document.createElement("a");f=f||c.name||"download",d.download=f,d.rel="noopener",typeof c=="string"?(d.href=c,d.origin===location.origin?s(d):i(d.href)?n(c,f,h):s(d,d.target="_blank")):(d.href=m.createObjectURL(c),setTimeout(function(){m.revokeObjectURL(d.href)},4e4),setTimeout(function(){s(d)},0))}:"msSaveOrOpenBlob"in navigator?function(c,f,h){if(f=f||c.name||"download",typeof c!="string")navigator.msSaveOrOpenBlob(r(c,h),f);else if(i(c))n(c,f,h);else{var m=document.createElement("a");m.href=c,m.target="_blank",setTimeout(function(){s(m)})}}:function(c,f,h,m){if(m=m||open("","_blank"),m&&(m.document.title=m.document.body.innerText="downloading..."),typeof c=="string")return n(c,f,h);var d=c.type==="application/octet-stream",g=/constructor/i.test(a.HTMLElement)||a.safari,v=/CriOS\/[\d]+/.test(navigator.userAgent);if((v||d&&g||o)&&typeof FileReader<"u"){var b=new FileReader;b.onloadend=function(){var S=b.result;S=v?S:S.replace(/^data:[^;]*;/,"data:attachment/file;"),m?m.location.href=S:location=S,m=null},b.readAsDataURL(c)}else{var w=a.URL||a.webkitURL,B=w.createObjectURL(c);m?m.location=B:location.href=B,m=null,setTimeout(function(){w.revokeObjectURL(B)},4e4)}});a.saveAs=l.saveAs=l,t.exports=l})})(v1)),v1.exports}var Roe=Ioe();const Moe="modulepreload",Qoe=function(t,e){return new URL(t,e).href},g6={},W5=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){let c=function(f){return Promise.all(f.map(h=>Promise.resolve(h).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};const a=document.getElementsByTagName("link"),o=document.querySelector("meta[property=csp-nonce]"),l=o?.nonce||o?.getAttribute("nonce");i=c(r.map(f=>{if(f=Qoe(f,n),f in g6)return;g6[f]=!0;const h=f.endsWith(".css"),m=h?'[rel="stylesheet"]':"";if(n)for(let g=a.length-1;g>=0;g--){const v=a[g];if(v.href===f&&(!h||v.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${f}"]${m}`))return;const d=document.createElement("link");if(d.rel=h?"stylesheet":Moe,h||(d.as="script"),d.crossOrigin="",d.href=f,l&&d.setAttribute("nonce",l),document.head.appendChild(d),h)return new Promise((g,v)=>{d.addEventListener("load",g),d.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${f}`)))})}))}function s(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return i.then(a=>{for(const o of a||[])o.status==="rejected"&&s(o.reason);return e().catch(s)})};function Jr(t){"@babel/helpers - typeof";return Jr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jr(t)}var pl=Uint8Array,Va=Uint16Array,y_=Int32Array,w_=new pl([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),v_=new pl([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),y6=new pl([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),oQ=function(t,e){for(var r=new Va(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];for(var i=new y_(r[30]),n=1;n<30;++n)for(var s=r[n];s<r[n+1];++s)i[s]=s-r[n]<<5|n;return{b:r,r:i}},lQ=oQ(w_,2),Hoe=lQ.b,fS=lQ.r;Hoe[28]=258,fS[258]=28;var joe=oQ(v_,0),w6=joe.r,hS=new Va(32768);for(var kn=0;kn<32768;++kn){var Gc=(kn&43690)>>1|(kn&21845)<<1;Gc=(Gc&52428)>>2|(Gc&13107)<<2,Gc=(Gc&61680)>>4|(Gc&3855)<<4,hS[kn]=((Gc&65280)>>8|(Gc&255)<<8)>>1}var eg=(function(t,e,r){for(var n=t.length,i=0,s=new Va(e);i<n;++i)t[i]&&++s[t[i]-1];var a=new Va(e);for(i=1;i<e;++i)a[i]=a[i-1]+s[i-1]<<1;var o;if(r){o=new Va(1<<e);var l=15-e;for(i=0;i<n;++i)if(t[i])for(var c=i<<4|t[i],f=e-t[i],h=a[t[i]-1]++<<f,m=h|(1<<f)-1;h<=m;++h)o[hS[h]>>l]=c}else for(o=new Va(n),i=0;i<n;++i)t[i]&&(o[i]=hS[a[t[i]-1]++]>>15-t[i]);return o}),Zf=new pl(288);for(var kn=0;kn<144;++kn)Zf[kn]=8;for(var kn=144;kn<256;++kn)Zf[kn]=9;for(var kn=256;kn<280;++kn)Zf[kn]=7;for(var kn=280;kn<288;++kn)Zf[kn]=8;var Fw=new pl(32);for(var kn=0;kn<32;++kn)Fw[kn]=5;var Poe=eg(Zf,9,0),zoe=eg(Fw,5,0),AQ=function(t){return(t+7)/8|0},Koe=function(t,e,r){return(r==null||r>t.length)&&(r=t.length),new pl(t.subarray(e,r))},jA=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8},ym=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8,t[n+2]|=r>>16},$5=function(t,e){for(var r=[],n=0;n<t.length;++n)t[n]&&r.push({s:n,f:t[n]});var i=r.length,s=r.slice();if(!i)return{t:uQ,l:0};if(i==1){var a=new pl(r[0].s+1);return a[r[0].s]=1,{t:a,l:1}}r.sort(function(k,M){return k.f-M.f}),r.push({s:-1,f:25001});var o=r[0],l=r[1],c=0,f=1,h=2;for(r[0]={s:-1,f:o.f+l.f,l:o,r:l};f!=i-1;)o=r[r[c].f<r[h].f?c++:h++],l=r[c!=f&&r[c].f<r[h].f?c++:h++],r[f++]={s:-1,f:o.f+l.f,l:o,r:l};for(var m=s[0].s,n=1;n<i;++n)s[n].s>m&&(m=s[n].s);var d=new Va(m+1),g=dS(r[f-1],d,0);if(g>e){var n=0,v=0,b=g-e,w=1<<b;for(s.sort(function(M,D){return d[D.s]-d[M.s]||M.f-D.f});n<i;++n){var B=s[n].s;if(d[B]>e)v+=w-(1<<g-d[B]),d[B]=e;else break}for(v>>=b;v>0;){var S=s[n].s;d[S]<e?v-=1<<e-d[S]++-1:++n}for(;n>=0&&v;--n){var C=s[n].s;d[C]==e&&(--d[C],++v)}g=e}return{t:new pl(d),l:g}},dS=function(t,e,r){return t.s==-1?Math.max(dS(t.l,e,r+1),dS(t.r,e,r+1)):e[t.s]=r},v6=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new Va(++e),n=0,i=t[0],s=1,a=function(l){r[n++]=l},o=1;o<=e;++o)if(t[o]==i&&o!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)a(32754);s>2&&(a(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(a(i),--s;s>6;s-=6)a(8304);s>2&&(a(s-3<<5|8208),s=0)}for(;s--;)a(i);s=1,i=t[o]}return{c:r.subarray(0,n),n:e}},wm=function(t,e){for(var r=0,n=0;n<e.length;++n)r+=t[n]*e[n];return r},cQ=function(t,e,r){var n=r.length,i=AQ(e+2);t[i]=n&255,t[i+1]=n>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var s=0;s<n;++s)t[i+s+4]=r[s];return(i+4+n)*8},b6=function(t,e,r,n,i,s,a,o,l,c,f){jA(e,f++,r),++i[256];for(var h=$5(i,15),m=h.t,d=h.l,g=$5(s,15),v=g.t,b=g.l,w=v6(m),B=w.c,S=w.n,C=v6(v),k=C.c,M=C.n,D=new Va(19),H=0;H<B.length;++H)++D[B[H]&31];for(var H=0;H<k.length;++H)++D[k[H]&31];for(var F=$5(D,7),$=F.t,q=F.l,R=19;R>4&&!$[y6[R-1]];--R);var G=c+5<<3,U=wm(i,Zf)+wm(s,Fw)+a,ae=wm(i,m)+wm(s,v)+a+14+3*R+wm(D,$)+2*D[16]+3*D[17]+7*D[18];if(l>=0&&G<=U&&G<=ae)return cQ(e,f,t.subarray(l,l+c));var re,Y,he,de;if(jA(e,f,1+(ae<U)),f+=2,ae<U){re=eg(m,d,0),Y=m,he=eg(v,b,0),de=v;var Ce=eg($,q,0);jA(e,f,S-257),jA(e,f+5,M-1),jA(e,f+10,R-4),f+=14;for(var H=0;H<R;++H)jA(e,f+3*H,$[y6[H]]);f+=3*R;for(var X=[B,k],I=0;I<2;++I)for(var J=X[I],H=0;H<J.length;++H){var te=J[H]&31;jA(e,f,Ce[te]),f+=$[te],te>15&&(jA(e,f,J[H]>>5&127),f+=J[H]>>12)}}else re=Poe,Y=Zf,he=zoe,de=Fw;for(var H=0;H<o;++H){var Ae=n[H];if(Ae>255){var te=Ae>>18&31;ym(e,f,re[te+257]),f+=Y[te+257],te>7&&(jA(e,f,Ae>>23&31),f+=w_[te]);var se=Ae&31;ym(e,f,he[se]),f+=de[se],se>3&&(ym(e,f,Ae>>5&8191),f+=v_[se])}else ym(e,f,re[Ae]),f+=Y[Ae]}return ym(e,f,re[256]),f+Y[256]},Voe=new y_([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),uQ=new pl(0),qoe=function(t,e,r,n,i,s){var a=s.z||t.length,o=new pl(n+a+5*(1+Math.ceil(a/7e3))+i),l=o.subarray(n,o.length-i),c=s.l,f=(s.r||0)&7;if(e){f&&(l[0]=s.r>>3);for(var h=Voe[e-1],m=h>>13,d=h&8191,g=(1<<r)-1,v=s.p||new Va(32768),b=s.h||new Va(g+1),w=Math.ceil(r/3),B=2*w,S=function(V){return(t[V]^t[V+1]<<w^t[V+2]<<B)&g},C=new y_(25e3),k=new Va(288),M=new Va(32),D=0,H=0,F=s.i||0,$=0,q=s.w||0,R=0;F+2<a;++F){var G=S(F),U=F&32767,ae=b[G];if(v[U]=ae,b[G]=U,q<=F){var re=a-F;if((D>7e3||$>24576)&&(re>423||!c)){f=b6(t,l,0,C,k,M,H,$,R,F-R,f),$=D=H=0,R=F;for(var Y=0;Y<286;++Y)k[Y]=0;for(var Y=0;Y<30;++Y)M[Y]=0}var he=2,de=0,Ce=d,X=U-ae&32767;if(re>2&&G==S(F-X))for(var I=Math.min(m,re)-1,J=Math.min(32767,F),te=Math.min(258,re);X<=J&&--Ce&&U!=ae;){if(t[F+he]==t[F+he-X]){for(var Ae=0;Ae<te&&t[F+Ae]==t[F+Ae-X];++Ae);if(Ae>he){if(he=Ae,de=X,Ae>I)break;for(var se=Math.min(X,Ae-2),Q=0,Y=0;Y<se;++Y){var P=F-X+Y&32767,le=v[P],oe=P-le&32767;oe>Q&&(Q=oe,ae=P)}}}U=ae,ae=v[U],X+=U-ae&32767}if(de){C[$++]=268435456|fS[he]<<18|w6[de];var ie=fS[he]&31,fe=w6[de]&31;H+=w_[ie]+v_[fe],++k[257+ie],++M[fe],q=F+he,++D}else C[$++]=t[F],++k[t[F]]}}for(F=Math.max(F,q);F<a;++F)C[$++]=t[F],++k[t[F]];f=b6(t,l,c,C,k,M,H,$,R,F-R,f),c||(s.r=f&7|l[f/8|0]<<3,f-=7,s.h=b,s.p=v,s.i=F,s.w=q)}else{for(var F=s.w||0;F<a+c;F+=65535){var Te=F+65535;Te>=a&&(l[f/8|0]=c,Te=a),f=cQ(l,f+1,t.subarray(F,Te))}s.i=a}return Koe(o,0,n+AQ(f)+i)},fQ=function(){var t=1,e=0;return{p:function(r){for(var n=t,i=e,s=r.length|0,a=0;a!=s;){for(var o=Math.min(a+2655,s);a<o;++a)i+=n+=r[a];n=(n&65535)+15*(n>>16),i=(i&65535)+15*(i>>16)}t=n,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},Goe=function(t,e,r,n,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),a=new pl(s.length+t.length);a.set(s),a.set(t,s.length),t=a,i.w=s.length}return qoe(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,r,n,i)},hQ=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8},Woe=function(t,e){var r=e.level,n=r==0?0:r<6?1:r==9?3:2;if(t[0]=120,t[1]=n<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=fQ();i.p(e.dictionary),hQ(t,2,i.d())}};function pS(t,e){e||(e={});var r=fQ();r.p(t);var n=Goe(t,e,e.dictionary?6:2,4);return Woe(n,e),hQ(n,n.length-4,r.d()),n}var $oe=typeof TextDecoder<"u"&&new TextDecoder,Yoe=0;try{$oe.decode(uQ,{stream:!0}),Yoe=1}catch{}function Joe(t){if(Array.isArray(t))return t}function Xoe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,a,o=[],l=!0,c=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(l=(n=s.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(f){c=!0,i=f}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function x6(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function Zoe(t,e){if(t){if(typeof t=="string")return x6(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?x6(t,e):void 0}}function ele(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function B6(t,e){return Joe(t)||Xoe(t,e)||Zoe(t,e)||ele()}function C6(t,e="utf8"){return new TextDecoder(e).decode(t)}const tle=new TextEncoder;function rle(t){return tle.encode(t)}const nle=1024*8,ile=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),Y5={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class b_{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(e=nle,r={}){let n=!1;typeof e=="number"?e=new ArrayBuffer(e):(n=!0,this.lastWrittenByte=e.byteLength);const i=r.offset?r.offset>>>0:0,s=e.byteLength-i;let a=i;(ArrayBuffer.isView(e)||e instanceof b_)&&(e.byteLength!==e.buffer.byteLength&&(a=e.byteOffset+i),e=e.buffer),n?this.lastWrittenByte=s:this.lastWrittenByte=0,this.buffer=e,this.length=s,this.byteLength=s,this.byteOffset=a,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,a,s),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const n=(this.offset+e)*2,i=new Uint8Array(n);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,r){const n=Y5[r].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,s=this.buffer.slice(i,i+n);if(this.littleEndian===ile&&r!=="uint8"&&r!=="int8"){const o=new Uint8Array(this.buffer.slice(i,i+n));o.reverse();const l=new Y5[r](o.buffer);return this.offset+=n,l.reverse(),l}const a=new Y5[r](s);return this.offset+=n,a}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let r="";for(let n=0;n<e;n++)r+=this.readChar();return r}readUtf8(e=1){return C6(this.readBytes(e))}decodeText(e=1,r="utf8"){return C6(this.readBytes(e),r)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let r=0;r<e.length;r++)this._data.setUint8(this.offset++,e[r]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let r=0;r<e.length;r++)this.writeUint8(e.charCodeAt(r));return this}writeUtf8(e){return this.writeBytes(rle(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Cp(t){let e=t.length;for(;--e>=0;)t[e]=0}const sle=3,ale=258,dQ=29,ole=256,lle=ole+1+dQ,pQ=30,Ale=512,cle=new Array((lle+2)*2);Cp(cle);const ule=new Array(pQ*2);Cp(ule);const fle=new Array(Ale);Cp(fle);const hle=new Array(ale-sle+1);Cp(hle);const dle=new Array(dQ);Cp(dle);const ple=new Array(pQ);Cp(ple);const mle=(t,e,r,n)=>{let i=t&65535|0,s=t>>>16&65535|0,a=0;for(;r!==0;){a=r>2e3?2e3:r,r-=a;do i=i+e[n++]|0,s=s+i|0;while(--a);i%=65521,s%=65521}return i|s<<16|0};var mS=mle;const gle=()=>{let t,e=[];for(var r=0;r<256;r++){t=r;for(var n=0;n<8;n++)t=t&1?3988292384^t>>>1:t>>>1;e[r]=t}return e},yle=new Uint32Array(gle()),wle=(t,e,r,n)=>{const i=yle,s=n+r;t^=-1;for(let a=n;a<s;a++)t=t>>>8^i[(t^e[a])&255];return t^-1};var jl=wle,gS={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},mQ={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const vle=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var ble=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const r=e.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)vle(r,n)&&(t[n]=r[n])}}return t},xle=t=>{let e=0;for(let n=0,i=t.length;n<i;n++)e+=t[n].length;const r=new Uint8Array(e);for(let n=0,i=0,s=t.length;n<s;n++){let a=t[n];r.set(a,i),i+=a.length}return r},gQ={assign:ble,flattenChunks:xle};let yQ=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{yQ=!1}const Fg=new Uint8Array(256);for(let t=0;t<256;t++)Fg[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;Fg[254]=Fg[254]=1;var Ble=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,r,n,i,s,a=t.length,o=0;for(i=0;i<a;i++)r=t.charCodeAt(i),(r&64512)===55296&&i+1<a&&(n=t.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),o+=r<128?1:r<2048?2:r<65536?3:4;for(e=new Uint8Array(o),s=0,i=0;s<o;i++)r=t.charCodeAt(i),(r&64512)===55296&&i+1<a&&(n=t.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),r<128?e[s++]=r:r<2048?(e[s++]=192|r>>>6,e[s++]=128|r&63):r<65536?(e[s++]=224|r>>>12,e[s++]=128|r>>>6&63,e[s++]=128|r&63):(e[s++]=240|r>>>18,e[s++]=128|r>>>12&63,e[s++]=128|r>>>6&63,e[s++]=128|r&63);return e};const Cle=(t,e)=>{if(e<65534&&t.subarray&&yQ)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let r="";for(let n=0;n<e;n++)r+=String.fromCharCode(t[n]);return r};var Sle=(t,e)=>{const r=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let n,i;const s=new Array(r*2);for(i=0,n=0;n<r;){let a=t[n++];if(a<128){s[i++]=a;continue}let o=Fg[a];if(o>4){s[i++]=65533,n+=o-1;continue}for(a&=o===2?31:o===3?15:7;o>1&&n<r;)a=a<<6|t[n++]&63,o--;if(o>1){s[i++]=65533;continue}a<65536?s[i++]=a:(a-=65536,s[i++]=55296|a>>10&1023,s[i++]=56320|a&1023)}return Cle(s,i)},Ele=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let r=e-1;for(;r>=0&&(t[r]&192)===128;)r--;return r<0||r===0?e:r+Fg[t[r]]>e?r:e},yS={string2buf:Ble,buf2string:Sle,utf8border:Ele};function _le(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var kle=_le;const Oy=16209,Tle=16191;var Nle=function(e,r){let n,i,s,a,o,l,c,f,h,m,d,g,v,b,w,B,S,C,k,M,D,H,F,$;const q=e.state;n=e.next_in,F=e.input,i=n+(e.avail_in-5),s=e.next_out,$=e.output,a=s-(r-e.avail_out),o=s+(e.avail_out-257),l=q.dmax,c=q.wsize,f=q.whave,h=q.wnext,m=q.window,d=q.hold,g=q.bits,v=q.lencode,b=q.distcode,w=(1<<q.lenbits)-1,B=(1<<q.distbits)-1;e:do{g<15&&(d+=F[n++]<<g,g+=8,d+=F[n++]<<g,g+=8),S=v[d&w];t:for(;;){if(C=S>>>24,d>>>=C,g-=C,C=S>>>16&255,C===0)$[s++]=S&65535;else if(C&16){k=S&65535,C&=15,C&&(g<C&&(d+=F[n++]<<g,g+=8),k+=d&(1<<C)-1,d>>>=C,g-=C),g<15&&(d+=F[n++]<<g,g+=8,d+=F[n++]<<g,g+=8),S=b[d&B];r:for(;;){if(C=S>>>24,d>>>=C,g-=C,C=S>>>16&255,C&16){if(M=S&65535,C&=15,g<C&&(d+=F[n++]<<g,g+=8,g<C&&(d+=F[n++]<<g,g+=8)),M+=d&(1<<C)-1,M>l){e.msg="invalid distance too far back",q.mode=Oy;break e}if(d>>>=C,g-=C,C=s-a,M>C){if(C=M-C,C>f&&q.sane){e.msg="invalid distance too far back",q.mode=Oy;break e}if(D=0,H=m,h===0){if(D+=c-C,C<k){k-=C;do $[s++]=m[D++];while(--C);D=s-M,H=$}}else if(h<C){if(D+=c+h-C,C-=h,C<k){k-=C;do $[s++]=m[D++];while(--C);if(D=0,h<k){C=h,k-=C;do $[s++]=m[D++];while(--C);D=s-M,H=$}}}else if(D+=h-C,C<k){k-=C;do $[s++]=m[D++];while(--C);D=s-M,H=$}for(;k>2;)$[s++]=H[D++],$[s++]=H[D++],$[s++]=H[D++],k-=3;k&&($[s++]=H[D++],k>1&&($[s++]=H[D++]))}else{D=s-M;do $[s++]=$[D++],$[s++]=$[D++],$[s++]=$[D++],k-=3;while(k>2);k&&($[s++]=$[D++],k>1&&($[s++]=$[D++]))}}else if((C&64)===0){S=b[(S&65535)+(d&(1<<C)-1)];continue r}else{e.msg="invalid distance code",q.mode=Oy;break e}break}}else if((C&64)===0){S=v[(S&65535)+(d&(1<<C)-1)];continue t}else if(C&32){q.mode=Tle;break e}else{e.msg="invalid literal/length code",q.mode=Oy;break e}break}}while(n<i&&s<o);k=g>>3,n-=k,g-=k<<3,d&=(1<<g)-1,e.next_in=n,e.next_out=s,e.avail_in=n<i?5+(i-n):5-(n-i),e.avail_out=s<o?257+(o-s):257-(s-o),q.hold=d,q.bits=g};const cd=15,S6=852,E6=592,_6=0,J5=1,k6=2,Fle=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Ule=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Ole=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Lle=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),Dle=(t,e,r,n,i,s,a,o)=>{const l=o.bits;let c=0,f=0,h=0,m=0,d=0,g=0,v=0,b=0,w=0,B=0,S,C,k,M,D,H=null,F;const $=new Uint16Array(cd+1),q=new Uint16Array(cd+1);let R=null,G,U,ae;for(c=0;c<=cd;c++)$[c]=0;for(f=0;f<n;f++)$[e[r+f]]++;for(d=l,m=cd;m>=1&&$[m]===0;m--);if(d>m&&(d=m),m===0)return i[s++]=1<<24|64<<16|0,i[s++]=1<<24|64<<16|0,o.bits=1,0;for(h=1;h<m&&$[h]===0;h++);for(d<h&&(d=h),b=1,c=1;c<=cd;c++)if(b<<=1,b-=$[c],b<0)return-1;if(b>0&&(t===_6||m!==1))return-1;for(q[1]=0,c=1;c<cd;c++)q[c+1]=q[c]+$[c];for(f=0;f<n;f++)e[r+f]!==0&&(a[q[e[r+f]]++]=f);if(t===_6?(H=R=a,F=20):t===J5?(H=Fle,R=Ule,F=257):(H=Ole,R=Lle,F=0),B=0,f=0,c=h,D=s,g=d,v=0,k=-1,w=1<<d,M=w-1,t===J5&&w>S6||t===k6&&w>E6)return 1;for(;;){G=c-v,a[f]+1<F?(U=0,ae=a[f]):a[f]>=F?(U=R[a[f]-F],ae=H[a[f]-F]):(U=96,ae=0),S=1<<c-v,C=1<<g,h=C;do C-=S,i[D+(B>>v)+C]=G<<24|U<<16|ae|0;while(C!==0);for(S=1<<c-1;B&S;)S>>=1;if(S!==0?(B&=S-1,B+=S):B=0,f++,--$[c]===0){if(c===m)break;c=e[r+a[f]]}if(c>d&&(B&M)!==k){for(v===0&&(v=d),D+=h,g=c-v,b=1<<g;g+v<m&&(b-=$[g+v],!(b<=0));)g++,b<<=1;if(w+=1<<g,t===J5&&w>S6||t===k6&&w>E6)return 1;k=B&M,i[k]=d<<24|g<<16|D-s|0}}return B!==0&&(i[D+B]=c-v<<24|64<<16|0),o.bits=d,0};var tg=Dle;const Ile=0,wQ=1,vQ=2,{Z_FINISH:T6,Z_BLOCK:Rle,Z_TREES:Ly,Z_OK:eh,Z_STREAM_END:Mle,Z_NEED_DICT:Qle,Z_STREAM_ERROR:ko,Z_DATA_ERROR:bQ,Z_MEM_ERROR:xQ,Z_BUF_ERROR:Hle,Z_DEFLATED:N6}=mQ,Ov=16180,F6=16181,U6=16182,O6=16183,L6=16184,D6=16185,I6=16186,R6=16187,M6=16188,Q6=16189,Uw=16190,PA=16191,X5=16192,H6=16193,Z5=16194,j6=16195,P6=16196,z6=16197,K6=16198,Dy=16199,Iy=16200,V6=16201,q6=16202,G6=16203,W6=16204,$6=16205,eB=16206,Y6=16207,J6=16208,Ln=16209,BQ=16210,CQ=16211,jle=852,Ple=592,zle=15,Kle=zle,X6=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function Vle(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const oh=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<Ov||e.mode>CQ?1:0},SQ=t=>{if(oh(t))return ko;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=Ov,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(jle),e.distcode=e.distdyn=new Int32Array(Ple),e.sane=1,e.back=-1,eh},EQ=t=>{if(oh(t))return ko;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,SQ(t)},_Q=(t,e)=>{let r;if(oh(t))return ko;const n=t.state;return e<0?(r=0,e=-e):(r=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?ko:(n.window!==null&&n.wbits!==e&&(n.window=null),n.wrap=r,n.wbits=e,EQ(t))},kQ=(t,e)=>{if(!t)return ko;const r=new Vle;t.state=r,r.strm=t,r.window=null,r.mode=Ov;const n=_Q(t,e);return n!==eh&&(t.state=null),n},qle=t=>kQ(t,Kle);let Z6=!0,tB,rB;const Gle=t=>{if(Z6){tB=new Int32Array(512),rB=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(tg(wQ,t.lens,0,288,tB,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;tg(vQ,t.lens,0,32,rB,0,t.work,{bits:5}),Z6=!1}t.lencode=tB,t.lenbits=9,t.distcode=rB,t.distbits=5},TQ=(t,e,r,n)=>{let i;const s=t.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),n>=s.wsize?(s.window.set(e.subarray(r-s.wsize,r),0),s.wnext=0,s.whave=s.wsize):(i=s.wsize-s.wnext,i>n&&(i=n),s.window.set(e.subarray(r-n,r-n+i),s.wnext),n-=i,n?(s.window.set(e.subarray(r-n,r),0),s.wnext=n,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0},Wle=(t,e)=>{let r,n,i,s,a,o,l,c,f,h,m,d,g,v,b=0,w,B,S,C,k,M,D,H;const F=new Uint8Array(4);let $,q;const R=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(oh(t)||!t.output||!t.input&&t.avail_in!==0)return ko;r=t.state,r.mode===PA&&(r.mode=X5),a=t.next_out,i=t.output,l=t.avail_out,s=t.next_in,n=t.input,o=t.avail_in,c=r.hold,f=r.bits,h=o,m=l,H=eh;e:for(;;)switch(r.mode){case Ov:if(r.wrap===0){r.mode=X5;break}for(;f<16;){if(o===0)break e;o--,c+=n[s++]<<f,f+=8}if(r.wrap&2&&c===35615){r.wbits===0&&(r.wbits=15),r.check=0,F[0]=c&255,F[1]=c>>>8&255,r.check=jl(r.check,F,2,0),c=0,f=0,r.mode=F6;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((c&255)<<8)+(c>>8))%31){t.msg="incorrect header check",r.mode=Ln;break}if((c&15)!==N6){t.msg="unknown compression method",r.mode=Ln;break}if(c>>>=4,f-=4,D=(c&15)+8,r.wbits===0&&(r.wbits=D),D>15||D>r.wbits){t.msg="invalid window size",r.mode=Ln;break}r.dmax=1<<r.wbits,r.flags=0,t.adler=r.check=1,r.mode=c&512?Q6:PA,c=0,f=0;break;case F6:for(;f<16;){if(o===0)break e;o--,c+=n[s++]<<f,f+=8}if(r.flags=c,(r.flags&255)!==N6){t.msg="unknown compression method",r.mode=Ln;break}if(r.flags&57344){t.msg="unknown header flags set",r.mode=Ln;break}r.head&&(r.head.text=c>>8&1),r.flags&512&&r.wrap&4&&(F[0]=c&255,F[1]=c>>>8&255,r.check=jl(r.check,F,2,0)),c=0,f=0,r.mode=U6;case U6:for(;f<32;){if(o===0)break e;o--,c+=n[s++]<<f,f+=8}r.head&&(r.head.time=c),r.flags&512&&r.wrap&4&&(F[0]=c&255,F[1]=c>>>8&255,F[2]=c>>>16&255,F[3]=c>>>24&255,r.check=jl(r.check,F,4,0)),c=0,f=0,r.mode=O6;case O6:for(;f<16;){if(o===0)break e;o--,c+=n[s++]<<f,f+=8}r.head&&(r.head.xflags=c&255,r.head.os=c>>8),r.flags&512&&r.wrap&4&&(F[0]=c&255,F[1]=c>>>8&255,r.check=jl(r.check,F,2,0)),c=0,f=0,r.mode=L6;case L6:if(r.flags&1024){for(;f<16;){if(o===0)break e;o--,c+=n[s++]<<f,f+=8}r.length=c,r.head&&(r.head.extra_len=c),r.flags&512&&r.wrap&4&&(F[0]=c&255,F[1]=c>>>8&255,r.check=jl(r.check,F,2,0)),c=0,f=0}else r.head&&(r.head.extra=null);r.mode=D6;case D6:if(r.flags&1024&&(d=r.length,d>o&&(d=o),d&&(r.head&&(D=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(s,s+d),D)),r.flags&512&&r.wrap&4&&(r.check=jl(r.check,n,d,s)),o-=d,s+=d,r.length-=d),r.length))break e;r.length=0,r.mode=I6;case I6:if(r.flags&2048){if(o===0)break e;d=0;do D=n[s+d++],r.head&&D&&r.length<65536&&(r.head.name+=String.fromCharCode(D));while(D&&d<o);if(r.flags&512&&r.wrap&4&&(r.check=jl(r.check,n,d,s)),o-=d,s+=d,D)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=R6;case R6:if(r.flags&4096){if(o===0)break e;d=0;do D=n[s+d++],r.head&&D&&r.length<65536&&(r.head.comment+=String.fromCharCode(D));while(D&&d<o);if(r.flags&512&&r.wrap&4&&(r.check=jl(r.check,n,d,s)),o-=d,s+=d,D)break e}else r.head&&(r.head.comment=null);r.mode=M6;case M6:if(r.flags&512){for(;f<16;){if(o===0)break e;o--,c+=n[s++]<<f,f+=8}if(r.wrap&4&&c!==(r.check&65535)){t.msg="header crc mismatch",r.mode=Ln;break}c=0,f=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=PA;break;case Q6:for(;f<32;){if(o===0)break e;o--,c+=n[s++]<<f,f+=8}t.adler=r.check=X6(c),c=0,f=0,r.mode=Uw;case Uw:if(r.havedict===0)return t.next_out=a,t.avail_out=l,t.next_in=s,t.avail_in=o,r.hold=c,r.bits=f,Qle;t.adler=r.check=1,r.mode=PA;case PA:if(e===Rle||e===Ly)break e;case X5:if(r.last){c>>>=f&7,f-=f&7,r.mode=eB;break}for(;f<3;){if(o===0)break e;o--,c+=n[s++]<<f,f+=8}switch(r.last=c&1,c>>>=1,f-=1,c&3){case 0:r.mode=H6;break;case 1:if(Gle(r),r.mode=Dy,e===Ly){c>>>=2,f-=2;break e}break;case 2:r.mode=P6;break;case 3:t.msg="invalid block type",r.mode=Ln}c>>>=2,f-=2;break;case H6:for(c>>>=f&7,f-=f&7;f<32;){if(o===0)break e;o--,c+=n[s++]<<f,f+=8}if((c&65535)!==(c>>>16^65535)){t.msg="invalid stored block lengths",r.mode=Ln;break}if(r.length=c&65535,c=0,f=0,r.mode=Z5,e===Ly)break e;case Z5:r.mode=j6;case j6:if(d=r.length,d){if(d>o&&(d=o),d>l&&(d=l),d===0)break e;i.set(n.subarray(s,s+d),a),o-=d,s+=d,l-=d,a+=d,r.length-=d;break}r.mode=PA;break;case P6:for(;f<14;){if(o===0)break e;o--,c+=n[s++]<<f,f+=8}if(r.nlen=(c&31)+257,c>>>=5,f-=5,r.ndist=(c&31)+1,c>>>=5,f-=5,r.ncode=(c&15)+4,c>>>=4,f-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=Ln;break}r.have=0,r.mode=z6;case z6:for(;r.have<r.ncode;){for(;f<3;){if(o===0)break e;o--,c+=n[s++]<<f,f+=8}r.lens[R[r.have++]]=c&7,c>>>=3,f-=3}for(;r.have<19;)r.lens[R[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,$={bits:r.lenbits},H=tg(Ile,r.lens,0,19,r.lencode,0,r.work,$),r.lenbits=$.bits,H){t.msg="invalid code lengths set",r.mode=Ln;break}r.have=0,r.mode=K6;case K6:for(;r.have<r.nlen+r.ndist;){for(;b=r.lencode[c&(1<<r.lenbits)-1],w=b>>>24,B=b>>>16&255,S=b&65535,!(w<=f);){if(o===0)break e;o--,c+=n[s++]<<f,f+=8}if(S<16)c>>>=w,f-=w,r.lens[r.have++]=S;else{if(S===16){for(q=w+2;f<q;){if(o===0)break e;o--,c+=n[s++]<<f,f+=8}if(c>>>=w,f-=w,r.have===0){t.msg="invalid bit length repeat",r.mode=Ln;break}D=r.lens[r.have-1],d=3+(c&3),c>>>=2,f-=2}else if(S===17){for(q=w+3;f<q;){if(o===0)break e;o--,c+=n[s++]<<f,f+=8}c>>>=w,f-=w,D=0,d=3+(c&7),c>>>=3,f-=3}else{for(q=w+7;f<q;){if(o===0)break e;o--,c+=n[s++]<<f,f+=8}c>>>=w,f-=w,D=0,d=11+(c&127),c>>>=7,f-=7}if(r.have+d>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=Ln;break}for(;d--;)r.lens[r.have++]=D}}if(r.mode===Ln)break;if(r.lens[256]===0){t.msg="invalid code -- missing end-of-block",r.mode=Ln;break}if(r.lenbits=9,$={bits:r.lenbits},H=tg(wQ,r.lens,0,r.nlen,r.lencode,0,r.work,$),r.lenbits=$.bits,H){t.msg="invalid literal/lengths set",r.mode=Ln;break}if(r.distbits=6,r.distcode=r.distdyn,$={bits:r.distbits},H=tg(vQ,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,$),r.distbits=$.bits,H){t.msg="invalid distances set",r.mode=Ln;break}if(r.mode=Dy,e===Ly)break e;case Dy:r.mode=Iy;case Iy:if(o>=6&&l>=258){t.next_out=a,t.avail_out=l,t.next_in=s,t.avail_in=o,r.hold=c,r.bits=f,Nle(t,m),a=t.next_out,i=t.output,l=t.avail_out,s=t.next_in,n=t.input,o=t.avail_in,c=r.hold,f=r.bits,r.mode===PA&&(r.back=-1);break}for(r.back=0;b=r.lencode[c&(1<<r.lenbits)-1],w=b>>>24,B=b>>>16&255,S=b&65535,!(w<=f);){if(o===0)break e;o--,c+=n[s++]<<f,f+=8}if(B&&(B&240)===0){for(C=w,k=B,M=S;b=r.lencode[M+((c&(1<<C+k)-1)>>C)],w=b>>>24,B=b>>>16&255,S=b&65535,!(C+w<=f);){if(o===0)break e;o--,c+=n[s++]<<f,f+=8}c>>>=C,f-=C,r.back+=C}if(c>>>=w,f-=w,r.back+=w,r.length=S,B===0){r.mode=$6;break}if(B&32){r.back=-1,r.mode=PA;break}if(B&64){t.msg="invalid literal/length code",r.mode=Ln;break}r.extra=B&15,r.mode=V6;case V6:if(r.extra){for(q=r.extra;f<q;){if(o===0)break e;o--,c+=n[s++]<<f,f+=8}r.length+=c&(1<<r.extra)-1,c>>>=r.extra,f-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=q6;case q6:for(;b=r.distcode[c&(1<<r.distbits)-1],w=b>>>24,B=b>>>16&255,S=b&65535,!(w<=f);){if(o===0)break e;o--,c+=n[s++]<<f,f+=8}if((B&240)===0){for(C=w,k=B,M=S;b=r.distcode[M+((c&(1<<C+k)-1)>>C)],w=b>>>24,B=b>>>16&255,S=b&65535,!(C+w<=f);){if(o===0)break e;o--,c+=n[s++]<<f,f+=8}c>>>=C,f-=C,r.back+=C}if(c>>>=w,f-=w,r.back+=w,B&64){t.msg="invalid distance code",r.mode=Ln;break}r.offset=S,r.extra=B&15,r.mode=G6;case G6:if(r.extra){for(q=r.extra;f<q;){if(o===0)break e;o--,c+=n[s++]<<f,f+=8}r.offset+=c&(1<<r.extra)-1,c>>>=r.extra,f-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=Ln;break}r.mode=W6;case W6:if(l===0)break e;if(d=m-l,r.offset>d){if(d=r.offset-d,d>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=Ln;break}d>r.wnext?(d-=r.wnext,g=r.wsize-d):g=r.wnext-d,d>r.length&&(d=r.length),v=r.window}else v=i,g=a-r.offset,d=r.length;d>l&&(d=l),l-=d,r.length-=d;do i[a++]=v[g++];while(--d);r.length===0&&(r.mode=Iy);break;case $6:if(l===0)break e;i[a++]=r.length,l--,r.mode=Iy;break;case eB:if(r.wrap){for(;f<32;){if(o===0)break e;o--,c|=n[s++]<<f,f+=8}if(m-=l,t.total_out+=m,r.total+=m,r.wrap&4&&m&&(t.adler=r.check=r.flags?jl(r.check,i,m,a-m):mS(r.check,i,m,a-m)),m=l,r.wrap&4&&(r.flags?c:X6(c))!==r.check){t.msg="incorrect data check",r.mode=Ln;break}c=0,f=0}r.mode=Y6;case Y6:if(r.wrap&&r.flags){for(;f<32;){if(o===0)break e;o--,c+=n[s++]<<f,f+=8}if(r.wrap&4&&c!==(r.total&4294967295)){t.msg="incorrect length check",r.mode=Ln;break}c=0,f=0}r.mode=J6;case J6:H=Mle;break e;case Ln:H=bQ;break e;case BQ:return xQ;case CQ:default:return ko}return t.next_out=a,t.avail_out=l,t.next_in=s,t.avail_in=o,r.hold=c,r.bits=f,(r.wsize||m!==t.avail_out&&r.mode<Ln&&(r.mode<eB||e!==T6))&&TQ(t,t.output,t.next_out,m-t.avail_out),h-=t.avail_in,m-=t.avail_out,t.total_in+=h,t.total_out+=m,r.total+=m,r.wrap&4&&m&&(t.adler=r.check=r.flags?jl(r.check,i,m,t.next_out-m):mS(r.check,i,m,t.next_out-m)),t.data_type=r.bits+(r.last?64:0)+(r.mode===PA?128:0)+(r.mode===Dy||r.mode===Z5?256:0),(h===0&&m===0||e===T6)&&H===eh&&(H=Hle),H},$le=t=>{if(oh(t))return ko;let e=t.state;return e.window&&(e.window=null),t.state=null,eh},Yle=(t,e)=>{if(oh(t))return ko;const r=t.state;return(r.wrap&2)===0?ko:(r.head=e,e.done=!1,eh)},Jle=(t,e)=>{const r=e.length;let n,i,s;return oh(t)||(n=t.state,n.wrap!==0&&n.mode!==Uw)?ko:n.mode===Uw&&(i=1,i=mS(i,e,r,0),i!==n.check)?bQ:(s=TQ(t,e,r,r),s?(n.mode=BQ,xQ):(n.havedict=1,eh))};var Xle=EQ,Zle=_Q,eAe=SQ,tAe=qle,rAe=kQ,nAe=Wle,iAe=$le,sAe=Yle,aAe=Jle,oAe="pako inflate (from Nodeca project)",$A={inflateReset:Xle,inflateReset2:Zle,inflateResetKeep:eAe,inflateInit:tAe,inflateInit2:rAe,inflate:nAe,inflateEnd:iAe,inflateGetHeader:sAe,inflateSetDictionary:aAe,inflateInfo:oAe};function lAe(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var AAe=lAe;const NQ=Object.prototype.toString,{Z_NO_FLUSH:cAe,Z_FINISH:uAe,Z_OK:Ug,Z_STREAM_END:nB,Z_NEED_DICT:iB,Z_STREAM_ERROR:fAe,Z_DATA_ERROR:eO,Z_MEM_ERROR:hAe}=mQ;function Zg(t){this.options=gQ.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new kle,this.strm.avail_out=0;let r=$A.inflateInit2(this.strm,e.windowBits);if(r!==Ug)throw new Error(gS[r]);if(this.header=new AAe,$A.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=yS.string2buf(e.dictionary):NQ.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(r=$A.inflateSetDictionary(this.strm,e.dictionary),r!==Ug)))throw new Error(gS[r])}Zg.prototype.push=function(t,e){const r=this.strm,n=this.options.chunkSize,i=this.options.dictionary;let s,a,o;if(this.ended)return!1;for(e===~~e?a=e:a=e===!0?uAe:cAe,NQ.call(t)==="[object ArrayBuffer]"?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),s=$A.inflate(r,a),s===iB&&i&&(s=$A.inflateSetDictionary(r,i),s===Ug?s=$A.inflate(r,a):s===eO&&(s=iB));r.avail_in>0&&s===nB&&r.state.wrap>0&&t[r.next_in]!==0;)$A.inflateReset(r),s=$A.inflate(r,a);switch(s){case fAe:case eO:case iB:case hAe:return this.onEnd(s),this.ended=!0,!1}if(o=r.avail_out,r.next_out&&(r.avail_out===0||s===nB))if(this.options.to==="string"){let l=yS.utf8border(r.output,r.next_out),c=r.next_out-l,f=yS.buf2string(r.output,l);r.next_out=c,r.avail_out=n-c,c&&r.output.set(r.output.subarray(l,l+c),0),this.onData(f)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(s===Ug&&o===0)){if(s===nB)return s=$A.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};Zg.prototype.onData=function(t){this.chunks.push(t)};Zg.prototype.onEnd=function(t){t===Ug&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=gQ.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function dAe(t,e){const r=new Zg(e);if(r.push(t),r.err)throw r.msg||gS[r.err];return r.result}var pAe=Zg,mAe=dAe,gAe={Inflate:pAe,inflate:mAe};const{Inflate:yAe,inflate:wAe}=gAe;var tO=yAe,vAe=wAe;const FQ=[];for(let t=0;t<256;t++){let e=t;for(let r=0;r<8;r++)e&1?e=3988292384^e>>>1:e=e>>>1;FQ[t]=e}const rO=4294967295;function bAe(t,e,r){let n=t;for(let i=0;i<r;i++)n=FQ[(n^e[i])&255]^n>>>8;return n}function xAe(t,e){return(bAe(rO,t,e)^rO)>>>0}function nO(t,e,r){const n=t.readUint32(),i=xAe(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(i!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${i}`)}function UQ(t,e,r){for(let n=0;n<r;n++)e[n]=t[n]}function OQ(t,e,r,n){let i=0;for(;i<n;i++)e[i]=t[i];for(;i<r;i++)e[i]=t[i]+e[i-n]&255}function LQ(t,e,r,n){let i=0;if(r.length===0)for(;i<n;i++)e[i]=t[i];else for(;i<n;i++)e[i]=t[i]+r[i]&255}function DQ(t,e,r,n,i){let s=0;if(r.length===0){for(;s<i;s++)e[s]=t[s];for(;s<n;s++)e[s]=t[s]+(e[s-i]>>1)&255}else{for(;s<i;s++)e[s]=t[s]+(r[s]>>1)&255;for(;s<n;s++)e[s]=t[s]+(e[s-i]+r[s]>>1)&255}}function IQ(t,e,r,n,i){let s=0;if(r.length===0){for(;s<i;s++)e[s]=t[s];for(;s<n;s++)e[s]=t[s]+e[s-i]&255}else{for(;s<i;s++)e[s]=t[s]+r[s]&255;for(;s<n;s++)e[s]=t[s]+BAe(e[s-i],r[s],r[s-i])&255}}function BAe(t,e,r){const n=t+e-r,i=Math.abs(n-t),s=Math.abs(n-e),a=Math.abs(n-r);return i<=s&&i<=a?t:s<=a?e:r}function CAe(t,e,r,n,i,s){switch(t){case 0:UQ(e,r,i);break;case 1:OQ(e,r,i,s);break;case 2:LQ(e,r,n,i);break;case 3:DQ(e,r,n,i,s);break;case 4:IQ(e,r,n,i,s);break;default:throw new Error(`Unsupported filter: ${t}`)}}const SAe=new Uint16Array([255]),EAe=new Uint8Array(SAe.buffer),_Ae=EAe[0]===255;function kAe(t){const{data:e,width:r,height:n,channels:i,depth:s}=t,a=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],o=Math.ceil(s/8)*i,l=new Uint8Array(n*r*o);let c=0;for(let f=0;f<7;f++){const h=a[f],m=Math.ceil((r-h.x)/h.xStep),d=Math.ceil((n-h.y)/h.yStep);if(m<=0||d<=0)continue;const g=m*o,v=new Uint8Array(g);for(let b=0;b<d;b++){const w=e[c++],B=e.subarray(c,c+g);c+=g;const S=new Uint8Array(g);CAe(w,B,S,v,g,o),v.set(S);for(let C=0;C<m;C++){const k=h.x+C*h.xStep,M=h.y+b*h.yStep;if(!(k>=r||M>=n))for(let D=0;D<o;D++)l[(M*r+k)*o+D]=S[C*o+D]}}}if(s===16){const f=new Uint16Array(l.buffer);if(_Ae)for(let h=0;h<f.length;h++)f[h]=TAe(f[h]);return f}else return l}function TAe(t){return(t&255)<<8|t>>8&255}const NAe=new Uint16Array([255]),FAe=new Uint8Array(NAe.buffer),UAe=FAe[0]===255,OAe=new Uint8Array(0);function iO(t){const{data:e,width:r,height:n,channels:i,depth:s}=t,a=Math.ceil(s/8)*i,o=Math.ceil(s/8*i*r),l=new Uint8Array(n*o);let c=OAe,f=0,h,m;for(let d=0;d<n;d++){switch(h=e.subarray(f+1,f+1+o),m=l.subarray(d*o,(d+1)*o),e[f]){case 0:UQ(h,m,o);break;case 1:OQ(h,m,o,a);break;case 2:LQ(h,m,c,o);break;case 3:DQ(h,m,c,o,a);break;case 4:IQ(h,m,c,o,a);break;default:throw new Error(`Unsupported filter: ${e[f]}`)}c=m,f+=o+1}if(s===16){const d=new Uint16Array(l.buffer);if(UAe)for(let g=0;g<d.length;g++)d[g]=LAe(d[g]);return d}else return l}function LAe(t){return(t&255)<<8|t>>8&255}const b1=Uint8Array.of(137,80,78,71,13,10,26,10);function sO(t){if(!DAe(t.readBytes(b1.length)))throw new Error("wrong PNG signature")}function DAe(t){if(t.length<b1.length)return!1;for(let e=0;e<b1.length;e++)if(t[e]!==b1[e])return!1;return!0}const IAe="tEXt",RAe=0,RQ=new TextDecoder("latin1");function MAe(t){if(HAe(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const QAe=/^[\u0000-\u00FF]*$/;function HAe(t){if(!QAe.test(t))throw new Error("invalid latin1 text")}function jAe(t,e,r){const n=MQ(e);t[n]=PAe(e,r-n.length-1)}function MQ(t){for(t.mark();t.readByte()!==RAe;);const e=t.offset;t.reset();const r=RQ.decode(t.readBytes(e-t.offset-1));return t.skip(1),MAe(r),r}function PAe(t,e){return RQ.decode(t.readBytes(e))}const Qa={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},sB={UNKNOWN:-1,DEFLATE:0},aO={UNKNOWN:-1,ADAPTIVE:0},aB={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Ry={NONE:0,BACKGROUND:1,PREVIOUS:2},oB={SOURCE:0,OVER:1};class zAe extends b_{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(e,r={}){super(e);const{checkCrc:n=!1}=r;this._checkCrc=n,this._inflator=new tO,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=sB.UNKNOWN,this._filterMethod=aO.UNKNOWN,this._interlaceMethod=aB.UNKNOWN,this._colorType=Qa.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(sO(this);!this._end;){const e=this.readUint32(),r=this.readChars(4);this.decodeChunk(e,r)}return this.decodeImage(),this._png}decodeApng(){for(sO(this);!this._end;){const e=this.readUint32(),r=this.readChars(4);this.decodeApngChunk(e,r)}return this.decodeApngImage(),this._apng}decodeChunk(e,r){const n=this.offset;switch(r){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case IAe:jAe(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e);break}if(this.offset-n!==e)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?nO(this,e+4,r):this.skip(4)}decodeApngChunk(e,r){const n=this.offset;switch(r!=="fdAT"&&r!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),r){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,r),this.offset=n+e;break}if(this.offset-n!==e)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?nO(this,e+4,r):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=KAe(this.readUint8());const r=this.readUint8();this._colorType=r;let n;switch(r){case Qa.GREYSCALE:n=1;break;case Qa.TRUECOLOUR:n=3;break;case Qa.INDEXED_COLOUR:n=1;break;case Qa.GREYSCALE_ALPHA:n=2;break;case Qa.TRUECOLOUR_ALPHA:n=4;break;case Qa.UNKNOWN:default:throw new Error(`Unknown color type: ${r}`)}if(this._png.channels=n,this._compressionMethod=this.readUint8(),this._compressionMethod!==sB.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);const r=e/3;this._hasPalette=!0;const n=[];this._palette=n;for(let i=0;i<r;i++)n.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const r=e,n=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,n,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let r=e,n=this.offset+this.byteOffset;if(n+=4,r-=4,this._inflator.push(new Uint8Array(this.buffer,n,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case Qa.GREYSCALE:case Qa.TRUECOLOUR:{if(e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let r=0;r<e/2;r++)this._transparency[r]=this.readUint16();break}case Qa.INDEXED_COLOUR:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let r=0;for(;r<e;r++){const n=this.readByte();this._palette[r].push(n)}for(;r<this._palette.length;r++)this._palette[r].push(255);break}case Qa.UNKNOWN:case Qa.GREYSCALE_ALPHA:case Qa.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){const r=MQ(this),n=this.readUint8();if(n!==sB.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${n}`);const i=this.readBytes(e-r.length-2);this._png.iccEmbeddedProfile={name:r,profile:vAe(i)}}decodepHYs(){const e=this.readUint32(),r=this.readUint32(),n=this.readByte();this._png.resolution={x:e,y:r,unit:n}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const r={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},n=this._frames.at(e);if(n){if(n.data=iO({data:n.data,width:n.width,height:n.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),e===0||n.xOffset===0&&n.yOffset===0&&n.width===this._png.width&&n.height===this._png.height)r.data=n.data;else{const i=this._apng.frames.at(e-1);this.disposeFrame(n,i,r),this.addFrameDataToCanvas(r,n)}this._apng.frames.push(r)}}return this._apng}disposeFrame(e,r,n){switch(e.disposeOp){case Ry.NONE:break;case Ry.BACKGROUND:for(let i=0;i<this._png.height;i++)for(let s=0;s<this._png.width;s++){const a=(i*e.width+s)*this._png.channels;for(let o=0;o<this._png.channels;o++)n.data[a+o]=0}break;case Ry.PREVIOUS:n.data.set(r.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,r){const n=1<<this._png.depth,i=(s,a)=>{const o=((s+r.yOffset)*this._png.width+r.xOffset+a)*this._png.channels,l=(s*r.width+a)*this._png.channels;return{index:o,frameIndex:l}};switch(r.blendOp){case oB.SOURCE:for(let s=0;s<r.height;s++)for(let a=0;a<r.width;a++){const{index:o,frameIndex:l}=i(s,a);for(let c=0;c<this._png.channels;c++)e.data[o+c]=r.data[l+c]}break;case oB.OVER:for(let s=0;s<r.height;s++)for(let a=0;a<r.width;a++){const{index:o,frameIndex:l}=i(s,a);for(let c=0;c<this._png.channels;c++){const f=r.data[l+this._png.channels-1]/n,h=c%(this._png.channels-1)===0?1:r.data[l+c],m=Math.floor(f*h+(1-f)*e.data[o+c]);e.data[o+c]+=m}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const e=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==aO.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===aB.NO_INTERLACE)this._png.data=iO({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===aB.ADAM7)this._png.data=kAe({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,r=this._frames.at(-1);r?r.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Ry.NONE,blendOp:oB.SOURCE,data:e}),this._inflator=new tO,this._writingDataChunks=!1}}function KAe(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var oO;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(oO||(oO={}));function VAe(t,e){return new zAe(t,e).decode()}var nr=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function lB(){nr.console&&typeof nr.console.log=="function"&&nr.console.log.apply(nr.console,arguments)}var un={log:lB,warn:function(t){nr.console&&(typeof nr.console.warn=="function"?nr.console.warn.apply(nr.console,arguments):lB.call(null,arguments))},error:function(t){nr.console&&(typeof nr.console.error=="function"?nr.console.error.apply(nr.console,arguments):lB(t))}};function AB(t,e,r){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){Cf(n.response,e,r)},n.onerror=function(){un.error("could not download file")},n.send()}function lO(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function My(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var Cf=nr.saveAs||((typeof window>"u"?"undefined":Jr(window))!=="object"||window!==nr?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,r){var n=nr.URL||nr.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?lO(i.href)?AB(t,e,r):My(i,i.target="_blank"):My(i)):(i.href=n.createObjectURL(t),setTimeout(function(){n.revokeObjectURL(i.href)},4e4),setTimeout(function(){My(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,r){if(e=e||t.name||"download",typeof t=="string")if(lO(t))AB(t,e,r);else{var n=document.createElement("a");n.href=t,n.target="_blank",setTimeout(function(){My(n)})}else navigator.msSaveOrOpenBlob((function(i,s){return s===void 0?s={autoBom:!1}:Jr(s)!=="object"&&(un.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i})(t,r),e)}:function(t,e,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof t=="string")return AB(t,e,r);var i=t.type==="application/octet-stream",s=/constructor/i.test(nr.HTMLElement)||nr.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||i&&s)&&(typeof FileReader>"u"?"undefined":Jr(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var f=o.result;f=a?f:f.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=f:location=f,n=null},o.readAsDataURL(t)}else{var l=nr.URL||nr.webkitURL,c=l.createObjectURL(t);n?n.location=c:location.href=c,n=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});function QQ(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],n=0;n<r.length;n++){var i=r[n].re,s=r[n].process,a=i.exec(t);a&&(e=s(a),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return o.length==1&&(o="0"+o),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+o+l+c}}var x1=nr.atob.bind(nr),AO=nr.btoa.bind(nr);function cB(t,e){var r=t[0],n=t[1],i=t[2],s=t[3];r=Fs(r,n,i,s,e[0],7,-680876936),s=Fs(s,r,n,i,e[1],12,-389564586),i=Fs(i,s,r,n,e[2],17,606105819),n=Fs(n,i,s,r,e[3],22,-1044525330),r=Fs(r,n,i,s,e[4],7,-176418897),s=Fs(s,r,n,i,e[5],12,1200080426),i=Fs(i,s,r,n,e[6],17,-1473231341),n=Fs(n,i,s,r,e[7],22,-45705983),r=Fs(r,n,i,s,e[8],7,1770035416),s=Fs(s,r,n,i,e[9],12,-1958414417),i=Fs(i,s,r,n,e[10],17,-42063),n=Fs(n,i,s,r,e[11],22,-1990404162),r=Fs(r,n,i,s,e[12],7,1804603682),s=Fs(s,r,n,i,e[13],12,-40341101),i=Fs(i,s,r,n,e[14],17,-1502002290),r=Us(r,n=Fs(n,i,s,r,e[15],22,1236535329),i,s,e[1],5,-165796510),s=Us(s,r,n,i,e[6],9,-1069501632),i=Us(i,s,r,n,e[11],14,643717713),n=Us(n,i,s,r,e[0],20,-373897302),r=Us(r,n,i,s,e[5],5,-701558691),s=Us(s,r,n,i,e[10],9,38016083),i=Us(i,s,r,n,e[15],14,-660478335),n=Us(n,i,s,r,e[4],20,-405537848),r=Us(r,n,i,s,e[9],5,568446438),s=Us(s,r,n,i,e[14],9,-1019803690),i=Us(i,s,r,n,e[3],14,-187363961),n=Us(n,i,s,r,e[8],20,1163531501),r=Us(r,n,i,s,e[13],5,-1444681467),s=Us(s,r,n,i,e[2],9,-51403784),i=Us(i,s,r,n,e[7],14,1735328473),r=Os(r,n=Us(n,i,s,r,e[12],20,-1926607734),i,s,e[5],4,-378558),s=Os(s,r,n,i,e[8],11,-2022574463),i=Os(i,s,r,n,e[11],16,1839030562),n=Os(n,i,s,r,e[14],23,-35309556),r=Os(r,n,i,s,e[1],4,-1530992060),s=Os(s,r,n,i,e[4],11,1272893353),i=Os(i,s,r,n,e[7],16,-155497632),n=Os(n,i,s,r,e[10],23,-1094730640),r=Os(r,n,i,s,e[13],4,681279174),s=Os(s,r,n,i,e[0],11,-358537222),i=Os(i,s,r,n,e[3],16,-722521979),n=Os(n,i,s,r,e[6],23,76029189),r=Os(r,n,i,s,e[9],4,-640364487),s=Os(s,r,n,i,e[12],11,-421815835),i=Os(i,s,r,n,e[15],16,530742520),r=Ls(r,n=Os(n,i,s,r,e[2],23,-995338651),i,s,e[0],6,-198630844),s=Ls(s,r,n,i,e[7],10,1126891415),i=Ls(i,s,r,n,e[14],15,-1416354905),n=Ls(n,i,s,r,e[5],21,-57434055),r=Ls(r,n,i,s,e[12],6,1700485571),s=Ls(s,r,n,i,e[3],10,-1894986606),i=Ls(i,s,r,n,e[10],15,-1051523),n=Ls(n,i,s,r,e[1],21,-2054922799),r=Ls(r,n,i,s,e[8],6,1873313359),s=Ls(s,r,n,i,e[15],10,-30611744),i=Ls(i,s,r,n,e[6],15,-1560198380),n=Ls(n,i,s,r,e[13],21,1309151649),r=Ls(r,n,i,s,e[4],6,-145523070),s=Ls(s,r,n,i,e[11],10,-1120210379),i=Ls(i,s,r,n,e[2],15,718787259),n=Ls(n,i,s,r,e[9],21,-343485551),t[0]=hu(r,t[0]),t[1]=hu(n,t[1]),t[2]=hu(i,t[2]),t[3]=hu(s,t[3])}function Lv(t,e,r,n,i,s){return e=hu(hu(e,t),hu(n,s)),hu(e<<i|e>>>32-i,r)}function Fs(t,e,r,n,i,s,a){return Lv(e&r|~e&n,t,e,i,s,a)}function Us(t,e,r,n,i,s,a){return Lv(e&n|r&~n,t,e,i,s,a)}function Os(t,e,r,n,i,s,a){return Lv(e^r^n,t,e,i,s,a)}function Ls(t,e,r,n,i,s,a){return Lv(r^(e|~n),t,e,i,s,a)}function HQ(t){var e,r=t.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)cB(n,qAe(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(cB(n,i),e=0;e<16;e++)i[e]=0;return i[14]=8*r,cB(n,i),n}function qAe(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}var cO="0123456789abcdef".split("");function GAe(t){for(var e="",r=0;r<4;r++)e+=cO[t>>8*r+4&15]+cO[t>>8*r&15];return e}function WAe(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function wS(t){return HQ(t).map(WAe).join("")}var $Ae=(function(t){for(var e=0;e<t.length;e++)t[e]=GAe(t[e]);return t.join("")})(HQ("hello"))!="5d41402abc4b2a76b9719d911017c592";function hu(t,e){if($Ae){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}return t+e&4294967295}function vS(t,e){var r,n,i,s;if(t!==r){for(var a=(i=t,s=1+(256/t.length|0),new Array(s+1).join(i)),o=[],l=0;l<256;l++)o[l]=l;var c=0;for(l=0;l<256;l++){var f=o[l];c=(c+f+a.charCodeAt(l))%256,o[l]=o[c],o[c]=f}r=t,n=o}else o=n;var h=e.length,m=0,d=0,g="";for(l=0;l<h;l++)d=(d+(f=o[m=(m+1)%256]))%256,o[m]=o[d],o[d]=f,a=o[(o[m]+o[d])%256],g+=String.fromCharCode(e.charCodeAt(l)^a);return g}var uO={print:4,modify:8,copy:16,"annot-forms":32};function _d(t,e,r,n){this.v=1,this.r=2;var i=192;t.forEach(function(o){if(uO.perm!==void 0)throw new Error("Invalid permission: "+o);i+=uO[o]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(e+this.padding).substr(0,32),a=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,a),this.P=-(1+(255^i)),this.encryptionKey=wS(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=vS(this.encryptionKey,this.padding)}function kd(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",r=t.length,n=0;n<r;n++){var i=t.charCodeAt(n);e+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):t[n]}return e}function fO(t){if(Jr(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(r,n,i){if(i=i||!1,typeof r!="string"||typeof n!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(r)||(e[r]={});var s=Math.random().toString(35);return e[r][s]=[n,!!i],s},this.unsubscribe=function(r){for(var n in e)if(e[n][r])return delete e[n][r],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(r){if(e.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[r]){var a=e[r][s];try{a[0].apply(t,n)}catch(o){nr.console&&un.error("jsPDF PubSub Error",o.message,o)}a[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Ow(t){if(!(this instanceof Ow))return new Ow(t);var e="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&e.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function jQ(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function kf(t,e,r,n,i){if(!(this instanceof kf))return new kf(t,e,r,n,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=r,jQ.call(this,n,i)}function Qd(t,e,r,n,i){if(!(this instanceof Qd))return new Qd(t,e,r,n,i);this.boundingBox=t,this.xStep=e,this.yStep=r,this.stream="",this.cloneIndex=0,jQ.call(this,n,i)}function Mt(t){var e,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],i=arguments[2],s=arguments[3],a=[],o=1,l=16,c="S",f=null;Jr(t=t||{})==="object"&&(r=t.orientation,n=t.unit||n,i=t.format||i,s=t.compress||t.compressPdf||s,(f=t.encryption||null)!==null&&(f.userPassword=f.userPassword||"",f.ownerPassword=f.ownerPassword||"",f.userPermissions=f.userPermissions||[]),o=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),c=t.defaultPathOperation||"S"),a=t.filters||(s===!0?["FlateEncode"]:a),n=n||"mm",r=(""+(r||"P")).toLowerCase();var h=t.putOnlyUsedFonts||!1,m={},d={internal:{},__private__:{}};d.__private__.PubSub=fO;var g="1.3",v=d.__private__.getPdfVersion=function(){return g};d.__private__.setPdfVersion=function(j){g=j};var b={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};d.__private__.getPageFormats=function(){return b};var w=d.__private__.getPageFormat=function(j){return b[j]};i=i||"a4";var B="compat",S="advanced",C=B;function k(){this.saveGraphicsState(),ne(new Lt(Ot,0,0,-Ot,0,Ro()*Ot).toString()+" cm"),this.setFontSize(this.getFontSize()/Ot),c="n",C=S}function M(){this.restoreGraphicsState(),c="S",C=B}var D=d.__private__.combineFontStyleAndFontWeight=function(j,ce){if(j=="bold"&&ce=="normal"||j=="bold"&&ce==400||j=="normal"&&ce=="italic"||j=="bold"&&ce=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return ce&&(j=ce==400||ce==="normal"?j==="italic"?"italic":"normal":ce!=700&&ce!=="bold"||j!=="normal"?(ce==700?"bold":ce)+""+j:"bold"),j};d.advancedAPI=function(j){var ce=C===B;return ce&&k.call(this),typeof j!="function"||(j(this),ce&&M.call(this)),this},d.compatAPI=function(j){var ce=C===S;return ce&&M.call(this),typeof j!="function"||(j(this),ce&&k.call(this)),this},d.isAdvancedAPI=function(){return C===S};var H,F=function(j){if(C!==S)throw new Error(j+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},$=d.roundToPrecision=d.__private__.roundToPrecision=function(j,ce){var _e=e||ce;if(isNaN(j)||isNaN(_e))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return j.toFixed(_e).replace(/0+$/,"")};H=d.hpf=d.__private__.hpf=typeof l=="number"?function(j){if(isNaN(j))throw new Error("Invalid argument passed to jsPDF.hpf");return $(j,l)}:l==="smart"?function(j){if(isNaN(j))throw new Error("Invalid argument passed to jsPDF.hpf");return $(j,j>-1&&j<1?16:5)}:function(j){if(isNaN(j))throw new Error("Invalid argument passed to jsPDF.hpf");return $(j,16)};var q=d.f2=d.__private__.f2=function(j){if(isNaN(j))throw new Error("Invalid argument passed to jsPDF.f2");return $(j,2)},R=d.__private__.f3=function(j){if(isNaN(j))throw new Error("Invalid argument passed to jsPDF.f3");return $(j,3)},G=d.scale=d.__private__.scale=function(j){if(isNaN(j))throw new Error("Invalid argument passed to jsPDF.scale");return C===B?j*Ot:C===S?j:void 0},U=function(j){return G((function(ce){return C===B?Ro()-ce:C===S?ce:void 0})(j))};d.__private__.setPrecision=d.setPrecision=function(j){typeof parseInt(j,10)=="number"&&(e=parseInt(j,10))};var ae,re="00000000000000000000000000000000",Y=d.__private__.getFileId=function(){return re},he=d.__private__.setFileId=function(j){return re=j!==void 0&&/^[a-fA-F0-9]{32}$/.test(j)?j.toUpperCase():re.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),f!==null&&(Ai=new _d(f.userPermissions,f.userPassword,f.ownerPassword,re)),re};d.setFileId=function(j){return he(j),this},d.getFileId=function(){return Y()};var de=d.__private__.convertDateToPDFDate=function(j){var ce=j.getTimezoneOffset(),_e=ce<0?"+":"-",Fe=Math.floor(Math.abs(ce/60)),Ie=Math.abs(ce%60),Xe=[_e,te(Fe),"'",te(Ie),"'"].join("");return["D:",j.getFullYear(),te(j.getMonth()+1),te(j.getDate()),te(j.getHours()),te(j.getMinutes()),te(j.getSeconds()),Xe].join("")},Ce=d.__private__.convertPDFDateToDate=function(j){var ce=parseInt(j.substr(2,4),10),_e=parseInt(j.substr(6,2),10)-1,Fe=parseInt(j.substr(8,2),10),Ie=parseInt(j.substr(10,2),10),Xe=parseInt(j.substr(12,2),10),st=parseInt(j.substr(14,2),10);return new Date(ce,_e,Fe,Ie,Xe,st,0)},X=d.__private__.setCreationDate=function(j){var ce;if(j===void 0&&(j=new Date),j instanceof Date)ce=de(j);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(j))throw new Error("Invalid argument passed to jsPDF.setCreationDate");ce=j}return ae=ce},I=d.__private__.getCreationDate=function(j){var ce=ae;return j==="jsDate"&&(ce=Ce(ae)),ce};d.setCreationDate=function(j){return X(j),this},d.getCreationDate=function(j){return I(j)};var J,te=d.__private__.padd2=function(j){return("0"+parseInt(j)).slice(-2)},Ae=d.__private__.padd2Hex=function(j){return("00"+(j=j.toString())).substr(j.length)},se=0,Q=[],P=[],le=0,oe=[],ie=[],fe=!1,Te=P;d.__private__.setCustomOutputDestination=function(j){fe=!0,Te=j};var V=function(j){fe||(Te=j)};d.__private__.resetCustomOutputDestination=function(){fe=!1,Te=P};var ne=d.__private__.out=function(j){return j=j.toString(),le+=j.length+1,Te.push(j),Te},W=d.__private__.write=function(j){return ne(arguments.length===1?j.toString():Array.prototype.join.call(arguments," "))},L=d.__private__.getArrayBuffer=function(j){for(var ce=j.length,_e=new ArrayBuffer(ce),Fe=new Uint8Array(_e);ce--;)Fe[ce]=j.charCodeAt(ce);return _e},N=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];d.__private__.getStandardFonts=function(){return N};var z=t.fontSize||16;d.__private__.setFontSize=d.setFontSize=function(j){return z=C===S?j/Ot:j,this};var ge,Be=d.__private__.getFontSize=d.getFontSize=function(){return C===B?z:z*Ot},be=t.R2L||!1;d.__private__.setR2L=d.setR2L=function(j){return be=j,this},d.__private__.getR2L=d.getR2L=function(){return be};var Oe,je=d.__private__.setZoomMode=function(j){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(j))ge=j;else if(isNaN(j)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(j)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+j+'" is not recognized.');ge=j}else ge=parseInt(j,10)};d.__private__.getZoomMode=function(){return ge};var He,We=d.__private__.setPageMode=function(j){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(j)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+j+'" is not recognized.');Oe=j};d.__private__.getPageMode=function(){return Oe};var at=d.__private__.setLayoutMode=function(j){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(j)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+j+'" is not recognized.');He=j};d.__private__.getLayoutMode=function(){return He},d.__private__.setDisplayMode=d.setDisplayMode=function(j,ce,_e){return je(j),at(ce),We(_e),this};var ct={title:"",subject:"",author:"",keywords:"",creator:""};d.__private__.getDocumentProperty=function(j){if(Object.keys(ct).indexOf(j)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return ct[j]},d.__private__.getDocumentProperties=function(){return ct},d.__private__.setDocumentProperties=d.setProperties=d.setDocumentProperties=function(j){for(var ce in ct)ct.hasOwnProperty(ce)&&j[ce]&&(ct[ce]=j[ce]);return this},d.__private__.setDocumentProperty=function(j,ce){if(Object.keys(ct).indexOf(j)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return ct[j]=ce};var ft,Ot,mt,kr,yt,_t={},It={},Pt=[],Ve={},gt={},Bt={},Rt={},ur=null,Vt=0,dt=[],Xt=new fO(d),zi=t.hotfixes||[],cr={},Qn={},Es=[],Lt=function j(ce,_e,Fe,Ie,Xe,st){if(!(this instanceof j))return new j(ce,_e,Fe,Ie,Xe,st);isNaN(ce)&&(ce=1),isNaN(_e)&&(_e=0),isNaN(Fe)&&(Fe=0),isNaN(Ie)&&(Ie=1),isNaN(Xe)&&(Xe=0),isNaN(st)&&(st=0),this._matrix=[ce,_e,Fe,Ie,Xe,st]};Object.defineProperty(Lt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(j){this._matrix[0]=j}}),Object.defineProperty(Lt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(j){this._matrix[1]=j}}),Object.defineProperty(Lt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(j){this._matrix[2]=j}}),Object.defineProperty(Lt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(j){this._matrix[3]=j}}),Object.defineProperty(Lt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(j){this._matrix[4]=j}}),Object.defineProperty(Lt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(j){this._matrix[5]=j}}),Object.defineProperty(Lt.prototype,"a",{get:function(){return this._matrix[0]},set:function(j){this._matrix[0]=j}}),Object.defineProperty(Lt.prototype,"b",{get:function(){return this._matrix[1]},set:function(j){this._matrix[1]=j}}),Object.defineProperty(Lt.prototype,"c",{get:function(){return this._matrix[2]},set:function(j){this._matrix[2]=j}}),Object.defineProperty(Lt.prototype,"d",{get:function(){return this._matrix[3]},set:function(j){this._matrix[3]=j}}),Object.defineProperty(Lt.prototype,"e",{get:function(){return this._matrix[4]},set:function(j){this._matrix[4]=j}}),Object.defineProperty(Lt.prototype,"f",{get:function(){return this._matrix[5]},set:function(j){this._matrix[5]=j}}),Object.defineProperty(Lt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Lt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Lt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Lt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Lt.prototype.join=function(j){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(H).join(j)},Lt.prototype.multiply=function(j){var ce=j.sx*this.sx+j.shy*this.shx,_e=j.sx*this.shy+j.shy*this.sy,Fe=j.shx*this.sx+j.sy*this.shx,Ie=j.shx*this.shy+j.sy*this.sy,Xe=j.tx*this.sx+j.ty*this.shx+this.tx,st=j.tx*this.shy+j.ty*this.sy+this.ty;return new Lt(ce,_e,Fe,Ie,Xe,st)},Lt.prototype.decompose=function(){var j=this.sx,ce=this.shy,_e=this.shx,Fe=this.sy,Ie=this.tx,Xe=this.ty,st=Math.sqrt(j*j+ce*ce),St=(j/=st)*_e+(ce/=st)*Fe;_e-=j*St,Fe-=ce*St;var Nt=Math.sqrt(_e*_e+Fe*Fe);return St/=Nt,j*(Fe/=Nt)<ce*(_e/=Nt)&&(j=-j,ce=-ce,St=-St,st=-st),{scale:new Lt(st,0,0,Nt,0,0),translate:new Lt(1,0,0,1,Ie,Xe),rotate:new Lt(j,ce,-ce,j,0,0),skew:new Lt(1,0,St,1,0,0)}},Lt.prototype.toString=function(j){return this.join(" ")},Lt.prototype.inversed=function(){var j=this.sx,ce=this.shy,_e=this.shx,Fe=this.sy,Ie=this.tx,Xe=this.ty,st=1/(j*Fe-ce*_e),St=Fe*st,Nt=-ce*st,Zt=-_e*st,sr=j*st;return new Lt(St,Nt,Zt,sr,-St*Ie-Zt*Xe,-Nt*Ie-sr*Xe)},Lt.prototype.applyToPoint=function(j){var ce=j.x*this.sx+j.y*this.shx+this.tx,_e=j.x*this.shy+j.y*this.sy+this.ty;return new sa(ce,_e)},Lt.prototype.applyToRectangle=function(j){var ce=this.applyToPoint(j),_e=this.applyToPoint(new sa(j.x+j.w,j.y+j.h));return new Uo(ce.x,ce.y,_e.x-ce.x,_e.y-ce.y)},Lt.prototype.clone=function(){var j=this.sx,ce=this.shy,_e=this.shx,Fe=this.sy,Ie=this.tx,Xe=this.ty;return new Lt(j,ce,_e,Fe,Ie,Xe)},d.Matrix=Lt;var ra=d.matrixMult=function(j,ce){return ce.multiply(j)},Hs=new Lt(1,0,0,1,0,0);d.unitMatrix=d.identityMatrix=Hs;var Fi=function(j,ce){if(!gt[j]){var _e=(ce instanceof kf?"Sh":"P")+(Object.keys(Ve).length+1).toString(10);ce.id=_e,gt[j]=_e,Ve[_e]=ce,Xt.publish("addPattern",ce)}};d.ShadingPattern=kf,d.TilingPattern=Qd,d.addShadingPattern=function(j,ce){return F("addShadingPattern()"),Fi(j,ce),this},d.beginTilingPattern=function(j){F("beginTilingPattern()"),dA(j.boundingBox[0],j.boundingBox[1],j.boundingBox[2]-j.boundingBox[0],j.boundingBox[3]-j.boundingBox[1],j.matrix)},d.endTilingPattern=function(j,ce){F("endTilingPattern()"),ce.stream=ie[J].join(`
`),Fi(j,ce),Xt.publish("endTilingPattern",ce),Es.pop().restore()};var vi,zr=d.__private__.newObject=function(){var j=mn();return Tn(j,!0),j},mn=d.__private__.newObjectDeferred=function(){return se++,Q[se]=function(){return le},se},Tn=function(j,ce){return ce=typeof ce=="boolean"&&ce,Q[j]=le,ce&&ne(j+" 0 obj"),j},$a=d.__private__.newAdditionalObject=function(){var j={objId:mn(),content:""};return oe.push(j),j},li=mn(),Rr=mn(),on=d.__private__.decodeColorString=function(j){var ce=j.split(" ");if(ce.length!==2||ce[1]!=="g"&&ce[1]!=="G")ce.length!==5||ce[4]!=="k"&&ce[4]!=="K"||(ce=[(1-ce[0])*(1-ce[3]),(1-ce[1])*(1-ce[3]),(1-ce[2])*(1-ce[3]),"r"]);else{var _e=parseFloat(ce[0]);ce=[_e,_e,_e,"r"]}for(var Fe="#",Ie=0;Ie<3;Ie++)Fe+=("0"+Math.floor(255*parseFloat(ce[Ie])).toString(16)).slice(-2);return Fe},bi=d.__private__.encodeColorString=function(j){var ce;typeof j=="string"&&(j={ch1:j});var _e=j.ch1,Fe=j.ch2,Ie=j.ch3,Xe=j.ch4,st=j.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof _e=="string"&&_e.charAt(0)!=="#"){var St=new QQ(_e);if(St.ok)_e=St.toHex();else if(!/^\d*\.?\d*$/.test(_e))throw new Error('Invalid color "'+_e+'" passed to jsPDF.encodeColorString.')}if(typeof _e=="string"&&/^#[0-9A-Fa-f]{3}$/.test(_e)&&(_e="#"+_e[1]+_e[1]+_e[2]+_e[2]+_e[3]+_e[3]),typeof _e=="string"&&/^#[0-9A-Fa-f]{6}$/.test(_e)){var Nt=parseInt(_e.substr(1),16);_e=Nt>>16&255,Fe=Nt>>8&255,Ie=255&Nt}if(Fe===void 0||Xe===void 0&&_e===Fe&&Fe===Ie)ce=typeof _e=="string"?_e+" "+st[0]:j.precision===2?q(_e/255)+" "+st[0]:R(_e/255)+" "+st[0];else if(Xe===void 0||Jr(Xe)==="object"){if(Xe&&!isNaN(Xe.a)&&Xe.a===0)return["1.","1.","1.",st[1]].join(" ");ce=typeof _e=="string"?[_e,Fe,Ie,st[1]].join(" "):j.precision===2?[q(_e/255),q(Fe/255),q(Ie/255),st[1]].join(" "):[R(_e/255),R(Fe/255),R(Ie/255),st[1]].join(" ")}else ce=typeof _e=="string"?[_e,Fe,Ie,Xe,st[2]].join(" "):j.precision===2?[q(_e),q(Fe),q(Ie),q(Xe),st[2]].join(" "):[R(_e),R(Fe),R(Ie),R(Xe),st[2]].join(" ");return ce},Gt=d.__private__.getFilters=function(){return a},gr=d.__private__.putStream=function(j){var ce=(j=j||{}).data||"",_e=j.filters||Gt(),Fe=j.alreadyAppliedFilters||[],Ie=j.addLength1||!1,Xe=ce.length,st=j.objectId,St=function(ci){return ci};if(f!==null&&st===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");f!==null&&(St=Ai.encryptor(st,0));var Nt={};_e===!0&&(_e=["FlateEncode"]);var Zt=j.additionalKeyValues||[],sr=(Nt=Mt.API.processDataByFilters!==void 0?Mt.API.processDataByFilters(ce,_e):{data:ce,reverseChain:[]}).reverseChain+(Array.isArray(Fe)?Fe.join(" "):Fe.toString());if(Nt.data.length!==0&&(Zt.push({key:"Length",value:Nt.data.length}),Ie===!0&&Zt.push({key:"Length1",value:Xe})),sr.length!=0)if(sr.split("/").length-1==1)Zt.push({key:"Filter",value:sr});else{Zt.push({key:"Filter",value:"["+sr+"]"});for(var Sr=0;Sr<Zt.length;Sr+=1)if(Zt[Sr].key==="DecodeParms"){for(var xn=[],jn=0;jn<Nt.reverseChain.split("/").length-1;jn+=1)xn.push("null");xn.push(Zt[Sr].value),Zt[Sr].value="["+xn.join(" ")+"]"}}ne("<<");for(var Xr=0;Xr<Zt.length;Xr++)ne("/"+Zt[Xr].key+" "+Zt[Xr].value);ne(">>"),Nt.data.length!==0&&(ne("stream"),ne(St(Nt.data)),ne("endstream"))},Kr=d.__private__.putPage=function(j){var ce=j.number,_e=j.data,Fe=j.objId,Ie=j.contentsObjId;Tn(Fe,!0),ne("<</Type /Page"),ne("/Parent "+j.rootDictionaryObjId+" 0 R"),ne("/Resources "+j.resourceDictionaryObjId+" 0 R"),ne("/MediaBox ["+parseFloat(H(j.mediaBox.bottomLeftX))+" "+parseFloat(H(j.mediaBox.bottomLeftY))+" "+H(j.mediaBox.topRightX)+" "+H(j.mediaBox.topRightY)+"]"),j.cropBox!==null&&ne("/CropBox ["+H(j.cropBox.bottomLeftX)+" "+H(j.cropBox.bottomLeftY)+" "+H(j.cropBox.topRightX)+" "+H(j.cropBox.topRightY)+"]"),j.bleedBox!==null&&ne("/BleedBox ["+H(j.bleedBox.bottomLeftX)+" "+H(j.bleedBox.bottomLeftY)+" "+H(j.bleedBox.topRightX)+" "+H(j.bleedBox.topRightY)+"]"),j.trimBox!==null&&ne("/TrimBox ["+H(j.trimBox.bottomLeftX)+" "+H(j.trimBox.bottomLeftY)+" "+H(j.trimBox.topRightX)+" "+H(j.trimBox.topRightY)+"]"),j.artBox!==null&&ne("/ArtBox ["+H(j.artBox.bottomLeftX)+" "+H(j.artBox.bottomLeftY)+" "+H(j.artBox.topRightX)+" "+H(j.artBox.topRightY)+"]"),typeof j.userUnit=="number"&&j.userUnit!==1&&ne("/UserUnit "+j.userUnit),Xt.publish("putPage",{objId:Fe,pageContext:dt[ce],pageNumber:ce,page:_e}),ne("/Contents "+Ie+" 0 R"),ne(">>"),ne("endobj");var Xe=_e.join(`
`);return C===S&&(Xe+=`
Q`),Tn(Ie,!0),gr({data:Xe,filters:Gt(),objectId:Ie}),ne("endobj"),Fe},vn=d.__private__.putPages=function(){var j,ce,_e=[];for(j=1;j<=Vt;j++)dt[j].objId=mn(),dt[j].contentsObjId=mn();for(j=1;j<=Vt;j++)_e.push(Kr({number:j,data:ie[j],objId:dt[j].objId,contentsObjId:dt[j].contentsObjId,mediaBox:dt[j].mediaBox,cropBox:dt[j].cropBox,bleedBox:dt[j].bleedBox,trimBox:dt[j].trimBox,artBox:dt[j].artBox,userUnit:dt[j].userUnit,rootDictionaryObjId:li,resourceDictionaryObjId:Rr}));Tn(li,!0),ne("<</Type /Pages");var Fe="/Kids [";for(ce=0;ce<Vt;ce++)Fe+=_e[ce]+" 0 R ";ne(Fe+"]"),ne("/Count "+Vt),ne(">>"),ne("endobj"),Xt.publish("postPutPages")},bn=function(j){Xt.publish("putFont",{font:j,out:ne,newObject:zr,putStream:gr}),j.isAlreadyPutted!==!0&&(j.objectNumber=zr(),ne("<<"),ne("/Type /Font"),ne("/BaseFont /"+kd(j.postScriptName)),ne("/Subtype /Type1"),typeof j.encoding=="string"&&ne("/Encoding /"+j.encoding),ne("/FirstChar 32"),ne("/LastChar 255"),ne(">>"),ne("endobj"))},na=function(j){j.objectNumber=zr();var ce=[];ce.push({key:"Type",value:"/XObject"}),ce.push({key:"Subtype",value:"/Form"}),ce.push({key:"BBox",value:"["+[H(j.x),H(j.y),H(j.x+j.width),H(j.y+j.height)].join(" ")+"]"}),ce.push({key:"Matrix",value:"["+j.matrix.toString()+"]"});var _e=j.pages[1].join(`
`);gr({data:_e,additionalKeyValues:ce,objectId:j.objectNumber}),ne("endobj")},js=function(j,ce){ce||(ce=21);var _e=zr(),Fe=(function(st,St){var Nt,Zt=[],sr=1/(St-1);for(Nt=0;Nt<1;Nt+=sr)Zt.push(Nt);if(Zt.push(1),st[0].offset!=0){var Sr={offset:0,color:st[0].color};st.unshift(Sr)}if(st[st.length-1].offset!=1){var xn={offset:1,color:st[st.length-1].color};st.push(xn)}for(var jn="",Xr=0,ci=0;ci<Zt.length;ci++){for(Nt=Zt[ci];Nt>st[Xr+1].offset;)Xr++;var Gn=st[Xr].offset,Oi=(Nt-Gn)/(st[Xr+1].offset-Gn),Mo=st[Xr].color,Na=st[Xr+1].color;jn+=Ae(Math.round((1-Oi)*Mo[0]+Oi*Na[0]).toString(16))+Ae(Math.round((1-Oi)*Mo[1]+Oi*Na[1]).toString(16))+Ae(Math.round((1-Oi)*Mo[2]+Oi*Na[2]).toString(16))}return jn.trim()})(j.colors,ce),Ie=[];Ie.push({key:"FunctionType",value:"0"}),Ie.push({key:"Domain",value:"[0.0 1.0]"}),Ie.push({key:"Size",value:"["+ce+"]"}),Ie.push({key:"BitsPerSample",value:"8"}),Ie.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ie.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),gr({data:Fe,additionalKeyValues:Ie,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:_e}),ne("endobj"),j.objectNumber=zr(),ne("<< /ShadingType "+j.type),ne("/ColorSpace /DeviceRGB");var Xe="/Coords ["+H(parseFloat(j.coords[0]))+" "+H(parseFloat(j.coords[1]))+" ";j.type===2?Xe+=H(parseFloat(j.coords[2]))+" "+H(parseFloat(j.coords[3])):Xe+=H(parseFloat(j.coords[2]))+" "+H(parseFloat(j.coords[3]))+" "+H(parseFloat(j.coords[4]))+" "+H(parseFloat(j.coords[5])),ne(Xe+="]"),j.matrix&&ne("/Matrix ["+j.matrix.toString()+"]"),ne("/Function "+_e+" 0 R"),ne("/Extend [true true]"),ne(">>"),ne("endobj")},Ps=function(j,ce){var _e=mn(),Fe=zr();ce.push({resourcesOid:_e,objectOid:Fe}),j.objectNumber=Fe;var Ie=[];Ie.push({key:"Type",value:"/Pattern"}),Ie.push({key:"PatternType",value:"1"}),Ie.push({key:"PaintType",value:"1"}),Ie.push({key:"TilingType",value:"1"}),Ie.push({key:"BBox",value:"["+j.boundingBox.map(H).join(" ")+"]"}),Ie.push({key:"XStep",value:H(j.xStep)}),Ie.push({key:"YStep",value:H(j.yStep)}),Ie.push({key:"Resources",value:_e+" 0 R"}),j.matrix&&Ie.push({key:"Matrix",value:"["+j.matrix.toString()+"]"}),gr({data:j.stream,additionalKeyValues:Ie,objectId:j.objectNumber}),ne("endobj")},AA=function(j){for(var ce in j.objectNumber=zr(),ne("<<"),j)switch(ce){case"opacity":ne("/ca "+q(j[ce]));break;case"stroke-opacity":ne("/CA "+q(j[ce]))}ne(">>"),ne("endobj")},Ya=function(j){Tn(j.resourcesOid,!0),ne("<<"),ne("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var ce in ne("/Font <<"),_t)_t.hasOwnProperty(ce)&&(h===!1||h===!0&&m.hasOwnProperty(ce))&&ne("/"+ce+" "+_t[ce].objectNumber+" 0 R");ne(">>")})(),(function(){if(Object.keys(Ve).length>0){for(var ce in ne("/Shading <<"),Ve)Ve.hasOwnProperty(ce)&&Ve[ce]instanceof kf&&Ve[ce].objectNumber>=0&&ne("/"+ce+" "+Ve[ce].objectNumber+" 0 R");Xt.publish("putShadingPatternDict"),ne(">>")}})(),(function(ce){if(Object.keys(Ve).length>0){for(var _e in ne("/Pattern <<"),Ve)Ve.hasOwnProperty(_e)&&Ve[_e]instanceof d.TilingPattern&&Ve[_e].objectNumber>=0&&Ve[_e].objectNumber<ce&&ne("/"+_e+" "+Ve[_e].objectNumber+" 0 R");Xt.publish("putTilingPatternDict"),ne(">>")}})(j.objectOid),(function(){if(Object.keys(Bt).length>0){var ce;for(ce in ne("/ExtGState <<"),Bt)Bt.hasOwnProperty(ce)&&Bt[ce].objectNumber>=0&&ne("/"+ce+" "+Bt[ce].objectNumber+" 0 R");Xt.publish("putGStateDict"),ne(">>")}})(),(function(){for(var ce in ne("/XObject <<"),cr)cr.hasOwnProperty(ce)&&cr[ce].objectNumber>=0&&ne("/"+ce+" "+cr[ce].objectNumber+" 0 R");Xt.publish("putXobjectDict"),ne(">>")})(),ne(">>"),ne("endobj")},Hn=function(j){It[j.fontName]=It[j.fontName]||{},It[j.fontName][j.fontStyle]=j.id},Iu=function(j,ce,_e,Fe,Ie){var Xe={id:"F"+(Object.keys(_t).length+1).toString(10),postScriptName:j,fontName:ce,fontStyle:_e,encoding:Fe,isStandardFont:Ie||!1,metadata:{}};return Xt.publish("addFont",{font:Xe,instance:this}),_t[Xe.id]=Xe,Hn(Xe),Xe.id},zs=d.__private__.pdfEscape=d.pdfEscape=function(j,ce){return(function(_e,Fe){var Ie,Xe,st,St,Nt,Zt,sr,Sr,xn;if(st=(Fe=Fe||{}).sourceEncoding||"Unicode",Nt=Fe.outputEncoding,(Fe.autoencode||Nt)&&_t[ft].metadata&&_t[ft].metadata[st]&&_t[ft].metadata[st].encoding&&(St=_t[ft].metadata[st].encoding,!Nt&&_t[ft].encoding&&(Nt=_t[ft].encoding),!Nt&&St.codePages&&(Nt=St.codePages[0]),typeof Nt=="string"&&(Nt=St[Nt]),Nt)){for(sr=!1,Zt=[],Ie=0,Xe=_e.length;Ie<Xe;Ie++)(Sr=Nt[_e.charCodeAt(Ie)])?Zt.push(String.fromCharCode(Sr)):Zt.push(_e[Ie]),Zt[Ie].charCodeAt(0)>>8&&(sr=!0);_e=Zt.join("")}for(Ie=_e.length;sr===void 0&&Ie!==0;)_e.charCodeAt(Ie-1)>>8&&(sr=!0),Ie--;if(!sr)return _e;for(Zt=Fe.noBOM?[]:[254,255],Ie=0,Xe=_e.length;Ie<Xe;Ie++){if((xn=(Sr=_e.charCodeAt(Ie))>>8)>>8)throw new Error("Character at position "+Ie+" of string '"+_e+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Zt.push(xn),Zt.push(Sr-(xn<<8))}return String.fromCharCode.apply(void 0,Zt)})(j,ce).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ea=d.__private__.beginPage=function(j){ie[++Vt]=[],dt[Vt]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(j[0]),topRightY:Number(j[1])}},Mu(Vt),V(ie[J])},To=function(j,ce){var _e,Fe,Ie;switch(r=ce||r,typeof j=="string"&&(_e=w(j.toLowerCase()),Array.isArray(_e)&&(Fe=_e[0],Ie=_e[1])),Array.isArray(j)&&(Fe=j[0]*Ot,Ie=j[1]*Ot),isNaN(Fe)&&(Fe=i[0],Ie=i[1]),(Fe>14400||Ie>14400)&&(un.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Fe=Math.min(14400,Fe),Ie=Math.min(14400,Ie)),i=[Fe,Ie],r.substr(0,1)){case"l":Ie>Fe&&(i=[Ie,Fe]);break;case"p":Fe>Ie&&(i=[Ie,Fe])}Ea(i),Wt(uA),ne(qs),hc!==0&&ne(hc+" J"),xi!==0&&ne(xi+" j"),Xt.publish("addPage",{pageNumber:Vt})},Ru=function(j){j>0&&j<=Vt&&(ie.splice(j,1),dt.splice(j,1),Vt--,J>Vt&&(J=Vt),this.setPage(J))},Mu=function(j){j>0&&j<=Vt&&(J=j)},Qu=d.__private__.getNumberOfPages=d.getNumberOfPages=function(){return ie.length-1},Ah=function(j,ce,_e){var Fe,Ie=void 0;return _e=_e||{},j=j!==void 0?j:_t[ft].fontName,ce=ce!==void 0?ce:_t[ft].fontStyle,Fe=j.toLowerCase(),It[Fe]!==void 0&&It[Fe][ce]!==void 0?Ie=It[Fe][ce]:It[j]!==void 0&&It[j][ce]!==void 0?Ie=It[j][ce]:_e.disableWarning===!1&&un.warn("Unable to look up font label for font '"+j+"', '"+ce+"'. Refer to getFontList() for available fonts."),Ie||_e.noFallback||(Ie=It.times[ce])==null&&(Ie=It.times.normal),Ie},Ks=d.__private__.putInfo=function(){var j=zr(),ce=function(Fe){return Fe};for(var _e in f!==null&&(ce=Ai.encryptor(j,0)),ne("<<"),ne("/Producer ("+zs(ce("jsPDF "+Mt.version))+")"),ct)ct.hasOwnProperty(_e)&&ct[_e]&&ne("/"+_e.substr(0,1).toUpperCase()+_e.substr(1)+" ("+zs(ce(ct[_e]))+")");ne("/CreationDate ("+zs(ce(ae))+")"),ne(">>"),ne("endobj")},No=d.__private__.putCatalog=function(j){var ce=(j=j||{}).rootDictionaryObjId||li;switch(zr(),ne("<<"),ne("/Type /Catalog"),ne("/Pages "+ce+" 0 R"),ge||(ge="fullwidth"),ge){case"fullwidth":ne("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ne("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ne("/OpenAction [3 0 R /Fit]");break;case"original":ne("/OpenAction [3 0 R /XYZ null null 1]");break;default:var _e=""+ge;_e.substr(_e.length-1)==="%"&&(ge=parseInt(ge)/100),typeof ge=="number"&&ne("/OpenAction [3 0 R /XYZ null null "+q(ge)+"]")}switch(He||(He="continuous"),He){case"continuous":ne("/PageLayout /OneColumn");break;case"single":ne("/PageLayout /SinglePage");break;case"two":case"twoleft":ne("/PageLayout /TwoColumnLeft");break;case"tworight":ne("/PageLayout /TwoColumnRight")}Oe&&ne("/PageMode /"+Oe),Xt.publish("putCatalog"),ne(">>"),ne("endobj")},_a=d.__private__.putTrailer=function(){ne("trailer"),ne("<<"),ne("/Size "+(se+1)),ne("/Root "+se+" 0 R"),ne("/Info "+(se-1)+" 0 R"),f!==null&&ne("/Encrypt "+Ai.oid+" 0 R"),ne("/ID [ <"+re+"> <"+re+"> ]"),ne(">>")},Lr=d.__private__.putHeader=function(){ne("%PDF-"+g),ne("%")},Hu=d.__private__.putXRef=function(){var j="0000000000";ne("xref"),ne("0 "+(se+1)),ne("0000000000 65535 f ");for(var ce=1;ce<=se;ce++)typeof Q[ce]=="function"?ne((j+Q[ce]()).slice(-10)+" 00000 n "):Q[ce]!==void 0?ne((j+Q[ce]).slice(-10)+" 00000 n "):ne("0000000000 00000 n ")},Ja=d.__private__.buildDocument=function(){var j;se=0,le=0,P=[],Q=[],oe=[],li=mn(),Rr=mn(),V(P),Xt.publish("buildDocument"),Lr(),vn(),(function(){Xt.publish("putAdditionalObjects");for(var _e=0;_e<oe.length;_e++){var Fe=oe[_e];Tn(Fe.objId,!0),ne(Fe.content),ne("endobj")}Xt.publish("postPutAdditionalObjects")})(),j=[],(function(){for(var _e in _t)_t.hasOwnProperty(_e)&&(h===!1||h===!0&&m.hasOwnProperty(_e))&&bn(_t[_e])})(),(function(){var _e;for(_e in Bt)Bt.hasOwnProperty(_e)&&AA(Bt[_e])})(),(function(){for(var _e in cr)cr.hasOwnProperty(_e)&&na(cr[_e])})(),(function(_e){var Fe;for(Fe in Ve)Ve.hasOwnProperty(Fe)&&(Ve[Fe]instanceof kf?js(Ve[Fe]):Ve[Fe]instanceof Qd&&Ps(Ve[Fe],_e))})(j),Xt.publish("putResources"),j.forEach(Ya),Ya({resourcesOid:Rr,objectOid:Number.MAX_SAFE_INTEGER}),Xt.publish("postPutResources"),f!==null&&(Ai.oid=zr(),ne("<<"),ne("/Filter /Standard"),ne("/V "+Ai.v),ne("/R "+Ai.r),ne("/U <"+Ai.toHexString(Ai.U)+">"),ne("/O <"+Ai.toHexString(Ai.O)+">"),ne("/P "+Ai.P),ne(">>"),ne("endobj")),Ks(),No();var ce=le;return Hu(),_a(),ne("startxref"),ne(""+ce),ne("%%EOF"),V(ie[J]),P.join(`
`)},vl=d.__private__.getBlob=function(j){return new Blob([L(j)],{type:"application/pdf"})},ju=d.output=d.__private__.output=(vi=function(j,ce){switch(typeof(ce=ce||{})=="string"?ce={filename:ce}:ce.filename=ce.filename||"generated.pdf",j){case void 0:return Ja();case"save":d.save(ce.filename);break;case"arraybuffer":return L(Ja());case"blob":return vl(Ja());case"bloburi":case"bloburl":if(nr.URL!==void 0&&typeof nr.URL.createObjectURL=="function")return nr.URL&&nr.URL.createObjectURL(vl(Ja()))||void 0;un.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var _e="",Fe=Ja();try{_e=AO(Fe)}catch{_e=AO(unescape(encodeURIComponent(Fe)))}return"data:application/pdf;filename="+ce.filename+";base64,"+_e;case"pdfobjectnewwindow":if(Object.prototype.toString.call(nr)==="[object Window]"){var Ie="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Xe=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';ce.pdfObjectUrl&&(Ie=ce.pdfObjectUrl,Xe="");var st='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ie+'"'+Xe+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(ce)+");<\/script></body></html>",St=nr.open();return St!==null&&St.document.write(st),St}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(nr)==="[object Window]"){var Nt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(ce.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+ce.filename+'" width="500px" height="400px" /></body></html>',Zt=nr.open();if(Zt!==null){Zt.document.write(Nt);var sr=this;Zt.document.documentElement.querySelector("#pdfViewer").onload=function(){Zt.document.title=ce.filename,Zt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(sr.output("bloburl"))}}return Zt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(nr)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Sr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",ce)+'"></iframe></body></html>',xn=nr.open();if(xn!==null&&(xn.document.write(Sr),xn.document.title=ce.filename),xn||typeof safari>"u")return xn;break;case"datauri":case"dataurl":return nr.document.location.href=this.output("datauristring",ce);default:return null}},vi.foo=function(){try{return vi.apply(this,arguments)}catch(_e){var j=_e.stack||"";~j.indexOf(" at ")&&(j=j.split(" at ")[1]);var ce="Error in function "+j.split(`
`)[0].split("<")[0]+": "+_e.message;if(!nr.console)throw new Error(ce);nr.console.error(ce,_e),nr.alert&&alert(ce)}},vi.foo.bar=vi,vi.foo),as=function(j){return Array.isArray(zi)===!0&&zi.indexOf(j)>-1};switch(n){case"pt":Ot=1;break;case"mm":Ot=72/25.4;break;case"cm":Ot=72/2.54;break;case"in":Ot=72;break;case"px":Ot=as("px_scaling")==1?.75:96/72;break;case"pc":case"em":Ot=12;break;case"ex":Ot=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);Ot=n}var Ai=null;X(),he();var qn=d.__private__.getPageInfo=d.getPageInfo=function(j){if(isNaN(j)||j%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:dt[j].objId,pageNumber:j,pageContext:dt[j]}},uc=d.__private__.getPageInfoByObjId=function(j){if(isNaN(j)||j%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var ce in dt)if(dt[ce].objId===j)break;return qn(ce)},ch=d.__private__.getCurrentPageInfo=d.getCurrentPageInfo=function(){return{objId:dt[J].objId,pageNumber:J,pageContext:dt[J]}};d.addPage=function(){return To.apply(this,arguments),this},d.setPage=function(){return Mu.apply(this,arguments),V.call(this,ie[J]),this},d.insertPage=function(j){return this.addPage(),this.movePage(J,j),this},d.movePage=function(j,ce){var _e,Fe;if(j>ce){_e=ie[j],Fe=dt[j];for(var Ie=j;Ie>ce;Ie--)ie[Ie]=ie[Ie-1],dt[Ie]=dt[Ie-1];ie[ce]=_e,dt[ce]=Fe,this.setPage(ce)}else if(j<ce){_e=ie[j],Fe=dt[j];for(var Xe=j;Xe<ce;Xe++)ie[Xe]=ie[Xe+1],dt[Xe]=dt[Xe+1];ie[ce]=_e,dt[ce]=Fe,this.setPage(ce)}return this},d.deletePage=function(){return Ru.apply(this,arguments),this},d.__private__.text=d.text=function(j,ce,_e,Fe,Ie){var Xe,st,St,Nt,Zt,sr,Sr,xn,jn,Xr=(Fe=Fe||{}).scope||this;if(typeof j=="number"&&typeof ce=="number"&&(typeof _e=="string"||Array.isArray(_e))){var ci=_e;_e=ce,ce=j,j=ci}if(arguments[3]instanceof Lt==0?(St=arguments[4],Nt=arguments[5],Jr(Sr=arguments[3])==="object"&&Sr!==null||(typeof St=="string"&&(Nt=St,St=null),typeof Sr=="string"&&(Nt=Sr,Sr=null),typeof Sr=="number"&&(St=Sr,Sr=null),Fe={flags:Sr,angle:St,align:Nt})):(F("The transform parameter of text() with a Matrix value"),jn=Ie),isNaN(ce)||isNaN(_e)||j==null)throw new Error("Invalid arguments passed to jsPDF.text");if(j.length===0)return Xr;var Gn,Oi="",Mo=typeof Fe.lineHeightFactor=="number"?Fe.lineHeightFactor:Fo,Na=Xr.internal.scaleFactor;function Qo(Dr){return Dr=Dr.split("	").join(Array(Fe.TabLen||9).join(" ")),zs(Dr,Sr)}function Yu(Dr){for(var Er,Zr=Dr.concat(),zn=[],oo=Zr.length;oo--;)typeof(Er=Zr.shift())=="string"?zn.push(Er):Array.isArray(Dr)&&(Er.length===1||Er[1]===void 0&&Er[2]===void 0)?zn.push(Er[0]):zn.push([Er[0],Er[1],Er[2]]);return zn}function pc(Dr,Er){var Zr;if(typeof Dr=="string")Zr=Er(Dr)[0];else if(Array.isArray(Dr)){for(var zn,oo,La=Dr.concat(),yA=[],Zu=La.length;Zu--;)typeof(zn=La.shift())=="string"?yA.push(Er(zn)[0]):Array.isArray(zn)&&typeof zn[0]=="string"&&(oo=Er(zn[0],zn[1],zn[2]),yA.push([oo[0],oo[1],oo[2]]));Zr=yA}return Zr}var eo=!1,Fa=!0;if(typeof j=="string")eo=!0;else if(Array.isArray(j)){var mA=j.concat();st=[];for(var Ho,Bi=mA.length;Bi--;)(typeof(Ho=mA.shift())!="string"||Array.isArray(Ho)&&typeof Ho[0]!="string")&&(Fa=!1);eo=Fa}if(eo===!1)throw new Error('Type of text must be string or Array. "'+j+'" is not recognized.');typeof j=="string"&&(j=j.match(/[\r?\n]/)?j.split(/\r\n|\r|\n/g):[j]);var xl=z/Xr.internal.scaleFactor,Bl=xl*(Mo-1);switch(Fe.baseline){case"bottom":_e-=Bl;break;case"top":_e+=xl-Bl;break;case"hanging":_e+=xl-2*Bl;break;case"middle":_e+=xl/2-Bl}if((sr=Fe.maxWidth||0)>0&&(typeof j=="string"?j=Xr.splitTextToSize(j,sr):Object.prototype.toString.call(j)==="[object Array]"&&(j=j.reduce(function(Dr,Er){return Dr.concat(Xr.splitTextToSize(Er,sr))},[]))),Xe={text:j,x:ce,y:_e,options:Fe,mutex:{pdfEscape:zs,activeFontKey:ft,fonts:_t,activeFontSize:z}},Xt.publish("preProcessText",Xe),j=Xe.text,St=(Fe=Xe.options).angle,jn instanceof Lt==0&&St&&typeof St=="number"){St*=Math.PI/180,Fe.rotationDirection===0&&(St=-St),C===S&&(St=-St);var mc=Math.cos(St),to=Math.sin(St);jn=new Lt(mc,to,-to,mc,0,0)}else St&&St instanceof Lt&&(jn=St);C!==S||jn||(jn=Hs),(Zt=Fe.charSpace||ia)!==void 0&&(Oi+=H(G(Zt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(xn=Fe.horizontalScale)!==void 0&&(Oi+=H(100*xn)+` Tz
`),Fe.lang;var As=-1,jo=Fe.renderingMode!==void 0?Fe.renderingMode:Fe.stroke,gc=Xr.internal.getCurrentPageInfo().pageContext;switch(jo){case 0:case!1:case"fill":As=0;break;case 1:case!0:case"stroke":As=1;break;case 2:case"fillThenStroke":As=2;break;case 3:case"invisible":As=3;break;case 4:case"fillAndAddForClipping":As=4;break;case 5:case"strokeAndAddPathForClipping":As=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":As=6;break;case 7:case"addToPathForClipping":As=7}var Ju=gc.usedRenderingMode!==void 0?gc.usedRenderingMode:-1;As!==-1?Oi+=As+` Tr
`:Ju!==-1&&(Oi+=`0 Tr
`),As!==-1&&(gc.usedRenderingMode=As),Nt=Fe.align||"left";var Gs,Ua=z*Mo,Po=Xr.internal.pageSize.getWidth(),Xu=_t[ft];Zt=Fe.charSpace||ia,sr=Fe.maxWidth||0,Sr=Object.assign({autoencode:!0,noBOM:!0},Fe.flags);var Oa=[],Cl=function(Dr){return Xr.getStringUnitWidth(Dr,{font:Xu,charSpace:Zt,fontSize:z,doKerning:!1})*z/Na};if(Object.prototype.toString.call(j)==="[object Array]"){var ks;st=Yu(j),Nt!=="left"&&(Gs=st.map(Cl));var cs,ro=0;if(Nt==="right"){ce-=Gs[0],j=[],Bi=st.length;for(var no=0;no<Bi;no++)no===0?(cs=Vs(ce),ks=Ui(_e)):(cs=G(ro-Gs[no]),ks=-Ua),j.push([st[no],cs,ks]),ro=Gs[no]}else if(Nt==="center"){ce-=Gs[0]/2,j=[],Bi=st.length;for(var zo=0;zo<Bi;zo++)zo===0?(cs=Vs(ce),ks=Ui(_e)):(cs=G((ro-Gs[zo])/2),ks=-Ua),j.push([st[zo],cs,ks]),ro=Gs[zo]}else if(Nt==="left"){j=[],Bi=st.length;for(var yc=0;yc<Bi;yc++)j.push(st[yc])}else if(Nt==="justify"&&Xu.encoding==="Identity-H"){j=[],Bi=st.length,sr=sr!==0?sr:Po;for(var wc=0,Pn=0;Pn<Bi;Pn++)if(ks=Pn===0?Ui(_e):-Ua,cs=Pn===0?Vs(ce):wc,Pn<Bi-1){var wh=G((sr-Gs[Pn])/(st[Pn].split(" ").length-1)),io=st[Pn].split(" ");j.push([io[0]+" ",cs,ks]),wc=0;for(var so=1;so<io.length;so++){var Li=(Cl(io[so-1]+" "+io[so])-Cl(io[so]))*Na+wh;so==io.length-1?j.push([io[so],Li,0]):j.push([io[so]+" ",Li,0]),wc-=Li}}else j.push([st[Pn],cs,ks]);j.push(["",wc,0])}else{if(Nt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(j=[],Bi=st.length,sr=sr!==0?sr:Po,Pn=0;Pn<Bi;Pn++){ks=Pn===0?Ui(_e):-Ua,cs=Pn===0?Vs(ce):0;var Ko=st[Pn].split(" ").length-1,vc=Ko>0?(sr-Gs[Pn])/Ko:0;Pn<Bi-1?Oa.push(H(G(vc))):Oa.push(0),j.push([st[Pn],cs,ks])}}}(typeof Fe.R2L=="boolean"?Fe.R2L:be)===!0&&(j=pc(j,function(Dr,Er,Zr){return[Dr.split("").reverse().join(""),Er,Zr]})),Xe={text:j,x:ce,y:_e,options:Fe,mutex:{pdfEscape:zs,activeFontKey:ft,fonts:_t,activeFontSize:z}},Xt.publish("postProcessText",Xe),j=Xe.text,Gn=Xe.mutex.isHex||!1;var bc=_t[ft].encoding;bc!=="WinAnsiEncoding"&&bc!=="StandardEncoding"||(j=pc(j,function(Dr,Er,Zr){return[Qo(Dr),Er,Zr]})),st=Yu(j),j=[];for(var Vo,qo,ao,gA=Array.isArray(st[0])?1:0,Ws="",Go=function(Dr,Er,Zr){var zn="";return Zr instanceof Lt?(Zr=typeof Fe.angle=="number"?ra(Zr,new Lt(1,0,0,1,Dr,Er)):ra(new Lt(1,0,0,1,Dr,Er),Zr),C===S&&(Zr=ra(new Lt(1,0,0,-1,0,0),Zr)),zn=Zr.join(" ")+` Tm
`):zn=H(Dr)+" "+H(Er)+` Td
`,zn},Ki=0;Ki<st.length;Ki++){switch(Ws="",gA){case 1:ao=(Gn?"<":"(")+st[Ki][0]+(Gn?">":")"),Vo=parseFloat(st[Ki][1]),qo=parseFloat(st[Ki][2]);break;case 0:ao=(Gn?"<":"(")+st[Ki]+(Gn?">":")"),Vo=Vs(ce),qo=Ui(_e)}Oa!==void 0&&Oa[Ki]!==void 0&&(Ws=Oa[Ki]+` Tw
`),Ki===0?j.push(Ws+Go(Vo,qo,jn)+ao):gA===0?j.push(Ws+ao):gA===1&&j.push(Ws+Go(Vo,qo,jn)+ao)}j=gA===0?j.join(` Tj
T* `):j.join(` Tj
`),j+=` Tj
`;var aa=`BT
/`;return aa+=ft+" "+z+` Tf
`,aa+=H(z*Mo)+` TL
`,aa+=Xa+`
`,aa+=Oi,aa+=j,ne(aa+="ET"),m[ft]=!0,Xr};var Pu=d.__private__.clip=d.clip=function(j){return ne(j==="evenodd"?"W*":"W"),this};d.clipEvenOdd=function(){return Pu("evenodd")},d.__private__.discardPath=d.discardPath=function(){return ne("n"),this};var ls=d.__private__.isValidStyle=function(j){var ce=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(j)!==-1&&(ce=!0),ce};d.__private__.setDefaultPathOperation=d.setDefaultPathOperation=function(j){return ls(j)&&(c=j),this};var zu=d.__private__.getStyle=d.getStyle=function(j){var ce=c;switch(j){case"D":case"S":ce="S";break;case"F":ce="f";break;case"FD":case"DF":ce="B";break;case"f":case"f*":case"B":case"B*":ce=j}return ce},Ku=d.close=function(){return ne("h"),this};d.stroke=function(){return ne("S"),this},d.fill=function(j){return ka("f",j),this},d.fillEvenOdd=function(j){return ka("f*",j),this},d.fillStroke=function(j){return ka("B",j),this},d.fillStrokeEvenOdd=function(j){return ka("B*",j),this};var ka=function(j,ce){Jr(ce)==="object"?fh(ce,j):ne(j)},cA=function(j){j===null||C===S&&j===void 0||(j=zu(j),ne(j))};function uh(j,ce,_e,Fe,Ie){var Xe=new Qd(ce||this.boundingBox,_e||this.xStep,Fe||this.yStep,this.gState,Ie||this.matrix);Xe.stream=this.stream;var st=j+"$$"+this.cloneIndex+++"$$";return Fi(st,Xe),Xe}var fh=function(j,ce){var _e=gt[j.key],Fe=Ve[_e];if(Fe instanceof kf)ne("q"),ne(Vu(ce)),Fe.gState&&d.setGState(Fe.gState),ne(j.matrix.toString()+" cm"),ne("/"+_e+" sh"),ne("Q");else if(Fe instanceof Qd){var Ie=new Lt(1,0,0,-1,0,Ro());j.matrix&&(Ie=Ie.multiply(j.matrix||Hs),_e=uh.call(Fe,j.key,j.boundingBox,j.xStep,j.yStep,Ie).id),ne("q"),ne("/Pattern cs"),ne("/"+_e+" scn"),Fe.gState&&d.setGState(Fe.gState),ne(ce),ne("Q")}},Vu=function(j){switch(j){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},qu=d.moveTo=function(j,ce){return ne(H(G(j))+" "+H(U(ce))+" m"),this},hh=d.lineTo=function(j,ce){return ne(H(G(j))+" "+H(U(ce))+" l"),this},_s=d.curveTo=function(j,ce,_e,Fe,Ie,Xe){return ne([H(G(j)),H(U(ce)),H(G(_e)),H(U(Fe)),H(G(Ie)),H(U(Xe)),"c"].join(" ")),this};d.__private__.line=d.line=function(j,ce,_e,Fe,Ie){if(isNaN(j)||isNaN(ce)||isNaN(_e)||isNaN(Fe)||!ls(Ie))throw new Error("Invalid arguments passed to jsPDF.line");return C===B?this.lines([[_e-j,Fe-ce]],j,ce,[1,1],Ie||"S"):this.lines([[_e-j,Fe-ce]],j,ce,[1,1]).stroke()},d.__private__.lines=d.lines=function(j,ce,_e,Fe,Ie,Xe){var st,St,Nt,Zt,sr,Sr,xn,jn,Xr,ci,Gn,Oi;if(typeof j=="number"&&(Oi=_e,_e=ce,ce=j,j=Oi),Fe=Fe||[1,1],Xe=Xe||!1,isNaN(ce)||isNaN(_e)||!Array.isArray(j)||!Array.isArray(Fe)||!ls(Ie)||typeof Xe!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(qu(ce,_e),st=Fe[0],St=Fe[1],Zt=j.length,ci=ce,Gn=_e,Nt=0;Nt<Zt;Nt++)(sr=j[Nt]).length===2?(ci=sr[0]*st+ci,Gn=sr[1]*St+Gn,hh(ci,Gn)):(Sr=sr[0]*st+ci,xn=sr[1]*St+Gn,jn=sr[2]*st+ci,Xr=sr[3]*St+Gn,ci=sr[4]*st+ci,Gn=sr[5]*St+Gn,_s(Sr,xn,jn,Xr,ci,Gn));return Xe&&Ku(),cA(Ie),this},d.path=function(j){for(var ce=0;ce<j.length;ce++){var _e=j[ce],Fe=_e.c;switch(_e.op){case"m":qu(Fe[0],Fe[1]);break;case"l":hh(Fe[0],Fe[1]);break;case"c":_s.apply(this,Fe);break;case"h":Ku()}}return this},d.__private__.rect=d.rect=function(j,ce,_e,Fe,Ie){if(isNaN(j)||isNaN(ce)||isNaN(_e)||isNaN(Fe)||!ls(Ie))throw new Error("Invalid arguments passed to jsPDF.rect");return C===B&&(Fe=-Fe),ne([H(G(j)),H(U(ce)),H(G(_e)),H(G(Fe)),"re"].join(" ")),cA(Ie),this},d.__private__.triangle=d.triangle=function(j,ce,_e,Fe,Ie,Xe,st){if(isNaN(j)||isNaN(ce)||isNaN(_e)||isNaN(Fe)||isNaN(Ie)||isNaN(Xe)||!ls(st))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[_e-j,Fe-ce],[Ie-_e,Xe-Fe],[j-Ie,ce-Xe]],j,ce,[1,1],st,!0),this},d.__private__.roundedRect=d.roundedRect=function(j,ce,_e,Fe,Ie,Xe,st){if(isNaN(j)||isNaN(ce)||isNaN(_e)||isNaN(Fe)||isNaN(Ie)||isNaN(Xe)||!ls(st))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var St=4/3*(Math.SQRT2-1);return Ie=Math.min(Ie,.5*_e),Xe=Math.min(Xe,.5*Fe),this.lines([[_e-2*Ie,0],[Ie*St,0,Ie,Xe-Xe*St,Ie,Xe],[0,Fe-2*Xe],[0,Xe*St,-Ie*St,Xe,-Ie,Xe],[2*Ie-_e,0],[-Ie*St,0,-Ie,-Xe*St,-Ie,-Xe],[0,2*Xe-Fe],[0,-Xe*St,Ie*St,-Xe,Ie,-Xe]],j+Ie,ce,[1,1],st,!0),this},d.__private__.ellipse=d.ellipse=function(j,ce,_e,Fe,Ie){if(isNaN(j)||isNaN(ce)||isNaN(_e)||isNaN(Fe)||!ls(Ie))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Xe=4/3*(Math.SQRT2-1)*_e,st=4/3*(Math.SQRT2-1)*Fe;return qu(j+_e,ce),_s(j+_e,ce-st,j+Xe,ce-Fe,j,ce-Fe),_s(j-Xe,ce-Fe,j-_e,ce-st,j-_e,ce),_s(j-_e,ce+st,j-Xe,ce+Fe,j,ce+Fe),_s(j+Xe,ce+Fe,j+_e,ce+st,j+_e,ce),cA(Ie),this},d.__private__.circle=d.circle=function(j,ce,_e,Fe){if(isNaN(j)||isNaN(ce)||isNaN(_e)||!ls(Fe))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(j,ce,_e,_e,Fe)},d.setFont=function(j,ce,_e){return _e&&(ce=D(ce,_e)),ft=Ah(j,ce,{disableWarning:!1}),this};var Ta=d.__private__.getFont=d.getFont=function(){return _t[Ah.apply(d,arguments)]};d.__private__.getFontList=d.getFontList=function(){var j,ce,_e={};for(j in It)if(It.hasOwnProperty(j))for(ce in _e[j]=[],It[j])It[j].hasOwnProperty(ce)&&_e[j].push(ce);return _e},d.addFont=function(j,ce,_e,Fe,Ie){var Xe=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Xe.indexOf(arguments[3])!==-1?Ie=arguments[3]:arguments[3]&&Xe.indexOf(arguments[3])==-1&&(_e=D(_e,Fe)),Iu.call(this,j,ce,_e,Ie=Ie||"Identity-H")};var Fo,uA=t.lineWidth||.200025,bl=d.__private__.getLineWidth=d.getLineWidth=function(){return uA},Wt=d.__private__.setLineWidth=d.setLineWidth=function(j){return uA=j,ne(H(G(j))+" w"),this};d.__private__.setLineDash=Mt.API.setLineDash=Mt.API.setLineDashPattern=function(j,ce){if(j=j||[],ce=ce||0,isNaN(ce)||!Array.isArray(j))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return j=j.map(function(_e){return H(G(_e))}).join(" "),ce=H(G(ce)),ne("["+j+"] "+ce+" d"),this};var dh=d.__private__.getLineHeight=d.getLineHeight=function(){return z*Fo};d.__private__.getLineHeight=d.getLineHeight=function(){return z*Fo};var Gu=d.__private__.setLineHeightFactor=d.setLineHeightFactor=function(j){return typeof(j=j||1.15)=="number"&&(Fo=j),this},ph=d.__private__.getLineHeightFactor=d.getLineHeightFactor=function(){return Fo};Gu(t.lineHeight);var Vs=d.__private__.getHorizontalCoordinate=function(j){return G(j)},Ui=d.__private__.getVerticalCoordinate=function(j){return C===S?j:dt[J].mediaBox.topRightY-dt[J].mediaBox.bottomLeftY-G(j)},Wu=d.__private__.getHorizontalCoordinateString=d.getHorizontalCoordinateString=function(j){return H(Vs(j))},fA=d.__private__.getVerticalCoordinateString=d.getVerticalCoordinateString=function(j){return H(Ui(j))},qs=t.strokeColor||"0 G";d.__private__.getStrokeColor=d.getDrawColor=function(){return on(qs)},d.__private__.setStrokeColor=d.setDrawColor=function(j,ce,_e,Fe){return qs=bi({ch1:j,ch2:ce,ch3:_e,ch4:Fe,pdfColorType:"draw",precision:2}),ne(qs),this};var hA=t.fillColor||"0 g";d.__private__.getFillColor=d.getFillColor=function(){return on(hA)},d.__private__.setFillColor=d.setFillColor=function(j,ce,_e,Fe){return hA=bi({ch1:j,ch2:ce,ch3:_e,ch4:Fe,pdfColorType:"fill",precision:2}),ne(hA),this};var Xa=t.textColor||"0 g",mh=d.__private__.getTextColor=d.getTextColor=function(){return on(Xa)};d.__private__.setTextColor=d.setTextColor=function(j,ce,_e,Fe){return Xa=bi({ch1:j,ch2:ce,ch3:_e,ch4:Fe,pdfColorType:"text",precision:3}),this};var ia=t.charSpace,fc=d.__private__.getCharSpace=d.getCharSpace=function(){return parseFloat(ia||0)};d.__private__.setCharSpace=d.setCharSpace=function(j){if(isNaN(j))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return ia=j,this};var hc=0;d.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},d.__private__.setLineCap=d.setLineCap=function(j){var ce=d.CapJoinStyles[j];if(ce===void 0)throw new Error("Line cap style of '"+j+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return hc=ce,ne(ce+" J"),this};var xi=0;d.__private__.setLineJoin=d.setLineJoin=function(j){var ce=d.CapJoinStyles[j];if(ce===void 0)throw new Error("Line join style of '"+j+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return xi=ce,ne(ce+" j"),this},d.__private__.setLineMiterLimit=d.__private__.setMiterLimit=d.setLineMiterLimit=d.setMiterLimit=function(j){if(j=j||0,isNaN(j))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ne(H(G(j))+" M"),this},d.GState=Ow,d.setGState=function(j){(j=typeof j=="string"?Bt[Rt[j]]:Za(null,j)).equals(ur)||(ne("/"+j.id+" gs"),ur=j)};var Za=function(j,ce){if(!j||!Rt[j]){var _e=!1;for(var Fe in Bt)if(Bt.hasOwnProperty(Fe)&&Bt[Fe].equals(ce)){_e=!0;break}if(_e)ce=Bt[Fe];else{var Ie="GS"+(Object.keys(Bt).length+1).toString(10);Bt[Ie]=ce,ce.id=Ie}return j&&(Rt[j]=ce.id),Xt.publish("addGState",ce),ce}};d.addGState=function(j,ce){return Za(j,ce),this},d.saveGraphicsState=function(){return ne("q"),Pt.push({key:ft,size:z,color:Xa}),this},d.restoreGraphicsState=function(){ne("Q");var j=Pt.pop();return ft=j.key,z=j.size,Xa=j.color,ur=null,this},d.setCurrentTransformationMatrix=function(j){return ne(j.toString()+" cm"),this},d.comment=function(j){return ne("#"+j),this};var sa=function(j,ce){var _e=j||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return _e},set:function(Xe){isNaN(Xe)||(_e=parseFloat(Xe))}});var Fe=ce||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Fe},set:function(Xe){isNaN(Xe)||(Fe=parseFloat(Xe))}});var Ie="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ie},set:function(Xe){Ie=Xe.toString()}}),this},Uo=function(j,ce,_e,Fe){sa.call(this,j,ce),this.type="rect";var Ie=_e||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ie},set:function(st){isNaN(st)||(Ie=parseFloat(st))}});var Xe=Fe||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Xe},set:function(st){isNaN(st)||(Xe=parseFloat(st))}}),this},dc=function(){this.page=Vt,this.currentPage=J,this.pages=ie.slice(0),this.pagesContext=dt.slice(0),this.x=mt,this.y=kr,this.matrix=yt,this.width=Lo(J),this.height=$u(J),this.outputDestination=Te,this.id="",this.objectNumber=-1};dc.prototype.restore=function(){Vt=this.page,J=this.currentPage,dt=this.pagesContext,ie=this.pages,mt=this.x,kr=this.y,yt=this.matrix,pA(J,this.width),Do(J,this.height),Te=this.outputDestination};var dA=function(j,ce,_e,Fe,Ie){Es.push(new dc),Vt=J=0,ie=[],mt=j,kr=ce,yt=Ie,Ea([_e,Fe])};for(var Oo in d.beginFormObject=function(j,ce,_e,Fe,Ie){return dA(j,ce,_e,Fe,Ie),this},d.endFormObject=function(j){return(function(ce){if(Qn[ce])Es.pop().restore();else{var _e=new dc,Fe="Xo"+(Object.keys(cr).length+1).toString(10);_e.id=Fe,Qn[ce]=Fe,cr[Fe]=_e,Xt.publish("addFormObject",_e),Es.pop().restore()}})(j),this},d.doFormObject=function(j,ce){var _e=cr[Qn[j]];return ne("q"),ne(ce.toString()+" cm"),ne("/"+_e.id+" Do"),ne("Q"),this},d.getFormObject=function(j){var ce=cr[Qn[j]];return{x:ce.x,y:ce.y,width:ce.width,height:ce.height,matrix:ce.matrix}},d.save=function(j,ce){return j=j||"generated.pdf",(ce=ce||{}).returnPromise=ce.returnPromise||!1,ce.returnPromise===!1?(Cf(vl(Ja()),j),typeof Cf.unload=="function"&&nr.setTimeout&&setTimeout(Cf.unload,911),this):new Promise(function(_e,Fe){try{var Ie=Cf(vl(Ja()),j);typeof Cf.unload=="function"&&nr.setTimeout&&setTimeout(Cf.unload,911),_e(Ie)}catch(Xe){Fe(Xe.message)}})},Mt.API)Mt.API.hasOwnProperty(Oo)&&(Oo==="events"&&Mt.API.events.length?(function(j,ce){var _e,Fe,Ie;for(Ie=ce.length-1;Ie!==-1;Ie--)_e=ce[Ie][0],Fe=ce[Ie][1],j.subscribe.apply(j,[_e].concat(typeof Fe=="function"?[Fe]:Fe))})(Xt,Mt.API.events):d[Oo]=Mt.API[Oo]);function Lo(j){return dt[j].mediaBox.topRightX-dt[j].mediaBox.bottomLeftX}function pA(j,ce){dt[j].mediaBox.topRightX=ce+dt[j].mediaBox.bottomLeftX}function $u(j){return dt[j].mediaBox.topRightY-dt[j].mediaBox.bottomLeftY}function Do(j,ce){dt[j].mediaBox.topRightY=ce+dt[j].mediaBox.bottomLeftY}var Io=d.getPageWidth=function(j){return Lo(j=j||J)/Ot},gh=d.setPageWidth=function(j,ce){pA(j,ce*Ot)},Ro=d.getPageHeight=function(j){return $u(j=j||J)/Ot},yh=d.setPageHeight=function(j,ce){Do(j,ce*Ot)};return d.internal={pdfEscape:zs,getStyle:zu,getFont:Ta,getFontSize:Be,getCharSpace:fc,getTextColor:mh,getLineHeight:dh,getLineHeightFactor:ph,getLineWidth:bl,write:W,getHorizontalCoordinate:Vs,getVerticalCoordinate:Ui,getCoordinateString:Wu,getVerticalCoordinateString:fA,collections:{},newObject:zr,newAdditionalObject:$a,newObjectDeferred:mn,newObjectDeferredBegin:Tn,getFilters:Gt,putStream:gr,events:Xt,scaleFactor:Ot,pageSize:{getWidth:function(){return Io(J)},setWidth:function(j){gh(J,j)},getHeight:function(){return Ro(J)},setHeight:function(j){yh(J,j)}},encryptionOptions:f,encryption:Ai,getEncryptor:function(j){return f!==null?Ai.encryptor(j,0):function(ce){return ce}},output:ju,getNumberOfPages:Qu,get pages(){return ie},out:ne,f2:q,f3:R,getPageInfo:qn,getPageInfoByObjId:uc,getCurrentPageInfo:ch,getPDFVersion:v,Point:sa,Rectangle:Uo,Matrix:Lt,hasHotfix:as},Object.defineProperty(d.internal.pageSize,"width",{get:function(){return Io(J)},set:function(j){gh(J,j)},enumerable:!0,configurable:!0}),Object.defineProperty(d.internal.pageSize,"height",{get:function(){return Ro(J)},set:function(j){yh(J,j)},enumerable:!0,configurable:!0}),(function(j){for(var ce=0,_e=N.length;ce<_e;ce++){var Fe=Iu.call(this,j[ce][0],j[ce][1],j[ce][2],N[ce][3],!0);h===!1&&(m[Fe]=!0);var Ie=j[ce][0].split("-");Hn({id:Fe,fontName:Ie[0],fontStyle:Ie[1]||""})}Xt.publish("addFonts",{fonts:_t,dictionary:It})}).call(d,N),ft="F1",To(i,r),Xt.publish("initialized"),d}_d.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},_d.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},_d.prototype.hexToBytes=function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return e.join("")},_d.prototype.processOwnerPassword=function(t,e){return vS(wS(e).substr(0,5),t)},_d.prototype.encryptor=function(t,e){var r=wS(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return vS(r,n)}},Ow.prototype.equals=function(t){var e,r="id,objectNumber,equals";if(!t||Jr(t)!==Jr(this))return!1;var n=0;for(e in this)if(!(r.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;n++}for(e in t)t.hasOwnProperty(e)&&r.indexOf(e)<0&&n--;return n===0},Mt.API={events:[]},Mt.version="4.1.0";var ni=Mt.API,x_=1,lh=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ud=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Lw=function(t){return t.toString().replace(/#/g,"#23").replace(/[\s\n\r()<>[\]{}\/%]/g,function(e){var r=e.charCodeAt(0).toString(16).toUpperCase();return"#"+(r.length===1?"0"+r:r)})},lr=function(t){return t.toFixed(2)},Wc=function(t){return t.toFixed(5)};ni.__acroform__={};var Sa=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},hO=function(t){return t*x_},Kl=function(t){var e=new zQ,r=Tt.internal.getHeight(t)||0,n=Tt.internal.getWidth(t)||0;return e.BBox=[0,0,Number(lr(n)),Number(lr(r))],e},YAe=ni.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},JAe=ni.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},XAe=ni.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},pi=ni.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return XAe(t,e-1)},mi=ni.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return YAe(t,e-1)},gi=ni.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return JAe(t,e-1)},ZAe=ni.__acroform__.calculateCoordinates=function(t,e){var r=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,i=t[0],s=t[1],a=t[2],o=t[3],l={};return l.lowerLeft_X=r(i)||0,l.lowerLeft_Y=n(s+o)||0,l.upperRight_X=r(i+a)||0,l.upperRight_Y=n(s)||0,[Number(lr(l.lowerLeft_X)),Number(lr(l.lowerLeft_Y)),Number(lr(l.upperRight_X)),Number(lr(l.upperRight_Y))]},ece=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],r=t._V||t.DV,n=bS(t,r),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+lr(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=Kl(t);return s.scope=t.scope,s.stream=e.join(`
`),s}},bS=function(t,e){var r=t.fontSize===0?t.maxFontSize:t.fontSize,n={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(q){return q.split(`
`)}):i.map(function(q){return[q]});var s=r,a=Tt.internal.getHeight(t)||0;a=a<0?-a:a;var o=Tt.internal.getWidth(t)||0;o=o<0?-o:o;var l=function(q,R,G){if(q+1<i.length){var U=R+" "+i[q+1][0];return Qy(U,t,G).width<=o-4}return!1};s++;e:for(;s>0;){e="",s--;var c,f,h=Qy("3",t,s).height,m=t.multiline?a-s:(a-h)/2,d=m+=2,g=0,v=0,b=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+Qy(e,t,s=12).width+", FieldWidth:"+o+`
`;break}for(var w="",B=0,S=0;S<i.length;S++)if(i.hasOwnProperty(S)){var C=!1;if(i[S].length!==1&&b!==i[S].length-1){if((h+2)*(B+2)+2>a)continue e;w+=i[S][b],C=!0,v=S,S--}else{w=(w+=i[S][b]+" ").substr(w.length-1)==" "?w.substr(0,w.length-1):w;var k=parseInt(S),M=l(k,w,s),D=S>=i.length-1;if(M&&!D){w+=" ",b=0;continue}if(M||D){if(D)v=k;else if(t.multiline&&(h+2)*(B+2)+2>a)continue e}else{if(!t.multiline||(h+2)*(B+2)+2>a)continue e;v=k}}for(var H="",F=g;F<=v;F++){var $=i[F];if(t.multiline){if(F===v){H+=$[b]+" ",b=(b+1)%$.length;continue}if(F===g){H+=$[$.length-1]+" ";continue}}H+=$[0]+" "}switch(H=H.substr(H.length-1)==" "?H.substr(0,H.length-1):H,f=Qy(H,t,s).width,t.textAlign){case"right":c=o-f-2;break;case"center":c=(o-f)/2;break;default:c=2}e+=lr(c)+" "+lr(d)+` Td
`,e+="("+lh(H)+`) Tj
`,e+=-lr(c)+` 0 Td
`,d=-(s+2),f=0,g=C?v:v+1,B++,w=""}break}return n.text=e,n.fontSize=s,n},Qy=function(t,e,r){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:i}},tce={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},rce=function(t,e){var r={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(r)},nce=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(gl.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(tce)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");x_=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new KQ,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in n)if(n.hasOwnProperty(i)){var s=n[i];s.objId=void 0,s.hasAnnotation&&rce(s,r)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(r){(function(n,i){var s=!n;for(var a in n||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(a)){var o=n[a],l=[],c=o.Rect;if(o.Rect&&(o.Rect=ZAe(o.Rect,i)),i.internal.newObjectDeferredBegin(o.objId,!0),o.DA=Tt.createDefaultAppearanceStream(o),Jr(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(l=o.getKeyValueListForStream()),o.Rect=c,o.hasAppearanceStream&&!o.appearanceStreamContent){var f=ece(o);l.push({key:"AP",value:"<</N "+f+">>"}),i.internal.acroformPlugin.xForms.push(f)}if(o.appearanceStreamContent){var h="";for(var m in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(m)){var d=o.appearanceStreamContent[m];if(h+="/"+m+" ",h+="<<",Object.keys(d).length>=1||Array.isArray(d)){for(var a in d)if(d.hasOwnProperty(a)){var g=d[a];typeof g=="function"&&(g=g.call(i,o)),h+="/"+a+" "+g+" ",i.internal.acroformPlugin.xForms.indexOf(g)>=0||i.internal.acroformPlugin.xForms.push(g)}}else typeof(g=d)=="function"&&(g=g.call(i,o)),h+="/"+a+" "+g,i.internal.acroformPlugin.xForms.indexOf(g)>=0||i.internal.acroformPlugin.xForms.push(g);h+=">>"}l.push({key:"AP",value:`<<
`+h+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:o.objId}),i.internal.out("endobj")}s&&(function(v,b){for(var w in v)if(v.hasOwnProperty(w)){var B=w,S=v[w];b.internal.newObjectDeferredBegin(S.objId,!0),Jr(S)==="object"&&typeof S.putStream=="function"&&S.putStream(),delete v[B]}})(i.internal.acroformPlugin.xForms,i)})(r,t)}),t.internal.acroformPlugin.isInitialized=!0}},PQ=ni.__acroform__.arrayToPdfArray=function(t,e,r){var n=function(a){return a};if(Array.isArray(t)){for(var i="[",s=0;s<t.length;s++)switch(s!==0&&(i+=" "),Jr(t[s])){case"boolean":case"number":case"object":i+=t[s].toString();break;case"string":t[s].substr(0,1)==="/"?i+="/"+Lw(t[s].substr(1)):(e!==void 0&&r&&(n=r.internal.getEncryptor(e)),i+="("+lh(n(t[s].toString()))+")")}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},uB=function(t,e,r){var n=function(i){return i};return e!==void 0&&r&&(n=r.internal.getEncryptor(e)),(t=t||"").toString(),"("+lh(n(t))+")"},Jl=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Jl.prototype.toString=function(){return this.objId+" 0 R"},Jl.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Jl.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var r in e)if(Object.getOwnPropertyDescriptor(this,e[r]).configurable===!1){var n=e[r],i=this[n];i&&(Array.isArray(i)?t.push({key:n,value:PQ(i,this.objId,this.scope)}):i instanceof Jl?(i.scope=this.scope,t.push({key:n,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:n,value:i}))}return t};var zQ=function(){Jl.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};Sa(zQ,Jl);var KQ=function(){Jl.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+lh(r(t))+")"}},set:function(r){t=r}})};Sa(KQ,Jl);var gl=function t(){Jl.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute F supplied.');e=w}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!pi(e,3)},set:function(w){w?this.F=mi(e,3):this.F=gi(e,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute Ff supplied.');r=w}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(w){n=w!==void 0?w:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(w){n[0]=w}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(w){n[1]=w}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(w){n[2]=w}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(w){n[3]=w}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(w){switch(w){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=w;break;default:throw new Error('Invalid value "'+w+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof Dw)return;s="FieldObject"+t.FieldNum++}var w=function(B){return B};return this.scope&&(w=this.scope.internal.getEncryptor(this.objId)),"("+lh(w(s))+")"},set:function(w){s=w.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(w){s=w}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(w){a=w}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(w){o=w}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(w){l=w}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/x_:c},set:function(w){c=w}});var f="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return f},set:function(w){f=w}});var h="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!h||this instanceof Dw||this instanceof zf))return uB(h,this.objId,this.scope)},set:function(w){w=w.toString(),h=w}});var m=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof Xi==0?uB(m,this.objId,this.scope):m},set:function(w){w=w.toString(),m=this instanceof Xi==0?w.substr(0,1)==="("?ud(w.substr(1,w.length-2)):ud(w):w}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Xi==1?ud(m.substr(1,m.length-1)):m},set:function(w){w=w.toString(),m=this instanceof Xi==1?"/"+Lw(w):w}});var d=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(d)return d},set:function(w){this.V=w}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(d)return this instanceof Xi==0?uB(d,this.objId,this.scope):d},set:function(w){w=w.toString(),d=this instanceof Xi==0?w.substr(0,1)==="("?ud(w.substr(1,w.length-2)):ud(w):w}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Xi==1?ud(d.substr(1,d.length-1)):d},set:function(w){w=w.toString(),d=this instanceof Xi==1?"/"+Lw(w):w}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var g,v=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return v},set:function(w){w=!!w,v=w}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(g)return g},set:function(w){g=w}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!pi(this.Ff,1)},set:function(w){w?this.Ff=mi(this.Ff,1):this.Ff=gi(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!pi(this.Ff,2)},set:function(w){w?this.Ff=mi(this.Ff,2):this.Ff=gi(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!pi(this.Ff,3)},set:function(w){w?this.Ff=mi(this.Ff,3):this.Ff=gi(this.Ff,3)}});var b=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(b!==null)return b},set:function(w){if([0,1,2].indexOf(w)===-1)throw new Error('Invalid value "'+w+'" for attribute Q supplied.');b=w}}),Object.defineProperty(this,"textAlign",{get:function(){var w;switch(b){case 0:default:w="left";break;case 1:w="center";break;case 2:w="right"}return w},configurable:!0,enumerable:!0,set:function(w){switch(w){case"right":case 2:b=2;break;case"center":case 1:b=1;break;default:b=0}}})};Sa(gl,Jl);var $d=function(){gl.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return PQ(e,this.objId,this.scope)},set:function(r){var n,i;i=[],typeof(n=r)=="string"&&(i=(function(s,a,o){o||(o=1);for(var l,c=[];l=a.exec(s);)c.push(l[o]);return c})(n,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(r){e=r,this.sort&&e.sort()},this.addOption=function(r){r=(r=r||"").toString(),e.push(r),this.sort&&e.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();e.indexOf(r)!==-1&&(e.splice(e.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!pi(this.Ff,18)},set:function(r){r?this.Ff=mi(this.Ff,18):this.Ff=gi(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!pi(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=mi(this.Ff,19):this.Ff=gi(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!pi(this.Ff,20)},set:function(r){r?(this.Ff=mi(this.Ff,20),e.sort()):this.Ff=gi(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!pi(this.Ff,22)},set:function(r){r?this.Ff=mi(this.Ff,22):this.Ff=gi(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!pi(this.Ff,23)},set:function(r){r?this.Ff=mi(this.Ff,23):this.Ff=gi(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!pi(this.Ff,27)},set:function(r){r?this.Ff=mi(this.Ff,27):this.Ff=gi(this.Ff,27)}}),this.hasAppearanceStream=!1};Sa($d,gl);var Yd=function(){$d.call(this),this.fontName="helvetica",this.combo=!1};Sa(Yd,$d);var Jd=function(){Yd.call(this),this.combo=!0};Sa(Jd,Yd);var B1=function(){Jd.call(this),this.edit=!0};Sa(B1,Jd);var Xi=function(){gl.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!pi(this.Ff,15)},set:function(r){r?this.Ff=mi(this.Ff,15):this.Ff=gi(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!pi(this.Ff,16)},set:function(r){r?this.Ff=mi(this.Ff,16):this.Ff=gi(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!pi(this.Ff,17)},set:function(r){r?this.Ff=mi(this.Ff,17):this.Ff=gi(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!pi(this.Ff,26)},set:function(r){r?this.Ff=mi(this.Ff,26):this.Ff=gi(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(s){return s};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,i=[];for(n in i.push("<<"),e)i.push("/"+n+" ("+lh(r(e[n]))+")");return i.push(">>"),i.join(`
`)}},set:function(r){Jr(r)==="object"&&(e=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(r){typeof r=="string"&&(e.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+Lw(r)}})};Sa(Xi,gl);var C1=function(){Xi.call(this),this.pushButton=!0};Sa(C1,Xi);var Xd=function(){Xi.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};Sa(Xd,Xi);var Dw=function(){var t,e;gl.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(o){return o};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,a=[];for(s in a.push("<<"),n)a.push("/"+s+" ("+lh(i(n[s]))+")");return a.push(">>"),a.join(`
`)},set:function(i){Jr(i)==="object"&&(n=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(i){typeof i=="string"&&(n.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(i){r=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(i){r="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Tt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Sa(Dw,gl),Xd.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var r=this.Kids[e];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},Xd.prototype.createOption=function(t){var e=new Dw;return e.Parent=this,e.optionName=t,this.Kids.push(e),ice.call(this.scope,e),e};var S1=function(){Xi.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Tt.CheckBox.createAppearanceStream()};Sa(S1,Xi);var zf=function(){gl.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!pi(this.Ff,13)},set:function(e){e?this.Ff=mi(this.Ff,13):this.Ff=gi(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!pi(this.Ff,21)},set:function(e){e?this.Ff=mi(this.Ff,21):this.Ff=gi(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!pi(this.Ff,23)},set:function(e){e?this.Ff=mi(this.Ff,23):this.Ff=gi(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!pi(this.Ff,24)},set:function(e){e?this.Ff=mi(this.Ff,24):this.Ff=gi(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!pi(this.Ff,25)},set:function(e){e?this.Ff=mi(this.Ff,25):this.Ff=gi(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!pi(this.Ff,26)},set:function(e){e?this.Ff=mi(this.Ff,26):this.Ff=gi(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Sa(zf,gl);var E1=function(){zf.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!pi(this.Ff,14)},set:function(t){t?this.Ff=mi(this.Ff,14):this.Ff=gi(this.Ff,14)}}),this.password=!0};Sa(E1,zf);var Tt={CheckBox:{createAppearanceStream:function(){return{N:{On:Tt.CheckBox.YesNormal},D:{On:Tt.CheckBox.YesPushDown,Off:Tt.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=Kl(t);e.scope=t.scope;var r=[],n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),s=bS(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+lr(Tt.internal.getWidth(t))+" "+lr(Tt.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+lr(s.fontSize)+" Tf "+i),r.push("BT"),r.push(s.text),r.push("ET"),r.push("Q"),r.push("EMC"),e.stream=r.join(`
`),e},YesNormal:function(t){var e=Kl(t);e.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color),i=[],s=Tt.internal.getHeight(t),a=Tt.internal.getWidth(t),o=bS(t,t.caption);return i.push("1 g"),i.push("0 0 "+lr(a)+" "+lr(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+lr(a-1)+" "+lr(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+r+" "+lr(o.fontSize)+" Tf "+n),i.push(o.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=Kl(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+lr(Tt.internal.getWidth(t))+" "+lr(Tt.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:Tt.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=Tt.RadioButton.Circle.YesNormal,e.D[t]=Tt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=Kl(t);e.scope=t.scope;var r=[],n=Tt.internal.getWidth(t)<=Tt.internal.getHeight(t)?Tt.internal.getWidth(t)/4:Tt.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Tt.internal.Bezier_C,s=Number((n*i).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Wc(Tt.internal.getWidth(t)/2)+" "+Wc(Tt.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=Kl(t);e.scope=t.scope;var r=[],n=Tt.internal.getWidth(t)<=Tt.internal.getHeight(t)?Tt.internal.getWidth(t)/4:Tt.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),s=Number((i*Tt.internal.Bezier_C).toFixed(5)),a=Number((n*Tt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Wc(Tt.internal.getWidth(t)/2)+" "+Wc(Tt.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),r.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),r.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),r.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Wc(Tt.internal.getWidth(t)/2)+" "+Wc(Tt.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),r.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),r.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),r.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=Kl(t);e.scope=t.scope;var r=[],n=Tt.internal.getWidth(t)<=Tt.internal.getHeight(t)?Tt.internal.getWidth(t)/4:Tt.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),s=Number((i*Tt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Wc(Tt.internal.getWidth(t)/2)+" "+Wc(Tt.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),r.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),r.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),r.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:Tt.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=Tt.RadioButton.Cross.YesNormal,e.D[t]=Tt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=Kl(t);e.scope=t.scope;var r=[],n=Tt.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+lr(Tt.internal.getWidth(t)-2)+" "+lr(Tt.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(lr(n.x1.x)+" "+lr(n.x1.y)+" m"),r.push(lr(n.x2.x)+" "+lr(n.x2.y)+" l"),r.push(lr(n.x4.x)+" "+lr(n.x4.y)+" m"),r.push(lr(n.x3.x)+" "+lr(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=Kl(t);e.scope=t.scope;var r=Tt.internal.calculateCross(t),n=[];return n.push("0.749023 g"),n.push("0 0 "+lr(Tt.internal.getWidth(t))+" "+lr(Tt.internal.getHeight(t))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+lr(Tt.internal.getWidth(t)-2)+" "+lr(Tt.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(lr(r.x1.x)+" "+lr(r.x1.y)+" m"),n.push(lr(r.x2.x)+" "+lr(r.x2.y)+" l"),n.push(lr(r.x4.x)+" "+lr(r.x4.y)+" m"),n.push(lr(r.x3.x)+" "+lr(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=Kl(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+lr(Tt.internal.getWidth(t))+" "+lr(Tt.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+r}};Tt.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=Tt.internal.getWidth(t),r=Tt.internal.getHeight(t),n=Math.min(e,r);return{x1:{x:(e-n)/2,y:(r-n)/2+n},x2:{x:(e-n)/2+n,y:(r-n)/2},x3:{x:(e-n)/2,y:(r-n)/2},x4:{x:(e-n)/2+n,y:(r-n)/2+n}}}},Tt.internal.getWidth=function(t){var e=0;return Jr(t)==="object"&&(e=hO(t.Rect[2])),e},Tt.internal.getHeight=function(t){var e=0;return Jr(t)==="object"&&(e=hO(t.Rect[3])),e};var ice=ni.addField=function(t){if(nce(this,t),!(t instanceof gl))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};ni.AcroFormChoiceField=$d,ni.AcroFormListBox=Yd,ni.AcroFormComboBox=Jd,ni.AcroFormEditBox=B1,ni.AcroFormButton=Xi,ni.AcroFormPushButton=C1,ni.AcroFormRadioButton=Xd,ni.AcroFormCheckBox=S1,ni.AcroFormTextField=zf,ni.AcroFormPasswordField=E1,ni.AcroFormAppearance=Tt,ni.AcroForm={ChoiceField:$d,ListBox:Yd,ComboBox:Jd,EditBox:B1,Button:Xi,PushButton:C1,RadioButton:Xd,CheckBox:S1,TextField:zf,PasswordField:E1,Appearance:Tt},Mt.AcroForm={ChoiceField:$d,ListBox:Yd,ComboBox:Jd,EditBox:B1,Button:Xi,PushButton:C1,RadioButton:Xd,CheckBox:S1,TextField:zf,PasswordField:E1,Appearance:Tt};Mt.AcroForm;function VQ(t){return t.reduce(function(e,r,n){return e[r]=n,e},{})}(function(t){var e="addImage_";t.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=t.__addimage__.getImageFileTypeByImageData=function(q,R){var G,U,ae,re,Y,he=r;if((R=R||r)==="RGBA"||q.data!==void 0&&q.data instanceof Uint8ClampedArray&&"height"in q&&"width"in q)return"RGBA";if(M(q))for(Y in n)for(ae=n[Y],G=0;G<ae.length;G+=1){for(re=!0,U=0;U<ae[G].length;U+=1)if(ae[G][U]!==void 0&&ae[G][U]!==q[U]){re=!1;break}if(re===!0){he=Y;break}}else for(Y in n)for(ae=n[Y],G=0;G<ae.length;G+=1){for(re=!0,U=0;U<ae[G].length;U+=1)if(ae[G][U]!==void 0&&ae[G][U]!==q.charCodeAt(U)){re=!1;break}if(re===!0){he=Y;break}}return he===r&&R!==r&&(he=R),he},s=function q(R){for(var G=this.internal.write,U=this.internal.putStream,ae=(0,this.internal.getFilters)();ae.indexOf("FlateEncode")!==-1;)ae.splice(ae.indexOf("FlateEncode"),1);R.objectId=this.internal.newObject();var re=[];if(re.push({key:"Type",value:"/XObject"}),re.push({key:"Subtype",value:"/Image"}),re.push({key:"Width",value:R.width}),re.push({key:"Height",value:R.height}),R.colorSpace===w.INDEXED?re.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(R.palette.length/3-1)+" "+("sMask"in R&&R.sMask!==void 0?R.objectId+2:R.objectId+1)+" 0 R]"}):(re.push({key:"ColorSpace",value:"/"+R.colorSpace}),R.colorSpace===w.DEVICE_CMYK&&re.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),re.push({key:"BitsPerComponent",value:R.bitsPerComponent}),"decodeParameters"in R&&R.decodeParameters!==void 0&&re.push({key:"DecodeParms",value:"<<"+R.decodeParameters+">>"}),"transparency"in R&&Array.isArray(R.transparency)&&R.transparency.length>0){for(var Y="",he=0,de=R.transparency.length;he<de;he++)Y+=R.transparency[he]+" "+R.transparency[he]+" ";re.push({key:"Mask",value:"["+Y+"]"})}R.sMask!==void 0&&re.push({key:"SMask",value:R.objectId+1+" 0 R"});var Ce=R.filter!==void 0?["/"+R.filter]:void 0;if(U({data:R.data,additionalKeyValues:re,alreadyAppliedFilters:Ce,objectId:R.objectId}),G("endobj"),"sMask"in R&&R.sMask!==void 0){var X,I=(X=R.sMaskBitsPerComponent)!==null&&X!==void 0?X:R.bitsPerComponent,J={width:R.width,height:R.height,colorSpace:"DeviceGray",bitsPerComponent:I,data:R.sMask};"filter"in R&&(J.decodeParameters="/Predictor ".concat(R.predictor," /Colors 1 /BitsPerComponent ").concat(I," /Columns ").concat(R.width),J.filter=R.filter),q.call(this,J)}if(R.colorSpace===w.INDEXED){var te=this.internal.newObject();U({data:H(new Uint8Array(R.palette)),objectId:te}),G("endobj")}},a=function(){var q=this.internal.collections[e+"images"];for(var R in q)s.call(this,q[R])},o=function(){var q,R=this.internal.collections[e+"images"],G=this.internal.write;for(var U in R)G("/I"+(q=R[U]).index,q.objectId,"0","R")},l=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",o))},c=function(){var q=this.internal.collections[e+"images"];return l.call(this),q},f=function(){return Object.keys(this.internal.collections[e+"images"]).length},h=function(q){return typeof t["process"+q.toUpperCase()]=="function"},m=function(q){return Jr(q)==="object"&&q.nodeType===1},d=function(q,R){if(q.nodeName==="IMG"&&q.hasAttribute("src")){var G=""+q.getAttribute("src");if(G.indexOf("data:image/")===0)return x1(unescape(G).split("base64,").pop());var U=t.loadFile(G,!0);if(U!==void 0)return U}if(q.nodeName==="CANVAS"){if(q.width===0||q.height===0)throw new Error("Given canvas must have data. Canvas width: "+q.width+", height: "+q.height);var ae;switch(R){case"PNG":ae="image/png";break;case"WEBP":ae="image/webp";break;default:ae="image/jpeg"}return x1(q.toDataURL(ae,1).split("base64,").pop())}},g=function(q){var R=this.internal.collections[e+"images"];if(R){for(var G in R)if(q===R[G].alias)return R[G]}},v=function(q,R,G){return q||R||(q=-96,R=-96),q<0&&(q=-1*G.width*72/q/this.internal.scaleFactor),R<0&&(R=-1*G.height*72/R/this.internal.scaleFactor),q===0&&(q=R*G.width/G.height),R===0&&(R=q*G.height/G.width),[q,R]},b=function(q,R,G,U,ae,re){var Y=v.call(this,G,U,ae),he=this.internal.getCoordinateString,de=this.internal.getVerticalCoordinateString,Ce=c.call(this);if(G=Y[0],U=Y[1],Ce[ae.index]=ae,re){re*=Math.PI/180;var X=Math.cos(re),I=Math.sin(re),J=function(Ae){return Ae.toFixed(4)},te=[J(X),J(I),J(-1*I),J(X),0,0,"cm"]}this.internal.write("q"),re?(this.internal.write([1,"0","0",1,he(q),de(R+U),"cm"].join(" ")),this.internal.write(te.join(" ")),this.internal.write([he(G),"0","0",he(U),"0","0","cm"].join(" "))):this.internal.write([he(G),"0","0",he(U),he(q),de(R+U),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ae.index+" Do"),this.internal.write("Q")},w=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var B=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},S=t.__addimage__.sHashCode=function(q){var R,G,U=0;if(typeof q=="string")for(G=q.length,R=0;R<G;R++)U=(U<<5)-U+q.charCodeAt(R),U|=0;else if(M(q))for(G=q.byteLength/2,R=0;R<G;R++)U=(U<<5)-U+q[R],U|=0;return U},C=t.__addimage__.validateStringAsBase64=function(q){(q=q||"").toString().trim();var R=!0;return q.length===0&&(R=!1),q.length%4!=0&&(R=!1),/^[A-Za-z0-9+/]+$/.test(q.substr(0,q.length-2))===!1&&(R=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(q.substr(-2))===!1&&(R=!1),R},k=t.__addimage__.extractImageFromDataUrl=function(q){if(q==null||!(q=q.trim()).startsWith("data:"))return null;var R=q.indexOf(",");return R<0?null:q.substring(0,R).trim().endsWith("base64")?q.substring(R+1):null};t.__addimage__.isArrayBuffer=function(q){return q instanceof ArrayBuffer};var M=t.__addimage__.isArrayBufferView=function(q){return q instanceof Int8Array||q instanceof Uint8Array||q instanceof Uint8ClampedArray||q instanceof Int16Array||q instanceof Uint16Array||q instanceof Int32Array||q instanceof Uint32Array||q instanceof Float32Array||q instanceof Float64Array},D=t.__addimage__.binaryStringToUint8Array=function(q){for(var R=q.length,G=new Uint8Array(R),U=0;U<R;U++)G[U]=q.charCodeAt(U);return G},H=t.__addimage__.arrayBufferToBinaryString=function(q){for(var R="",G=M(q)?q:new Uint8Array(q),U=0;U<G.length;U+=8192)R+=String.fromCharCode.apply(null,G.subarray(U,U+8192));return R};t.addImage=function(){var q,R,G,U,ae,re,Y,he,de;if(typeof arguments[1]=="number"?(R=r,G=arguments[1],U=arguments[2],ae=arguments[3],re=arguments[4],Y=arguments[5],he=arguments[6],de=arguments[7]):(R=arguments[1],G=arguments[2],U=arguments[3],ae=arguments[4],re=arguments[5],Y=arguments[6],he=arguments[7],de=arguments[8]),Jr(q=arguments[0])==="object"&&!m(q)&&"imageData"in q){var Ce=q;q=Ce.imageData,R=Ce.format||R||r,G=Ce.x||G||0,U=Ce.y||U||0,ae=Ce.w||Ce.width||ae,re=Ce.h||Ce.height||re,Y=Ce.alias||Y,he=Ce.compression||he,de=Ce.rotation||Ce.angle||de}var X=this.internal.getFilters();if(he===void 0&&X.indexOf("FlateEncode")!==-1&&(he="SLOW"),isNaN(G)||isNaN(U))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var I=F.call(this,q,R,Y,he);return b.call(this,G,U,ae,re,I,de),this};var F=function(q,R,G,U){var ae,re,Y;if(typeof q=="string"&&i(q)===r){q=unescape(q);var he=$(q,!1);(he!==""||(he=t.loadFile(q,!0))!==void 0)&&(q=he)}if(m(q)&&(q=d(q,R)),R=i(q,R),!h(R))throw new Error("addImage does not support files of type '"+R+"', please ensure that a plugin for '"+R+"' support is added.");if(((Y=G)==null||Y.length===0)&&(G=(function(de){return typeof de=="string"||M(de)?S(de):M(de.data)?S(de.data):null})(q)),(ae=g.call(this,G))||(q instanceof Uint8Array||R==="RGBA"||(re=q,q=D(q)),ae=this["process"+R.toUpperCase()](q,f.call(this),G,(function(de){return de&&typeof de=="string"&&(de=de.toUpperCase()),de in t.image_compression?de:B.NONE})(U),re)),!ae)throw new Error("An unknown error occurred whilst processing the image.");return ae},$=t.__addimage__.convertBase64ToBinaryString=function(q,R){R=typeof R!="boolean"||R;var G,U="";if(typeof q=="string"){var ae;G=(ae=k(q))!==null&&ae!==void 0?ae:q;try{U=x1(G)}catch(re){if(R)throw C(G)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+re.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return U};t.getImageProperties=function(q){var R,G,U="";if(m(q)&&(q=d(q)),typeof q=="string"&&i(q)===r&&((U=$(q,!1))===""&&(U=t.loadFile(q)||""),q=U),G=i(q),!h(G))throw new Error("addImage does not support files of type '"+G+"', please ensure that a plugin for '"+G+"' support is added.");if(q instanceof Uint8Array||(q=D(q)),!(R=this["process"+G.toUpperCase()](q)))throw new Error("An unknown error occurred whilst processing the image");return R.fileType=G,R}})(Mt.API),(function(t){var e=function(r){if(r!==void 0&&r!="")return!0};Mt.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var n,i,s,a=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(r.objId),c=r.pageContext.annotations,f=!1,h=0;h<c.length&&!f;h++)switch((n=c[h]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(f=!0);break;case"reference":case"text":case"freetext":f=!0}if(f!=0){this.internal.write("/Annots [");for(var m=0;m<c.length;m++){n=c[m];var d=this.internal.pdfEscape,g=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var v=this.internal.newAdditionalObject(),b=this.internal.newAdditionalObject(),w=this.internal.getEncryptor(v.objId),B=n.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+a(n.bounds.x)+" "+o(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y)+"] ")+"/Contents ("+d(w(n.contents))+")",s+=" /Popup "+b.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+d(w(B))+") >>",v.content=s;var S=v.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+a(n.bounds.x+30)+" "+o(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w+30)+" "+o(n.bounds.y)+"] ")+" /Parent "+S,n.open&&(s+=" /Open true"),s+=" >>",b.content=s,this.internal.write(v.objId,"0 R",b.objId,"0 R");break;case"freetext":i="/Rect ["+a(n.bounds.x)+" "+o(n.bounds.y)+" "+a(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y+n.bounds.h)+"] ";var C=n.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+d(g(n.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+C+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(n.options.name){var k=this.annotations._nameMap[n.options.name];n.options.pageNumber=k.page,n.options.top=k.y}else n.options.top||(n.options.top=0);if(i="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",s="",n.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+d(g(n.options.url))+") >>";else if(n.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,s+=" /FitV "+n.options.left+"]";break;default:var M=o(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),s+=" /XYZ "+n.options.left+" "+M+" "+n.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},t.link=function(r,n,i,s,a){var o=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:l(r),y:c(n),w:l(r+i),h:c(n+s)},options:a,type:"link"})},t.textWithLink=function(r,n,i,s){var a,o,l=this.getTextWidth(r),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){o=s.maxWidth;var f=this.splitTextToSize(r,o).length;a=Math.ceil(c*f)}else o=l,a=c;return this.text(r,n,i,s),i+=.2*c,s.align==="center"&&(n-=l/2),s.align==="right"&&(n-=l),this.link(n,i-c,o,a,s),l},t.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}})(Mt.API),(function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var s=t.__arabicParser__.isInArabicSubstitutionA=function(v){return e[v.charCodeAt(0)]!==void 0},a=t.__arabicParser__.isArabicLetter=function(v){return typeof v=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(v)},o=t.__arabicParser__.isArabicEndLetter=function(v){return a(v)&&s(v)&&e[v.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(v){return a(v)&&i.indexOf(v.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(v){return a(v)&&s(v)&&e[v.charCodeAt(0)].length>=1};var c=t.__arabicParser__.arabicLetterHasFinalForm=function(v){return a(v)&&s(v)&&e[v.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(v){return a(v)&&s(v)&&e[v.charCodeAt(0)].length>=3};var f=t.__arabicParser__.arabicLetterHasMedialForm=function(v){return a(v)&&s(v)&&e[v.charCodeAt(0)].length==4},h=t.__arabicParser__.resolveLigatures=function(v){var b=0,w=r,B="",S=0;for(b=0;b<v.length;b+=1)w[v.charCodeAt(b)]!==void 0?(S++,typeof(w=w[v.charCodeAt(b)])=="number"&&(B+=String.fromCharCode(w),w=r,S=0),b===v.length-1&&(w=r,B+=v.charAt(b-(S-1)),b-=S-1,S=0)):(w=r,B+=v.charAt(b-S),b-=S,S=0);return B};t.__arabicParser__.isArabicDiacritic=function(v){return v!==void 0&&n[v.charCodeAt(0)]!==void 0};var m=t.__arabicParser__.getCorrectForm=function(v,b,w){return a(v)?s(v)===!1?-1:!c(v)||!a(b)&&!a(w)||!a(w)&&o(b)||o(v)&&!a(b)||o(v)&&l(b)||o(v)&&o(b)?0:f(v)&&a(b)&&!o(b)&&a(w)&&c(w)?3:o(v)||!a(w)?1:2:-1},d=function(v){var b=0,w=0,B=0,S="",C="",k="",M=(v=v||"").split("\\s+"),D=[];for(b=0;b<M.length;b+=1){for(D.push(""),w=0;w<M[b].length;w+=1)S=M[b][w],C=M[b][w-1],k=M[b][w+1],a(S)?(B=m(S,C,k),D[b]+=B!==-1?String.fromCharCode(e[S.charCodeAt(0)][B]):S):D[b]+=S;D[b]=h(D[b])}return D.join(" ")},g=t.__arabicParser__.processArabic=t.processArabic=function(){var v,b=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,w=[];if(Array.isArray(b)){var B=0;for(w=[],B=0;B<b.length;B+=1)Array.isArray(b[B])?w.push([d(b[B][0]),b[B][1],b[B][2]]):w.push([d(b[B])]);v=w}else v=d(b);return typeof arguments[0]=="string"?v:(arguments[0].text=v,arguments[0])};t.events.push(["preProcessText",g])})(Mt.API),Mt.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(t){var e=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(o){r=o}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(o){n=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(o){i=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(o){s=o}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(o){a=o}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(r,n){var i;if((r=r||"2d")!=="2d")return null;for(i in n)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=n[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(Mt.API),(function(t){var e={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(v){l=v}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(v){c=v}});var f=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return f},set:function(v){f=v}});var h=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return h},set:function(v){h=v}});var m=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return m},set:function(v){m=v}});var d=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return d},set:function(v){d=v}});var g=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return g},set:function(v){g=v}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return n.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,c){n.call(this);var f=(c=c||{}).fontSize||this.getFontSize(),h=c.font||this.getFont(),m=c.scaleFactor||this.internal.scaleFactor,d=0,g=0,v=0,b=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var w=c.maxWidth;w>0?typeof l=="string"?l=this.splitTextToSize(l,w):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(S,C){return S.concat(b.splitTextToSize(C,w))},[])):l=Array.isArray(l)?l:[l];for(var B=0;B<l.length;B++)d<(v=this.getStringUnitWidth(l[B],{font:h})*f)&&(d=v);return d!==0&&(g=l.length),{w:d/=m,h:Math.max((g*f*this.getLineHeightFactor()-f*(this.getLineHeightFactor()-1))/m,0)}},t.cellAddPage=function(){n.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=t.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),n.call(this);var c=this.internal.__cell__.lastCell,f=this.internal.__cell__.padding,h=this.internal.__cell__.margins||e,m=this.internal.__cell__.tableHeaderRow,d=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+h.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=h.top,d&&m&&(this.printHeaderRow(l.lineNumber,!0),l.y+=m[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,r===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-f,l.y+f,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+f,{align:"center",baseline:"top",maxWidth:l.width-f-f}):this.text(l.text,l.x+f,l.y+f,{align:"left",baseline:"top",maxWidth:l.width-f-f})),this.internal.__cell__.lastCell=l,this};t.table=function(l,c,f,h,m){if(n.call(this),!f)throw new Error("No data for PDF table.");var d,g,v,b,w=[],B=[],S=[],C={},k={},M=[],D=[],H=(m=m||{}).autoSize||!1,F=m.printHeaders!==!1,$=m.css&&m.css["font-size"]!==void 0?16*m.css["font-size"]:m.fontSize||12,q=m.margins||Object.assign({width:this.getPageWidth()},e),R=typeof m.padding=="number"?m.padding:3,G=m.headerBackgroundColor||"#c8c8c8",U=m.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=F,this.internal.__cell__.margins=q,this.internal.__cell__.table_font_size=$,this.internal.__cell__.padding=R,this.internal.__cell__.headerBackgroundColor=G,this.internal.__cell__.headerTextColor=U,this.setFontSize($),h==null)B=w=Object.keys(f[0]),S=w.map(function(){return"left"});else if(Array.isArray(h)&&Jr(h[0])==="object")for(w=h.map(function(Ce){return Ce.name}),B=h.map(function(Ce){return Ce.prompt||Ce.name||""}),S=h.map(function(Ce){return Ce.align||"left"}),d=0;d<h.length;d+=1)k[h[d].name]=.7499990551181103*h[d].width;else Array.isArray(h)&&typeof h[0]=="string"&&(B=w=h,S=w.map(function(){return"left"}));if(H||Array.isArray(h)&&typeof h[0]=="string")for(d=0;d<w.length;d+=1){for(C[b=w[d]]=f.map(function(Ce){return Ce[b]}),this.setFont(void 0,"bold"),M.push(this.getTextDimensions(B[d],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),g=C[b],this.setFont(void 0,"normal"),v=0;v<g.length;v+=1)M.push(this.getTextDimensions(g[v],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);k[b]=Math.max.apply(null,M)+R+R,M=[]}if(F){var ae={};for(d=0;d<w.length;d+=1)ae[w[d]]={},ae[w[d]].text=B[d],ae[w[d]].align=S[d];var re=o.call(this,ae,k);D=w.map(function(Ce){return new s(l,c,k[Ce],re,ae[Ce].text,void 0,ae[Ce].align)}),this.setTableHeaderRow(D),this.printHeaderRow(1,!1)}var Y=h.reduce(function(Ce,X){return Ce[X.name]=X.align,Ce},{});for(d=0;d<f.length;d+=1){"rowStart"in m&&m.rowStart instanceof Function&&m.rowStart({row:d,data:f[d]},this);var he=o.call(this,f[d],k);for(v=0;v<w.length;v+=1){var de=f[d][w[v]];"cellStart"in m&&m.cellStart instanceof Function&&m.cellStart({row:d,col:v,data:de},this),a.call(this,new s(l,c,k[w[v]],he,de,d+2,Y[w[v]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var o=function(l,c){var f=this.internal.__cell__.padding,h=this.internal.__cell__.table_font_size,m=this.internal.scaleFactor;return Object.keys(l).map(function(d){var g=l[d];return this.splitTextToSize(g.hasOwnProperty("text")?g.text:g,c[d]-f-f)},this).map(function(d){return this.getLineHeightFactor()*d.length*h/m+f+f},this).reduce(function(d,g){return Math.max(d,g)},0)};t.setTableHeaderRow=function(l){n.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,c){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var f;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var h=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(h[0],h[1],h[2],h[3],void 0,-1)}this.setFont(void 0,"bold");for(var m=[],d=0;d<this.internal.__cell__.tableHeaderRow.length;d+=1){f=this.internal.__cell__.tableHeaderRow[d].clone(),c&&(f.y=this.internal.__cell__.margins.top||0,m.push(f)),f.lineNumber=l;var g=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,f),this.setTextColor(g)}m.length>0&&this.setTableHeaderRow(m),this.setFont(void 0,"normal"),r=!1}})(Mt.API);var qQ={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},GQ=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],xS=VQ(GQ),WQ=[100,200,300,400,500,600,700,800,900],sce=VQ(WQ);function fB(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),r=(function(s){return qQ[s=s||"normal"]?s:"normal"})(t.style),n=(function(s){return s?typeof s=="number"?s>=100&&s<=900&&s%100==0?s:400:/^\d00$/.test(s)?parseInt(s):s==="bold"?700:400:400})(t.weight),i=(function(s){return typeof xS[s=s||"normal"]=="number"?s:"normal"})(t.stretch);return{family:e,style:r,weight:n,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,r,n].join(" ")}}}function dO(t,e,r,n){var i;for(i=r;i>=0&&i<e.length;i+=n)if(t[e[i]])return t[e[i]];for(i=r;i>=0&&i<e.length;i-=n)if(t[e[i]])return t[e[i]]}var ace={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},pO={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function mO(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function gO(t){return t.trimLeft()}function oce(t,e){for(var r=0;r<t.length;){if(t.charAt(r)===e)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function lce(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var fd,Hy,yO,wO,vO,hB=["times"];function bO(t,e,r,n,i){var s=4,a=BO;switch(i){case Mt.API.image_compression.FAST:s=1,a=xO;break;case Mt.API.image_compression.MEDIUM:s=6,a=CO;break;case Mt.API.image_compression.SLOW:s=9,a=SO}t=(function(l,c,f,h){for(var m,d=l.length/c,g=new Uint8Array(l.length+d),v=[Ace,xO,BO,CO,SO],b=0;b<d;b+=1){var w=b*c,B=l.subarray(w,w+c);if(h)g.set(h(B,f,m),w+b);else{for(var S=v.length,C=[],k=0;k<S;k+=1)C[k]=v[k](B,f,m);var M=uce(C.concat());g.set(C[M],w+b)}m=B}return g})(t,e,Math.ceil(r*n/8),a);var o=pS(t,{level:s});return Mt.API.__addimage__.arrayBufferToBinaryString(o)}function Ace(t){var e=Array.apply([],t);return e.unshift(0),e}function xO(t,e){var r=t.length,n=[];n[0]=1;for(var i=0;i<r;i+=1){var s=t[i-e]||0;n[i+1]=t[i]-s+256&255}return n}function BO(t,e,r){var n=t.length,i=[];i[0]=2;for(var s=0;s<n;s+=1){var a=r&&r[s]||0;i[s+1]=t[s]-a+256&255}return i}function CO(t,e,r){var n=t.length,i=[];i[0]=3;for(var s=0;s<n;s+=1){var a=t[s-e]||0,o=r&&r[s]||0;i[s+1]=t[s]+256-(a+o>>>1)&255}return i}function SO(t,e,r){var n=t.length,i=[];i[0]=4;for(var s=0;s<n;s+=1){var a=cce(t[s-e]||0,r&&r[s]||0,r&&r[s-e]||0);i[s+1]=t[s]-a+256&255}return i}function cce(t,e,r){if(t===e&&e===r)return t;var n=Math.abs(e-r),i=Math.abs(t-r),s=Math.abs(t+e-r-r);return n<=i&&n<=s?t:i<=s?e:r}function uce(t){var e=t.map(function(r){return r.reduce(function(n,i){return n+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function dB(t,e,r){var n=e*r,i=Math.floor(n/8),s=16-(n-8*i+r),a=(1<<r)-1;return $Q(t,i)>>s&a}function EO(t,e,r,n){var i=r*n,s=Math.floor(i/8),a=16-(i-8*s+n),o=(1<<n)-1,l=(e&o)<<a;(function(c,f,h){if(f+1<c.byteLength)c.setUint16(f,h,!1);else{var m=h>>8&255;c.setUint8(f,m)}})(t,s,$Q(t,s)&~(o<<a)&65535|l)}function $Q(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function fce(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[e++]|t[e++]<<8,n=t[e++]|t[e++]<<8,i=t[e++],s=i>>7,a=1<<1+(7&i);t[e++],t[e++];var o=null,l=null;s&&(o=e,l=a,e+=3*a);var c=!0,f=[],h=0,m=null,d=0,g=null;for(this.width=r,this.height=n;c&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,g=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((q=t[e++])>=0))throw Error("Invalid block size");if(q===0)break;e+=q}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var v=t[e++];h=t[e++]|t[e++]<<8,m=t[e++],1&v||(m=null),d=v>>2&7,e++;break;case 254:for(;;){if(!((q=t[e++])>=0))throw Error("Invalid block size");if(q===0)break;e+=q}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var b=t[e++]|t[e++]<<8,w=t[e++]|t[e++]<<8,B=t[e++]|t[e++]<<8,S=t[e++]|t[e++]<<8,C=t[e++],k=C>>6&1,M=1<<1+(7&C),D=o,H=l,F=!1;C>>7&&(F=!0,D=e,H=M,e+=3*M);var $=e;for(e++;;){var q;if(!((q=t[e++])>=0))throw Error("Invalid block size");if(q===0)break;e+=q}f.push({x:b,y:w,width:B,height:S,has_local_palette:F,palette_offset:D,palette_size:H,data_offset:$,data_length:e-$,transparent_index:m,interlaced:!!k,delay:h,disposal:d});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return f.length},this.loopCount=function(){return g},this.frameInfo=function(R){if(R<0||R>=f.length)throw new Error("Frame index out of range.");return f[R]},this.decodeAndBlitFrameBGRA=function(R,G){var U=this.frameInfo(R),ae=U.width*U.height,re=new Uint8Array(ae);_O(t,U.data_offset,re,ae);var Y=U.palette_offset,he=U.transparent_index;he===null&&(he=256);var de=U.width,Ce=r-de,X=de,I=4*(U.y*r+U.x),J=4*((U.y+U.height)*r+U.x),te=I,Ae=4*Ce;U.interlaced===!0&&(Ae+=4*r*7);for(var se=8,Q=0,P=re.length;Q<P;++Q){var le=re[Q];if(X===0&&(X=de,(te+=Ae)>=J&&(Ae=4*Ce+4*r*(se-1),te=I+(de+Ce)*(se<<1),se>>=1)),le===he)te+=4;else{var oe=t[Y+3*le],ie=t[Y+3*le+1],fe=t[Y+3*le+2];G[te++]=fe,G[te++]=ie,G[te++]=oe,G[te++]=255}--X}},this.decodeAndBlitFrameRGBA=function(R,G){var U=this.frameInfo(R),ae=U.width*U.height,re=new Uint8Array(ae);_O(t,U.data_offset,re,ae);var Y=U.palette_offset,he=U.transparent_index;he===null&&(he=256);var de=U.width,Ce=r-de,X=de,I=4*(U.y*r+U.x),J=4*((U.y+U.height)*r+U.x),te=I,Ae=4*Ce;U.interlaced===!0&&(Ae+=4*r*7);for(var se=8,Q=0,P=re.length;Q<P;++Q){var le=re[Q];if(X===0&&(X=de,(te+=Ae)>=J&&(Ae=4*Ce+4*r*(se-1),te=I+(de+Ce)*(se<<1),se>>=1)),le===he)te+=4;else{var oe=t[Y+3*le],ie=t[Y+3*le+1],fe=t[Y+3*le+2];G[te++]=oe,G[te++]=ie,G[te++]=fe,G[te++]=255}--X}}}function _O(t,e,r,n){for(var i=t[e++],s=1<<i,a=s+1,o=a+1,l=i+1,c=(1<<l)-1,f=0,h=0,m=0,d=t[e++],g=new Int32Array(4096),v=null;;){for(;f<16&&d!==0;)h|=t[e++]<<f,f+=8,d===1?d=t[e++]:--d;if(f<l)break;var b=h&c;if(h>>=l,f-=l,b!==s){if(b===a)break;for(var w=b<o?b:v,B=0,S=w;S>s;)S=g[S]>>8,++B;var C=S;if(m+B+(w!==b?1:0)>n)return void un.log("Warning, gif stream longer than expected.");r[m++]=C;var k=m+=B;for(w!==b&&(r[m++]=C),S=w;B--;)S=g[S],r[--k]=255&S,S>>=8;v!==null&&o<4096&&(g[o++]=v<<8|C,o>=c+1&&l<12&&(++l,c=c<<1|1)),v=b}else o=a+1,c=(1<<(l=i+1))-1,v=null}return m!==n&&un.log("Warning, gif stream shorter than expected."),r}function pB(t){var e,r,n,i,s,a=Math.floor,o=new Array(64),l=new Array(64),c=new Array(64),f=new Array(64),h=new Array(65535),m=new Array(65535),d=new Array(64),g=new Array(64),v=[],b=0,w=7,B=new Array(64),S=new Array(64),C=new Array(64),k=new Array(256),M=new Array(2048),D=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],H=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],F=[0,1,2,3,4,5,6,7,8,9,10,11],$=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],q=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],R=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],G=[0,1,2,3,4,5,6,7,8,9,10,11],U=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ae=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function re(I,J){for(var te=0,Ae=0,se=new Array,Q=1;Q<=16;Q++){for(var P=1;P<=I[Q];P++)se[J[Ae]]=[],se[J[Ae]][0]=te,se[J[Ae]][1]=Q,Ae++,te++;te*=2}return se}function Y(I){for(var J=I[0],te=I[1]-1;te>=0;)J&1<<te&&(b|=1<<w),te--,--w<0&&(b==255?(he(255),he(0)):he(b),w=7,b=0)}function he(I){v.push(I)}function de(I){he(I>>8&255),he(255&I)}function Ce(I,J,te,Ae,se){for(var Q,P=se[0],le=se[240],oe=(function(z,ge){var Be,be,Oe,je,He,We,at,ct,ft,Ot,mt=0;for(ft=0;ft<8;++ft){Be=z[mt],be=z[mt+1],Oe=z[mt+2],je=z[mt+3],He=z[mt+4],We=z[mt+5],at=z[mt+6];var kr=Be+(ct=z[mt+7]),yt=Be-ct,_t=be+at,It=be-at,Pt=Oe+We,Ve=Oe-We,gt=je+He,Bt=je-He,Rt=kr+gt,ur=kr-gt,Vt=_t+Pt,dt=_t-Pt;z[mt]=Rt+Vt,z[mt+4]=Rt-Vt;var Xt=.707106781*(dt+ur);z[mt+2]=ur+Xt,z[mt+6]=ur-Xt;var zi=.382683433*((Rt=Bt+Ve)-(dt=It+yt)),cr=.5411961*Rt+zi,Qn=1.306562965*dt+zi,Es=.707106781*(Vt=Ve+It),Lt=yt+Es,ra=yt-Es;z[mt+5]=ra+cr,z[mt+3]=ra-cr,z[mt+1]=Lt+Qn,z[mt+7]=Lt-Qn,mt+=8}for(mt=0,ft=0;ft<8;++ft){Be=z[mt],be=z[mt+8],Oe=z[mt+16],je=z[mt+24],He=z[mt+32],We=z[mt+40],at=z[mt+48];var Hs=Be+(ct=z[mt+56]),Fi=Be-ct,vi=be+at,zr=be-at,mn=Oe+We,Tn=Oe-We,$a=je+He,li=je-He,Rr=Hs+$a,on=Hs-$a,bi=vi+mn,Gt=vi-mn;z[mt]=Rr+bi,z[mt+32]=Rr-bi;var gr=.707106781*(Gt+on);z[mt+16]=on+gr,z[mt+48]=on-gr;var Kr=.382683433*((Rr=li+Tn)-(Gt=zr+Fi)),vn=.5411961*Rr+Kr,bn=1.306562965*Gt+Kr,na=.707106781*(bi=Tn+zr),js=Fi+na,Ps=Fi-na;z[mt+40]=Ps+vn,z[mt+24]=Ps-vn,z[mt+8]=js+bn,z[mt+56]=js-bn,mt++}for(ft=0;ft<64;++ft)Ot=z[ft]*ge[ft],d[ft]=Ot>0?Ot+.5|0:Ot-.5|0;return d})(I,J),ie=0;ie<64;++ie)g[D[ie]]=oe[ie];var fe=g[0]-te;te=g[0],fe==0?Y(Ae[0]):(Y(Ae[m[Q=32767+fe]]),Y(h[Q]));for(var Te=63;Te>0&&g[Te]==0;)Te--;if(Te==0)return Y(P),te;for(var V,ne=1;ne<=Te;){for(var W=ne;g[ne]==0&&ne<=Te;)++ne;var L=ne-W;if(L>=16){V=L>>4;for(var N=1;N<=V;++N)Y(le);L&=15}Q=32767+g[ne],Y(se[(L<<4)+m[Q]]),Y(h[Q]),ne++}return Te!=63&&Y(P),te}function X(I){I=Math.min(Math.max(I,1),100),s!=I&&((function(J){for(var te=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Ae=0;Ae<64;Ae++){var se=a((te[Ae]*J+50)/100);se=Math.min(Math.max(se,1),255),o[D[Ae]]=se}for(var Q=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],P=0;P<64;P++){var le=a((Q[P]*J+50)/100);le=Math.min(Math.max(le,1),255),l[D[P]]=le}for(var oe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],ie=0,fe=0;fe<8;fe++)for(var Te=0;Te<8;Te++)c[ie]=1/(o[D[ie]]*oe[fe]*oe[Te]*8),f[ie]=1/(l[D[ie]]*oe[fe]*oe[Te]*8),ie++})(I<50?Math.floor(5e3/I):Math.floor(200-2*I)),s=I)}this.encode=function(I,J){J&&X(J),v=new Array,b=0,w=7,de(65496),de(65504),de(16),he(74),he(70),he(73),he(70),he(0),he(1),he(1),he(0),de(1),de(1),he(0),he(0),(function(){de(65499),de(132),he(0);for(var be=0;be<64;be++)he(o[be]);he(1);for(var Oe=0;Oe<64;Oe++)he(l[Oe])})(),(function(be,Oe){de(65472),de(17),he(8),de(Oe),de(be),he(3),he(1),he(17),he(0),he(2),he(17),he(1),he(3),he(17),he(1)})(I.width,I.height),(function(){de(65476),de(418),he(0);for(var be=0;be<16;be++)he(H[be+1]);for(var Oe=0;Oe<=11;Oe++)he(F[Oe]);he(16);for(var je=0;je<16;je++)he($[je+1]);for(var He=0;He<=161;He++)he(q[He]);he(1);for(var We=0;We<16;We++)he(R[We+1]);for(var at=0;at<=11;at++)he(G[at]);he(17);for(var ct=0;ct<16;ct++)he(U[ct+1]);for(var ft=0;ft<=161;ft++)he(ae[ft])})(),de(65498),de(12),he(3),he(1),he(0),he(2),he(17),he(3),he(17),he(0),he(63),he(0);var te=0,Ae=0,se=0;b=0,w=7,this.encode.displayName="_encode_";for(var Q,P,le,oe,ie,fe,Te,V,ne,W=I.data,L=I.width,N=I.height,z=4*L,ge=0;ge<N;){for(Q=0;Q<z;){for(ie=z*ge+Q,Te=-1,V=0,ne=0;ne<64;ne++)fe=ie+(V=ne>>3)*z+(Te=4*(7&ne)),ge+V>=N&&(fe-=z*(ge+1+V-N)),Q+Te>=z&&(fe-=Q+Te-z+4),P=W[fe++],le=W[fe++],oe=W[fe++],B[ne]=(M[P]+M[le+256|0]+M[oe+512|0]>>16)-128,S[ne]=(M[P+768|0]+M[le+1024|0]+M[oe+1280|0]>>16)-128,C[ne]=(M[P+1280|0]+M[le+1536|0]+M[oe+1792|0]>>16)-128;te=Ce(B,c,te,e,n),Ae=Ce(S,f,Ae,r,i),se=Ce(C,f,se,r,i),Q+=32}ge+=8}if(w>=0){var Be=[];Be[1]=w+1,Be[0]=(1<<w+1)-1,Y(Be)}return de(65497),new Uint8Array(v)},t=t||50,(function(){for(var I=String.fromCharCode,J=0;J<256;J++)k[J]=I(J)})(),e=re(H,F),r=re(R,G),n=re($,q),i=re(U,ae),(function(){for(var I=1,J=2,te=1;te<=15;te++){for(var Ae=I;Ae<J;Ae++)m[32767+Ae]=te,h[32767+Ae]=[],h[32767+Ae][1]=te,h[32767+Ae][0]=Ae;for(var se=-(J-1);se<=-I;se++)m[32767+se]=te,h[32767+se]=[],h[32767+se][1]=te,h[32767+se][0]=J-1+se;I<<=1,J<<=1}})(),(function(){for(var I=0;I<256;I++)M[I]=19595*I,M[I+256|0]=38470*I,M[I+512|0]=7471*I+32768,M[I+768|0]=-11059*I,M[I+1024|0]=-21709*I,M[I+1280|0]=32768*I+8421375,M[I+1536|0]=-27439*I,M[I+1792|0]=-5329*I})(),X(t)}function il(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function kO(t){function e(F){if(!F)throw Error("assert :P")}function r(F,$,q){for(var R=0;4>R;R++)if(F[$+R]!=q.charCodeAt(R))return!0;return!1}function n(F,$,q,R,G){for(var U=0;U<G;U++)F[$+U]=q[R+U]}function i(F,$,q,R){for(var G=0;G<R;G++)F[$+G]=q}function s(F){return new Int32Array(F)}function a(F,$){for(var q=[],R=0;R<F;R++)q.push(new $);return q}function o(F,$){var q=[];return(function R(G,U,ae){for(var re=ae[U],Y=0;Y<re&&(G.push(ae.length>U+1?[]:new $),!(ae.length<U+1));Y++)R(G[Y],U+1,ae)})(q,0,F),q}var l=function(){var F=this;function $(x,T){for(var K=1<<T-1>>>0;x&K;)K>>>=1;return K?(x&K-1)+K:x}function q(x,T,K,Z,ue){e(!(Z%K));do x[T+(Z-=K)]=ue;while(0<Z)}function R(x,T,K,Z,ue){if(e(2328>=ue),512>=ue)var pe=s(512);else if((pe=s(ue))==null)return 0;return(function(ye,ve,xe,Ee,Ue,Pe){var Se,De,Me=ve,Ye=1<<xe,Qe=s(16),$e=s(16);for(e(Ue!=0),e(Ee!=null),e(ye!=null),e(0<xe),De=0;De<Ue;++De){if(15<Ee[De])return 0;++Qe[Ee[De]]}if(Qe[0]==Ue)return 0;for($e[1]=0,Se=1;15>Se;++Se){if(Qe[Se]>1<<Se)return 0;$e[Se+1]=$e[Se]+Qe[Se]}for(De=0;De<Ue;++De)Se=Ee[De],0<Ee[De]&&(Pe[$e[Se]++]=De);if($e[15]==1)return(Ee=new G).g=0,Ee.value=Pe[0],q(ye,Me,1,Ye,Ee),Ye;var Ze,At=-1,nt=Ye-1,kt=0,vt=1,rr=1,Ct=1<<xe;for(De=0,Se=1,Ue=2;Se<=xe;++Se,Ue<<=1){if(vt+=rr<<=1,0>(rr-=Qe[Se]))return 0;for(;0<Qe[Se];--Qe[Se])(Ee=new G).g=Se,Ee.value=Pe[De++],q(ye,Me+kt,Ue,Ct,Ee),kt=$(kt,Se)}for(Se=xe+1,Ue=2;15>=Se;++Se,Ue<<=1){if(vt+=rr<<=1,0>(rr-=Qe[Se]))return 0;for(;0<Qe[Se];--Qe[Se]){if(Ee=new G,(kt&nt)!=At){for(Me+=Ct,Ze=1<<(At=Se)-xe;15>At&&!(0>=(Ze-=Qe[At]));)++At,Ze<<=1;Ye+=Ct=1<<(Ze=At-xe),ye[ve+(At=kt&nt)].g=Ze+xe,ye[ve+At].value=Me-ve-At}Ee.g=Se-xe,Ee.value=Pe[De++],q(ye,Me+(kt>>xe),Ue,Ct,Ee),kt=$(kt,Se)}}return vt!=2*$e[15]-1?0:Ye})(x,T,K,Z,ue,pe)}function G(){this.value=this.g=0}function U(){this.value=this.g=0}function ae(){this.G=a(5,G),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(Cl,U)}function re(x,T,K,Z){e(x!=null),e(T!=null),e(2147483648>Z),x.Ca=254,x.I=0,x.b=-8,x.Ka=0,x.oa=T,x.pa=K,x.Jd=T,x.Yc=K+Z,x.Zc=4<=Z?K+Z-4+1:K,P(x)}function Y(x,T){for(var K=0;0<T--;)K|=oe(x,128)<<T;return K}function he(x,T){var K=Y(x,T);return le(x)?-K:K}function de(x,T,K,Z){var ue,pe=0;for(e(x!=null),e(T!=null),e(4294967288>Z),x.Sb=Z,x.Ra=0,x.u=0,x.h=0,4<Z&&(Z=4),ue=0;ue<Z;++ue)pe+=T[K+ue]<<8*ue;x.Ra=pe,x.bb=Z,x.oa=T,x.pa=K}function Ce(x){for(;8<=x.u&&x.bb<x.Sb;)x.Ra>>>=8,x.Ra+=x.oa[x.pa+x.bb]<<ro-8>>>0,++x.bb,x.u-=8;Ae(x)&&(x.h=1,x.u=0)}function X(x,T){if(e(0<=T),!x.h&&T<=cs){var K=te(x)&ks[T];return x.u+=T,Ce(x),K}return x.h=1,x.u=0}function I(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function J(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function te(x){return x.Ra>>>(x.u&ro-1)>>>0}function Ae(x){return e(x.bb<=x.Sb),x.h||x.bb==x.Sb&&x.u>ro}function se(x,T){x.u=T,x.h=Ae(x)}function Q(x){x.u>=no&&(e(x.u>=no),Ce(x))}function P(x){e(x!=null&&x.oa!=null),x.pa<x.Zc?(x.I=(x.oa[x.pa++]|x.I<<8)>>>0,x.b+=8):(e(x!=null&&x.oa!=null),x.pa<x.Yc?(x.b+=8,x.I=x.oa[x.pa++]|x.I<<8):x.Ka?x.b=0:(x.I<<=8,x.b+=8,x.Ka=1))}function le(x){return Y(x,1)}function oe(x,T){var K=x.Ca;0>x.b&&P(x);var Z=x.b,ue=K*T>>>8,pe=(x.I>>>Z>ue)+0;for(pe?(K-=ue,x.I-=ue+1<<Z>>>0):K=ue+1,Z=K,ue=0;256<=Z;)ue+=8,Z>>=8;return Z=7^ue+zo[Z],x.b-=Z,x.Ca=(K<<Z)-1,pe}function ie(x,T,K){x[T+0]=K>>24&255,x[T+1]=K>>16&255,x[T+2]=K>>8&255,x[T+3]=255&K}function fe(x,T){return x[T+0]|x[T+1]<<8}function Te(x,T){return fe(x,T)|x[T+2]<<16}function V(x,T){return fe(x,T)|fe(x,T+2)<<16}function ne(x,T){var K=1<<T;return e(x!=null),e(0<T),x.X=s(K),x.X==null?0:(x.Mb=32-T,x.Xa=T,1)}function W(x,T){e(x!=null),e(T!=null),e(x.Xa==T.Xa),n(T.X,0,x.X,0,1<<T.Xa)}function L(){this.X=[],this.Xa=this.Mb=0}function N(x,T,K,Z){e(K!=null),e(Z!=null);var ue=K[0],pe=Z[0];return ue==0&&(ue=(x*pe+T/2)/T),pe==0&&(pe=(T*ue+x/2)/x),0>=ue||0>=pe?0:(K[0]=ue,Z[0]=pe,1)}function z(x,T){return x+(1<<T)-1>>>T}function ge(x,T){return((4278255360&x)+(4278255360&T)>>>0&4278255360)+((16711935&x)+(16711935&T)>>>0&16711935)>>>0}function Be(x,T){F[T]=function(K,Z,ue,pe,ye,ve,xe){var Ee;for(Ee=0;Ee<ye;++Ee){var Ue=F[x](ve[xe+Ee-1],ue,pe+Ee);ve[xe+Ee]=ge(K[Z+Ee],Ue)}}}function be(){this.ud=this.hd=this.jd=0}function Oe(x,T){return((4278124286&(x^T))>>>1)+(x&T)>>>0}function je(x){return 0<=x&&256>x?x:0>x?0:255<x?255:void 0}function He(x,T){return je(x+(x-T+.5>>1))}function We(x,T,K){return Math.abs(T-K)-Math.abs(x-K)}function at(x,T,K,Z,ue,pe,ye){for(Z=pe[ye-1],K=0;K<ue;++K)pe[ye+K]=Z=ge(x[T+K],Z)}function ct(x,T,K,Z,ue){var pe;for(pe=0;pe<K;++pe){var ye=x[T+pe],ve=ye>>8&255,xe=16711935&(xe=(xe=16711935&ye)+((ve<<16)+ve));Z[ue+pe]=(4278255360&ye)+xe>>>0}}function ft(x,T){T.jd=255&x,T.hd=x>>8&255,T.ud=x>>16&255}function Ot(x,T,K,Z,ue,pe){var ye;for(ye=0;ye<Z;++ye){var ve=T[K+ye],xe=ve>>>8,Ee=ve,Ue=255&(Ue=(Ue=ve>>>16)+((x.jd<<24>>24)*(xe<<24>>24)>>>5));Ee=255&(Ee=(Ee+=(x.hd<<24>>24)*(xe<<24>>24)>>>5)+((x.ud<<24>>24)*(Ue<<24>>24)>>>5)),ue[pe+ye]=(4278255360&ve)+(Ue<<16)+Ee}}function mt(x,T,K,Z,ue){F[T]=function(pe,ye,ve,xe,Ee,Ue,Pe,Se,De){for(xe=Pe;xe<Se;++xe)for(Pe=0;Pe<De;++Pe)Ee[Ue++]=ue(ve[Z(pe[ye++])])},F[x]=function(pe,ye,ve,xe,Ee,Ue,Pe){var Se=8>>pe.b,De=pe.Ea,Me=pe.K[0],Ye=pe.w;if(8>Se)for(pe=(1<<pe.b)-1,Ye=(1<<Se)-1;ye<ve;++ye){var Qe,$e=0;for(Qe=0;Qe<De;++Qe)Qe&pe||($e=Z(xe[Ee++])),Ue[Pe++]=ue(Me[$e&Ye]),$e>>=Se}else F["VP8LMapColor"+K](xe,Ee,Me,Ye,Ue,Pe,ye,ve,De)}}function kr(x,T,K,Z,ue){for(K=T+K;T<K;){var pe=x[T++];Z[ue++]=pe>>16&255,Z[ue++]=pe>>8&255,Z[ue++]=255&pe}}function yt(x,T,K,Z,ue){for(K=T+K;T<K;){var pe=x[T++];Z[ue++]=pe>>16&255,Z[ue++]=pe>>8&255,Z[ue++]=255&pe,Z[ue++]=pe>>24&255}}function _t(x,T,K,Z,ue){for(K=T+K;T<K;){var pe=(ye=x[T++])>>16&240|ye>>12&15,ye=240&ye|ye>>28&15;Z[ue++]=pe,Z[ue++]=ye}}function It(x,T,K,Z,ue){for(K=T+K;T<K;){var pe=(ye=x[T++])>>16&248|ye>>13&7,ye=ye>>5&224|ye>>3&31;Z[ue++]=pe,Z[ue++]=ye}}function Pt(x,T,K,Z,ue){for(K=T+K;T<K;){var pe=x[T++];Z[ue++]=255&pe,Z[ue++]=pe>>8&255,Z[ue++]=pe>>16&255}}function Ve(x,T,K,Z,ue,pe){if(pe==0)for(K=T+K;T<K;)ie(Z,((pe=x[T++])[0]>>24|pe[1]>>8&65280|pe[2]<<8&16711680|pe[3]<<24)>>>0),ue+=32;else n(Z,ue,x,T,K)}function gt(x,T){F[T][0]=F[x+"0"],F[T][1]=F[x+"1"],F[T][2]=F[x+"2"],F[T][3]=F[x+"3"],F[T][4]=F[x+"4"],F[T][5]=F[x+"5"],F[T][6]=F[x+"6"],F[T][7]=F[x+"7"],F[T][8]=F[x+"8"],F[T][9]=F[x+"9"],F[T][10]=F[x+"10"],F[T][11]=F[x+"11"],F[T][12]=F[x+"12"],F[T][13]=F[x+"13"],F[T][14]=F[x+"0"],F[T][15]=F[x+"0"]}function Bt(x){return x==af||x==Ch||x==Bc||x==Sh}function Rt(){this.eb=[],this.size=this.A=this.fb=0}function ur(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Vt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Rt,this.f.kb=new ur,this.sd=null}function dt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Xt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function zi(x){return alert("todo:WebPSamplerProcessPlane"),x.T}function cr(x,T){var K=x.T,Z=T.ba.f.RGBA,ue=Z.eb,pe=Z.fb+x.ka*Z.A,ye=Ri[T.ba.S],ve=x.y,xe=x.O,Ee=x.f,Ue=x.N,Pe=x.ea,Se=x.W,De=T.cc,Me=T.dc,Ye=T.Mc,Qe=T.Nc,$e=x.ka,Ze=x.ka+x.T,At=x.U,nt=At+1>>1;for($e==0?ye(ve,xe,null,null,Ee,Ue,Pe,Se,Ee,Ue,Pe,Se,ue,pe,null,null,At):(ye(T.ec,T.fc,ve,xe,De,Me,Ye,Qe,Ee,Ue,Pe,Se,ue,pe-Z.A,ue,pe,At),++K);$e+2<Ze;$e+=2)De=Ee,Me=Ue,Ye=Pe,Qe=Se,Ue+=x.Rc,Se+=x.Rc,pe+=2*Z.A,ye(ve,(xe+=2*x.fa)-x.fa,ve,xe,De,Me,Ye,Qe,Ee,Ue,Pe,Se,ue,pe-Z.A,ue,pe,At);return xe+=x.fa,x.j+Ze<x.o?(n(T.ec,T.fc,ve,xe,At),n(T.cc,T.dc,Ee,Ue,nt),n(T.Mc,T.Nc,Pe,Se,nt),K--):1&Ze||ye(ve,xe,null,null,Ee,Ue,Pe,Se,Ee,Ue,Pe,Se,ue,pe+Z.A,null,null,At),K}function Qn(x,T,K){var Z=x.F,ue=[x.J];if(Z!=null){var pe=x.U,ye=T.ba.S,ve=ye==sf||ye==Bc;T=T.ba.f.RGBA;var xe=[0],Ee=x.ka;xe[0]=x.T,x.Kb&&(Ee==0?--xe[0]:(--Ee,ue[0]-=x.width),x.j+x.ka+x.T==x.o&&(xe[0]=x.o-x.j-Ee));var Ue=T.eb;Ee=T.fb+Ee*T.A,x=ef(Z,ue[0],x.width,pe,xe,Ue,Ee+(ve?0:3),T.A),e(K==xe),x&&Bt(ye)&&wA(Ue,Ee,ve,pe,xe,T.A)}return 0}function Es(x){var T=x.ma,K=T.ba.S,Z=11>K,ue=K==qi||K==la||K==sf||K==xc||K==12||Bt(K);if(T.memory=null,T.Ib=null,T.Jb=null,T.Nd=null,!Po(T.Oa,x,ue?11:12))return 0;if(ue&&Bt(K)&&Yu(),x.da)alert("todo:use_scaling");else{if(Z){if(T.Ib=zi,x.Kb){if(K=x.U+1>>1,T.memory=s(x.U+2*K),T.memory==null)return 0;T.ec=T.memory,T.fc=0,T.cc=T.ec,T.dc=T.fc+x.U,T.Mc=T.cc,T.Nc=T.dc+K,T.Ib=cr,Yu()}}else alert("todo:EmitYUV");ue&&(T.Jb=Qn,Z&&Na())}if(Z&&!Fl){for(x=0;256>x;++x)Mi[x]=89858*(x-128)+Ec>>da,Vv[x]=-22014*(x-128)+Ec,o0[x]=-45773*(x-128),Nh[x]=113618*(x-128)+Ec>>da;for(x=BA;x<Nl;++x)T=76283*(x-16)+Ec>>da,qv[x-BA]=Ks(T,255),Gv[x-BA]=Ks(T+8>>4,15);Fl=1}return 1}function Lt(x){var T=x.ma,K=x.U,Z=x.T;return e(!(1&x.ka)),0>=K||0>=Z?0:(K=T.Ib(x,T),T.Jb!=null&&T.Jb(x,T,K),T.Dc+=K,1)}function ra(x){x.ma.memory=null}function Hs(x,T,K,Z){return X(x,8)!=47?0:(T[0]=X(x,14)+1,K[0]=X(x,14)+1,Z[0]=X(x,1),X(x,3)!=0?0:!x.h)}function Fi(x,T){if(4>x)return x+1;var K=x-2>>1;return(2+(1&x)<<K)+X(T,K)+1}function vi(x,T){return 120<T?T-120:1<=(K=((K=ca[T-1])>>4)*x+(8-(15&K)))?K:1;var K}function zr(x,T,K){var Z=te(K),ue=x[T+=255&Z].g-8;return 0<ue&&(se(K,K.u+8),Z=te(K),T+=x[T].value,T+=Z&(1<<ue)-1),se(K,K.u+x[T].g),x[T].value}function mn(x,T,K){return K.g+=x.g,K.value+=x.value<<T>>>0,e(8>=K.g),x.g}function Tn(x,T,K){var Z=x.xc;return e((T=Z==0?0:x.vc[x.md*(K>>Z)+(T>>Z)])<x.Wb),x.Ya[T]}function $a(x,T,K,Z){var ue=x.ab,pe=x.c*T,ye=x.C;T=ye+T;var ve=K,xe=Z;for(Z=x.Ta,K=x.Ua;0<ue--;){var Ee=x.gc[ue],Ue=ye,Pe=T,Se=ve,De=xe,Me=(xe=Z,ve=K,Ee.Ea);switch(e(Ue<Pe),e(Pe<=Ee.nc),Ee.hc){case 2:Pn(Se,De,(Pe-Ue)*Me,xe,ve);break;case 0:var Ye=Ue,Qe=Pe,$e=xe,Ze=ve,At=(Ct=Ee).Ea;Ye==0&&(yc(Se,De,null,null,1,$e,Ze),at(Se,De+1,0,0,At-1,$e,Ze+1),De+=At,Ze+=At,++Ye);for(var nt=1<<Ct.b,kt=nt-1,vt=z(At,Ct.b),rr=Ct.K,Ct=Ct.w+(Ye>>Ct.b)*vt;Ye<Qe;){var mr=rr,An=Ct,ar=1;for(wc(Se,De,$e,Ze-At,1,$e,Ze);ar<At;){var bt=(ar&~kt)+nt;bt>At&&(bt=At),(0,Ko[mr[An++]>>8&15])(Se,De+ +ar,$e,Ze+ar-At,bt-ar,$e,Ze+ar),ar=bt}De+=At,Ze+=At,++Ye&kt||(Ct+=vt)}Pe!=Ee.nc&&n(xe,ve-Me,xe,ve+(Pe-Ue-1)*Me,Me);break;case 1:for(Me=Se,Qe=De,At=(Se=Ee.Ea)-(Ze=Se&~($e=(De=1<<Ee.b)-1)),Ye=z(Se,Ee.b),nt=Ee.K,Ee=Ee.w+(Ue>>Ee.b)*Ye;Ue<Pe;){for(kt=nt,vt=Ee,rr=new be,Ct=Qe+Ze,mr=Qe+Se;Qe<Ct;)ft(kt[vt++],rr),vc(rr,Me,Qe,De,xe,ve),Qe+=De,ve+=De;Qe<mr&&(ft(kt[vt++],rr),vc(rr,Me,Qe,At,xe,ve),Qe+=At,ve+=At),++Ue&$e||(Ee+=Ye)}break;case 3:if(Se==xe&&De==ve&&0<Ee.b){for(Qe=xe,Se=Me=ve+(Pe-Ue)*Me-(Ze=(Pe-Ue)*z(Ee.Ea,Ee.b)),De=xe,$e=ve,Ye=[],Ze=(At=Ze)-1;0<=Ze;--Ze)Ye[Ze]=De[$e+Ze];for(Ze=At-1;0<=Ze;--Ze)Qe[Se+Ze]=Ye[Ze];wh(Ee,Ue,Pe,xe,Me,xe,ve)}else wh(Ee,Ue,Pe,Se,De,xe,ve)}ve=Z,xe=K}xe!=K&&n(Z,K,ve,xe,pe)}function li(x,T){var K=x.V,Z=x.Ba+x.c*x.C,ue=T-x.C;if(e(T<=x.l.o),e(16>=ue),0<ue){var pe=x.l,ye=x.Ta,ve=x.Ua,xe=pe.width;if($a(x,ue,K,Z),ue=ve=[ve],e((K=x.C)<(Z=T)),e(pe.v<pe.va),Z>pe.o&&(Z=pe.o),K<pe.j){var Ee=pe.j-K;K=pe.j,ue[0]+=Ee*xe}if(K>=Z?K=0:(ue[0]+=4*pe.v,pe.ka=K-pe.j,pe.U=pe.va-pe.v,pe.T=Z-K,K=1),K){if(ve=ve[0],11>(K=x.ca).S){var Ue=K.f.RGBA,Pe=(Z=K.S,ue=pe.U,pe=pe.T,Ee=Ue.eb,Ue.A),Se=pe;for(Ue=Ue.fb+x.Ma*Ue.A;0<Se--;){var De=ye,Me=ve,Ye=ue,Qe=Ee,$e=Ue;switch(Z){case xh:bc(De,Me,Ye,Qe,$e);break;case qi:Vo(De,Me,Ye,Qe,$e);break;case af:Vo(De,Me,Ye,Qe,$e),wA(Qe,$e,0,Ye,1,0);break;case Bh:gA(De,Me,Ye,Qe,$e);break;case la:Ve(De,Me,Ye,Qe,$e,1);break;case Ch:Ve(De,Me,Ye,Qe,$e,1),wA(Qe,$e,0,Ye,1,0);break;case sf:Ve(De,Me,Ye,Qe,$e,0);break;case Bc:Ve(De,Me,Ye,Qe,$e,0),wA(Qe,$e,1,Ye,1,0);break;case xc:qo(De,Me,Ye,Qe,$e);break;case Sh:qo(De,Me,Ye,Qe,$e),oa(Qe,$e,Ye,1,0);break;case Sl:ao(De,Me,Ye,Qe,$e);break;default:e(0)}ve+=xe,Ue+=Pe}x.Ma+=pe}else alert("todo:EmitRescaledRowsYUVA");e(x.Ma<=K.height)}}x.C=T,e(x.C<=x.i)}function Rr(x){var T;if(0<x.ua)return 0;for(T=0;T<x.Wb;++T){var K=x.Ya[T].G,Z=x.Ya[T].H;if(0<K[1][Z[1]+0].g||0<K[2][Z[2]+0].g||0<K[3][Z[3]+0].g)return 0}return 1}function on(x,T,K,Z,ue,pe){if(x.Z!=0){var ye=x.qd,ve=x.rd;for(e($o[x.Z]!=null);T<K;++T)$o[x.Z](ye,ve,Z,ue,Z,ue,pe),ye=Z,ve=ue,ue+=pe;x.qd=ye,x.rd=ve}}function bi(x,T){var K=x.l.ma,Z=K.Z==0||K.Z==1?x.l.j:x.C;if(Z=x.C<Z?Z:x.C,e(T<=x.l.o),T>Z){var ue=x.l.width,pe=K.ca,ye=K.tb+ue*Z,ve=x.V,xe=x.Ba+x.c*Z,Ee=x.gc;e(x.ab==1),e(Ee[0].hc==3),so(Ee[0],Z,T,ve,xe,pe,ye),on(K,Z,T,pe,ye,ue)}x.C=x.Ma=T}function Gt(x,T,K,Z,ue,pe,ye){var ve=x.$/Z,xe=x.$%Z,Ee=x.m,Ue=x.s,Pe=K+x.$,Se=Pe;ue=K+Z*ue;var De=K+Z*pe,Me=280+Ue.ua,Ye=x.Pb?ve:16777216,Qe=0<Ue.ua?Ue.Wa:null,$e=Ue.wc,Ze=Pe<De?Tn(Ue,xe,ve):null;e(x.C<pe),e(De<=ue);var At=!1;e:for(;;){for(;At||Pe<De;){var nt=0;if(ve>=Ye){var kt=Pe-K;e((Ye=x).Pb),Ye.wd=Ye.m,Ye.xd=kt,0<Ye.s.ua&&W(Ye.s.Wa,Ye.s.vb),Ye=ve+El}if(xe&$e||(Ze=Tn(Ue,xe,ve)),e(Ze!=null),Ze.Qb&&(T[Pe]=Ze.qb,At=!0),!At)if(Q(Ee),Ze.jc){nt=Ee,kt=T;var vt=Pe,rr=Ze.pd[te(nt)&Cl-1];e(Ze.jc),256>rr.g?(se(nt,nt.u+rr.g),kt[vt]=rr.value,nt=0):(se(nt,nt.u+rr.g-256),e(256<=rr.value),nt=rr.value),nt==0&&(At=!0)}else nt=zr(Ze.G[0],Ze.H[0],Ee);if(Ee.h)break;if(At||256>nt){if(!At)if(Ze.nd)T[Pe]=(Ze.qb|nt<<8)>>>0;else{if(Q(Ee),At=zr(Ze.G[1],Ze.H[1],Ee),Q(Ee),kt=zr(Ze.G[2],Ze.H[2],Ee),vt=zr(Ze.G[3],Ze.H[3],Ee),Ee.h)break;T[Pe]=(vt<<24|At<<16|nt<<8|kt)>>>0}if(At=!1,++Pe,++xe>=Z&&(xe=0,++ve,ye!=null&&ve<=pe&&!(ve%16)&&ye(x,ve),Qe!=null))for(;Se<Pe;)nt=T[Se++],Qe.X[(506832829*nt&4294967295)>>>Qe.Mb]=nt}else if(280>nt){if(nt=Fi(nt-256,Ee),kt=zr(Ze.G[4],Ze.H[4],Ee),Q(Ee),kt=vi(Z,kt=Fi(kt,Ee)),Ee.h)break;if(Pe-K<kt||ue-Pe<nt)break e;for(vt=0;vt<nt;++vt)T[Pe+vt]=T[Pe+vt-kt];for(Pe+=nt,xe+=nt;xe>=Z;)xe-=Z,++ve,ye!=null&&ve<=pe&&!(ve%16)&&ye(x,ve);if(e(Pe<=ue),xe&$e&&(Ze=Tn(Ue,xe,ve)),Qe!=null)for(;Se<Pe;)nt=T[Se++],Qe.X[(506832829*nt&4294967295)>>>Qe.Mb]=nt}else{if(!(nt<Me))break e;for(At=nt-280,e(Qe!=null);Se<Pe;)nt=T[Se++],Qe.X[(506832829*nt&4294967295)>>>Qe.Mb]=nt;nt=Pe,e(!(At>>>(kt=Qe).Xa)),T[nt]=kt.X[At],At=!0}At||e(Ee.h==Ae(Ee))}if(x.Pb&&Ee.h&&Pe<ue)e(x.m.h),x.a=5,x.m=x.wd,x.$=x.xd,0<x.s.ua&&W(x.s.vb,x.s.Wa);else{if(Ee.h)break e;ye?.(x,ve>pe?pe:ve),x.a=0,x.$=Pe-K}return 1}return x.a=3,0}function gr(x){e(x!=null),x.vc=null,x.yc=null,x.Ya=null;var T=x.Wa;T!=null&&(T.X=null),x.vb=null,e(x!=null)}function Kr(){var x=new Zt;return x==null?null:(x.a=0,x.xb=Np,gt("Predictor","VP8LPredictors"),gt("Predictor","VP8LPredictors_C"),gt("PredictorAdd","VP8LPredictorsAdd"),gt("PredictorAdd","VP8LPredictorsAdd_C"),Pn=ct,vc=Ot,bc=kr,Vo=yt,qo=_t,ao=It,gA=Pt,F.VP8LMapColor32b=io,F.VP8LMapColor8b=Li,x)}function vn(x,T,K,Z,ue){var pe=1,ye=[x],ve=[T],xe=Z.m,Ee=Z.s,Ue=null,Pe=0;e:for(;;){if(K)for(;pe&&X(xe,1);){var Se=ye,De=ve,Me=Z,Ye=1,Qe=Me.m,$e=Me.gc[Me.ab],Ze=X(Qe,2);if(Me.Oc&1<<Ze)pe=0;else{switch(Me.Oc|=1<<Ze,$e.hc=Ze,$e.Ea=Se[0],$e.nc=De[0],$e.K=[null],++Me.ab,e(4>=Me.ab),Ze){case 0:case 1:$e.b=X(Qe,3)+2,Ye=vn(z($e.Ea,$e.b),z($e.nc,$e.b),0,Me,$e.K),$e.K=$e.K[0];break;case 3:var At,nt=X(Qe,8)+1,kt=16<nt?0:4<nt?1:2<nt?2:3;if(Se[0]=z($e.Ea,kt),$e.b=kt,At=Ye=vn(nt,1,0,Me,$e.K)){var vt,rr=nt,Ct=$e,mr=1<<(8>>Ct.b),An=s(mr);if(An==null)At=0;else{var ar=Ct.K[0],bt=Ct.w;for(An[0]=Ct.K[0][0],vt=1;vt<1*rr;++vt)An[vt]=ge(ar[bt+vt],An[vt-1]);for(;vt<4*mr;++vt)An[vt]=0;Ct.K[0]=null,Ct.K[0]=An,At=1}}Ye=At;break;case 2:break;default:e(0)}pe=Ye}}if(ye=ye[0],ve=ve[0],pe&&X(xe,1)&&!(pe=1<=(Pe=X(xe,4))&&11>=Pe)){Z.a=3;break e}var ht;if(ht=pe)t:{var Bn,$t,Ar,Hr=Z,ui=ye,Qi=ve,en=Pe,Wn=K,Gi=Hr.m,$n=Hr.s,hr=[null],Tr=1,Cn=0,Ir=ua[en];r:for(;;){if(Wn&&X(Gi,1)){var fi=X(Gi,3)+2,Sn=z(ui,fi),Nr=z(Qi,fi),Vn=Sn*Nr;if(!vn(Sn,Nr,0,Hr,hr))break r;for(hr=hr[0],$n.xc=fi,Bn=0;Bn<Vn;++Bn){var jr=hr[Bn]>>8&65535;hr[Bn]=jr,jr>=Tr&&(Tr=jr+1)}}if(Gi.h)break r;for($t=0;5>$t;++$t){var Yn=bA[$t];!$t&&0<en&&(Yn+=1<<en),Cn<Yn&&(Cn=Yn)}var Jn=a(Tr*Ir,G),Wr=Tr,_r=a(Wr,ae);if(_r==null)var Wi=null;else e(65536>=Wr),Wi=_r;var Fn=s(Cn);if(Wi==null||Fn==null||Jn==null){Hr.a=1;break r}var Ht=Jn;for(Bn=Ar=0;Bn<Tr;++Bn){var zt=Wi[Bn],Fr=zt.G,Ts=zt.H,pa=0,fs=1,Xn=0;for($t=0;5>$t;++$t){Yn=bA[$t],Fr[$t]=Ht,Ts[$t]=Ar,!$t&&0<en&&(Yn+=1<<en);i:{var Ul,Ol=Yn,Uh=Hr,tn=Fn,Up=Ht,Op=Ar,Oh=0,Yo=Uh.m,Wv=X(Yo,1);if(i(tn,0,0,Ol),Wv){var Lp=X(Yo,1)+1,Dp=X(Yo,1),Lh=X(Yo,Dp==0?1:8);tn[Lh]=1,Lp==2&&(tn[Lh=X(Yo,8)]=1);var Ci=1}else{var Un=s(19),cf=X(Yo,4)+4;if(19<cf){Uh.a=3;var Ll=0;break i}for(Ul=0;Ul<cf;++Ul)Un[of[Ul]]=X(Yo,3);var kc=void 0,CA=void 0,Ao=Uh,Dh=Un,Tc=Ol,Ih=tn,Rh=0,Jo=Ao.m,Ip=8,Rp=a(128,G);n:for(;R(Rp,0,7,Dh,19);){if(X(Jo,1)){var l0=2+2*X(Jo,3);if((kc=2+X(Jo,l0))>Tc)break n}else kc=Tc;for(CA=0;CA<Tc&&kc--;){Q(Jo);var Mp=Rp[0+(127&te(Jo))];se(Jo,Jo.u+Mp.g);var Dl=Mp.value;if(16>Dl)Ih[CA++]=Dl,Dl!=0&&(Ip=Dl);else{var A0=Dl==16,c0=Dl-16,u0=Cc[c0],Qp=X(Jo,Aa[c0])+u0;if(CA+Qp>Tc)break n;for(var f0=A0?Ip:0;0<Qp--;)Ih[CA++]=f0}}Rh=1;break n}Rh||(Ao.a=3),Ci=Rh}(Ci=Ci&&!Yo.h)&&(Oh=R(Up,Op,8,tn,Ol)),Ci&&Oh!=0?Ll=Oh:(Uh.a=3,Ll=0)}if(Ll==0)break r;if(fs&&Eh[$t]==1&&(fs=Ht[Ar].g==0),pa+=Ht[Ar].g,Ar+=Ll,3>=$t){var SA,Mh=Fn[0];for(SA=1;SA<Yn;++SA)Fn[SA]>Mh&&(Mh=Fn[SA]);Xn+=Mh}}if(zt.nd=fs,zt.Qb=0,fs&&(zt.qb=(Fr[3][Ts[3]+0].value<<24|Fr[1][Ts[1]+0].value<<16|Fr[2][Ts[2]+0].value)>>>0,pa==0&&256>Fr[0][Ts[0]+0].value&&(zt.Qb=1,zt.qb+=Fr[0][Ts[0]+0].value<<8)),zt.jc=!zt.Qb&&6>Xn,zt.jc){var uf,co=zt;for(uf=0;uf<Cl;++uf){var Xo=uf,Zo=co.pd[Xo],Qh=co.G[0][co.H[0]+Xo];256<=Qh.value?(Zo.g=Qh.g+256,Zo.value=Qh.value):(Zo.g=0,Zo.value=0,Xo>>=mn(Qh,8,Zo),Xo>>=mn(co.G[1][co.H[1]+Xo],16,Zo),Xo>>=mn(co.G[2][co.H[2]+Xo],0,Zo),mn(co.G[3][co.H[3]+Xo],24,Zo))}}}$n.vc=hr,$n.Wb=Tr,$n.Ya=Wi,$n.yc=Jn,ht=1;break t}ht=0}if(!(pe=ht)){Z.a=3;break e}if(0<Pe){if(Ee.ua=1<<Pe,!ne(Ee.Wa,Pe)){Z.a=1,pe=0;break e}}else Ee.ua=0;var Hh=Z,EA=ye,h0=ve,Nc=Hh.s,Fc=Nc.xc;if(Hh.c=EA,Hh.i=h0,Nc.md=z(EA,Fc),Nc.wc=Fc==0?-1:(1<<Fc)-1,K){Z.xb=_l;break e}if((Ue=s(ye*ve))==null){Z.a=1,pe=0;break e}pe=(pe=Gt(Z,Ue,0,ye,ve,ve,null))&&!xe.h;break e}return pe?(ue!=null?ue[0]=Ue:(e(Ue==null),e(K)),Z.$=0,K||gr(Ee)):gr(Ee),pe}function bn(x,T){var K=x.c*x.i,Z=K+T+16*T;return e(x.c<=T),x.V=s(Z),x.V==null?(x.Ta=null,x.Ua=0,x.a=1,0):(x.Ta=x.V,x.Ua=x.Ba+K+T,1)}function na(x,T){var K=x.C,Z=T-K,ue=x.V,pe=x.Ba+x.c*K;for(e(T<=x.l.o);0<Z;){var ye=16<Z?16:Z,ve=x.l.ma,xe=x.l.width,Ee=xe*ye,Ue=ve.ca,Pe=ve.tb+xe*K,Se=x.Ta,De=x.Ua;$a(x,ye,ue,pe),$s(Se,De,Ue,Pe,Ee),on(ve,K,K+ye,Ue,Pe,xe),Z-=ye,ue+=ye*x.c,K+=ye}e(K==T),x.C=x.Ma=T}function js(){this.ub=this.yd=this.td=this.Rb=0}function Ps(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function AA(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function Ya(){this.Yb=(function(){var x=[];return(function T(K,Z,ue){for(var pe=ue[Z],ye=0;ye<pe&&(K.push(ue.length>Z+1?[]:0),!(ue.length<Z+1));ye++)T(K[ye],Z+1,ue)})(x,0,[3,11]),x})()}function Hn(){this.jb=s(3),this.Wc=o([4,8],Ya),this.Xc=o([4,17],Ya)}function Iu(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function zs(){this.ld=this.La=this.dd=this.tc=0}function Ea(){this.Na=this.la=0}function To(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Ru(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Mu(){this.uc=this.M=this.Nb=0,this.wa=Array(new zs),this.Y=0,this.ya=Array(new Ru),this.aa=0,this.l=new No}function Qu(){this.y=s(16),this.f=s(8),this.ea=s(8)}function Ah(){this.cb=this.a=0,this.sc="",this.m=new I,this.Od=new js,this.Kc=new Ps,this.ed=new Iu,this.Qa=new AA,this.Ic=this.$c=this.Aa=0,this.D=new Mu,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,I),this.ia=0,this.pb=a(4,To),this.Pa=new Hn,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Qu),this.Hd=0,this.rb=Array(new Ea),this.sb=0,this.wa=Array(new zs),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Ru),this.L=this.aa=0,this.gd=o([4,2],zs),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Ks(x,T){return 0>x?0:x>T?T:x}function No(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function _a(){var x=new Ah;return x!=null&&(x.a=0,x.sc="OK",x.cb=0,x.Xb=0,Ys||(Ys=vl)),x}function Lr(x,T,K){return x.a==0&&(x.a=T,x.sc=K,x.cb=0),0}function Hu(x,T,K){return 3<=K&&x[T+0]==157&&x[T+1]==1&&x[T+2]==42}function Ja(x,T){if(x==null)return 0;if(x.a=0,x.sc="OK",T==null)return Lr(x,2,"null VP8Io passed to VP8GetHeaders()");var K=T.data,Z=T.w,ue=T.ha;if(4>ue)return Lr(x,7,"Truncated header.");var pe=K[Z+0]|K[Z+1]<<8|K[Z+2]<<16,ye=x.Od;if(ye.Rb=!(1&pe),ye.td=pe>>1&7,ye.yd=pe>>4&1,ye.ub=pe>>5,3<ye.td)return Lr(x,3,"Incorrect keyframe parameters.");if(!ye.yd)return Lr(x,4,"Frame not displayable.");Z+=3,ue-=3;var ve=x.Kc;if(ye.Rb){if(7>ue)return Lr(x,7,"cannot parse picture header");if(!Hu(K,Z,ue))return Lr(x,3,"Bad code word");ve.c=16383&(K[Z+4]<<8|K[Z+3]),ve.Td=K[Z+4]>>6,ve.i=16383&(K[Z+6]<<8|K[Z+5]),ve.Ud=K[Z+6]>>6,Z+=7,ue-=7,x.za=ve.c+15>>4,x.Ub=ve.i+15>>4,T.width=ve.c,T.height=ve.i,T.Da=0,T.j=0,T.v=0,T.va=T.width,T.o=T.height,T.da=0,T.ib=T.width,T.hb=T.height,T.U=T.width,T.T=T.height,i((pe=x.Pa).jb,0,255,pe.jb.length),e((pe=x.Qa)!=null),pe.Cb=0,pe.Bb=0,pe.Fb=1,i(pe.Zb,0,0,pe.Zb.length),i(pe.Lb,0,0,pe.Lb)}if(ye.ub>ue)return Lr(x,7,"bad partition length");re(pe=x.m,K,Z,ye.ub),Z+=ye.ub,ue-=ye.ub,ye.Rb&&(ve.Ld=le(pe),ve.Kd=le(pe)),ve=x.Qa;var xe,Ee=x.Pa;if(e(pe!=null),e(ve!=null),ve.Cb=le(pe),ve.Cb){if(ve.Bb=le(pe),le(pe)){for(ve.Fb=le(pe),xe=0;4>xe;++xe)ve.Zb[xe]=le(pe)?he(pe,7):0;for(xe=0;4>xe;++xe)ve.Lb[xe]=le(pe)?he(pe,6):0}if(ve.Bb)for(xe=0;3>xe;++xe)Ee.jb[xe]=le(pe)?Y(pe,8):255}else ve.Bb=0;if(pe.Ka)return Lr(x,3,"cannot parse segment header");if((ve=x.ed).zd=le(pe),ve.Tb=Y(pe,6),ve.wb=Y(pe,3),ve.Pc=le(pe),ve.Pc&&le(pe)){for(Ee=0;4>Ee;++Ee)le(pe)&&(ve.vd[Ee]=he(pe,6));for(Ee=0;4>Ee;++Ee)le(pe)&&(ve.od[Ee]=he(pe,6))}if(x.L=ve.Tb==0?0:ve.zd?1:2,pe.Ka)return Lr(x,3,"cannot parse filter header");var Ue=ue;if(ue=xe=Z,Z=xe+Ue,ve=Ue,x.Xb=(1<<Y(x.m,2))-1,Ue<3*(Ee=x.Xb))K=7;else{for(xe+=3*Ee,ve-=3*Ee,Ue=0;Ue<Ee;++Ue){var Pe=K[ue+0]|K[ue+1]<<8|K[ue+2]<<16;Pe>ve&&(Pe=ve),re(x.Jc[+Ue],K,xe,Pe),xe+=Pe,ve-=Pe,ue+=3}re(x.Jc[+Ee],K,xe,ve),K=xe<Z?0:5}if(K!=0)return Lr(x,K,"cannot parse partitions");for(K=Y(xe=x.m,7),ue=le(xe)?he(xe,4):0,Z=le(xe)?he(xe,4):0,ve=le(xe)?he(xe,4):0,Ee=le(xe)?he(xe,4):0,xe=le(xe)?he(xe,4):0,Ue=x.Qa,Pe=0;4>Pe;++Pe){if(Ue.Cb){var Se=Ue.Zb[Pe];Ue.Fb||(Se+=K)}else{if(0<Pe){x.pb[Pe]=x.pb[0];continue}Se=K}var De=x.pb[Pe];De.Sc[0]=fa[Ks(Se+ue,127)],De.Sc[1]=ha[Ks(Se+0,127)],De.Eb[0]=2*fa[Ks(Se+Z,127)],De.Eb[1]=101581*ha[Ks(Se+ve,127)]>>16,8>De.Eb[1]&&(De.Eb[1]=8),De.Qc[0]=fa[Ks(Se+Ee,117)],De.Qc[1]=ha[Ks(Se+xe,127)],De.lc=Se+xe}if(!ye.Rb)return Lr(x,4,"Not a key frame.");for(le(pe),ye=x.Pa,K=0;4>K;++K){for(ue=0;8>ue;++ue)for(Z=0;3>Z;++Z)for(ve=0;11>ve;++ve)Ee=oe(pe,ln[K][ue][Z][ve])?Y(pe,8):a0[K][ue][Z][ve],ye.Wc[K][ue].Yb[Z][ve]=Ee;for(ue=0;17>ue;++ue)ye.Xc[K][ue]=ye.Wc[K][yr[ue]]}return x.kc=le(pe),x.kc&&(x.Bd=Y(pe,8)),x.cb=1}function vl(x,T,K,Z,ue,pe,ye){var ve=T[ue].Yb[K];for(K=0;16>ue;++ue){if(!oe(x,ve[K+0]))return ue;for(;!oe(x,ve[K+1]);)if(ve=T[++ue].Yb[0],K=0,ue==16)return 16;var xe=T[ue+1].Yb;if(oe(x,ve[K+2])){var Ee=x,Ue=0;if(oe(Ee,(Se=ve)[(Pe=K)+3]))if(oe(Ee,Se[Pe+6])){for(ve=0,Pe=2*(Ue=oe(Ee,Se[Pe+8]))+(Se=oe(Ee,Se[Pe+9+Ue])),Ue=0,Se=s0[Pe];Se[ve];++ve)Ue+=Ue+oe(Ee,Se[ve]);Ue+=3+(8<<Pe)}else oe(Ee,Se[Pe+7])?(Ue=7+2*oe(Ee,165),Ue+=oe(Ee,145)):Ue=5+oe(Ee,159);else Ue=oe(Ee,Se[Pe+4])?3+oe(Ee,Se[Pe+5]):2;ve=xe[2]}else Ue=1,ve=xe[1];xe=ye+Tp[ue],0>(Ee=x).b&&P(Ee);var Pe,Se=Ee.b,De=(Pe=Ee.Ca>>1)-(Ee.I>>Se)>>31;--Ee.b,Ee.Ca+=De,Ee.Ca|=1,Ee.I-=(Pe+1&De)<<Se,pe[xe]=((Ue^De)-De)*Z[(0<ue)+0]}return 16}function ju(x){var T=x.rb[x.sb-1];T.la=0,T.Na=0,i(x.zc,0,0,x.zc.length),x.ja=0}function as(x,T,K,Z,ue){ue=x[T+K+32*Z]+(ue>>3),x[T+K+32*Z]=-256&ue?0>ue?0:255:ue}function Ai(x,T,K,Z,ue,pe){as(x,T,0,K,Z+ue),as(x,T,1,K,Z+pe),as(x,T,2,K,Z-pe),as(x,T,3,K,Z-ue)}function qn(x){return(20091*x>>16)+x}function uc(x,T,K,Z){var ue,pe=0,ye=s(16);for(ue=0;4>ue;++ue){var ve=x[T+0]+x[T+8],xe=x[T+0]-x[T+8],Ee=(35468*x[T+4]>>16)-qn(x[T+12]),Ue=qn(x[T+4])+(35468*x[T+12]>>16);ye[pe+0]=ve+Ue,ye[pe+1]=xe+Ee,ye[pe+2]=xe-Ee,ye[pe+3]=ve-Ue,pe+=4,T++}for(ue=pe=0;4>ue;++ue)ve=(x=ye[pe+0]+4)+ye[pe+8],xe=x-ye[pe+8],Ee=(35468*ye[pe+4]>>16)-qn(ye[pe+12]),as(K,Z,0,0,ve+(Ue=qn(ye[pe+4])+(35468*ye[pe+12]>>16))),as(K,Z,1,0,xe+Ee),as(K,Z,2,0,xe-Ee),as(K,Z,3,0,ve-Ue),pe++,Z+=32}function ch(x,T,K,Z){var ue=x[T+0]+4,pe=35468*x[T+4]>>16,ye=qn(x[T+4]),ve=35468*x[T+1]>>16;Ai(K,Z,0,ue+ye,x=qn(x[T+1]),ve),Ai(K,Z,1,ue+pe,x,ve),Ai(K,Z,2,ue-pe,x,ve),Ai(K,Z,3,ue-ye,x,ve)}function Pu(x,T,K,Z,ue){uc(x,T,K,Z),ue&&uc(x,T+16,K,Z+4)}function ls(x,T,K,Z){Go(x,T+0,K,Z,1),Go(x,T+32,K,Z+128,1)}function zu(x,T,K,Z){var ue;for(x=x[T+0]+4,ue=0;4>ue;++ue)for(T=0;4>T;++T)as(K,Z,T,ue,x)}function Ku(x,T,K,Z){x[T+0]&&Dr(x,T+0,K,Z),x[T+16]&&Dr(x,T+16,K,Z+4),x[T+32]&&Dr(x,T+32,K,Z+128),x[T+48]&&Dr(x,T+48,K,Z+128+4)}function ka(x,T,K,Z){var ue,pe=s(16);for(ue=0;4>ue;++ue){var ye=x[T+0+ue]+x[T+12+ue],ve=x[T+4+ue]+x[T+8+ue],xe=x[T+4+ue]-x[T+8+ue],Ee=x[T+0+ue]-x[T+12+ue];pe[0+ue]=ye+ve,pe[8+ue]=ye-ve,pe[4+ue]=Ee+xe,pe[12+ue]=Ee-xe}for(ue=0;4>ue;++ue)ye=(x=pe[0+4*ue]+3)+pe[3+4*ue],ve=pe[1+4*ue]+pe[2+4*ue],xe=pe[1+4*ue]-pe[2+4*ue],Ee=x-pe[3+4*ue],K[Z+0]=ye+ve>>3,K[Z+16]=Ee+xe>>3,K[Z+32]=ye-ve>>3,K[Z+48]=Ee-xe>>3,Z+=64}function cA(x,T,K){var Z,ue=T-32,pe=Vi,ye=255-x[ue-1];for(Z=0;Z<K;++Z){var ve,xe=pe,Ee=ye+x[T-1];for(ve=0;ve<K;++ve)x[T+ve]=xe[Ee+x[ue+ve]];T+=32}}function uh(x,T){cA(x,T,4)}function fh(x,T){cA(x,T,8)}function Vu(x,T){cA(x,T,16)}function qu(x,T){var K;for(K=0;16>K;++K)n(x,T+32*K,x,T-32,16)}function hh(x,T){var K;for(K=16;0<K;--K)i(x,T,x[T-1],16),T+=32}function _s(x,T,K){var Z;for(Z=0;16>Z;++Z)i(T,K+32*Z,x,16)}function Ta(x,T){var K,Z=16;for(K=0;16>K;++K)Z+=x[T-1+32*K]+x[T+K-32];_s(Z>>5,x,T)}function Fo(x,T){var K,Z=8;for(K=0;16>K;++K)Z+=x[T-1+32*K];_s(Z>>4,x,T)}function uA(x,T){var K,Z=8;for(K=0;16>K;++K)Z+=x[T+K-32];_s(Z>>4,x,T)}function bl(x,T){_s(128,x,T)}function Wt(x,T,K){return x+2*T+K+2>>2}function dh(x,T){var K,Z=T-32;for(Z=new Uint8Array([Wt(x[Z-1],x[Z+0],x[Z+1]),Wt(x[Z+0],x[Z+1],x[Z+2]),Wt(x[Z+1],x[Z+2],x[Z+3]),Wt(x[Z+2],x[Z+3],x[Z+4])]),K=0;4>K;++K)n(x,T+32*K,Z,0,Z.length)}function Gu(x,T){var K=x[T-1],Z=x[T-1+32],ue=x[T-1+64],pe=x[T-1+96];ie(x,T+0,16843009*Wt(x[T-1-32],K,Z)),ie(x,T+32,16843009*Wt(K,Z,ue)),ie(x,T+64,16843009*Wt(Z,ue,pe)),ie(x,T+96,16843009*Wt(ue,pe,pe))}function ph(x,T){var K,Z=4;for(K=0;4>K;++K)Z+=x[T+K-32]+x[T-1+32*K];for(Z>>=3,K=0;4>K;++K)i(x,T+32*K,Z,4)}function Vs(x,T){var K=x[T-1+0],Z=x[T-1+32],ue=x[T-1+64],pe=x[T-1-32],ye=x[T+0-32],ve=x[T+1-32],xe=x[T+2-32],Ee=x[T+3-32];x[T+0+96]=Wt(Z,ue,x[T-1+96]),x[T+1+96]=x[T+0+64]=Wt(K,Z,ue),x[T+2+96]=x[T+1+64]=x[T+0+32]=Wt(pe,K,Z),x[T+3+96]=x[T+2+64]=x[T+1+32]=x[T+0+0]=Wt(ye,pe,K),x[T+3+64]=x[T+2+32]=x[T+1+0]=Wt(ve,ye,pe),x[T+3+32]=x[T+2+0]=Wt(xe,ve,ye),x[T+3+0]=Wt(Ee,xe,ve)}function Ui(x,T){var K=x[T+1-32],Z=x[T+2-32],ue=x[T+3-32],pe=x[T+4-32],ye=x[T+5-32],ve=x[T+6-32],xe=x[T+7-32];x[T+0+0]=Wt(x[T+0-32],K,Z),x[T+1+0]=x[T+0+32]=Wt(K,Z,ue),x[T+2+0]=x[T+1+32]=x[T+0+64]=Wt(Z,ue,pe),x[T+3+0]=x[T+2+32]=x[T+1+64]=x[T+0+96]=Wt(ue,pe,ye),x[T+3+32]=x[T+2+64]=x[T+1+96]=Wt(pe,ye,ve),x[T+3+64]=x[T+2+96]=Wt(ye,ve,xe),x[T+3+96]=Wt(ve,xe,xe)}function Wu(x,T){var K=x[T-1+0],Z=x[T-1+32],ue=x[T-1+64],pe=x[T-1-32],ye=x[T+0-32],ve=x[T+1-32],xe=x[T+2-32],Ee=x[T+3-32];x[T+0+0]=x[T+1+64]=pe+ye+1>>1,x[T+1+0]=x[T+2+64]=ye+ve+1>>1,x[T+2+0]=x[T+3+64]=ve+xe+1>>1,x[T+3+0]=xe+Ee+1>>1,x[T+0+96]=Wt(ue,Z,K),x[T+0+64]=Wt(Z,K,pe),x[T+0+32]=x[T+1+96]=Wt(K,pe,ye),x[T+1+32]=x[T+2+96]=Wt(pe,ye,ve),x[T+2+32]=x[T+3+96]=Wt(ye,ve,xe),x[T+3+32]=Wt(ve,xe,Ee)}function fA(x,T){var K=x[T+0-32],Z=x[T+1-32],ue=x[T+2-32],pe=x[T+3-32],ye=x[T+4-32],ve=x[T+5-32],xe=x[T+6-32],Ee=x[T+7-32];x[T+0+0]=K+Z+1>>1,x[T+1+0]=x[T+0+64]=Z+ue+1>>1,x[T+2+0]=x[T+1+64]=ue+pe+1>>1,x[T+3+0]=x[T+2+64]=pe+ye+1>>1,x[T+0+32]=Wt(K,Z,ue),x[T+1+32]=x[T+0+96]=Wt(Z,ue,pe),x[T+2+32]=x[T+1+96]=Wt(ue,pe,ye),x[T+3+32]=x[T+2+96]=Wt(pe,ye,ve),x[T+3+64]=Wt(ye,ve,xe),x[T+3+96]=Wt(ve,xe,Ee)}function qs(x,T){var K=x[T-1+0],Z=x[T-1+32],ue=x[T-1+64],pe=x[T-1+96];x[T+0+0]=K+Z+1>>1,x[T+2+0]=x[T+0+32]=Z+ue+1>>1,x[T+2+32]=x[T+0+64]=ue+pe+1>>1,x[T+1+0]=Wt(K,Z,ue),x[T+3+0]=x[T+1+32]=Wt(Z,ue,pe),x[T+3+32]=x[T+1+64]=Wt(ue,pe,pe),x[T+3+64]=x[T+2+64]=x[T+0+96]=x[T+1+96]=x[T+2+96]=x[T+3+96]=pe}function hA(x,T){var K=x[T-1+0],Z=x[T-1+32],ue=x[T-1+64],pe=x[T-1+96],ye=x[T-1-32],ve=x[T+0-32],xe=x[T+1-32],Ee=x[T+2-32];x[T+0+0]=x[T+2+32]=K+ye+1>>1,x[T+0+32]=x[T+2+64]=Z+K+1>>1,x[T+0+64]=x[T+2+96]=ue+Z+1>>1,x[T+0+96]=pe+ue+1>>1,x[T+3+0]=Wt(ve,xe,Ee),x[T+2+0]=Wt(ye,ve,xe),x[T+1+0]=x[T+3+32]=Wt(K,ye,ve),x[T+1+32]=x[T+3+64]=Wt(Z,K,ye),x[T+1+64]=x[T+3+96]=Wt(ue,Z,K),x[T+1+96]=Wt(pe,ue,Z)}function Xa(x,T){var K;for(K=0;8>K;++K)n(x,T+32*K,x,T-32,8)}function mh(x,T){var K;for(K=0;8>K;++K)i(x,T,x[T-1],8),T+=32}function ia(x,T,K){var Z;for(Z=0;8>Z;++Z)i(T,K+32*Z,x,8)}function fc(x,T){var K,Z=8;for(K=0;8>K;++K)Z+=x[T+K-32]+x[T-1+32*K];ia(Z>>4,x,T)}function hc(x,T){var K,Z=4;for(K=0;8>K;++K)Z+=x[T+K-32];ia(Z>>3,x,T)}function xi(x,T){var K,Z=4;for(K=0;8>K;++K)Z+=x[T-1+32*K];ia(Z>>3,x,T)}function Za(x,T){ia(128,x,T)}function sa(x,T,K){var Z=x[T-K],ue=x[T+0],pe=3*(ue-Z)+Wo[1020+x[T-2*K]-x[T+K]],ye=nf[112+(pe+4>>3)];x[T-K]=Vi[255+Z+nf[112+(pe+3>>3)]],x[T+0]=Vi[255+ue-ye]}function Uo(x,T,K,Z){var ue=x[T+0],pe=x[T+K];return Di[255+x[T-2*K]-x[T-K]]>Z||Di[255+pe-ue]>Z}function dc(x,T,K,Z){return 4*Di[255+x[T-K]-x[T+0]]+Di[255+x[T-2*K]-x[T+K]]<=Z}function dA(x,T,K,Z,ue){var pe=x[T-3*K],ye=x[T-2*K],ve=x[T-K],xe=x[T+0],Ee=x[T+K],Ue=x[T+2*K],Pe=x[T+3*K];return 4*Di[255+ve-xe]+Di[255+ye-Ee]>Z?0:Di[255+x[T-4*K]-pe]<=ue&&Di[255+pe-ye]<=ue&&Di[255+ye-ve]<=ue&&Di[255+Pe-Ue]<=ue&&Di[255+Ue-Ee]<=ue&&Di[255+Ee-xe]<=ue}function Oo(x,T,K,Z){var ue=2*Z+1;for(Z=0;16>Z;++Z)dc(x,T+Z,K,ue)&&sa(x,T+Z,K)}function Lo(x,T,K,Z){var ue=2*Z+1;for(Z=0;16>Z;++Z)dc(x,T+Z*K,1,ue)&&sa(x,T+Z*K,1)}function pA(x,T,K,Z){var ue;for(ue=3;0<ue;--ue)Oo(x,T+=4*K,K,Z)}function $u(x,T,K,Z){var ue;for(ue=3;0<ue;--ue)Lo(x,T+=4,K,Z)}function Do(x,T,K,Z,ue,pe,ye,ve){for(pe=2*pe+1;0<ue--;){if(dA(x,T,K,pe,ye))if(Uo(x,T,K,ve))sa(x,T,K);else{var xe=x,Ee=T,Ue=K,Pe=xe[Ee-2*Ue],Se=xe[Ee-Ue],De=xe[Ee+0],Me=xe[Ee+Ue],Ye=xe[Ee+2*Ue],Qe=27*(Ze=Wo[1020+3*(De-Se)+Wo[1020+Pe-Me]])+63>>7,$e=18*Ze+63>>7,Ze=9*Ze+63>>7;xe[Ee-3*Ue]=Vi[255+xe[Ee-3*Ue]+Ze],xe[Ee-2*Ue]=Vi[255+Pe+$e],xe[Ee-Ue]=Vi[255+Se+Qe],xe[Ee+0]=Vi[255+De-Qe],xe[Ee+Ue]=Vi[255+Me-$e],xe[Ee+2*Ue]=Vi[255+Ye-Ze]}T+=Z}}function Io(x,T,K,Z,ue,pe,ye,ve){for(pe=2*pe+1;0<ue--;){if(dA(x,T,K,pe,ye))if(Uo(x,T,K,ve))sa(x,T,K);else{var xe=x,Ee=T,Ue=K,Pe=xe[Ee-Ue],Se=xe[Ee+0],De=xe[Ee+Ue],Me=nf[112+(4+(Ye=3*(Se-Pe))>>3)],Ye=nf[112+(Ye+3>>3)],Qe=Me+1>>1;xe[Ee-2*Ue]=Vi[255+xe[Ee-2*Ue]+Qe],xe[Ee-Ue]=Vi[255+Pe+Ye],xe[Ee+0]=Vi[255+Se-Me],xe[Ee+Ue]=Vi[255+De-Qe]}T+=Z}}function gh(x,T,K,Z,ue,pe){Do(x,T,K,1,16,Z,ue,pe)}function Ro(x,T,K,Z,ue,pe){Do(x,T,1,K,16,Z,ue,pe)}function yh(x,T,K,Z,ue,pe){var ye;for(ye=3;0<ye;--ye)Io(x,T+=4*K,K,1,16,Z,ue,pe)}function j(x,T,K,Z,ue,pe){var ye;for(ye=3;0<ye;--ye)Io(x,T+=4,1,K,16,Z,ue,pe)}function ce(x,T,K,Z,ue,pe,ye,ve){Do(x,T,ue,1,8,pe,ye,ve),Do(K,Z,ue,1,8,pe,ye,ve)}function _e(x,T,K,Z,ue,pe,ye,ve){Do(x,T,1,ue,8,pe,ye,ve),Do(K,Z,1,ue,8,pe,ye,ve)}function Fe(x,T,K,Z,ue,pe,ye,ve){Io(x,T+4*ue,ue,1,8,pe,ye,ve),Io(K,Z+4*ue,ue,1,8,pe,ye,ve)}function Ie(x,T,K,Z,ue,pe,ye,ve){Io(x,T+4,1,ue,8,pe,ye,ve),Io(K,Z+4,1,ue,8,pe,ye,ve)}function Xe(){this.ba=new Vt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Xt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function st(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function St(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Nt(){this.ua=0,this.Wa=new L,this.vb=new L,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new ae,this.yc=new G}function Zt(){this.xb=this.a=0,this.l=new No,this.ca=new Vt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new J,this.Pb=0,this.wd=new J,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Nt,this.ab=0,this.gc=a(4,St),this.Oc=0}function sr(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new No,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Sr(x,T,K,Z,ue,pe,ye){for(x=x==null?0:x[T+0],T=0;T<ye;++T)ue[pe+T]=x+K[Z+T]&255,x=ue[pe+T]}function xn(x,T,K,Z,ue,pe,ye){var ve;if(x==null)Sr(null,null,K,Z,ue,pe,ye);else for(ve=0;ve<ye;++ve)ue[pe+ve]=x[T+ve]+K[Z+ve]&255}function jn(x,T,K,Z,ue,pe,ye){if(x==null)Sr(null,null,K,Z,ue,pe,ye);else{var ve,xe=x[T+0],Ee=xe,Ue=xe;for(ve=0;ve<ye;++ve)Ee=Ue+(xe=x[T+ve])-Ee,Ue=K[Z+ve]+(-256&Ee?0>Ee?0:255:Ee)&255,Ee=xe,ue[pe+ve]=Ue}}function Xr(x,T,K,Z){var ue=T.width,pe=T.o;if(e(x!=null&&T!=null),0>K||0>=Z||K+Z>pe)return null;if(!x.Cc){if(x.ga==null){var ye;if(x.ga=new sr,(ye=x.ga==null)||(ye=T.width*T.o,e(x.Gb.length==0),x.Gb=s(ye),x.Uc=0,x.Gb==null?ye=0:(x.mb=x.Gb,x.nb=x.Uc,x.rc=null,ye=1),ye=!ye),!ye){ye=x.ga;var ve=x.Fa,xe=x.P,Ee=x.qc,Ue=x.mb,Pe=x.nb,Se=xe+1,De=Ee-1,Me=ye.l;if(e(ve!=null&&Ue!=null&&T!=null),$o[0]=null,$o[1]=Sr,$o[2]=xn,$o[3]=jn,ye.ca=Ue,ye.tb=Pe,ye.c=T.width,ye.i=T.height,e(0<ye.c&&0<ye.i),1>=Ee)T=0;else if(ye.$a=3&ve[xe+0],ye.Z=ve[xe+0]>>2&3,ye.Lc=ve[xe+0]>>4&3,xe=ve[xe+0]>>6&3,0>ye.$a||1<ye.$a||4<=ye.Z||1<ye.Lc||xe)T=0;else if(Me.put=Lt,Me.ac=Es,Me.bc=ra,Me.ma=ye,Me.width=T.width,Me.height=T.height,Me.Da=T.Da,Me.v=T.v,Me.va=T.va,Me.j=T.j,Me.o=T.o,ye.$a)e:{e(ye.$a==1),T=Kr();t:for(;;){if(T==null){T=0;break e}if(e(ye!=null),ye.mc=T,T.c=ye.c,T.i=ye.i,T.l=ye.l,T.l.ma=ye,T.l.width=ye.c,T.l.height=ye.i,T.a=0,de(T.m,ve,Se,De),!vn(ye.c,ye.i,1,T,null)||(T.ab==1&&T.gc[0].hc==3&&Rr(T.s)?(ye.ic=1,ve=T.c*T.i,T.Ta=null,T.Ua=0,T.V=s(ve),T.Ba=0,T.V==null?(T.a=1,T=0):T=1):(ye.ic=0,T=bn(T,ye.c)),!T))break t;T=1;break e}ye.mc=null,T=0}else T=De>=ye.c*ye.i;ye=!T}if(ye)return null;x.ga.Lc!=1?x.Ga=0:Z=pe-K}e(x.ga!=null),e(K+Z<=pe);e:{if(T=(ve=x.ga).c,pe=ve.l.o,ve.$a==0){if(Se=x.rc,De=x.Vc,Me=x.Fa,xe=x.P+1+K*T,Ee=x.mb,Ue=x.nb+K*T,e(xe<=x.P+x.qc),ve.Z!=0)for(e($o[ve.Z]!=null),ye=0;ye<Z;++ye)$o[ve.Z](Se,De,Me,xe,Ee,Ue,T),Se=Ee,De=Ue,Ue+=T,xe+=T;else for(ye=0;ye<Z;++ye)n(Ee,Ue,Me,xe,T),Se=Ee,De=Ue,Ue+=T,xe+=T;x.rc=Se,x.Vc=De}else{if(e(ve.mc!=null),T=K+Z,e((ye=ve.mc)!=null),e(T<=ye.i),ye.C>=T)T=1;else if(ve.ic||Na(),ve.ic){ve=ye.V,Se=ye.Ba,De=ye.c;var Ye=ye.i,Qe=(Me=1,xe=ye.$/De,Ee=ye.$%De,Ue=ye.m,Pe=ye.s,ye.$),$e=De*Ye,Ze=De*T,At=Pe.wc,nt=Qe<Ze?Tn(Pe,Ee,xe):null;e(Qe<=$e),e(T<=Ye),e(Rr(Pe));t:for(;;){for(;!Ue.h&&Qe<Ze;){if(Ee&At||(nt=Tn(Pe,Ee,xe)),e(nt!=null),Q(Ue),256>(Ye=zr(nt.G[0],nt.H[0],Ue)))ve[Se+Qe]=Ye,++Qe,++Ee>=De&&(Ee=0,++xe<=T&&!(xe%16)&&bi(ye,xe));else{if(!(280>Ye)){Me=0;break t}Ye=Fi(Ye-256,Ue);var kt,vt=zr(nt.G[4],nt.H[4],Ue);if(Q(Ue),!(Qe>=(vt=vi(De,vt=Fi(vt,Ue)))&&$e-Qe>=Ye)){Me=0;break t}for(kt=0;kt<Ye;++kt)ve[Se+Qe+kt]=ve[Se+Qe+kt-vt];for(Qe+=Ye,Ee+=Ye;Ee>=De;)Ee-=De,++xe<=T&&!(xe%16)&&bi(ye,xe);Qe<Ze&&Ee&At&&(nt=Tn(Pe,Ee,xe))}e(Ue.h==Ae(Ue))}bi(ye,xe>T?T:xe);break t}!Me||Ue.h&&Qe<$e?(Me=0,ye.a=Ue.h?5:3):ye.$=Qe,T=Me}else T=Gt(ye,ye.V,ye.Ba,ye.c,ye.i,T,na);if(!T){Z=0;break e}}K+Z>=pe&&(x.Cc=1),Z=1}if(!Z)return null;if(x.Cc&&((Z=x.ga)!=null&&(Z.mc=null),x.ga=null,0<x.Ga))return alert("todo:WebPDequantizeLevels"),null}return x.nb+K*ue}function ci(x,T,K,Z,ue,pe){for(;0<ue--;){var ye,ve=x,xe=T+(K?1:0),Ee=x,Ue=T+(K?0:3);for(ye=0;ye<Z;++ye){var Pe=Ee[Ue+4*ye];Pe!=255&&(Pe*=32897,ve[xe+4*ye+0]=ve[xe+4*ye+0]*Pe>>23,ve[xe+4*ye+1]=ve[xe+4*ye+1]*Pe>>23,ve[xe+4*ye+2]=ve[xe+4*ye+2]*Pe>>23)}T+=pe}}function Gn(x,T,K,Z,ue){for(;0<Z--;){var pe;for(pe=0;pe<K;++pe){var ye=x[T+2*pe+0],ve=15&(Ee=x[T+2*pe+1]),xe=4369*ve,Ee=(240&Ee|Ee>>4)*xe>>16;x[T+2*pe+0]=(240&ye|ye>>4)*xe>>16&240|(15&ye|ye<<4)*xe>>16>>4&15,x[T+2*pe+1]=240&Ee|ve}T+=ue}}function Oi(x,T,K,Z,ue,pe,ye,ve){var xe,Ee,Ue=255;for(Ee=0;Ee<ue;++Ee){for(xe=0;xe<Z;++xe){var Pe=x[T+xe];pe[ye+4*xe]=Pe,Ue&=Pe}T+=K,ye+=ve}return Ue!=255}function Mo(x,T,K,Z,ue){var pe;for(pe=0;pe<ue;++pe)K[Z+pe]=x[T+pe]>>8}function Na(){wA=ci,oa=Gn,ef=Oi,$s=Mo}function Qo(x,T,K){F[x]=function(Z,ue,pe,ye,ve,xe,Ee,Ue,Pe,Se,De,Me,Ye,Qe,$e,Ze,At){var nt,kt=At-1>>1,vt=ve[xe+0]|Ee[Ue+0]<<16,rr=Pe[Se+0]|De[Me+0]<<16;e(Z!=null);var Ct=3*vt+rr+131074>>2;for(T(Z[ue+0],255&Ct,Ct>>16,Ye,Qe),pe!=null&&(Ct=3*rr+vt+131074>>2,T(pe[ye+0],255&Ct,Ct>>16,$e,Ze)),nt=1;nt<=kt;++nt){var mr=ve[xe+nt]|Ee[Ue+nt]<<16,An=Pe[Se+nt]|De[Me+nt]<<16,ar=vt+mr+rr+An+524296,bt=ar+2*(mr+rr)>>3;Ct=bt+vt>>1,vt=(ar=ar+2*(vt+An)>>3)+mr>>1,T(Z[ue+2*nt-1],255&Ct,Ct>>16,Ye,Qe+(2*nt-1)*K),T(Z[ue+2*nt-0],255&vt,vt>>16,Ye,Qe+(2*nt-0)*K),pe!=null&&(Ct=ar+rr>>1,vt=bt+An>>1,T(pe[ye+2*nt-1],255&Ct,Ct>>16,$e,Ze+(2*nt-1)*K),T(pe[ye+2*nt+0],255&vt,vt>>16,$e,Ze+(2*nt+0)*K)),vt=mr,rr=An}1&At||(Ct=3*vt+rr+131074>>2,T(Z[ue+At-1],255&Ct,Ct>>16,Ye,Qe+(At-1)*K),pe!=null&&(Ct=3*rr+vt+131074>>2,T(pe[ye+At-1],255&Ct,Ct>>16,$e,Ze+(At-1)*K)))}}function Yu(){Ri[xh]=xA,Ri[qi]=Sc,Ri[Bh]=Fp,Ri[la]=kh,Ri[sf]=kl,Ri[xc]=lo,Ri[Sl]=Tl,Ri[af]=Sc,Ri[Ch]=kh,Ri[Bc]=kl,Ri[Sh]=lo}function pc(x){return x&-16384?0>x?0:255:x>>Th}function eo(x,T){return pc((19077*x>>8)+(26149*T>>8)-14234)}function Fa(x,T,K){return pc((19077*x>>8)-(6419*T>>8)-(13320*K>>8)+8708)}function mA(x,T){return pc((19077*x>>8)+(33050*T>>8)-17685)}function Ho(x,T,K,Z,ue){Z[ue+0]=eo(x,K),Z[ue+1]=Fa(x,T,K),Z[ue+2]=mA(x,T)}function Bi(x,T,K,Z,ue){Z[ue+0]=mA(x,T),Z[ue+1]=Fa(x,T,K),Z[ue+2]=eo(x,K)}function xl(x,T,K,Z,ue){var pe=Fa(x,T,K);T=pe<<3&224|mA(x,T)>>3,Z[ue+0]=248&eo(x,K)|pe>>5,Z[ue+1]=T}function Bl(x,T,K,Z,ue){var pe=240&mA(x,T)|15;Z[ue+0]=240&eo(x,K)|Fa(x,T,K)>>4,Z[ue+1]=pe}function mc(x,T,K,Z,ue){Z[ue+0]=255,Ho(x,T,K,Z,ue+1)}function to(x,T,K,Z,ue){Bi(x,T,K,Z,ue),Z[ue+3]=255}function As(x,T,K,Z,ue){Ho(x,T,K,Z,ue),Z[ue+3]=255}function jo(x,T,K){F[x]=function(Z,ue,pe,ye,ve,xe,Ee,Ue,Pe){for(var Se=Ue+(-2&Pe)*K;Ue!=Se;)T(Z[ue+0],pe[ye+0],ve[xe+0],Ee,Ue),T(Z[ue+1],pe[ye+0],ve[xe+0],Ee,Ue+K),ue+=2,++ye,++xe,Ue+=2*K;1&Pe&&T(Z[ue+0],pe[ye+0],ve[xe+0],Ee,Ue)}}function gc(x,T,K){return K==0?x==0?T==0?6:5:T==0?4:0:K}function Ju(x,T,K,Z,ue){switch(x>>>30){case 3:Go(T,K,Z,ue,0);break;case 2:Ki(T,K,Z,ue);break;case 1:Dr(T,K,Z,ue)}}function Gs(x,T){var K,Z,ue=T.M,pe=T.Nb,ye=x.oc,ve=x.pc+40,xe=x.oc,Ee=x.pc+584,Ue=x.oc,Pe=x.pc+600;for(K=0;16>K;++K)ye[ve+32*K-1]=129;for(K=0;8>K;++K)xe[Ee+32*K-1]=129,Ue[Pe+32*K-1]=129;for(0<ue?ye[ve-1-32]=xe[Ee-1-32]=Ue[Pe-1-32]=129:(i(ye,ve-32-1,127,21),i(xe,Ee-32-1,127,9),i(Ue,Pe-32-1,127,9)),Z=0;Z<x.za;++Z){var Se=T.ya[T.aa+Z];if(0<Z){for(K=-1;16>K;++K)n(ye,ve+32*K-4,ye,ve+32*K+12,4);for(K=-1;8>K;++K)n(xe,Ee+32*K-4,xe,Ee+32*K+4,4),n(Ue,Pe+32*K-4,Ue,Pe+32*K+4,4)}var De=x.Gd,Me=x.Hd+Z,Ye=Se.ad,Qe=Se.Hc;if(0<ue&&(n(ye,ve-32,De[Me].y,0,16),n(xe,Ee-32,De[Me].f,0,8),n(Ue,Pe-32,De[Me].ea,0,8)),Se.Za){var $e=ye,Ze=ve-32+16;for(0<ue&&(Z>=x.za-1?i($e,Ze,De[Me].y[15],4):n($e,Ze,De[Me+1].y,0,4)),K=0;4>K;K++)$e[Ze+128+K]=$e[Ze+256+K]=$e[Ze+384+K]=$e[Ze+0+K];for(K=0;16>K;++K,Qe<<=2)$e=ye,Ze=ve+Kn[K],Nn[Se.Ob[K]]($e,Ze),Ju(Qe,Ye,16*+K,$e,Ze)}else if($e=gc(Z,ue,Se.Ob[0]),us[$e](ye,ve),Qe!=0)for(K=0;16>K;++K,Qe<<=2)Ju(Qe,Ye,16*+K,ye,ve+Kn[K]);for(K=Se.Gc,$e=gc(Z,ue,Se.Dd),Da[$e](xe,Ee),Da[$e](Ue,Pe),Qe=Ye,$e=xe,Ze=Ee,255&(Se=0|K)&&(170&Se?aa(Qe,256,$e,Ze):Er(Qe,256,$e,Ze)),Se=Ue,Qe=Pe,255&(K>>=8)&&(170&K?aa(Ye,320,Se,Qe):Er(Ye,320,Se,Qe)),ue<x.Ub-1&&(n(De[Me].y,0,ye,ve+480,16),n(De[Me].f,0,xe,Ee+224,8),n(De[Me].ea,0,Ue,Pe+224,8)),K=8*pe*x.B,De=x.sa,Me=x.ta+16*Z+16*pe*x.R,Ye=x.qa,Se=x.ra+8*Z+K,Qe=x.Ha,$e=x.Ia+8*Z+K,K=0;16>K;++K)n(De,Me+K*x.R,ye,ve+32*K,16);for(K=0;8>K;++K)n(Ye,Se+K*x.B,xe,Ee+32*K,8),n(Qe,$e+K*x.B,Ue,Pe+32*K,8)}}function Ua(x,T,K,Z,ue,pe,ye,ve,xe){var Ee=[0],Ue=[0],Pe=0,Se=xe!=null?xe.kd:0,De=xe??new st;if(x==null||12>K)return 7;De.data=x,De.w=T,De.ha=K,T=[T],K=[K],De.gb=[De.gb];e:{var Me=T,Ye=K,Qe=De.gb;if(e(x!=null),e(Ye!=null),e(Qe!=null),Qe[0]=0,12<=Ye[0]&&!r(x,Me[0],"RIFF")){if(r(x,Me[0]+8,"WEBP")){Qe=3;break e}var $e=V(x,Me[0]+4);if(12>$e||4294967286<$e){Qe=3;break e}if(Se&&$e>Ye[0]-8){Qe=7;break e}Qe[0]=$e,Me[0]+=12,Ye[0]-=12}Qe=0}if(Qe!=0)return Qe;for($e=0<De.gb[0],K=K[0];;){e:{var Ze=x;Ye=T,Qe=K;var At=Ee,nt=Ue,kt=Me=[0];if((Ct=Pe=[Pe])[0]=0,8>Qe[0])Qe=7;else{if(!r(Ze,Ye[0],"VP8X")){if(V(Ze,Ye[0]+4)!=10){Qe=3;break e}if(18>Qe[0]){Qe=7;break e}var vt=V(Ze,Ye[0]+8),rr=1+Te(Ze,Ye[0]+12);if(2147483648<=rr*(Ze=1+Te(Ze,Ye[0]+15))){Qe=3;break e}kt!=null&&(kt[0]=vt),At!=null&&(At[0]=rr),nt!=null&&(nt[0]=Ze),Ye[0]+=18,Qe[0]-=18,Ct[0]=1}Qe=0}}if(Pe=Pe[0],Me=Me[0],Qe!=0)return Qe;if(Ye=!!(2&Me),!$e&&Pe)return 3;if(pe!=null&&(pe[0]=!!(16&Me)),ye!=null&&(ye[0]=Ye),ve!=null&&(ve[0]=0),ye=Ee[0],Me=Ue[0],Pe&&Ye&&xe==null){Qe=0;break}if(4>K){Qe=7;break}if($e&&Pe||!$e&&!Pe&&!r(x,T[0],"ALPH")){K=[K],De.na=[De.na],De.P=[De.P],De.Sa=[De.Sa];e:{vt=x,Qe=T,$e=K;var Ct=De.gb;At=De.na,nt=De.P,kt=De.Sa,rr=22,e(vt!=null),e($e!=null),Ze=Qe[0];var mr=$e[0];for(e(At!=null),e(kt!=null),At[0]=null,nt[0]=null,kt[0]=0;;){if(Qe[0]=Ze,$e[0]=mr,8>mr){Qe=7;break e}var An=V(vt,Ze+4);if(4294967286<An){Qe=3;break e}var ar=8+An+1&-2;if(rr+=ar,0<Ct&&rr>Ct){Qe=3;break e}if(!r(vt,Ze,"VP8 ")||!r(vt,Ze,"VP8L")){Qe=0;break e}if(mr[0]<ar){Qe=7;break e}r(vt,Ze,"ALPH")||(At[0]=vt,nt[0]=Ze+8,kt[0]=An),Ze+=ar,mr-=ar}}if(K=K[0],De.na=De.na[0],De.P=De.P[0],De.Sa=De.Sa[0],Qe!=0)break}K=[K],De.Ja=[De.Ja],De.xa=[De.xa];e:if(Ct=x,Qe=T,$e=K,At=De.gb[0],nt=De.Ja,kt=De.xa,vt=Qe[0],Ze=!r(Ct,vt,"VP8 "),rr=!r(Ct,vt,"VP8L"),e(Ct!=null),e($e!=null),e(nt!=null),e(kt!=null),8>$e[0])Qe=7;else{if(Ze||rr){if(Ct=V(Ct,vt+4),12<=At&&Ct>At-12){Qe=3;break e}if(Se&&Ct>$e[0]-8){Qe=7;break e}nt[0]=Ct,Qe[0]+=8,$e[0]-=8,kt[0]=rr}else kt[0]=5<=$e[0]&&Ct[vt+0]==47&&!(Ct[vt+4]>>5),nt[0]=$e[0];Qe=0}if(K=K[0],De.Ja=De.Ja[0],De.xa=De.xa[0],T=T[0],Qe!=0)break;if(4294967286<De.Ja)return 3;if(ve==null||Ye||(ve[0]=De.xa?2:1),ye=[ye],Me=[Me],De.xa){if(5>K){Qe=7;break}ve=ye,Se=Me,Ye=pe,x==null||5>K?x=0:5<=K&&x[T+0]==47&&!(x[T+4]>>5)?($e=[0],Ct=[0],At=[0],de(nt=new J,x,T,K),Hs(nt,$e,Ct,At)?(ve!=null&&(ve[0]=$e[0]),Se!=null&&(Se[0]=Ct[0]),Ye!=null&&(Ye[0]=At[0]),x=1):x=0):x=0}else{if(10>K){Qe=7;break}ve=Me,x==null||10>K||!Hu(x,T+3,K-3)?x=0:(Se=x[T+0]|x[T+1]<<8|x[T+2]<<16,Ye=16383&(x[T+7]<<8|x[T+6]),x=16383&(x[T+9]<<8|x[T+8]),1&Se||3<(Se>>1&7)||!(Se>>4&1)||Se>>5>=De.Ja||!Ye||!x?x=0:(ye&&(ye[0]=Ye),ve&&(ve[0]=x),x=1))}if(!x||(ye=ye[0],Me=Me[0],Pe&&(Ee[0]!=ye||Ue[0]!=Me)))return 3;xe!=null&&(xe[0]=De,xe.offset=T-xe.w,e(4294967286>T-xe.w),e(xe.offset==xe.ha-K));break}return Qe==0||Qe==7&&Pe&&xe==null?(pe!=null&&(pe[0]|=De.na!=null&&0<De.na.length),Z!=null&&(Z[0]=ye),ue!=null&&(ue[0]=Me),0):Qe}function Po(x,T,K){var Z=T.width,ue=T.height,pe=0,ye=0,ve=Z,xe=ue;if(T.Da=x!=null&&0<x.Da,T.Da&&(ve=x.cd,xe=x.bd,pe=x.v,ye=x.j,11>K||(pe&=-2,ye&=-2),0>pe||0>ye||0>=ve||0>=xe||pe+ve>Z||ye+xe>ue))return 0;if(T.v=pe,T.j=ye,T.va=pe+ve,T.o=ye+xe,T.U=ve,T.T=xe,T.da=x!=null&&0<x.da,T.da){if(!N(ve,xe,K=[x.ib],pe=[x.hb]))return 0;T.ib=K[0],T.hb=pe[0]}return T.ob=x!=null&&x.ob,T.Kb=x==null||!x.Sd,T.da&&(T.ob=T.ib<3*Z/4&&T.hb<3*ue/4,T.Kb=0),1}function Xu(x){if(x==null)return 2;if(11>x.S){var T=x.f.RGBA;T.fb+=(x.height-1)*T.A,T.A=-T.A}else T=x.f.kb,x=x.height,T.O+=(x-1)*T.fa,T.fa=-T.fa,T.N+=(x-1>>1)*T.Ab,T.Ab=-T.Ab,T.W+=(x-1>>1)*T.Db,T.Db=-T.Db,T.F!=null&&(T.J+=(x-1)*T.lb,T.lb=-T.lb);return 0}function Oa(x,T,K,Z){if(Z==null||0>=x||0>=T)return 2;if(K!=null){if(K.Da){var ue=K.cd,pe=K.bd,ye=-2&K.v,ve=-2&K.j;if(0>ye||0>ve||0>=ue||0>=pe||ye+ue>x||ve+pe>T)return 2;x=ue,T=pe}if(K.da){if(!N(x,T,ue=[K.ib],pe=[K.hb]))return 2;x=ue[0],T=pe[0]}}Z.width=x,Z.height=T;e:{var xe=Z.width,Ee=Z.height;if(x=Z.S,0>=xe||0>=Ee||!(x>=xh&&13>x))x=2;else{if(0>=Z.Rd&&Z.sd==null){ye=pe=ue=T=0;var Ue=(ve=xe*Fh[x])*Ee;if(11>x||(pe=(Ee+1)/2*(T=(xe+1)/2),x==12&&(ye=(ue=xe)*Ee)),(Ee=s(Ue+2*pe+ye))==null){x=1;break e}Z.sd=Ee,11>x?((xe=Z.f.RGBA).eb=Ee,xe.fb=0,xe.A=ve,xe.size=Ue):((xe=Z.f.kb).y=Ee,xe.O=0,xe.fa=ve,xe.Fd=Ue,xe.f=Ee,xe.N=0+Ue,xe.Ab=T,xe.Cd=pe,xe.ea=Ee,xe.W=0+Ue+pe,xe.Db=T,xe.Ed=pe,x==12&&(xe.F=Ee,xe.J=0+Ue+2*pe),xe.Tc=ye,xe.lb=ue)}if(T=1,ue=Z.S,pe=Z.width,ye=Z.height,ue>=xh&&13>ue)if(11>ue)x=Z.f.RGBA,T&=(ve=Math.abs(x.A))*(ye-1)+pe<=x.size,T&=ve>=pe*Fh[ue],T&=x.eb!=null;else{x=Z.f.kb,ve=(pe+1)/2,Ue=(ye+1)/2,xe=Math.abs(x.fa),Ee=Math.abs(x.Ab);var Pe=Math.abs(x.Db),Se=Math.abs(x.lb),De=Se*(ye-1)+pe;T&=xe*(ye-1)+pe<=x.Fd,T&=Ee*(Ue-1)+ve<=x.Cd,T=(T&=Pe*(Ue-1)+ve<=x.Ed)&xe>=pe&Ee>=ve&Pe>=ve,T&=x.y!=null,T&=x.f!=null,T&=x.ea!=null,ue==12&&(T&=Se>=pe,T&=De<=x.Tc,T&=x.F!=null)}else T=0;x=T?0:2}}return x!=0||K!=null&&K.fd&&(x=Xu(Z)),x}var Cl=64,ks=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],cs=24,ro=32,no=8,zo=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Be("Predictor0","PredictorAdd0"),F.Predictor0=function(){return 4278190080},F.Predictor1=function(x){return x},F.Predictor2=function(x,T,K){return T[K+0]},F.Predictor3=function(x,T,K){return T[K+1]},F.Predictor4=function(x,T,K){return T[K-1]},F.Predictor5=function(x,T,K){return Oe(Oe(x,T[K+1]),T[K+0])},F.Predictor6=function(x,T,K){return Oe(x,T[K-1])},F.Predictor7=function(x,T,K){return Oe(x,T[K+0])},F.Predictor8=function(x,T,K){return Oe(T[K-1],T[K+0])},F.Predictor9=function(x,T,K){return Oe(T[K+0],T[K+1])},F.Predictor10=function(x,T,K){return Oe(Oe(x,T[K-1]),Oe(T[K+0],T[K+1]))},F.Predictor11=function(x,T,K){var Z=T[K+0];return 0>=We(Z>>24&255,x>>24&255,(T=T[K-1])>>24&255)+We(Z>>16&255,x>>16&255,T>>16&255)+We(Z>>8&255,x>>8&255,T>>8&255)+We(255&Z,255&x,255&T)?Z:x},F.Predictor12=function(x,T,K){var Z=T[K+0];return(je((x>>24&255)+(Z>>24&255)-((T=T[K-1])>>24&255))<<24|je((x>>16&255)+(Z>>16&255)-(T>>16&255))<<16|je((x>>8&255)+(Z>>8&255)-(T>>8&255))<<8|je((255&x)+(255&Z)-(255&T)))>>>0},F.Predictor13=function(x,T,K){var Z=T[K-1];return(He((x=Oe(x,T[K+0]))>>24&255,Z>>24&255)<<24|He(x>>16&255,Z>>16&255)<<16|He(x>>8&255,Z>>8&255)<<8|He(255&x,255&Z))>>>0};var yc=F.PredictorAdd0;F.PredictorAdd1=at,Be("Predictor2","PredictorAdd2"),Be("Predictor3","PredictorAdd3"),Be("Predictor4","PredictorAdd4"),Be("Predictor5","PredictorAdd5"),Be("Predictor6","PredictorAdd6"),Be("Predictor7","PredictorAdd7"),Be("Predictor8","PredictorAdd8"),Be("Predictor9","PredictorAdd9"),Be("Predictor10","PredictorAdd10"),Be("Predictor11","PredictorAdd11"),Be("Predictor12","PredictorAdd12"),Be("Predictor13","PredictorAdd13");var wc=F.PredictorAdd2;mt("ColorIndexInverseTransform","MapARGB","32b",function(x){return x>>8&255},function(x){return x}),mt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(x){return x},function(x){return x>>8&255});var Pn,wh=F.ColorIndexInverseTransform,io=F.MapARGB,so=F.VP8LColorIndexInverseTransformAlpha,Li=F.MapAlpha,Ko=F.VP8LPredictorsAdd=[];Ko.length=16,(F.VP8LPredictors=[]).length=16,(F.VP8LPredictorsAdd_C=[]).length=16,(F.VP8LPredictors_C=[]).length=16;var vc,bc,Vo,qo,ao,gA,Ws,Go,Ki,aa,Dr,Er,Zr,zn,oo,La,yA,Zu,Ep,r0,n0,i0,_p,kp,wA,oa,ef,$s,vA=s(511),vh=s(2041),tf=s(225),rf=s(767),bh=0,Wo=vh,nf=tf,Vi=rf,Di=vA,xh=0,qi=1,Bh=2,la=3,sf=4,xc=5,Sl=6,af=7,Ch=8,Bc=9,Sh=10,Aa=[2,3,7],Cc=[3,3,11],bA=[280,256,256,256,40],Eh=[0,1,1,1,0],of=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],ca=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],ua=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],El=8,fa=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],ha=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Ys=null,s0=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Tp=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],_h=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],a0=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Ii=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],ln=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],yr=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],us=[],Nn=[],Da=[],_l=1,Np=2,$o=[],Ri=[];Qo("UpsampleRgbLinePair",Ho,3),Qo("UpsampleBgrLinePair",Bi,3),Qo("UpsampleRgbaLinePair",As,4),Qo("UpsampleBgraLinePair",to,4),Qo("UpsampleArgbLinePair",mc,4),Qo("UpsampleRgba4444LinePair",Bl,2),Qo("UpsampleRgb565LinePair",xl,2);var xA=F.UpsampleRgbLinePair,Fp=F.UpsampleBgrLinePair,Sc=F.UpsampleRgbaLinePair,kh=F.UpsampleBgraLinePair,kl=F.UpsampleArgbLinePair,lo=F.UpsampleRgba4444LinePair,Tl=F.UpsampleRgb565LinePair,da=16,Ec=1<<da-1,BA=-227,Nl=482,Th=6,Fl=0,Mi=s(256),Nh=s(256),o0=s(256),Vv=s(256),qv=s(Nl-BA),Gv=s(Nl-BA);jo("YuvToRgbRow",Ho,3),jo("YuvToBgrRow",Bi,3),jo("YuvToRgbaRow",As,4),jo("YuvToBgraRow",to,4),jo("YuvToArgbRow",mc,4),jo("YuvToRgba4444Row",Bl,2),jo("YuvToRgb565Row",xl,2);var Kn=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],_c=[0,2,8],lf=[8,7,6,4,4,2,2,2,1,1,1,1],Af=1;this.WebPDecodeRGBA=function(x,T,K,Z,ue){var pe=qi,ye=new Xe,ve=new Vt;ye.ba=ve,ve.S=pe,ve.width=[ve.width],ve.height=[ve.height];var xe=ve.width,Ee=ve.height,Ue=new dt;if(Ue==null||x==null)var Pe=2;else e(Ue!=null),Pe=Ua(x,T,K,Ue.width,Ue.height,Ue.Pd,Ue.Qd,Ue.format,null);if(Pe!=0?xe=0:(xe!=null&&(xe[0]=Ue.width[0]),Ee!=null&&(Ee[0]=Ue.height[0]),xe=1),xe){ve.width=ve.width[0],ve.height=ve.height[0],Z!=null&&(Z[0]=ve.width),ue!=null&&(ue[0]=ve.height);e:{if(Z=new No,(ue=new st).data=x,ue.w=T,ue.ha=K,ue.kd=1,T=[0],e(ue!=null),((x=Ua(ue.data,ue.w,ue.ha,null,null,null,T,null,ue))==0||x==7)&&T[0]&&(x=4),(T=x)==0){if(e(ye!=null),Z.data=ue.data,Z.w=ue.w+ue.offset,Z.ha=ue.ha-ue.offset,Z.put=Lt,Z.ac=Es,Z.bc=ra,Z.ma=ye,ue.xa){if((x=Kr())==null){ye=1;break e}if((function(Se,De){var Me=[0],Ye=[0],Qe=[0];t:for(;;){if(Se==null)return 0;if(De==null)return Se.a=2,0;if(Se.l=De,Se.a=0,de(Se.m,De.data,De.w,De.ha),!Hs(Se.m,Me,Ye,Qe)){Se.a=3;break t}if(Se.xb=Np,De.width=Me[0],De.height=Ye[0],!vn(Me[0],Ye[0],1,Se,null))break t;return 1}return e(Se.a!=0),0})(x,Z)){if(Z=(T=Oa(Z.width,Z.height,ye.Oa,ye.ba))==0){t:{Z=x;r:for(;;){if(Z==null){Z=0;break t}if(e(Z.s.yc!=null),e(Z.s.Ya!=null),e(0<Z.s.Wb),e((K=Z.l)!=null),e((ue=K.ma)!=null),Z.xb!=0){if(Z.ca=ue.ba,Z.tb=ue.tb,e(Z.ca!=null),!Po(ue.Oa,K,la)){Z.a=2;break r}if(!bn(Z,K.width)||K.da)break r;if((K.da||Bt(Z.ca.S))&&Na(),11>Z.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),Z.ca.f.kb.F!=null&&Na()),Z.Pb&&0<Z.s.ua&&Z.s.vb.X==null&&!ne(Z.s.vb,Z.s.Wa.Xa)){Z.a=1;break r}Z.xb=0}if(!Gt(Z,Z.V,Z.Ba,Z.c,Z.i,K.o,li))break r;ue.Dc=Z.Ma,Z=1;break t}e(Z.a!=0),Z=0}Z=!Z}Z&&(T=x.a)}else T=x.a}else{if((x=new _a)==null){ye=1;break e}if(x.Fa=ue.na,x.P=ue.P,x.qc=ue.Sa,Ja(x,Z)){if((T=Oa(Z.width,Z.height,ye.Oa,ye.ba))==0){if(x.Aa=0,K=ye.Oa,e((ue=x)!=null),K!=null){if(0<(xe=0>(xe=K.Md)?0:100<xe?255:255*xe/100)){for(Ee=Ue=0;4>Ee;++Ee)12>(Pe=ue.pb[Ee]).lc&&(Pe.ia=xe*lf[0>Pe.lc?0:Pe.lc]>>3),Ue|=Pe.ia;Ue&&(alert("todo:VP8InitRandom"),ue.ia=1)}ue.Ga=K.Id,100<ue.Ga?ue.Ga=100:0>ue.Ga&&(ue.Ga=0)}(function(Se,De){if(Se==null)return 0;if(De==null)return Lr(Se,2,"NULL VP8Io parameter in VP8Decode().");if(!Se.cb&&!Ja(Se,De))return 0;if(e(Se.cb),De.ac==null||De.ac(De)){De.ob&&(Se.L=0);var Me=_c[Se.L];if(Se.L==2?(Se.yb=0,Se.zb=0):(Se.yb=De.v-Me>>4,Se.zb=De.j-Me>>4,0>Se.yb&&(Se.yb=0),0>Se.zb&&(Se.zb=0)),Se.Va=De.o+15+Me>>4,Se.Hb=De.va+15+Me>>4,Se.Hb>Se.za&&(Se.Hb=Se.za),Se.Va>Se.Ub&&(Se.Va=Se.Ub),0<Se.L){var Ye=Se.ed;for(Me=0;4>Me;++Me){var Qe;if(Se.Qa.Cb){var $e=Se.Qa.Lb[Me];Se.Qa.Fb||($e+=Ye.Tb)}else $e=Ye.Tb;for(Qe=0;1>=Qe;++Qe){var Ze=Se.gd[Me][Qe],At=$e;if(Ye.Pc&&(At+=Ye.vd[0],Qe&&(At+=Ye.od[0])),0<(At=0>At?0:63<At?63:At)){var nt=At;0<Ye.wb&&(nt=4<Ye.wb?nt>>2:nt>>1)>9-Ye.wb&&(nt=9-Ye.wb),1>nt&&(nt=1),Ze.dd=nt,Ze.tc=2*At+nt,Ze.ld=40<=At?2:15<=At?1:0}else Ze.tc=0;Ze.La=Qe}}}Me=0}else Lr(Se,6,"Frame setup failed"),Me=Se.a;if(Me=Me==0){if(Me){Se.$c=0,0<Se.Aa||(Se.Ic=Af);t:{Me=Se.Ic,Ye=4*(nt=Se.za);var kt=32*nt,vt=nt+1,rr=0<Se.L?nt*(0<Se.Aa?2:1):0,Ct=(Se.Aa==2?2:1)*nt;if((Ze=Ye+832+(Qe=3*(16*Me+_c[Se.L])/2*kt)+($e=Se.Fa!=null&&0<Se.Fa.length?Se.Kc.c*Se.Kc.i:0))!=Ze)Me=0;else{if(Ze>Se.Vb){if(Se.Vb=0,Se.Ec=s(Ze),Se.Fc=0,Se.Ec==null){Me=Lr(Se,1,"no memory during frame initialization.");break t}Se.Vb=Ze}Ze=Se.Ec,At=Se.Fc,Se.Ac=Ze,Se.Bc=At,At+=Ye,Se.Gd=a(kt,Qu),Se.Hd=0,Se.rb=a(vt+1,Ea),Se.sb=1,Se.wa=rr?a(rr,zs):null,Se.Y=0,Se.D.Nb=0,Se.D.wa=Se.wa,Se.D.Y=Se.Y,0<Se.Aa&&(Se.D.Y+=nt),e(!0),Se.oc=Ze,Se.pc=At,At+=832,Se.ya=a(Ct,Ru),Se.aa=0,Se.D.ya=Se.ya,Se.D.aa=Se.aa,Se.Aa==2&&(Se.D.aa+=nt),Se.R=16*nt,Se.B=8*nt,nt=(kt=_c[Se.L])*Se.R,kt=kt/2*Se.B,Se.sa=Ze,Se.ta=At+nt,Se.qa=Se.sa,Se.ra=Se.ta+16*Me*Se.R+kt,Se.Ha=Se.qa,Se.Ia=Se.ra+8*Me*Se.B+kt,Se.$c=0,At+=Qe,Se.mb=$e?Ze:null,Se.nb=$e?At:null,e(At+$e<=Se.Fc+Se.Vb),ju(Se),i(Se.Ac,Se.Bc,0,Ye),Me=1}}if(Me){if(De.ka=0,De.y=Se.sa,De.O=Se.ta,De.f=Se.qa,De.N=Se.ra,De.ea=Se.Ha,De.Vd=Se.Ia,De.fa=Se.R,De.Rc=Se.B,De.F=null,De.J=0,!bh){for(Me=-255;255>=Me;++Me)vA[255+Me]=0>Me?-Me:Me;for(Me=-1020;1020>=Me;++Me)vh[1020+Me]=-128>Me?-128:127<Me?127:Me;for(Me=-112;112>=Me;++Me)tf[112+Me]=-16>Me?-16:15<Me?15:Me;for(Me=-255;510>=Me;++Me)rf[255+Me]=0>Me?0:255<Me?255:Me;bh=1}Ws=ka,Go=Pu,aa=ls,Dr=zu,Er=Ku,Ki=ch,Zr=gh,zn=Ro,oo=ce,La=_e,yA=yh,Zu=j,Ep=Fe,r0=Ie,n0=Oo,i0=Lo,_p=pA,kp=$u,Nn[0]=ph,Nn[1]=uh,Nn[2]=dh,Nn[3]=Gu,Nn[4]=Vs,Nn[5]=Wu,Nn[6]=Ui,Nn[7]=fA,Nn[8]=hA,Nn[9]=qs,us[0]=Ta,us[1]=Vu,us[2]=qu,us[3]=hh,us[4]=Fo,us[5]=uA,us[6]=bl,Da[0]=fc,Da[1]=fh,Da[2]=Xa,Da[3]=mh,Da[4]=xi,Da[5]=hc,Da[6]=Za,Me=1}else Me=0}Me&&(Me=(function(mr,An){for(mr.M=0;mr.M<mr.Va;++mr.M){var ar,bt=mr.Jc[mr.M&mr.Xb],ht=mr.m,Bn=mr;for(ar=0;ar<Bn.za;++ar){var $t=ht,Ar=Bn,Hr=Ar.Ac,ui=Ar.Bc+4*ar,Qi=Ar.zc,en=Ar.ya[Ar.aa+ar];if(Ar.Qa.Bb?en.$b=oe($t,Ar.Pa.jb[0])?2+oe($t,Ar.Pa.jb[2]):oe($t,Ar.Pa.jb[1]):en.$b=0,Ar.kc&&(en.Ad=oe($t,Ar.Bd)),en.Za=!oe($t,145)+0,en.Za){var Wn=en.Ob,Gi=0;for(Ar=0;4>Ar;++Ar){var $n,hr=Qi[0+Ar];for($n=0;4>$n;++$n){hr=Ii[Hr[ui+$n]][hr];for(var Tr=_h[oe($t,hr[0])];0<Tr;)Tr=_h[2*Tr+oe($t,hr[Tr])];hr=-Tr,Hr[ui+$n]=hr}n(Wn,Gi,Hr,ui,4),Gi+=4,Qi[0+Ar]=hr}}else hr=oe($t,156)?oe($t,128)?1:3:oe($t,163)?2:0,en.Ob[0]=hr,i(Hr,ui,hr,4),i(Qi,0,hr,4);en.Dd=oe($t,142)?oe($t,114)?oe($t,183)?1:3:2:0}if(Bn.m.Ka)return Lr(mr,7,"Premature end-of-partition0 encountered.");for(;mr.ja<mr.za;++mr.ja){if(Bn=bt,$t=(ht=mr).rb[ht.sb-1],Hr=ht.rb[ht.sb+ht.ja],ar=ht.ya[ht.aa+ht.ja],ui=ht.kc?ar.Ad:0)$t.la=Hr.la=0,ar.Za||($t.Na=Hr.Na=0),ar.Hc=0,ar.Gc=0,ar.ia=0;else{var Cn,Ir;if($t=Hr,Hr=Bn,ui=ht.Pa.Xc,Qi=ht.ya[ht.aa+ht.ja],en=ht.pb[Qi.$b],Ar=Qi.ad,Wn=0,Gi=ht.rb[ht.sb-1],hr=$n=0,i(Ar,Wn,0,384),Qi.Za)var fi=0,Sn=ui[3];else{Tr=s(16);var Nr=$t.Na+Gi.Na;if(Nr=Ys(Hr,ui[1],Nr,en.Eb,0,Tr,0),$t.Na=Gi.Na=(0<Nr)+0,1<Nr)Ws(Tr,0,Ar,Wn);else{var Vn=Tr[0]+3>>3;for(Tr=0;256>Tr;Tr+=16)Ar[Wn+Tr]=Vn}fi=1,Sn=ui[0]}var jr=15&$t.la,Yn=15&Gi.la;for(Tr=0;4>Tr;++Tr){var Jn=1&Yn;for(Vn=Ir=0;4>Vn;++Vn)jr=jr>>1|(Jn=(Nr=Ys(Hr,Sn,Nr=Jn+(1&jr),en.Sc,fi,Ar,Wn))>fi)<<7,Ir=Ir<<2|(3<Nr?3:1<Nr?2:Ar[Wn+0]!=0),Wn+=16;jr>>=4,Yn=Yn>>1|Jn<<7,$n=($n<<8|Ir)>>>0}for(Sn=jr,fi=Yn>>4,Cn=0;4>Cn;Cn+=2){for(Ir=0,jr=$t.la>>4+Cn,Yn=Gi.la>>4+Cn,Tr=0;2>Tr;++Tr){for(Jn=1&Yn,Vn=0;2>Vn;++Vn)Nr=Jn+(1&jr),jr=jr>>1|(Jn=0<(Nr=Ys(Hr,ui[2],Nr,en.Qc,0,Ar,Wn)))<<3,Ir=Ir<<2|(3<Nr?3:1<Nr?2:Ar[Wn+0]!=0),Wn+=16;jr>>=2,Yn=Yn>>1|Jn<<5}hr|=Ir<<4*Cn,Sn|=jr<<4<<Cn,fi|=(240&Yn)<<Cn}$t.la=Sn,Gi.la=fi,Qi.Hc=$n,Qi.Gc=hr,Qi.ia=43690&hr?0:en.ia,ui=!($n|hr)}if(0<ht.L&&(ht.wa[ht.Y+ht.ja]=ht.gd[ar.$b][ar.Za],ht.wa[ht.Y+ht.ja].La|=!ui),Bn.Ka)return Lr(mr,7,"Premature end-of-file encountered.")}if(ju(mr),ht=An,Bn=1,ar=(bt=mr).D,$t=0<bt.L&&bt.M>=bt.zb&&bt.M<=bt.Va,bt.Aa==0)t:{if(ar.M=bt.M,ar.uc=$t,Gs(bt,ar),Bn=1,ar=(Ir=bt.D).Nb,$t=(hr=_c[bt.L])*bt.R,Hr=hr/2*bt.B,Tr=16*ar*bt.R,Vn=8*ar*bt.B,ui=bt.sa,Qi=bt.ta-$t+Tr,en=bt.qa,Ar=bt.ra-Hr+Vn,Wn=bt.Ha,Gi=bt.Ia-Hr+Vn,Yn=(jr=Ir.M)==0,$n=jr>=bt.Va-1,bt.Aa==2&&Gs(bt,Ir),Ir.uc)for(Jn=(Nr=bt).D.M,e(Nr.D.uc),Ir=Nr.yb;Ir<Nr.Hb;++Ir){fi=Ir,Sn=Jn;var Wr=(_r=(Xn=Nr).D).Nb;Cn=Xn.R;var _r=_r.wa[_r.Y+fi],Wi=Xn.sa,Fn=Xn.ta+16*Wr*Cn+16*fi,Ht=_r.dd,zt=_r.tc;if(zt!=0)if(e(3<=zt),Xn.L==1)0<fi&&i0(Wi,Fn,Cn,zt+4),_r.La&&kp(Wi,Fn,Cn,zt),0<Sn&&n0(Wi,Fn,Cn,zt+4),_r.La&&_p(Wi,Fn,Cn,zt);else{var Fr=Xn.B,Ts=Xn.qa,pa=Xn.ra+8*Wr*Fr+8*fi,fs=Xn.Ha,Xn=Xn.Ia+8*Wr*Fr+8*fi;Wr=_r.ld,0<fi&&(zn(Wi,Fn,Cn,zt+4,Ht,Wr),La(Ts,pa,fs,Xn,Fr,zt+4,Ht,Wr)),_r.La&&(Zu(Wi,Fn,Cn,zt,Ht,Wr),r0(Ts,pa,fs,Xn,Fr,zt,Ht,Wr)),0<Sn&&(Zr(Wi,Fn,Cn,zt+4,Ht,Wr),oo(Ts,pa,fs,Xn,Fr,zt+4,Ht,Wr)),_r.La&&(yA(Wi,Fn,Cn,zt,Ht,Wr),Ep(Ts,pa,fs,Xn,Fr,zt,Ht,Wr))}}if(bt.ia&&alert("todo:DitherRow"),ht.put!=null){if(Ir=16*jr,jr=16*(jr+1),Yn?(ht.y=bt.sa,ht.O=bt.ta+Tr,ht.f=bt.qa,ht.N=bt.ra+Vn,ht.ea=bt.Ha,ht.W=bt.Ia+Vn):(Ir-=hr,ht.y=ui,ht.O=Qi,ht.f=en,ht.N=Ar,ht.ea=Wn,ht.W=Gi),$n||(jr-=hr),jr>ht.o&&(jr=ht.o),ht.F=null,ht.J=null,bt.Fa!=null&&0<bt.Fa.length&&Ir<jr&&(ht.J=Xr(bt,ht,Ir,jr-Ir),ht.F=bt.mb,ht.F==null&&ht.F.length==0)){Bn=Lr(bt,3,"Could not decode alpha data.");break t}Ir<ht.j&&(hr=ht.j-Ir,Ir=ht.j,e(!(1&hr)),ht.O+=bt.R*hr,ht.N+=bt.B*(hr>>1),ht.W+=bt.B*(hr>>1),ht.F!=null&&(ht.J+=ht.width*hr)),Ir<jr&&(ht.O+=ht.v,ht.N+=ht.v>>1,ht.W+=ht.v>>1,ht.F!=null&&(ht.J+=ht.v),ht.ka=Ir-ht.j,ht.U=ht.va-ht.v,ht.T=jr-Ir,Bn=ht.put(ht))}ar+1!=bt.Ic||$n||(n(bt.sa,bt.ta-$t,ui,Qi+16*bt.R,$t),n(bt.qa,bt.ra-Hr,en,Ar+8*bt.B,Hr),n(bt.Ha,bt.Ia-Hr,Wn,Gi+8*bt.B,Hr))}if(!Bn)return Lr(mr,6,"Output aborted.")}return 1})(Se,De)),De.bc!=null&&De.bc(De),Me&=1}return Me?(Se.cb=0,Me):0})(x,Z)||(T=x.a)}}else T=x.a}T==0&&ye.Oa!=null&&ye.Oa.fd&&(T=Xu(ye.ba))}ye=T}pe=ye!=0?null:11>pe?ve.f.RGBA.eb:ve.f.kb.y}else pe=null;return pe};var Fh=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(F,$){for(var q="",R=0;R<4;R++)q+=String.fromCharCode(F[$++]);return q}function f(F,$){return F[$+0]|F[$+1]<<8}function h(F,$){return(F[$+0]|F[$+1]<<8|F[$+2]<<16)>>>0}function m(F,$){return(F[$+0]|F[$+1]<<8|F[$+2]<<16|F[$+3]<<24)>>>0}new l;var d=[0],g=[0],v=[],b=new l,w=t,B=(function(F,$){var q={},R=0,G=!1,U=0,ae=0;if(q.frames=[],!(function(I,J){for(var te=0;te<4;te++)if(I[J+te]!="RIFF".charCodeAt(te))return!0;return!1})(F,$)){for(m(F,$+=4),$+=8;$<F.length;){var re=c(F,$),Y=m(F,$+=4);$+=4;var he=Y+(1&Y);switch(re){case"VP8 ":case"VP8L":q.frames[R]===void 0&&(q.frames[R]={}),(X=q.frames[R]).src_off=G?ae:$-8,X.src_size=U+Y+8,R++,G&&(G=!1,U=0,ae=0);break;case"VP8X":(X=q.header={}).feature_flags=F[$];var de=$+4;X.canvas_width=1+h(F,de),de+=3,X.canvas_height=1+h(F,de),de+=3;break;case"ALPH":G=!0,U=he+8,ae=$-8;break;case"ANIM":(X=q.header).bgcolor=m(F,$),de=$+4,X.loop_count=f(F,de),de+=2;break;case"ANMF":var Ce,X;(X=q.frames[R]={}).offset_x=2*h(F,$),$+=3,X.offset_y=2*h(F,$),$+=3,X.width=1+h(F,$),$+=3,X.height=1+h(F,$),$+=3,X.duration=h(F,$),$+=3,Ce=F[$++],X.dispose=1&Ce,X.blend=Ce>>1&1}re!="ANMF"&&($+=he)}return q}})(w,0);B.response=w,B.rgbaoutput=!0,B.dataurl=!1;var S=B.header?B.header:null,C=B.frames?B.frames:null;if(S){S.loop_counter=S.loop_count,d=[S.canvas_height],g=[S.canvas_width];for(var k=0;k<C.length&&C[k].blend!=0;k++);}var M=C[0],D=b.WebPDecodeRGBA(w,M.src_off,M.src_size,g,d);M.rgba=D,M.imgwidth=g[0],M.imgheight=d[0];for(var H=0;H<g[0]*d[0]*4;H++)v[H]=D[H];return this.width=g,this.height=d,this.data=v,this}function hce(){var t,e=this.internal.__metadata__.metadata,r=unescape(encodeURIComponent(e));t=this.internal.__metadata__.rawXml?r:'<x:xmpmeta xmlns:x="adobe:ns:meta/"><rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceUri+'"><jspdf:metadata>'+r.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")+"</jspdf:metadata></rdf:Description></rdf:RDF></x:xmpmeta>",this.internal.__metadata__.metadataObjectNumber=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+t.length+" >>"),this.internal.write("stream"),this.internal.write(t),this.internal.write("endstream"),this.internal.write("endobj")}function dce(){this.internal.__metadata__.metadataObjectNumber&&this.internal.write("/Metadata "+this.internal.__metadata__.metadataObjectNumber+" 0 R")}(function(t){var e,r,n,i,s,a,o,l,c,f=function(I){return I=I||{},this.isStrokeTransparent=I.isStrokeTransparent||!1,this.strokeOpacity=I.strokeOpacity||1,this.strokeStyle=I.strokeStyle||"#000000",this.fillStyle=I.fillStyle||"#000000",this.isFillTransparent=I.isFillTransparent||!1,this.fillOpacity=I.fillOpacity||1,this.font=I.font||"10px sans-serif",this.textBaseline=I.textBaseline||"alphabetic",this.textAlign=I.textAlign||"left",this.lineWidth=I.lineWidth||1,this.lineJoin=I.lineJoin||"miter",this.lineCap=I.lineCap||"butt",this.path=I.path||[],this.transform=I.transform!==void 0?I.transform.clone():new l,this.globalCompositeOperation=I.globalCompositeOperation||"normal",this.globalAlpha=I.globalAlpha||1,this.clip_path=I.clip_path||[],this.currentPoint=I.currentPoint||new a,this.miterLimit=I.miterLimit||10,this.lastPoint=I.lastPoint||new a,this.lineDashOffset=I.lineDashOffset||0,this.lineDash=I.lineDash||[],this.margin=I.margin||[0,0,0,0],this.prevPageLastElemOffset=I.prevPageLastElemOffset||0,this.ignoreClearRect=typeof I.ignoreClearRect!="boolean"||I.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new h(this),e=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,a=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,c=new f}]);var h=function(I){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var J=I;Object.defineProperty(this,"pdf",{get:function(){return J}});var te=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return te},set:function(ne){te=!!ne}});var Ae=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Ae},set:function(ne){Ae=!!ne}});var se=0;Object.defineProperty(this,"posX",{get:function(){return se},set:function(ne){isNaN(ne)||(se=ne)}});var Q=0;Object.defineProperty(this,"posY",{get:function(){return Q},set:function(ne){isNaN(ne)||(Q=ne)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(ne){var W;typeof ne=="number"?W=[ne,ne,ne,ne]:((W=new Array(4))[0]=ne[0],W[1]=ne.length>=2?ne[1]:W[0],W[2]=ne.length>=3?ne[2]:W[0],W[3]=ne.length>=4?ne[3]:W[1]),c.margin=W}});var P=!1;Object.defineProperty(this,"autoPaging",{get:function(){return P},set:function(ne){P=ne}});var le=0;Object.defineProperty(this,"lastBreak",{get:function(){return le},set:function(ne){le=ne}});var oe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return oe},set:function(ne){oe=ne}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(ne){ne instanceof f&&(c=ne)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(ne){c.path=ne}});var ie=[];Object.defineProperty(this,"ctxStack",{get:function(){return ie},set:function(ne){ie=ne}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ne){var W;W=m(ne),this.ctx.fillStyle=W.style,this.ctx.isFillTransparent=W.a===0,this.ctx.fillOpacity=W.a,this.pdf.setFillColor(W.r,W.g,W.b,{a:W.a}),this.pdf.setTextColor(W.r,W.g,W.b,{a:W.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ne){var W=m(ne);this.ctx.strokeStyle=W.style,this.ctx.isStrokeTransparent=W.a===0,this.ctx.strokeOpacity=W.a,W.a===0?this.pdf.setDrawColor(255,255,255):(W.a,this.pdf.setDrawColor(W.r,W.g,W.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ne){["butt","round","square"].indexOf(ne)!==-1&&(this.ctx.lineCap=ne,this.pdf.setLineCap(ne))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ne){isNaN(ne)||(this.ctx.lineWidth=ne,this.pdf.setLineWidth(ne))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ne){["bevel","round","miter"].indexOf(ne)!==-1&&(this.ctx.lineJoin=ne,this.pdf.setLineJoin(ne))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ne){isNaN(ne)||(this.ctx.miterLimit=ne,this.pdf.setMiterLimit(ne))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ne){this.ctx.textBaseline=ne}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ne){["right","end","center","left","start"].indexOf(ne)!==-1&&(this.ctx.textAlign=ne)}});var fe=null,Te=null,V=null;Object.defineProperty(this,"fontFaces",{get:function(){return V},set:function(ne){fe=null,Te=null,V=ne}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ne){var W;if(this.ctx.font=ne,(W=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(ne))!==null){var L=W[1];W[2];var N=W[3],z=W[4];W[5];var ge=W[6],Be=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(z)[2];z=Math.floor(Be==="px"?parseFloat(z)*this.pdf.internal.scaleFactor:Be==="em"?parseFloat(z)*this.pdf.getFontSize():parseFloat(z)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(z);var be=(function(mt){var kr,yt,_t=[],It=mt.trim();if(It==="")return hB;if(It in pO)return[pO[It]];for(;It!=="";){switch(yt=null,kr=(It=gO(It)).charAt(0)){case'"':case"'":yt=oce(It.substring(1),kr);break;default:yt=lce(It)}if(yt===null||(_t.push(yt[0]),(It=gO(yt[1]))!==""&&It.charAt(0)!==","))return hB;It=It.replace(/^,/,"")}return _t})(ge);if(this.fontFaces){var Oe=(function(mt,kr){var yt=mt.getFontList(),_t=JSON.stringify(yt);if(fe===null||Te!==_t){var It=(function(Pt){var Ve=[];return Object.keys(Pt).forEach(function(gt){Pt[gt].forEach(function(Bt){var Rt=null;switch(Bt){case"bold":Rt={family:gt,weight:"bold"};break;case"italic":Rt={family:gt,style:"italic"};break;case"bolditalic":Rt={family:gt,weight:"bold",style:"italic"};break;case"":case"normal":Rt={family:gt}}Rt!==null&&(Rt.ref={name:gt,style:Bt},Ve.push(Rt))})}),Ve})(yt);fe=(function(Pt){for(var Ve={},gt=0;gt<Pt.length;++gt){var Bt=fB(Pt[gt]),Rt=Bt.family,ur=Bt.stretch,Vt=Bt.style,dt=Bt.weight;Ve[Rt]=Ve[Rt]||{},Ve[Rt][ur]=Ve[Rt][ur]||{},Ve[Rt][ur][Vt]=Ve[Rt][ur][Vt]||{},Ve[Rt][ur][Vt][dt]=Bt}return Ve})(It.concat(kr)),Te=_t}return fe})(this.pdf,this.fontFaces),je=be.map(function(mt){return{family:mt,stretch:"normal",weight:N,style:L}}),He=(function(mt,kr,yt){for(var _t=(yt=yt||{}).defaultFontFamily||"times",It=Object.assign({},ace,yt.genericFontFamilies||{}),Pt=null,Ve=null,gt=0;gt<kr.length;++gt)if(It[(Pt=fB(kr[gt])).family]&&(Pt.family=It[Pt.family]),mt.hasOwnProperty(Pt.family)){Ve=mt[Pt.family];break}if(!(Ve=Ve||mt[_t]))throw new Error("Could not find a font-family for the rule '"+mO(Pt)+"' and default family '"+_t+"'.");if(Ve=(function(Bt,Rt){if(Rt[Bt])return Rt[Bt];var ur=xS[Bt],Vt=ur<=xS.normal?-1:1,dt=dO(Rt,GQ,ur,Vt);if(!dt)throw new Error("Could not find a matching font-stretch value for "+Bt);return dt})(Pt.stretch,Ve),Ve=(function(Bt,Rt){if(Rt[Bt])return Rt[Bt];for(var ur=qQ[Bt],Vt=0;Vt<ur.length;++Vt)if(Rt[ur[Vt]])return Rt[ur[Vt]];throw new Error("Could not find a matching font-style for "+Bt)})(Pt.style,Ve),!(Ve=(function(Bt,Rt){if(Rt[Bt])return Rt[Bt];if(Bt===400&&Rt[500])return Rt[500];if(Bt===500&&Rt[400])return Rt[400];var ur=sce[Bt],Vt=dO(Rt,WQ,ur,Bt<400?-1:1);if(!Vt)throw new Error("Could not find a matching font-weight for value "+Bt);return Vt})(Pt.weight,Ve)))throw new Error("Failed to resolve a font for the rule '"+mO(Pt)+"'.");return Ve})(Oe,je);this.pdf.setFont(He.ref.name,He.ref.style)}else{var We="";(N==="bold"||parseInt(N,10)>=700||L==="bold")&&(We="bold"),L==="italic"&&(We+="italic"),We.length===0&&(We="normal");for(var at="",ct={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},ft=0;ft<be.length;ft++){if(this.pdf.internal.getFont(be[ft],We,{noFallback:!0,disableWarning:!0})!==void 0){at=be[ft];break}if(We==="bolditalic"&&this.pdf.internal.getFont(be[ft],"bold",{noFallback:!0,disableWarning:!0})!==void 0)at=be[ft],We="bold";else if(this.pdf.internal.getFont(be[ft],"normal",{noFallback:!0,disableWarning:!0})!==void 0){at=be[ft],We="normal";break}}if(at===""){for(var Ot=0;Ot<be.length;Ot++)if(ct[be[Ot]]){at=ct[be[Ot]];break}}at=at===""?"Times":at,this.pdf.setFont(at,We)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ne){this.ctx.globalCompositeOperation=ne}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ne){this.ctx.globalAlpha=ne}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ne){this.ctx.lineDashOffset=ne,X.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ne){this.ctx.lineDash=ne,X.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ne){this.ctx.ignoreClearRect=!!ne}})};h.prototype.setLineDash=function(I){this.lineDash=I},h.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},h.prototype.fill=function(){C.call(this,"fill",!1)},h.prototype.stroke=function(){C.call(this,"stroke",!1)},h.prototype.beginPath=function(){this.path=[{type:"begin"}]},h.prototype.moveTo=function(I,J){if(isNaN(I)||isNaN(J))throw un.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var te=this.ctx.transform.applyToPoint(new a(I,J));this.path.push({type:"mt",x:te.x,y:te.y}),this.ctx.lastPoint=new a(I,J)},h.prototype.closePath=function(){var I=new a(0,0),J=0;for(J=this.path.length-1;J!==-1;J--)if(this.path[J].type==="begin"&&Jr(this.path[J+1])==="object"&&typeof this.path[J+1].x=="number"){I=new a(this.path[J+1].x,this.path[J+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(I.x,I.y)},h.prototype.lineTo=function(I,J){if(isNaN(I)||isNaN(J))throw un.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var te=this.ctx.transform.applyToPoint(new a(I,J));this.path.push({type:"lt",x:te.x,y:te.y}),this.ctx.lastPoint=new a(te.x,te.y)},h.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),C.call(this,null,!0)},h.prototype.quadraticCurveTo=function(I,J,te,Ae){if(isNaN(te)||isNaN(Ae)||isNaN(I)||isNaN(J))throw un.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var se=this.ctx.transform.applyToPoint(new a(te,Ae)),Q=this.ctx.transform.applyToPoint(new a(I,J));this.path.push({type:"qct",x1:Q.x,y1:Q.y,x:se.x,y:se.y}),this.ctx.lastPoint=new a(se.x,se.y)},h.prototype.bezierCurveTo=function(I,J,te,Ae,se,Q){if(isNaN(se)||isNaN(Q)||isNaN(I)||isNaN(J)||isNaN(te)||isNaN(Ae))throw un.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var P=this.ctx.transform.applyToPoint(new a(se,Q)),le=this.ctx.transform.applyToPoint(new a(I,J)),oe=this.ctx.transform.applyToPoint(new a(te,Ae));this.path.push({type:"bct",x1:le.x,y1:le.y,x2:oe.x,y2:oe.y,x:P.x,y:P.y}),this.ctx.lastPoint=new a(P.x,P.y)},h.prototype.arc=function(I,J,te,Ae,se,Q){if(isNaN(I)||isNaN(J)||isNaN(te)||isNaN(Ae)||isNaN(se))throw un.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(Q=!!Q,!this.ctx.transform.isIdentity){var P=this.ctx.transform.applyToPoint(new a(I,J));I=P.x,J=P.y;var le=this.ctx.transform.applyToPoint(new a(0,te)),oe=this.ctx.transform.applyToPoint(new a(0,0));te=Math.sqrt(Math.pow(le.x-oe.x,2)+Math.pow(le.y-oe.y,2))}Math.abs(se-Ae)>=2*Math.PI&&(Ae=0,se=2*Math.PI),this.path.push({type:"arc",x:I,y:J,radius:te,startAngle:Ae,endAngle:se,counterclockwise:Q})},h.prototype.arcTo=function(I,J,te,Ae,se){throw new Error("arcTo not implemented.")},h.prototype.rect=function(I,J,te,Ae){if(isNaN(I)||isNaN(J)||isNaN(te)||isNaN(Ae))throw un.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(I,J),this.lineTo(I+te,J),this.lineTo(I+te,J+Ae),this.lineTo(I,J+Ae),this.lineTo(I,J),this.lineTo(I+te,J),this.lineTo(I,J)},h.prototype.fillRect=function(I,J,te,Ae){if(isNaN(I)||isNaN(J)||isNaN(te)||isNaN(Ae))throw un.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!d.call(this)){var se={};this.lineCap!=="butt"&&(se.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(se.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(I,J,te,Ae),this.fill(),se.hasOwnProperty("lineCap")&&(this.lineCap=se.lineCap),se.hasOwnProperty("lineJoin")&&(this.lineJoin=se.lineJoin)}},h.prototype.strokeRect=function(I,J,te,Ae){if(isNaN(I)||isNaN(J)||isNaN(te)||isNaN(Ae))throw un.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");g.call(this)||(this.beginPath(),this.rect(I,J,te,Ae),this.stroke())},h.prototype.clearRect=function(I,J,te,Ae){if(isNaN(I)||isNaN(J)||isNaN(te)||isNaN(Ae))throw un.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(I,J,te,Ae))},h.prototype.save=function(I){I=typeof I!="boolean"||I;for(var J=this.pdf.internal.getCurrentPageInfo().pageNumber,te=0;te<this.pdf.internal.getNumberOfPages();te++)this.pdf.setPage(te+1),this.pdf.internal.out("q");if(this.pdf.setPage(J),I){this.ctx.fontSize=this.pdf.internal.getFontSize();var Ae=new f(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Ae}},h.prototype.restore=function(I){I=typeof I!="boolean"||I;for(var J=this.pdf.internal.getCurrentPageInfo().pageNumber,te=0;te<this.pdf.internal.getNumberOfPages();te++)this.pdf.setPage(te+1),this.pdf.internal.out("Q");this.pdf.setPage(J),I&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},h.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var m=function(I){var J,te,Ae,se;if(I.isCanvasGradient===!0&&(I=I.getColor()),!I)return{r:0,g:0,b:0,a:0,style:I};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(I))J=0,te=0,Ae=0,se=0;else{var Q=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(I);if(Q!==null)J=parseInt(Q[1]),te=parseInt(Q[2]),Ae=parseInt(Q[3]),se=1;else if((Q=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(I))!==null)J=parseInt(Q[1]),te=parseInt(Q[2]),Ae=parseInt(Q[3]),se=parseFloat(Q[4]);else{if(se=1,typeof I=="string"&&I.charAt(0)!=="#"){var P=new QQ(I);I=P.ok?P.toHex():"#000000"}I.length===4?(J=I.substring(1,2),J+=J,te=I.substring(2,3),te+=te,Ae=I.substring(3,4),Ae+=Ae):(J=I.substring(1,3),te=I.substring(3,5),Ae=I.substring(5,7)),J=parseInt(J,16),te=parseInt(te,16),Ae=parseInt(Ae,16)}}return{r:J,g:te,b:Ae,a:se,style:I}},d=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},g=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};h.prototype.fillText=function(I,J,te,Ae){if(isNaN(J)||isNaN(te)||typeof I!="string")throw un.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Ae=isNaN(Ae)?void 0:Ae,!d.call(this)){var se=he(this.ctx.transform.rotation),Q=this.ctx.transform.scaleX;R.call(this,{text:I,x:J,y:te,scale:Q,angle:se,align:this.textAlign,maxWidth:Ae})}},h.prototype.strokeText=function(I,J,te,Ae){if(isNaN(J)||isNaN(te)||typeof I!="string")throw un.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!g.call(this)){Ae=isNaN(Ae)?void 0:Ae;var se=he(this.ctx.transform.rotation),Q=this.ctx.transform.scaleX;R.call(this,{text:I,x:J,y:te,scale:Q,renderingMode:"stroke",angle:se,align:this.textAlign,maxWidth:Ae})}},h.prototype.measureText=function(I){if(typeof I!="string")throw un.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var J=this.pdf,te=this.pdf.internal.scaleFactor,Ae=J.internal.getFontSize(),se=J.getStringUnitWidth(I)*Ae/J.internal.scaleFactor;return new function(Q){var P=(Q=Q||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return P}}),this}({width:se*=Math.round(96*te/72*1e4)/1e4})},h.prototype.scale=function(I,J){if(isNaN(I)||isNaN(J))throw un.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var te=new l(I,0,0,J,0,0);this.ctx.transform=this.ctx.transform.multiply(te)},h.prototype.rotate=function(I){if(isNaN(I))throw un.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var J=new l(Math.cos(I),Math.sin(I),-Math.sin(I),Math.cos(I),0,0);this.ctx.transform=this.ctx.transform.multiply(J)},h.prototype.translate=function(I,J){if(isNaN(I)||isNaN(J))throw un.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var te=new l(1,0,0,1,I,J);this.ctx.transform=this.ctx.transform.multiply(te)},h.prototype.transform=function(I,J,te,Ae,se,Q){if(isNaN(I)||isNaN(J)||isNaN(te)||isNaN(Ae)||isNaN(se)||isNaN(Q))throw un.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var P=new l(I,J,te,Ae,se,Q);this.ctx.transform=this.ctx.transform.multiply(P)},h.prototype.setTransform=function(I,J,te,Ae,se,Q){I=isNaN(I)?1:I,J=isNaN(J)?0:J,te=isNaN(te)?0:te,Ae=isNaN(Ae)?1:Ae,se=isNaN(se)?0:se,Q=isNaN(Q)?0:Q,this.ctx.transform=new l(I,J,te,Ae,se,Q)};var v=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};h.prototype.drawImage=function(I,J,te,Ae,se,Q,P,le,oe){var ie=this.pdf.getImageProperties(I),fe=1,Te=1,V=1,ne=1;Ae!==void 0&&le!==void 0&&(V=le/Ae,ne=oe/se,fe=ie.width/Ae*le/Ae,Te=ie.height/se*oe/se),Q===void 0&&(Q=J,P=te,J=0,te=0),Ae!==void 0&&le===void 0&&(le=Ae,oe=se),Ae===void 0&&le===void 0&&(le=ie.width,oe=ie.height);var W=this.ctx.transform.decompose(),L=he(W.rotate.shx),N=new l,z=(N=(N=(N=N.multiply(W.translate)).multiply(W.skew)).multiply(W.scale)).applyToRectangle(new o(Q-J*V,P-te*ne,Ae*fe,se*Te));if(this.autoPaging){for(var ge,Be=b.call(this,z),be=[],Oe=0;Oe<Be.length;Oe+=1)be.indexOf(Be[Oe])===-1&&be.push(Be[Oe]);S(be);for(var je=be[0],He=be[be.length-1],We=je;We<He+1;We++){this.pdf.setPage(We);var at=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ct=We===1?this.posY+this.margin[0]:this.margin[0],ft=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ot=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],mt=We===1?0:ft+(We-2)*Ot;if(this.ctx.clip_path.length!==0){var kr=this.path;ge=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=B(ge,this.posX+this.margin[3],-mt+ct+this.ctx.prevPageLastElemOffset),k.call(this,"fill",!0),this.path=kr}var yt=JSON.parse(JSON.stringify(z));yt=B([yt],this.posX+this.margin[3],-mt+ct+this.ctx.prevPageLastElemOffset)[0];var _t=(We>je||We<He)&&v.call(this);_t&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],at,Ot,null).clip().discardPath()),this.pdf.addImage(I,"JPEG",yt.x,yt.y,yt.w,yt.h,null,null,L),_t&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(I,"JPEG",z.x,z.y,z.w,z.h,null,null,L)};var b=function(I,J,te){var Ae=[];J=J||this.pdf.internal.pageSize.width,te=te||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var se=this.posY+this.ctx.prevPageLastElemOffset;switch(I.type){default:case"mt":case"lt":Ae.push(Math.floor((I.y+se)/te)+1);break;case"arc":Ae.push(Math.floor((I.y+se-I.radius)/te)+1),Ae.push(Math.floor((I.y+se+I.radius)/te)+1);break;case"qct":var Q=de(this.ctx.lastPoint.x,this.ctx.lastPoint.y,I.x1,I.y1,I.x,I.y);Ae.push(Math.floor((Q.y+se)/te)+1),Ae.push(Math.floor((Q.y+Q.h+se)/te)+1);break;case"bct":var P=Ce(this.ctx.lastPoint.x,this.ctx.lastPoint.y,I.x1,I.y1,I.x2,I.y2,I.x,I.y);Ae.push(Math.floor((P.y+se)/te)+1),Ae.push(Math.floor((P.y+P.h+se)/te)+1);break;case"rect":Ae.push(Math.floor((I.y+se)/te)+1),Ae.push(Math.floor((I.y+I.h+se)/te)+1)}for(var le=0;le<Ae.length;le+=1)for(;this.pdf.internal.getNumberOfPages()<Ae[le];)w.call(this);return Ae},w=function(){var I=this.fillStyle,J=this.strokeStyle,te=this.font,Ae=this.lineCap,se=this.lineWidth,Q=this.lineJoin;this.pdf.addPage(),this.fillStyle=I,this.strokeStyle=J,this.font=te,this.lineCap=Ae,this.lineWidth=se,this.lineJoin=Q},B=function(I,J,te){for(var Ae=0;Ae<I.length;Ae++)switch(I[Ae].type){case"bct":I[Ae].x2+=J,I[Ae].y2+=te;case"qct":I[Ae].x1+=J,I[Ae].y1+=te;default:I[Ae].x+=J,I[Ae].y+=te}return I},S=function(I){return I.sort(function(J,te){return J-te})},C=function(I,J){var te=this.fillStyle,Ae=this.strokeStyle,se=this.lineCap,Q=this.lineWidth,P=Math.abs(Q*this.ctx.transform.scaleX),le=this.lineJoin;if(this.autoPaging){for(var oe,ie,fe=JSON.parse(JSON.stringify(this.path)),Te=JSON.parse(JSON.stringify(this.path)),V=[],ne=0;ne<Te.length;ne++)if(Te[ne].x!==void 0)for(var W=b.call(this,Te[ne]),L=0;L<W.length;L+=1)V.indexOf(W[L])===-1&&V.push(W[L]);for(var N=0;N<V.length;N++)for(;this.pdf.internal.getNumberOfPages()<V[N];)w.call(this);S(V);for(var z=V[0],ge=V[V.length-1],Be=z;Be<ge+1;Be++){this.pdf.setPage(Be),this.fillStyle=te,this.strokeStyle=Ae,this.lineCap=se,this.lineWidth=P,this.lineJoin=le;var be=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Oe=Be===1?this.posY+this.margin[0]:this.margin[0],je=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],He=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],We=Be===1?0:je+(Be-2)*He;if(this.ctx.clip_path.length!==0){var at=this.path;oe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=B(oe,this.posX+this.margin[3],-We+Oe+this.ctx.prevPageLastElemOffset),k.call(this,I,!0),this.path=at}if(ie=JSON.parse(JSON.stringify(fe)),this.path=B(ie,this.posX+this.margin[3],-We+Oe+this.ctx.prevPageLastElemOffset),J===!1||Be===0){var ct=(Be>z||Be<ge)&&v.call(this);ct&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],be,He,null).clip().discardPath()),k.call(this,I,J),ct&&this.pdf.restoreGraphicsState()}this.lineWidth=Q}this.path=fe}else this.lineWidth=P,k.call(this,I,J),this.lineWidth=Q},k=function(I,J){if((I!=="stroke"||J||!g.call(this))&&(I==="stroke"||J||!d.call(this))){for(var te,Ae,se=[],Q=this.path,P=0;P<Q.length;P++){var le=Q[P];switch(le.type){case"begin":se.push({begin:!0});break;case"close":se.push({close:!0});break;case"mt":se.push({start:le,deltas:[],abs:[]});break;case"lt":var oe=se.length;if(Q[P-1]&&!isNaN(Q[P-1].x)&&(te=[le.x-Q[P-1].x,le.y-Q[P-1].y],oe>0)){for(;oe>=0;oe--)if(se[oe-1].close!==!0&&se[oe-1].begin!==!0){se[oe-1].deltas.push(te),se[oe-1].abs.push(le);break}}break;case"bct":te=[le.x1-Q[P-1].x,le.y1-Q[P-1].y,le.x2-Q[P-1].x,le.y2-Q[P-1].y,le.x-Q[P-1].x,le.y-Q[P-1].y],se[se.length-1].deltas.push(te);break;case"qct":var ie=Q[P-1].x+2/3*(le.x1-Q[P-1].x),fe=Q[P-1].y+2/3*(le.y1-Q[P-1].y),Te=le.x+2/3*(le.x1-le.x),V=le.y+2/3*(le.y1-le.y),ne=le.x,W=le.y;te=[ie-Q[P-1].x,fe-Q[P-1].y,Te-Q[P-1].x,V-Q[P-1].y,ne-Q[P-1].x,W-Q[P-1].y],se[se.length-1].deltas.push(te);break;case"arc":se.push({deltas:[],abs:[],arc:!0}),Array.isArray(se[se.length-1].abs)&&se[se.length-1].abs.push(le)}}Ae=J?null:I==="stroke"?"stroke":"fill";for(var L=!1,N=0;N<se.length;N++)if(se[N].arc)for(var z=se[N].abs,ge=0;ge<z.length;ge++){var Be=z[ge];Be.type==="arc"?H.call(this,Be.x,Be.y,Be.radius,Be.startAngle,Be.endAngle,Be.counterclockwise,void 0,J,!L):G.call(this,Be.x,Be.y),L=!0}else if(se[N].close===!0)this.pdf.internal.out("h"),L=!1;else if(se[N].begin!==!0){var be=se[N].start.x,Oe=se[N].start.y;U.call(this,se[N].deltas,be,Oe),L=!0}Ae&&F.call(this,Ae),J&&$.call(this)}},M=function(I){var J=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,te=J*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return I-te;case"top":return I+J-te;case"hanging":return I+J-2*te;case"middle":return I+J/2-te;default:return I}},D=function(I){return I+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};h.prototype.createLinearGradient=function(){var I=function(){};return I.colorStops=[],I.addColorStop=function(J,te){this.colorStops.push([J,te])},I.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},I.isCanvasGradient=!0,I},h.prototype.createPattern=function(){return this.createLinearGradient()},h.prototype.createRadialGradient=function(){return this.createLinearGradient()};var H=function(I,J,te,Ae,se,Q,P,le,oe){for(var ie=re.call(this,te,Ae,se,Q),fe=0;fe<ie.length;fe++){var Te=ie[fe];fe===0&&(oe?q.call(this,Te.x1+I,Te.y1+J):G.call(this,Te.x1+I,Te.y1+J)),ae.call(this,I,J,Te.x2,Te.y2,Te.x3,Te.y3,Te.x4,Te.y4)}le?$.call(this):F.call(this,P)},F=function(I){switch(I){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},$=function(){this.pdf.clip(),this.pdf.discardPath()},q=function(I,J){this.pdf.internal.out(r(I)+" "+n(J)+" m")},R=function(I){var J;switch(I.align){case"right":case"end":J="right";break;case"center":J="center";break;default:J="left"}var te,Ae,se,Q=this.pdf.getTextDimensions(I.text),P=M.call(this,I.y),le=D.call(this,P)-Q.h,oe=this.ctx.transform.applyToPoint(new a(I.x,P));if(this.autoPaging){var ie=this.ctx.transform.decompose(),fe=new l;fe=(fe=(fe=fe.multiply(ie.translate)).multiply(ie.skew)).multiply(ie.scale);for(var Te=this.ctx.transform.applyToRectangle(new o(I.x,P,Q.w,Q.h)),V=fe.applyToRectangle(new o(I.x,le,Q.w,Q.h)),ne=b.call(this,V),W=[],L=0;L<ne.length;L+=1)W.indexOf(ne[L])===-1&&W.push(ne[L]);S(W);for(var N=W[0],z=W[W.length-1],ge=N;ge<z+1;ge++){this.pdf.setPage(ge);var Be=ge===1?this.posY+this.margin[0]:this.margin[0],be=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Oe=this.pdf.internal.pageSize.height-this.margin[2],je=Oe-this.margin[0],He=this.pdf.internal.pageSize.width-this.margin[1],We=He-this.margin[3],at=ge===1?0:be+(ge-2)*je;if(this.ctx.clip_path.length!==0){var ct=this.path;te=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=B(te,this.posX+this.margin[3],-1*at+Be),k.call(this,"fill",!0),this.path=ct}var ft=B([JSON.parse(JSON.stringify(V))],this.posX+this.margin[3],-at+Be+this.ctx.prevPageLastElemOffset)[0];I.scale>=.01&&(Ae=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ae*I.scale),se=this.lineWidth,this.lineWidth=se*I.scale);var Ot=this.autoPaging!=="text";if(Ot||ft.y+ft.h<=Oe){if(Ot||ft.y>=Be&&ft.x<=He){var mt=Ot?I.text:this.pdf.splitTextToSize(I.text,I.maxWidth||He-ft.x)[0],kr=B([JSON.parse(JSON.stringify(Te))],this.posX+this.margin[3],-at+Be+this.ctx.prevPageLastElemOffset)[0],yt=Ot&&(ge>N||ge<z)&&v.call(this);yt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],We,je,null).clip().discardPath()),this.pdf.text(mt,kr.x,kr.y,{angle:I.angle,align:J,renderingMode:I.renderingMode}),yt&&this.pdf.restoreGraphicsState()}}else ft.y<Oe&&(this.ctx.prevPageLastElemOffset+=Oe-ft.y);I.scale>=.01&&(this.pdf.setFontSize(Ae),this.lineWidth=se)}}else I.scale>=.01&&(Ae=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ae*I.scale),se=this.lineWidth,this.lineWidth=se*I.scale),this.pdf.text(I.text,oe.x+this.posX,oe.y+this.posY,{angle:I.angle,align:J,renderingMode:I.renderingMode,maxWidth:I.maxWidth}),I.scale>=.01&&(this.pdf.setFontSize(Ae),this.lineWidth=se)},G=function(I,J,te,Ae){te=te||0,Ae=Ae||0,this.pdf.internal.out(r(I+te)+" "+n(J+Ae)+" l")},U=function(I,J,te){return this.pdf.lines(I,J,te,null,null)},ae=function(I,J,te,Ae,se,Q,P,le){this.pdf.internal.out([e(i(te+I)),e(s(Ae+J)),e(i(se+I)),e(s(Q+J)),e(i(P+I)),e(s(le+J)),"c"].join(" "))},re=function(I,J,te,Ae){for(var se=2*Math.PI,Q=Math.PI/2;J>te;)J-=se;var P=Math.abs(te-J);P<se&&Ae&&(P=se-P);for(var le=[],oe=Ae?-1:1,ie=J;P>1e-5;){var fe=ie+oe*Math.min(P,Q);le.push(Y.call(this,I,ie,fe)),P-=Math.abs(fe-ie),ie=fe}return le},Y=function(I,J,te){var Ae=(te-J)/2,se=I*Math.cos(Ae),Q=I*Math.sin(Ae),P=se,le=-Q,oe=P*P+le*le,ie=oe+P*se+le*Q,fe=4/3*(Math.sqrt(2*oe*ie)-ie)/(P*Q-le*se),Te=P-fe*le,V=le+fe*P,ne=Te,W=-V,L=Ae+J,N=Math.cos(L),z=Math.sin(L);return{x1:I*Math.cos(J),y1:I*Math.sin(J),x2:Te*N-V*z,y2:Te*z+V*N,x3:ne*N-W*z,y3:ne*z+W*N,x4:I*Math.cos(te),y4:I*Math.sin(te)}},he=function(I){return 180*I/Math.PI},de=function(I,J,te,Ae,se,Q){var P=I+.5*(te-I),le=J+.5*(Ae-J),oe=se+.5*(te-se),ie=Q+.5*(Ae-Q),fe=Math.min(I,se,P,oe),Te=Math.max(I,se,P,oe),V=Math.min(J,Q,le,ie),ne=Math.max(J,Q,le,ie);return new o(fe,V,Te-fe,ne-V)},Ce=function(I,J,te,Ae,se,Q,P,le){var oe,ie,fe,Te,V,ne,W,L,N,z,ge,Be,be,Oe,je=te-I,He=Ae-J,We=se-te,at=Q-Ae,ct=P-se,ft=le-Q;for(ie=0;ie<41;ie++)N=(W=(fe=I+(oe=ie/40)*je)+oe*((V=te+oe*We)-fe))+oe*(V+oe*(se+oe*ct-V)-W),z=(L=(Te=J+oe*He)+oe*((ne=Ae+oe*at)-Te))+oe*(ne+oe*(Q+oe*ft-ne)-L),ie==0?(ge=N,Be=z,be=N,Oe=z):(ge=Math.min(ge,N),Be=Math.min(Be,z),be=Math.max(be,N),Oe=Math.max(Oe,z));return new o(Math.round(ge),Math.round(Be),Math.round(be-ge),Math.round(Oe-Be))},X=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var I,J,te=(I=this.ctx.lineDash,J=this.ctx.lineDashOffset,JSON.stringify({lineDash:I,lineDashOffset:J}));this.prevLineDash!==te&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=te)}}})(Mt.API),(function(t){var e=function(a){var o,l,c,f,h,m,d,g,v,b;for(l=[],c=0,f=(a+=o="\0\0\0\0".slice(a.length%4||4)).length;f>c;c+=4)(h=(a.charCodeAt(c)<<24)+(a.charCodeAt(c+1)<<16)+(a.charCodeAt(c+2)<<8)+a.charCodeAt(c+3))!==0?(m=(h=((h=((h=((h=(h-(b=h%85))/85)-(v=h%85))/85)-(g=h%85))/85)-(d=h%85))/85)%85,l.push(m+33,d+33,g+33,v+33,b+33)):l.push(122);return(function(w,B){for(var S=B;S>0;S--)w.pop()})(l,o.length),String.fromCharCode.apply(String,l)+"~>"},r=function(a){var o,l,c,f,h,m=String,d="length",g=255,v="charCodeAt",b="slice",w="replace";for(a[b](-2),a=a[b](0,-2)[w](/\s/g,"")[w]("z","!!!!!"),c=[],f=0,h=(a+=o="uuuuu"[b](a[d]%5||5))[d];h>f;f+=5)l=52200625*(a[v](f)-33)+614125*(a[v](f+1)-33)+7225*(a[v](f+2)-33)+85*(a[v](f+3)-33)+(a[v](f+4)-33),c.push(g&l>>24,g&l>>16,g&l>>8,g&l);return(function(B,S){for(var C=S;C>0;C--)B.pop()})(c,o[d]),m.fromCharCode.apply(m,c)},n=function(a){return a.split("").map(function(o){return("0"+o.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(a){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((a=a.replace(/\s/g,"")).indexOf(">")!==-1&&(a=a.substr(0,a.indexOf(">"))),a.length%2&&(a+="0"),o.test(a)===!1)return"";for(var l="",c=0;c<a.length;c+=2)l+=String.fromCharCode("0x"+(a[c]+a[c+1]));return l},s=function(a){for(var o=new Uint8Array(a.length),l=a.length;l--;)o[l]=a.charCodeAt(l);return(o=pS(o)).reduce(function(c,f){return c+String.fromCharCode(f)},"")};t.processDataByFilters=function(a,o){var l=0,c=a||"",f=[];for(typeof(o=o||[])=="string"&&(o=[o]),l=0;l<o.length;l+=1)switch(o[l]){case"ASCII85Decode":case"/ASCII85Decode":c=r(c),f.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=e(c),f.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=i(c),f.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=n(c),f.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=s(c),f.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[l]+'" is not implemented')}return{data:c,reverseChain:f.reverse().join(" ")}}})(Mt.API),(function(t){t.loadFile=function(e,r,n){return(function(i,s,a){s=s!==!1,a=typeof a=="function"?a:function(){};var o=void 0;try{o=(function(l,c,f){var h=new XMLHttpRequest,m=0,d=function(g){var v=g.length,b=[],w=String.fromCharCode;for(m=0;m<v;m+=1)b.push(w(255&g.charCodeAt(m)));return b.join("")};if(h.open("GET",l,!c),h.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(h.onload=function(){h.status===200?f(d(this.responseText)):f(void 0)}),h.send(null),c&&h.status===200)return d(h.responseText)})(i,s,a)}catch{}return o})(e,r,n)},t.allowFsRead=void 0,t.loadImageFile=t.loadFile})(Mt.API),(function(t){function e(){return(nr.html2canvas?Promise.resolve(nr.html2canvas):W5(()=>Promise.resolve().then(()=>eme),void 0,import.meta.url)).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function r(){return(nr.DOMPurify?Promise.resolve(nr.DOMPurify):W5(()=>import("./purify.es-Bzr520pe.js"),[],import.meta.url)).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var n=function(o){var l=Jr(o);return l==="undefined"?"undefined":l==="string"||o instanceof String?"string":l==="number"||o instanceof Number?"number":l==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":l==="object"?"object":"unknown"},i=function(o,l){var c=document.createElement(o);for(var f in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[f]=l.style[f];return c},s=function o(l,c){for(var f=l.nodeType===3?document.createTextNode(l.nodeValue):l.cloneNode(!1),h=l.firstChild;h;h=h.nextSibling)c!==!0&&h.nodeType===1&&h.nodeName==="SCRIPT"||f.appendChild(o(h,c));return l.nodeType===1&&(l.nodeName==="CANVAS"?(f.width=l.width,f.height=l.height,f.getContext("2d").drawImage(l,0,0)):l.nodeName!=="TEXTAREA"&&l.nodeName!=="SELECT"||(f.value=l.value),f.addEventListener("load",function(){f.scrollTop=l.scrollTop,f.scrollLeft=l.scrollLeft},!0)),f},a=function o(l){var c=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),f=o.convert(Promise.resolve(),c);return(f=f.setProgress(1,o,1,[o])).set(l)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(o,l){return o.__proto__=l||a.prototype,o},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(o,l){return this.then(function(){switch(l=l||(function(c){switch(n(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(o),l){case"string":return this.then(r).then(function(c){return this.set({src:i("div",{innerHTML:o,dompurify:c})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},a.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=s(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},a.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},a.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(l){var c=this.opt.jsPDF,f=this.opt.fontFaces,h=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,m=Object.assign({async:!0,allowTaint:!0,scale:h,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete m.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=f,f)for(var d=0;d<f.length;++d){var g=f[d],v=g.src.find(function(b){return b.format==="truetype"});v&&c.addFont(v.url,g.ref.name,g.ref.style)}return m.windowHeight=m.windowHeight||0,m.windowHeight=m.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):m.windowHeight,c.context2d.save(!0),l(this.prop.container,m)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},a.prototype.output=function(o,l,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(o,l):this.outputPdf(o,l)},a.prototype.outputPdf=function(o,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,l)})},a.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},a.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},a.prototype.set=function(o){if(n(o)!=="object")return this;var l=Object.keys(o||{}).map(function(c){if(c in a.template.prop)return function(){this.prop[c]=o[c]};switch(c){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[c]=o[c]}}},this);return this.then(function(){return this.thenList(l)})},a.prototype.get=function(o,l){return this.then(function(){var c=o in a.template.prop?this.prop[o]:this.opt[o];return l?l(c):c})},a.prototype.setMargin=function(o){return this.then(function(){switch(n(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},a.prototype.setPageSize=function(o){function l(c,f){return Math.floor(c*f/72*96)}return this.then(function(){(o=o||Mt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:l(o.inner.width,o.k),height:l(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},a.prototype.setProgress=function(o,l,c,f){return o!=null&&(this.progress.val=o),l!=null&&(this.progress.state=l),c!=null&&(this.progress.n=c),f!=null&&(this.progress.stack=f),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(o,l,c,f){return this.setProgress(o?this.progress.val+o:null,l||null,c?this.progress.n+c:null,f?this.progress.stack.concat(f):null)},a.prototype.then=function(o,l){var c=this;return this.thenCore(o,l,function(f,h){return c.updateProgress(null,null,1,[f]),Promise.prototype.then.call(this,function(m){return c.updateProgress(null,f),m}).then(f,h).then(function(m){return c.updateProgress(1),m})})},a.prototype.thenCore=function(o,l,c){c=c||Promise.prototype.then;var f=this;o&&(o=o.bind(f)),l&&(l=l.bind(f));var h=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?f:a.convert(Object.assign({},f),Promise.prototype),m=c.call(h,o,l);return a.convert(m,f.__proto__)},a.prototype.thenExternal=function(o,l){return Promise.prototype.then.call(this,o,l)},a.prototype.thenList=function(o){var l=this;return o.forEach(function(c){l=l.thenCore(c)}),l},a.prototype.catch=function(o){o&&(o=o.bind(this));var l=Promise.prototype.catch.call(this,o);return a.convert(l,this)},a.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},a.prototype.error=function(o){return this.then(function(){throw new Error(o)})},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,Mt.getPageSize=function(o,l,c){if(Jr(o)==="object"){var f=o;o=f.orientation,l=f.unit||l,c=f.format||c}l=l||"mm",c=c||"a4",o=(""+(o||"P")).toLowerCase();var h,m=(""+c).toLowerCase(),d={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":h=1;break;case"mm":h=72/25.4;break;case"cm":h=72/2.54;break;case"in":h=72;break;case"px":h=.75;break;case"pc":case"em":h=12;break;case"ex":h=6;break;default:throw"Invalid unit: "+l}var g,v=0,b=0;if(d.hasOwnProperty(m))v=d[m][1]/h,b=d[m][0]/h;else try{v=c[1],b=c[0]}catch{throw new Error("Invalid format: "+c)}if(o==="p"||o==="portrait")o="p",b>v&&(g=b,b=v,v=g);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",v>b&&(g=b,b=v,v=g)}return{width:b,height:v,unit:l,k:h,orientation:o}},t.html=function(o,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(fB):null;var c=new a(l);return l.worker?c:c.from(o).doCallback()}})(Mt.API),Mt.API.addJS=function(t){var e,r,n=t;return this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(e+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),r=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+n+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){e!==void 0&&r!==void 0&&this.internal.out("/Names <</JavaScript "+e+" 0 R>>")}),this},(function(t){var e;t.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=r.outline.render().split(/\r\n/),s=0;s<i.length;s++){var a=i[s],o=n.exec(a);if(o!=null){var l=o[1];r.internal.newObjectDeferredBegin(l,!1)}r.internal.write(a)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,f=[];for(s=0;s<c;s++){var h=r.internal.newObject();f.push(h);var m=r.internal.getPageInfo(s+1);r.internal.write("<< /D["+m.objId+" 0 R /XYZ null null null]>> endobj")}var d=r.internal.newObject();for(r.internal.write("<< /Names [ "),s=0;s<f.length;s++)r.internal.write("(page_"+(s+1)+")"+f[s]+" 0 R");r.internal.write(" ] >>","endobj"),e=r.internal.newObject(),r.internal.write("<< /Dests "+d+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,i,s){var a={title:i,options:s,children:[]};return n==null&&(n=this.root),n.children.push(a),a},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var i=0;i<n.children.length;i++)this.genIds_r(n.children[i])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<n.children.length;s++){var a=n.children[s];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(n)),s>0&&this.line("/Prev "+this.makeRef(n.children[s-1])),s<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[s+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var o=this.count=this.count_r({count:0},a);if(o>0&&this.line("/Count "+o),a.options&&a.options.pageNumber){var l=r.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var c=0;c<n.children.length;c++)this.renderItems(n.children[c])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,i){for(var s=0;s<i.children.length;s++)n.count++,this.count_r(n,i.children[s]);return n.count}}])})(Mt.API),(function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,n,i,s,a,o){var l,c=this.decode.DCT_DECODE,f=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=a||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,l=(function(h){for(var m,d=256*h.charCodeAt(4)+h.charCodeAt(5),g=h.length,v={width:0,height:0,numcomponents:1},b=4;b<g;b+=2){if(b+=d,e.indexOf(h.charCodeAt(b+1))!==-1){m=256*h.charCodeAt(b+5)+h.charCodeAt(b+6),v={width:256*h.charCodeAt(b+7)+h.charCodeAt(b+8),height:m,numcomponents:h.charCodeAt(b+9)};break}d=256*h.charCodeAt(b+2)+h.charCodeAt(b+3)}return v})(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),l.numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}f={data:r,width:l.width,height:l.height,colorSpace:o,bitsPerComponent:8,filter:c,index:n,alias:i}}return f}})(Mt.API),Mt.API.processPNG=function(t,e,r,n){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var i,s=VAe(t,{checkCrc:!0}),a=s.width,o=s.height,l=s.channels,c=s.palette,f=s.depth;i=c&&l===1?(function(H){for(var F=H.width,$=H.height,q=H.data,R=H.palette,G=H.depth,U=!1,ae=[],re=[],Y=void 0,he=!1,de=0,Ce=0;Ce<R.length;Ce++){var X=B6(R[Ce],4),I=X[0],J=X[1],te=X[2],Ae=X[3];ae.push(I,J,te),Ae!=null&&(Ae===0?(de++,re.length<1&&re.push(Ce)):Ae<255&&(he=!0))}if(he||de>1){U=!0,re=void 0;var se=F*$;Y=new Uint8Array(se);for(var Q=new DataView(q.buffer),P=0;P<se;P++){var le=dB(Q,P,G),oe=B6(R[le],4)[3];Y[P]=oe}}else de===0&&(re=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:U?8:void 0,colorBytes:q,alphaBytes:Y,needSMask:U,palette:ae,mask:re}})(s):l===2||l===4?(function(H){for(var F=H.data,$=H.width,q=H.height,R=H.channels,G=H.depth,U=R===2?"DeviceGray":"DeviceRGB",ae=R-1,re=$*q,Y=ae,he=re*Y,de=1*re,Ce=Math.ceil(he*G/8),X=Math.ceil(de*G/8),I=new Uint8Array(Ce),J=new Uint8Array(X),te=new DataView(F.buffer),Ae=new DataView(I.buffer),se=new DataView(J.buffer),Q=!1,P=0;P<re;P++){for(var le=P*R,oe=0;oe<Y;oe++)EO(Ae,dB(te,le+oe,G),P*Y+oe,G);var ie=dB(te,le+Y,G);ie<(1<<G)-1&&(Q=!0),EO(se,ie,1*P,G)}return{colorSpace:U,colorsPerPixel:ae,sMaskBitsPerComponent:Q?G:void 0,colorBytes:I,alphaBytes:J,needSMask:Q}})(s):(function(H){var F=H.data,$=H.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:$,colorsPerPixel:$==="DeviceGray"?1:3,colorBytes:F instanceof Uint16Array?(function(q){for(var R=q.length,G=new Uint8Array(2*R),U=new DataView(G.buffer,G.byteOffset,G.byteLength),ae=0;ae<R;ae++)U.setUint16(2*ae,q[ae],!1);return G})(F):F,needSMask:!1}})(s);var h,m,d,g=i,v=g.colorSpace,b=g.colorsPerPixel,w=g.sMaskBitsPerComponent,B=g.colorBytes,S=g.alphaBytes,C=g.needSMask,k=g.palette,M=g.mask,D=null;return n!==Mt.API.image_compression.NONE&&typeof pS=="function"?(D=(function(H){var F;switch(H){case Mt.API.image_compression.FAST:F=11;break;case Mt.API.image_compression.MEDIUM:F=13;break;case Mt.API.image_compression.SLOW:F=14;break;default:F=12}return F})(n),h=this.decode.FLATE_DECODE,m="/Predictor ".concat(D," /Colors ").concat(b," /BitsPerComponent ").concat(f," /Columns ").concat(a),t=bO(B,Math.ceil(a*b*f/8),b,f,n),C&&(d=bO(S,Math.ceil(a*w/8),1,w,n))):(h=void 0,m=void 0,t=B,C&&(d=S)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(d&&this.__addimage__.isArrayBuffer(d)||this.__addimage__.isArrayBufferView(d))&&(d=this.__addimage__.arrayBufferToBinaryString(d)),{alias:r,data:t,index:e,filter:h,decodeParameters:m,transparency:M,palette:k,sMask:d,predictor:D,width:a,height:o,bitsPerComponent:f,sMaskBitsPerComponent:w,colorSpace:v}}},(function(t){t.processGIF89A=function(e,r,n,i){var s=new fce(e),a=s.width,o=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:a,height:o},f=new pB(100).encode(c,100);return t.processJPEG.call(this,f,r,n,i)},t.processGIF87A=t.processGIF89A})(Mt.API),il.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:n,blue:r,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},il.prototype.parseBGR=function(){this.pos=this.offset;var t="bit"+this.bitPP,e=this.width*this.height*4;if(e>536870912)throw new Error("Image dimensions exceed 512MB, which is too large.");this.data=new Uint8Array(e);try{this[t]()}catch(r){un.log("bit decode error:"+r)}},il.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),r=e%4;for(t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+8*i*4,o=0;o<8&&8*i+o<this.width;o++){var l=this.palette[s>>7-o&1];this.data[a+4*o]=l.blue,this.data[a+4*o+1]=l.green,this.data[a+4*o+2]=l.red,this.data[a+4*o+3]=255}r!==0&&(this.pos+=4-r)}},il.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<t;i++){var s=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+2*i*4,o=s>>4,l=15&s,c=this.palette[o];if(this.data[a]=c.blue,this.data[a+1]=c.green,this.data[a+2]=c.red,this.data[a+3]=255,2*i+1>=this.width)break;c=this.palette[l],this.data[a+4]=c.blue,this.data[a+4+1]=c.green,this.data[a+4+2]=c.red,this.data[a+4+3]=255}e!==0&&(this.pos+=4-e)}},il.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+4*n;if(i<this.palette.length){var a=this.palette[i];this.data[s]=a.red,this.data[s+1]=a.green,this.data[s+2]=a.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}t!==0&&(this.pos+=4-t)}},il.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&e)/e*255|0,o=(s>>5&e)/e*255|0,l=(s>>10&e)/e*255|0,c=s>>15?255:0,f=n*this.width*4+4*i;this.data[f]=l,this.data[f+1]=o,this.data[f+2]=a,this.data[f+3]=c}this.pos+=t}},il.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&e)/e*255|0,l=(a>>5&r)/r*255|0,c=(a>>11)/e*255|0,f=i*this.width*4+4*s;this.data[f]=c,this.data[f+1]=l,this.data[f+2]=o,this.data[f+3]=255}this.pos+=t}},il.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*r;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=n,this.data[a+3]=255}this.pos+=this.width%4}},il.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*r;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=n,this.data[o+3]=a}},il.prototype.getData=function(){return this.data},(function(t){t.processBMP=function(e,r,n,i){var s=new il(e,!1),a=s.width,o=s.height,l={data:s.getData(),width:a,height:o},c=new pB(100).encode(l,100);return t.processJPEG.call(this,c,r,n,i)}})(Mt.API),kO.prototype.getData=function(){return this.data},(function(t){t.processWEBP=function(e,r,n,i){var s=new kO(e),a=s.width,o=s.height,l={data:s.getData(),width:a,height:o},c=new pB(100).encode(l,100);return t.processJPEG.call(this,c,r,n,i)}})(Mt.API),Mt.API.processRGBA=function(t,e,r){for(var n=t.data,i=n.length,s=new Uint8Array(i/4*3),a=new Uint8Array(i/4),o=0,l=0,c=0;c<i;c+=4){var f=n[c],h=n[c+1],m=n[c+2],d=n[c+3];s[o++]=f,s[o++]=h,s[o++]=m,a[l++]=d}var g=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:g,index:e,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},Mt.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},fd=Mt.API,Hy=fd.getCharWidthsArray=function(t,e){var r,n,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),a=e.charSpace||this.internal.getCharSpace(),o=e.widths?e.widths:i.metadata.Unicode.widths,l=o.fof?o.fof:1,c=e.kerning?e.kerning:i.metadata.Unicode.kerning,f=c.fof?c.fof:1,h=e.doKerning!==!1,m=0,d=t.length,g=0,v=o[0]||l,b=[];for(r=0;r<d;r++)n=t.charCodeAt(r),typeof i.metadata.widthOfString=="function"?b.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(n))+a*(1e3/s)||0)/1e3):(m=h&&Jr(c[n])==="object"&&!isNaN(parseInt(c[n][g],10))?c[n][g]/f:0,b.push((o[n]||v)/l+m)),g=n;return b},yO=fd.getStringUnitWidth=function(t,e){var r=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return fd.processArabic&&(t=fd.processArabic(t)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(t,r,i)/r:Hy.apply(this,arguments).reduce(function(s,a){return s+a},0)},wO=function(t,e,r,n){for(var i=[],s=0,a=t.length,o=0;s!==a&&o+e[s]<r;)o+=e[s],s++;i.push(t.slice(0,s));var l=s;for(o=0;s!==a;)o+e[s]>n&&(i.push(t.slice(l,s)),o=0,l=s),o+=e[s],s++;return l!==s&&i.push(t.slice(l,s)),i},vO=function(t,e,r){r||(r={});var n,i,s,a,o,l,c,f=[],h=[f],m=r.textIndent||0,d=0,g=0,v=t.split(" "),b=Hy.apply(this,[" ",r])[0];if(l=r.lineIndent===-1?v[0].length+2:r.lineIndent||0){var w=Array(l).join(" "),B=[];v.map(function(C){(C=C.split(/\s*\n/)).length>1?B=B.concat(C.map(function(k,M){return(M&&k.length?`
`:"")+k})):B.push(C[0])}),v=B,l=yO.apply(this,[w,r])}for(s=0,a=v.length;s<a;s++){var S=0;if(n=v[s],l&&n[0]==`
`&&(n=n.substr(1),S=1),m+d+(g=(i=Hy.apply(this,[n,r])).reduce(function(C,k){return C+k},0))>e||S){if(g>e){for(o=wO.apply(this,[n,i,e-(m+d),e]),f.push(o.shift()),f=[o.pop()];o.length;)h.push([o.shift()]);g=i.slice(n.length-(f[0]?f[0].length:0)).reduce(function(C,k){return C+k},0)}else f=[n];h.push(f),m=g+l,d=b}else f.push(n),m+=d+g,d=b}return c=l?function(C,k){return(k?w:"")+C.join(" ")}:function(C){return C.join(" ")},h.map(c)},fd.splitTextToSize=function(t,e,r){var n,i=(r=r||{}).fontSize||this.internal.getFontSize(),s=(function(f){if(f.widths&&f.kerning)return{widths:f.widths,kerning:f.kerning};var h=this.internal.getFont(f.fontName,f.fontStyle),m="Unicode";return h.metadata[m]?{widths:h.metadata[m].widths||{0:1},kerning:h.metadata[m].kerning||{}}:{font:h.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(t)?t:String(t).split(/\r?\n/);var a=1*this.internal.scaleFactor*e/i;s.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=r.lineIndent;var o,l,c=[];for(o=0,l=n.length;o<l;o++)c=c.concat(vO.apply(this,[n[o],a,s]));return c},(function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",r="klmnopqrstuvwxyz",n={},i={},s=0;s<16;s++)n[r[s]]=e[s],i[e[s]]=r[s];var a=function(m){return"0x"+parseInt(m,10).toString(16)},o=t.__fontmetrics__.compress=function(m){var d,g,v,b,w=["{"];for(var B in m){if(d=m[B],isNaN(parseInt(B,10))?g="'"+B+"'":(B=parseInt(B,10),g=(g=a(B).slice(2)).slice(0,-1)+i[g.slice(-1)]),typeof d=="number")d<0?(v=a(d).slice(3),b="-"):(v=a(d).slice(2),b=""),v=b+v.slice(0,-1)+i[v.slice(-1)];else{if(Jr(d)!=="object")throw new Error("Don't know what to do with value type "+Jr(d)+".");v=o(d)}w.push(g+v)}return w.push("}"),w.join("")},l=t.__fontmetrics__.uncompress=function(m){if(typeof m!="string")throw new Error("Invalid argument passed to uncompress.");for(var d,g,v,b,w={},B=1,S=w,C=[],k="",M="",D=m.length-1,H=1;H<D;H+=1)(b=m[H])=="'"?d?(v=d.join(""),d=void 0):d=[]:d?d.push(b):b=="{"?(C.push([S,v]),S={},v=void 0):b=="}"?((g=C.pop())[0][g[1]]=S,v=void 0,S=g[0]):b=="-"?B=-1:v===void 0?n.hasOwnProperty(b)?(k+=n[b],v=parseInt(k,16)*B,B=1,k=""):k+=b:n.hasOwnProperty(b)?(M+=n[b],S[v]=parseInt(M,16)*B,B=1,v=void 0,M=""):M+=b;return w},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},f={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},h={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(m){var d=m.font,g=h.Unicode[d.postScriptName];g&&(d.metadata.Unicode={},d.metadata.Unicode.widths=g.widths,d.metadata.Unicode.kerning=g.kerning);var v=f.Unicode[d.postScriptName];v&&(d.metadata.Unicode.encoding=v,d.encoding=v.codePages[0])}])})(Mt.API),(function(t){var e=function(r){for(var n=r.length,i=new Uint8Array(n),s=0;s<n;s++)i[s]=r.charCodeAt(s);return i};t.API.events.push(["addFont",function(r){var n=void 0,i=r.font,s=r.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(n=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(a,o){o=/^\x00\x01\x00\x00/.test(o)?e(o):e(x1(o)),a.metadata=t.API.TTFFont.open(o),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]})(i,n)}}])})(Mt),Mt.API.addSvgAsImage=function(t,e,r,n,i,s,a,o){if(isNaN(e)||isNaN(r))throw un.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(i))throw un.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=n,l.height=i;var c=l.getContext("2d");c.fillStyle="#fff",c.fillRect(0,0,l.width,l.height);var f={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},h=this;return(nr.canvg?Promise.resolve(nr.canvg):W5(()=>import("./index.es-D-iXNnT7.js"),[],import.meta.url)).catch(function(m){return Promise.reject(new Error("Could not load canvg: "+m))}).then(function(m){return m.default?m.default:m}).then(function(m){return m.fromString(c,t,f)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(m){return m.render(f)}).then(function(){h.addImage(l.toDataURL("image/jpeg",1),e,r,n,i,a,o)})},Mt.API.putTotalPages=function(t){var e,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var i=0;i<this.internal.pages[n].length;i++)this.internal.pages[n][i]=this.internal.pages[n][i].replace(e,r);return this},Mt.API.viewerPreferences=function(t,e){var r;t=t||{},e=e||!1;var n,i,s,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(a),l=[],c=0,f=0,h=0;function m(g,v){var b,w=!1;for(b=0;b<g.length;b+=1)g[b]===v&&(w=!0);return w}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var d=o.length;for(h=0;h<d;h+=1)r[o[h]].value=r[o[h]].defaultValue,r[o[h]].explicitSet=!1}if(Jr(t)==="object"){for(i in t)if(s=t[i],m(o,i)&&s!==void 0){if(r[i].type==="boolean"&&typeof s=="boolean")r[i].value=s;else if(r[i].type==="name"&&m(r[i].valueSet,s))r[i].value=s;else if(r[i].type==="integer"&&Number.isInteger(s))r[i].value=s;else if(r[i].type==="array"){for(c=0;c<s.length;c+=1)if(n=!0,s[c].length===1&&typeof s[c][0]=="number")l.push(String(s[c]-1));else if(s[c].length>1){for(f=0;f<s[c].length;f+=1)typeof s[c][f]!="number"&&(n=!1);n===!0&&l.push([s[c][0]-1,s[c][1]-1].join(" "))}r[i].value="["+l.join(" ")+"]"}else r[i].value=r[i].defaultValue;r[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var g,v=[];for(g in r)r[g].explicitSet===!0&&(r[g].type==="name"?v.push("/"+g+" /"+r[g].value):v.push("/"+g+" "+r[g].value));v.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+v.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},Mt.API.addMetadata=function(t,e){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:t,namespaceUri:e??"http://jspdf.default.namespaceuri/",rawXml:typeof e=="boolean"&&e},this.internal.events.subscribe("putCatalog",dce),this.internal.events.subscribe("postPutResources",hce)),this},(function(t){var e=t.API,r=e.pdfEscape16=function(s,a){for(var o,l=a.metadata.Unicode.widths,c=["","0","00","000","0000"],f=[""],h=0,m=s.length;h<m;++h){if(o=a.metadata.characterToGlyph(s.charCodeAt(h)),a.metadata.glyIdsUsed.push(o),a.metadata.toUnicode[o]=s.charCodeAt(h),l.indexOf(o)==-1&&(l.push(o),l.push([parseInt(a.metadata.widthOfGlyph(o),10)])),o=="0")return f.join("");o=o.toString(16),f.push(c[4-o.length],o)}return f.join("")},n=function(s){var a,o,l,c,f,h,m;for(f=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],h=0,m=(o=Object.keys(s).sort(function(d,g){return d-g})).length;h<m;h++)a=o[h],l.length>=100&&(f+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),s[a]!==void 0&&s[a]!==null&&typeof s[a].toString=="function"&&(c=("0000"+s[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),l.push("<"+a+"><"+c+">"));return l.length&&(f+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),f+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(a){var o=a.font,l=a.out,c=a.newObject,f=a.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="Identity-H"){for(var h=o.metadata.Unicode.widths,m=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),d="",g=0;g<m.length;g++)d+=String.fromCharCode(m[g]);var v=c();f({data:d,addLength1:!0,objectId:v}),l("endobj");var b=c();f({data:n(o.metadata.toUnicode),addLength1:!0,objectId:b}),l("endobj");var w=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+kd(o.fontName)),l("/FontFile2 "+v+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),l("/Flags "+o.metadata.flags),l("/StemV "+o.metadata.stemV),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l(">>"),l("endobj");var B=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+kd(o.fontName)),l("/FontDescriptor "+w+" 0 R"),l("/W "+t.API.PDFObject.convert(h)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+o.encoding+")"),l(">>"),l(">>"),l("endobj"),o.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+b+" 0 R"),l("/BaseFont /"+kd(o.fontName)),l("/Encoding /"+o.encoding),l("/DescendantFonts ["+B+" 0 R]"),l(">>"),l("endobj"),o.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(a){var o=a.font,l=a.out,c=a.newObject,f=a.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var h=o.metadata.rawData,m="",d=0;d<h.length;d++)m+=String.fromCharCode(h[d]);var g=c();f({data:m,addLength1:!0,objectId:g}),l("endobj");var v=c();f({data:n(o.metadata.toUnicode),addLength1:!0,objectId:v}),l("endobj");var b=c();l("<<"),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l("/StemV "+o.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+g+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),l("/FontName /"+kd(o.fontName)),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l(">>"),l("endobj"),o.objectNumber=c();for(var w=0;w<o.metadata.hmtx.widths.length;w++)o.metadata.hmtx.widths[w]=parseInt(o.metadata.hmtx.widths[w]*(1e3/o.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+v+" 0 R/BaseFont/"+kd(o.fontName)+"/FontDescriptor "+b+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),l("endobj"),o.isAlreadyPutted=!0}})(s)}]);var i=function(s){var a,o=s.text||"",l=s.x,c=s.y,f=s.options||{},h=s.mutex||{},m=h.pdfEscape,d=h.activeFontKey,g=h.fonts,v=d,b="",w=0,B="",S=g[v].encoding;if(g[v].encoding!=="Identity-H")return{text:o,x:l,y:c,options:f,mutex:h};for(B=o,v=d,Array.isArray(o)&&(B=o[0]),w=0;w<B.length;w+=1)g[v].metadata.hasOwnProperty("cmap")&&(a=g[v].metadata.cmap.unicode.codeMap[B[w].charCodeAt(0)]),a||B[w].charCodeAt(0)<256&&g[v].metadata.hasOwnProperty("Unicode")?b+=B[w]:b+="";var C="";return parseInt(v.slice(1))<14||S==="WinAnsiEncoding"?C=m(b,v).split("").map(function(k){return k.charCodeAt(0).toString(16)}).join(""):S==="Identity-H"&&(C=r(b,g[v])),h.isHex=!0,{text:C,x:l,y:c,options:f,mutex:h}};e.events.push(["postProcessText",function(s){var a=s.text||"",o=[],l={text:a,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(a)){var c=0;for(c=0;c<a.length;c+=1)Array.isArray(a[c])&&a[c].length===3?o.push([i(Object.assign({},l,{text:a[c][0]})).text,a[c][1],a[c][2]]):o.push(i(Object.assign({},l,{text:a[c]})).text);s.text=o}else s.text=i(Object.assign({},l,{text:a})).text}])})(Mt),(function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,n){return e.call(this),this.internal.vFS[r]=n,this},t.getFileFromVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}})(Mt.API),(function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(n){var i,s,a,o,l,c,f,h=e,m=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],d=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],g={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},v={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},b=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],w=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),B=!1,S=0;this.__bidiEngine__={};var C=function(q){var R=q.charCodeAt(),G=R>>8,U=v[G];return U!==void 0?h[256*U+(255&R)]:G===252||G===253?"AL":w.test(G)?"L":G===8?"R":"N"},k=function(q){for(var R,G=0;G<q.length;G++){if((R=C(q.charAt(G)))==="L")return!1;if(R==="R")return!0}return!1},M=function(q,R,G,U){var ae,re,Y,he,de=R[U];switch(de){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":B=!1;break;case"N":case"AN":break;case"EN":B&&(de="AN");break;case"AL":B=!0,de="R";break;case"WS":case"BN":de="N";break;case"CS":U<1||U+1>=R.length||(ae=G[U-1])!=="EN"&&ae!=="AN"||(re=R[U+1])!=="EN"&&re!=="AN"?de="N":B&&(re="AN"),de=re===ae?re:"N";break;case"ES":de=(ae=U>0?G[U-1]:"B")==="EN"&&U+1<R.length&&R[U+1]==="EN"?"EN":"N";break;case"ET":if(U>0&&G[U-1]==="EN"){de="EN";break}if(B){de="N";break}for(Y=U+1,he=R.length;Y<he&&R[Y]==="ET";)Y++;de=Y<he&&R[Y]==="EN"?"EN":"N";break;case"NSM":if(a&&!o){for(he=R.length,Y=U+1;Y<he&&R[Y]==="NSM";)Y++;if(Y<he){var Ce=q[U],X=Ce>=1425&&Ce<=2303||Ce===64286;if(ae=R[Y],X&&(ae==="R"||ae==="AL")){de="R";break}}}de=U<1||(ae=R[U-1])==="B"?"N":G[U-1];break;case"B":B=!1,i=!0,de=S;break;case"S":s=!0,de="N"}return de},D=function(q,R,G){var U=q.split("");return G&&H(U,G,{hiLevel:S}),U.reverse(),R&&R.reverse(),U.join("")},H=function(q,R,G){var U,ae,re,Y,he,de=-1,Ce=q.length,X=0,I=[],J=S?d:m,te=[];for(B=!1,i=!1,s=!1,ae=0;ae<Ce;ae++)te[ae]=C(q[ae]);for(re=0;re<Ce;re++){if(he=X,I[re]=M(q,te,I,re),U=240&(X=J[he][g[I[re]]]),X&=15,R[re]=Y=J[X][5],U>0)if(U===16){for(ae=de;ae<re;ae++)R[ae]=1;de=-1}else de=-1;if(J[X][6])de===-1&&(de=re);else if(de>-1){for(ae=de;ae<re;ae++)R[ae]=Y;de=-1}te[re]==="B"&&(R[re]=0),G.hiLevel|=Y}s&&(function(Ae,se,Q){for(var P=0;P<Q;P++)if(Ae[P]==="S"){se[P]=S;for(var le=P-1;le>=0&&Ae[le]==="WS";le--)se[le]=S}})(te,R,Ce)},F=function(q,R,G,U,ae){if(!(ae.hiLevel<q)){if(q===1&&S===1&&!i)return R.reverse(),void(G&&G.reverse());for(var re,Y,he,de,Ce=R.length,X=0;X<Ce;){if(U[X]>=q){for(he=X+1;he<Ce&&U[he]>=q;)he++;for(de=X,Y=he-1;de<Y;de++,Y--)re=R[de],R[de]=R[Y],R[Y]=re,G&&(re=G[de],G[de]=G[Y],G[Y]=re);X=he}X++}}},$=function(q,R,G){var U=q.split(""),ae={hiLevel:S};return G||(G=[]),H(U,G,ae),(function(re,Y,he){if(he.hiLevel!==0&&f)for(var de,Ce=0;Ce<re.length;Ce++)Y[Ce]===1&&(de=b.indexOf(re[Ce]))>=0&&(re[Ce]=b[de+1])})(U,G,ae),F(2,U,R,G,ae),F(1,U,R,G,ae),U.join("")};return this.__bidiEngine__.doBidiReorder=function(q,R,G){if((function(ae,re){if(re)for(var Y=0;Y<ae.length;Y++)re[Y]=Y;o===void 0&&(o=k(ae)),c===void 0&&(c=k(ae))})(q,R),a||!l||c)if(a&&l&&o^c)S=o?1:0,q=D(q,R,G);else if(!a&&l&&c)S=o?1:0,q=$(q,R,G),q=D(q,R);else if(!a||o||l||c){if(a&&!l&&o^c)q=D(q,R),o?(S=0,q=$(q,R,G)):(S=1,q=$(q,R,G),q=D(q,R));else if(a&&o&&!l&&c)S=1,q=$(q,R,G),q=D(q,R);else if(!a&&!l&&o^c){var U=f;o?(S=1,q=$(q,R,G),S=0,f=!1,q=$(q,R,G),f=U):(S=0,q=$(q,R,G),q=D(q,R),S=1,f=!1,q=$(q,R,G),f=U,q=D(q,R))}}else S=0,q=$(q,R,G);else S=o?1:0,q=$(q,R,G);return q},this.__bidiEngine__.setOptions=function(q){q&&(a=q.isInputVisual,l=q.isOutputVisual,o=q.isInputRtl,c=q.isOutputRtl,f=q.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(n){var i=n.text;n.x,n.y;var s=n.options||{};n.mutex,s.lang;var a=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,r.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var o=0;for(a=[],o=0;o<i.length;o+=1)Object.prototype.toString.call(i[o])==="[object Array]"?a.push([r.doBidiReorder(i[o][0]),i[o][1],i[o][2]]):a.push([r.doBidiReorder(i[o])]);n.text=a}else n.text=r.doBidiReorder(i);r.setOptions({isInputVisual:!0})}])})(Mt),Mt.API.TTFFont=(function(){function t(e){var r;if(this.rawData=e,r=this.contents=new _u(e),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new Tce(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new pce(this.contents),this.head=new gce(this),this.name=new xce(this),this.cmap=new YQ(this),this.toUnicode={},this.hhea=new yce(this),this.maxp=new Bce(this),this.hmtx=new Cce(this),this.post=new vce(this),this.os2=new wce(this),this.loca=new kce(this),this.glyf=new Sce(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,r,n,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var a,o,l,c;for(c=[],a=0,o=(l=this.bbox).length;a<o;a++)e=l[a],c.push(Math.round(e*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(n=255&(i=this.post.italic_angle),32768&(r=i>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var r;return((r=this.cmap.unicode)!=null?r.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*r},t.prototype.widthOfString=function(e,r,n){var i,s,a,o;for(a=0,s=0,o=(e=""+e).length;0<=o?s<o:s>o;s=0<=o?++s:--s)i=e.charCodeAt(s),a+=this.widthOfGlyph(this.characterToGlyph(i))+n*(1e3/r)||0;return a*(r/1e3)},t.prototype.lineHeight=function(e,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},t})();var yl,_u=(function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var r,n;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},t.prototype.writeString=function(e){var r,n,i;for(i=[],r=0,n=e.length;0<=n?r<n:r>n;r=0<=n?++r:--r)i.push(this.writeByte(e.charCodeAt(r)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,r,n,i,s,a,o,l;return e=this.readByte(),r=this.readByte(),n=this.readByte(),i=this.readByte(),s=this.readByte(),a=this.readByte(),o=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^i)+16777216*(255^s)+65536*(255^a)+256*(255^o)+(255^l)+1):72057594037927940*e+281474976710656*r+1099511627776*n+4294967296*i+16777216*s+65536*a+256*o+l},t.prototype.writeLongLong=function(e){var r,n;return r=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var r,n;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r.push(this.readByte());return r},t.prototype.write=function(e){var r,n,i,s;for(s=[],n=0,i=e.length;n<i;n++)r=e[n],s.push(this.writeByte(r));return s},t})(),pce=(function(){var t;function e(r){var n,i,s;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(r){var n,i,s,a,o,l,c,f,h,m,d,g,v;for(v in d=Object.keys(r).length,l=Math.log(2),h=16*Math.floor(Math.log(d)/l),a=Math.floor(h/l),f=16*d-h,(i=new _u).writeInt(this.scalarType),i.writeShort(d),i.writeShort(h),i.writeShort(a),i.writeShort(f),s=16*d,c=i.pos+s,o=null,g=[],r)for(m=r[v],i.writeString(v),i.writeInt(t(m)),i.writeInt(c),i.writeInt(m.length),g=g.concat(m),v==="head"&&(o=c),c+=m.length;c%4;)g.push(0),c++;return i.write(g),n=2981146554-t(i.data),i.pos=o+8,i.writeUInt32(n),i.data},t=function(r){var n,i,s,a;for(r=JQ.call(r);r.length%4;)r.push(0);for(s=new _u(r),i=0,n=0,a=r.length;n<a;n=n+=4)i+=s.readUInt32();return 4294967295&i},e})(),mce={}.hasOwnProperty,aA=function(t,e){for(var r in e)mce.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};yl=(function(){function t(e){var r;this.file=e,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t})();var gce=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return aA(t,yl),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var r;return(r=new _u).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(e),r.writeShort(this.glyphDataFormat),r.data},t})(),TO=(function(){function t(e,r){var n,i,s,a,o,l,c,f,h,m,d,g,v,b,w,B,S;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=r+e.readInt(),h=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(d=e.readUInt16(),m=d/2,e.pos+=6,s=(function(){var C,k;for(k=[],l=C=0;0<=m?C<m:C>m;l=0<=m?++C:--C)k.push(e.readUInt16());return k})(),e.pos+=2,v=(function(){var C,k;for(k=[],l=C=0;0<=m?C<m:C>m;l=0<=m?++C:--C)k.push(e.readUInt16());return k})(),c=(function(){var C,k;for(k=[],l=C=0;0<=m?C<m:C>m;l=0<=m?++C:--C)k.push(e.readUInt16());return k})(),f=(function(){var C,k;for(k=[],l=C=0;0<=m?C<m:C>m;l=0<=m?++C:--C)k.push(e.readUInt16());return k})(),i=(this.length-e.pos+this.offset)/2,o=(function(){var C,k;for(k=[],l=C=0;0<=i?C<i:C>i;l=0<=i?++C:--C)k.push(e.readUInt16());return k})(),l=w=0,S=s.length;w<S;l=++w)for(b=s[l],n=B=g=v[l];g<=b?B<=b:B>=b;n=g<=b?++B:--B)f[l]===0?a=n+c[l]:(a=o[f[l]/2+(n-g)-(m-l)]||0)!==0&&(a+=c[l]),this.codeMap[n]=65535&a}e.pos=h}return t.encode=function(e,r){var n,i,s,a,o,l,c,f,h,m,d,g,v,b,w,B,S,C,k,M,D,H,F,$,q,R,G,U,ae,re,Y,he,de,Ce,X,I,J,te,Ae,se,Q,P,le,oe,ie,fe;switch(U=new _u,a=Object.keys(e).sort(function(Te,V){return Te-V}),r){case"macroman":for(v=0,b=(function(){var Te=[];for(g=0;g<256;++g)Te.push(0);return Te})(),B={0:0},s={},ae=0,de=a.length;ae<de;ae++)B[le=e[i=a[ae]]]==null&&(B[le]=++v),s[i]={old:e[i],new:B[e[i]]},b[i]=B[e[i]];return U.writeUInt16(1),U.writeUInt16(0),U.writeUInt32(12),U.writeUInt16(0),U.writeUInt16(262),U.writeUInt16(0),U.write(b),{charMap:s,subtable:U.data,maxGlyphID:v+1};case"unicode":for(R=[],h=[],S=0,B={},n={},w=c=null,re=0,Ce=a.length;re<Ce;re++)B[k=e[i=a[re]]]==null&&(B[k]=++S),n[i]={old:k,new:B[k]},o=B[k]-i,w!=null&&o===c||(w&&h.push(w),R.push(i),c=o),w=i;for(w&&h.push(w),h.push(65535),R.push(65535),$=2*(F=R.length),H=2*Math.pow(Math.log(F)/Math.LN2,2),m=Math.log(H/2)/Math.LN2,D=2*F-H,l=[],M=[],d=[],g=Y=0,X=R.length;Y<X;g=++Y){if(q=R[g],f=h[g],q===65535){l.push(0),M.push(0);break}if(q-(G=n[q].new)>=32768)for(l.push(0),M.push(2*(d.length+F-g)),i=he=q;q<=f?he<=f:he>=f;i=q<=f?++he:--he)d.push(n[i].new);else l.push(G-q),M.push(0)}for(U.writeUInt16(3),U.writeUInt16(1),U.writeUInt32(12),U.writeUInt16(4),U.writeUInt16(16+8*F+2*d.length),U.writeUInt16(0),U.writeUInt16($),U.writeUInt16(H),U.writeUInt16(m),U.writeUInt16(D),Q=0,I=h.length;Q<I;Q++)i=h[Q],U.writeUInt16(i);for(U.writeUInt16(0),P=0,J=R.length;P<J;P++)i=R[P],U.writeUInt16(i);for(oe=0,te=l.length;oe<te;oe++)o=l[oe],U.writeUInt16(o);for(ie=0,Ae=M.length;ie<Ae;ie++)C=M[ie],U.writeUInt16(C);for(fe=0,se=d.length;fe<se;fe++)v=d[fe],U.writeUInt16(v);return{charMap:n,subtable:U.data,maxGlyphID:S+1}}},t})(),YQ=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return aA(t,yl),t.prototype.tag="cmap",t.prototype.parse=function(e){var r,n,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=i?n<i:n>i;n=0<=i?++n:--n)r=new TO(e,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},t.encode=function(e,r){var n,i;return r==null&&(r="macroman"),n=TO.encode(e,r),(i=new _u).writeUInt16(0),i.writeUInt16(1),n.table=i.data.concat(n.subtable),n},t})(),yce=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return aA(t,yl),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t})(),wce=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return aA(t,yl),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var r,n;for(n=[],r=0;r<10;++r)n.push(e.readByte());return n})(),this.charRange=(function(){var r,n;for(n=[],r=0;r<4;++r)n.push(e.readInt());return n})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(e.readInt());return n})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t})(),vce=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return aA(t,yl),t.prototype.tag="post",t.prototype.parse=function(e){var r,n,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var s;for(n=e.readUInt16(),this.glyphNameIndex=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)r=e.readByte(),i.push(this.names.push(e.readString(r)));return i;case 151552:return n=e.readUInt16(),this.offsets=e.read(n);case 262144:return this.map=(function(){var a,o,l;for(l=[],s=a=0,o=this.file.maxp.numGlyphs;0<=o?a<o:a>o;s=0<=o?++a:--a)l.push(e.readUInt32());return l}).call(this)}},t})(),bce=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},xce=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return aA(t,yl),t.prototype.tag="name",t.prototype.parse=function(e){var r,n,i,s,a,o,l,c,f,h,m;for(e.pos=this.offset,e.readShort(),r=e.readShort(),o=e.readShort(),n=[],s=0;0<=r?s<r:s>r;s=0<=r?++s:--s)n.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+o+e.readShort()});for(l={},s=f=0,h=n.length;f<h;s=++f)i=n[s],e.pos=i.offset,c=e.readString(i.length),a=new bce(c,i),l[m=i.nameID]==null&&(l[m]=[]),l[i.nameID].push(a);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},t})(),Bce=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return aA(t,yl),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t})(),Cce=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return aA(t,yl),t.prototype.tag="hmtx",t.prototype.parse=function(e){var r,n,i,s,a,o,l;for(e.pos=this.offset,this.metrics=[],r=0,o=this.file.hhea.numberOfMetrics;0<=o?r<o:r>o;r=0<=o?++r:--r)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var c,f;for(f=[],r=c=0;0<=i?c<i:c>i;r=0<=i?++c:--c)f.push(e.readInt16());return f})(),this.widths=(function(){var c,f,h,m;for(m=[],c=0,f=(h=this.metrics).length;c<f;c++)s=h[c],m.push(s.advance);return m}).call(this),n=this.widths[this.widths.length-1],l=[],r=a=0;0<=i?a<i:a>i;r=0<=i?++a:--a)l.push(this.widths.push(n));return l},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t})(),JQ=[].slice,Sce=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return aA(t,yl),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var r,n,i,s,a,o,l,c,f,h;return e in this.cache?this.cache[e]:(s=this.file.loca,r=this.file.contents,n=s.indexOf(e),(i=s.lengthOf(e))===0?this.cache[e]=null:(r.pos=this.offset+n,a=(o=new _u(r.read(i))).readShort(),c=o.readShort(),h=o.readShort(),l=o.readShort(),f=o.readShort(),this.cache[e]=a===-1?new _ce(o,c,h,l,f):new Ece(o,a,c,h,l,f),this.cache[e]))},t.prototype.encode=function(e,r,n){var i,s,a,o,l;for(a=[],s=[],o=0,l=r.length;o<l;o++)i=e[r[o]],s.push(a.length),i&&(a=a.concat(i.encode(n)));return s.push(a.length),{table:a,offsets:s}},t})(),Ece=(function(){function t(e,r,n,i,s,a){this.raw=e,this.numberOfContours=r,this.xMin=n,this.yMin=i,this.xMax=s,this.yMax=a,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t})(),_ce=(function(){function t(e,r,n,i,s){var a,o;for(this.raw=e,this.xMin=r,this.yMin=n,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;o=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&o;)a.pos+=1&o?4:2,128&o?a.pos+=8:64&o?a.pos+=4:8&o&&(a.pos+=2)}return t.prototype.encode=function(){var e,r,n;for(r=new _u(JQ.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)r.pos=this.glyphOffsets[e];return r.data},t})(),kce=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return aA(t,yl),t.prototype.tag="loca",t.prototype.parse=function(e){var r,n;return e.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var i,s;for(s=[],n=0,i=this.length;n<i;n+=2)s.push(2*e.readUInt16());return s}).call(this):(function(){var i,s;for(s=[],n=0,i=this.length;n<i;n+=4)s.push(e.readUInt32());return s}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,r){for(var n=new Uint32Array(this.offsets.length),i=0,s=0,a=0;a<n.length;++a)if(n[a]=i,s<r.length&&r[s]==a){++s,n[a]=i;var o=this.offsets[a],l=this.offsets[a+1]-o;l>0&&(i+=l)}for(var c=new Array(4*n.length),f=0;f<n.length;++f)c[4*f+3]=255&n[f],c[4*f+2]=(65280&n[f])>>8,c[4*f+1]=(16711680&n[f])>>16,c[4*f]=(4278190080&n[f])>>24;return c},t})(),Tce=(function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,r,n,i,s;for(r in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)n=s[r],e[r]=i[n];return e},t.prototype.glyphsFor=function(e){var r,n,i,s,a,o,l;for(i={},a=0,o=e.length;a<o;a++)i[s=e[a]]=this.font.glyf.glyphFor(s);for(s in r=[],i)(n=i[s])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(s in l=this.glyphsFor(r))n=l[s],i[s]=n;return i},t.prototype.encode=function(e,r){var n,i,s,a,o,l,c,f,h,m,d,g,v,b,w;for(i in n=YQ.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(e),d={0:0},w=n.charMap)d[(l=w[i]).old]=l.new;for(g in m=n.maxGlyphID,a)g in d||(d[g]=m++);return f=(function(B){var S,C;for(S in C={},B)C[B[S]]=S;return C})(d),h=Object.keys(f).sort(function(B,S){return B-S}),v=(function(){var B,S,C;for(C=[],B=0,S=h.length;B<S;B++)o=h[B],C.push(f[o]);return C})(),s=this.font.glyf.encode(a,v,d),c=this.font.loca.encode(s.offsets,v),b={cmap:this.font.cmap.raw(),glyf:s.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(b["OS/2"]=this.font.os2.raw()),this.font.directory.encode(b)},t})();Mt.API.PDFObject=(function(){var t;function e(){}return t=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},e.convert=function(r){var n,i,s,a;if(Array.isArray(r))return"["+(function(){var o,l,c;for(c=[],o=0,l=r.length;o<l;o++)n=r[o],c.push(e.convert(n));return c})().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r?.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(i in s=["<<"],r)a=r[i],s.push("/"+i+" "+e.convert(a));return s.push(">>"),s.join(`
`)}return""+r},e})();var BS=function(t,e){return BS=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},BS(t,e)};function wl(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");BS(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var CS=function(){return CS=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},CS.apply(this,arguments)};function Js(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(f){try{c(n.next(f))}catch(h){a(h)}}function l(f){try{c(n.throw(f))}catch(h){a(h)}}function c(f){f.done?s(f.value):i(f.value).then(o,l)}c((n=n.apply(t,[])).next())})}function Ds(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,a;return a={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function o(c){return function(f){return l([c,f])}}function l(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){r.label=c[1];break}if(c[0]===6&&r.label<s[1]){r.label=s[1],s=c;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(c);break}s[2]&&r.ops.pop(),r.trys.pop();continue}c=e.call(t,r)}catch(f){c=[6,f],i=0}finally{n=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function jy(t,e,r){if(arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||e)}var nc=(function(){function t(e,r,n,i){this.left=e,this.top=r,this.width=n,this.height=i}return t.prototype.add=function(e,r,n,i){return new t(this.left+e,this.top+r,this.width+n,this.height+i)},t.fromClientRect=function(e,r){return new t(r.left+e.windowBounds.left,r.top+e.windowBounds.top,r.width,r.height)},t.fromDOMRectList=function(e,r){var n=Array.from(r).find(function(i){return i.width!==0});return n?new t(n.left+e.windowBounds.left,n.top+e.windowBounds.top,n.width,n.height):t.EMPTY},t.EMPTY=new t(0,0,0,0),t})(),Dv=function(t,e){return nc.fromClientRect(t,e.getBoundingClientRect())},Nce=function(t){var e=t.body,r=t.documentElement;if(!e||!r)throw new Error("Unable to get document size");var n=Math.max(Math.max(e.scrollWidth,r.scrollWidth),Math.max(e.offsetWidth,r.offsetWidth),Math.max(e.clientWidth,r.clientWidth)),i=Math.max(Math.max(e.scrollHeight,r.scrollHeight),Math.max(e.offsetHeight,r.offsetHeight),Math.max(e.clientHeight,r.clientHeight));return new nc(0,0,n,i)},Iv=function(t){for(var e=[],r=0,n=t.length;r<n;){var i=t.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){var s=t.charCodeAt(r++);(s&64512)===56320?e.push(((i&1023)<<10)+(s&1023)+65536):(e.push(i),r--)}else e.push(i)}return e},di=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var r=t.length;if(!r)return"";for(var n=[],i=-1,s="";++i<r;){var a=t[i];a<=65535?n.push(a):(a-=65536,n.push((a>>10)+55296,a%1024+56320)),(i+1===r||n.length>16384)&&(s+=String.fromCharCode.apply(String,n),n.length=0)}return s},NO="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Fce=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Py=0;Py<NO.length;Py++)Fce[NO.charCodeAt(Py)]=Py;var FO="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Fm=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var zy=0;zy<FO.length;zy++)Fm[FO.charCodeAt(zy)]=zy;var Uce=function(t){var e=t.length*.75,r=t.length,n,i=0,s,a,o,l;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var c=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),f=Array.isArray(c)?c:new Uint8Array(c);for(n=0;n<r;n+=4)s=Fm[t.charCodeAt(n)],a=Fm[t.charCodeAt(n+1)],o=Fm[t.charCodeAt(n+2)],l=Fm[t.charCodeAt(n+3)],f[i++]=s<<2|a>>4,f[i++]=(a&15)<<4|o>>2,f[i++]=(o&3)<<6|l&63;return c},Oce=function(t){for(var e=t.length,r=[],n=0;n<e;n+=2)r.push(t[n+1]<<8|t[n]);return r},Lce=function(t){for(var e=t.length,r=[],n=0;n<e;n+=4)r.push(t[n+3]<<24|t[n+2]<<16|t[n+1]<<8|t[n]);return r},Kf=5,B_=11,mB=2,Dce=B_-Kf,XQ=65536>>Kf,Ice=1<<Kf,gB=Ice-1,Rce=1024>>Kf,Mce=XQ+Rce,Qce=Mce,Hce=32,jce=Qce+Hce,Pce=65536>>B_,zce=1<<Dce,Kce=zce-1,UO=function(t,e,r){return t.slice?t.slice(e,r):new Uint16Array(Array.prototype.slice.call(t,e,r))},Vce=function(t,e,r){return t.slice?t.slice(e,r):new Uint32Array(Array.prototype.slice.call(t,e,r))},qce=function(t,e){var r=Uce(t),n=Array.isArray(r)?Lce(r):new Uint32Array(r),i=Array.isArray(r)?Oce(r):new Uint16Array(r),s=24,a=UO(i,s/2,n[4]/2),o=n[5]===2?UO(i,(s+n[4])/2):Vce(n,Math.ceil((s+n[4])/4));return new Gce(n[0],n[1],n[2],n[3],a,o)},Gce=(function(){function t(e,r,n,i,s,a){this.initialValue=e,this.errorValue=r,this.highStart=n,this.highValueIndex=i,this.index=s,this.data=a}return t.prototype.get=function(e){var r;if(e>=0){if(e<55296||e>56319&&e<=65535)return r=this.index[e>>Kf],r=(r<<mB)+(e&gB),this.data[r];if(e<=65535)return r=this.index[XQ+(e-55296>>Kf)],r=(r<<mB)+(e&gB),this.data[r];if(e<this.highStart)return r=jce-Pce+(e>>B_),r=this.index[r],r+=e>>Kf&Kce,r=this.index[r],r=(r<<mB)+(e&gB),this.data[r];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t})(),OO="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Wce=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Ky=0;Ky<OO.length;Ky++)Wce[OO.charCodeAt(Ky)]=Ky;var $ce="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",LO=50,Yce=1,ZQ=2,eH=3,Jce=4,Xce=5,DO=7,tH=8,IO=9,du=10,SS=11,RO=12,ES=13,Zce=14,Um=15,_S=16,Vy=17,vm=18,eue=19,MO=20,kS=21,bm=22,yB=23,hd=24,ja=25,Om=26,Lm=27,dd=28,tue=29,Tf=30,rue=31,qy=32,Gy=33,TS=34,NS=35,FS=36,Og=37,US=38,_1=39,k1=40,wB=41,rH=42,nue=43,iue=[9001,65288],nH="!",Br="",Wy="",OS=qce($ce),zA=[Tf,FS],LS=[Yce,ZQ,eH,Xce],iH=[du,tH],QO=[Lm,Om],sue=LS.concat(iH),HO=[US,_1,k1,TS,NS],aue=[Um,ES],oue=function(t,e){e===void 0&&(e="strict");var r=[],n=[],i=[];return t.forEach(function(s,a){var o=OS.get(s);if(o>LO?(i.push(!0),o-=LO):i.push(!1),["normal","auto","loose"].indexOf(e)!==-1&&[8208,8211,12316,12448].indexOf(s)!==-1)return n.push(a),r.push(_S);if(o===Jce||o===SS){if(a===0)return n.push(a),r.push(Tf);var l=r[a-1];return sue.indexOf(l)===-1?(n.push(n[a-1]),r.push(l)):(n.push(a),r.push(Tf))}if(n.push(a),o===rue)return r.push(e==="strict"?kS:Og);if(o===rH||o===tue)return r.push(Tf);if(o===nue)return s>=131072&&s<=196605||s>=196608&&s<=262141?r.push(Og):r.push(Tf);r.push(o)}),[n,r,i]},vB=function(t,e,r,n){var i=n[r];if(Array.isArray(t)?t.indexOf(i)!==-1:t===i)for(var s=r;s<=n.length;){s++;var a=n[s];if(a===e)return!0;if(a!==du)break}if(i===du)for(var s=r;s>0;){s--;var o=n[s];if(Array.isArray(t)?t.indexOf(o)!==-1:t===o)for(var l=r;l<=n.length;){l++;var a=n[l];if(a===e)return!0;if(a!==du)break}if(o!==du)break}return!1},jO=function(t,e){for(var r=t;r>=0;){var n=e[r];if(n===du)r--;else return n}return 0},lue=function(t,e,r,n,i){if(r[n]===0)return Br;var s=n-1;if(Array.isArray(i)&&i[s]===!0)return Br;var a=s-1,o=s+1,l=e[s],c=a>=0?e[a]:0,f=e[o];if(l===ZQ&&f===eH)return Br;if(LS.indexOf(l)!==-1)return nH;if(LS.indexOf(f)!==-1||iH.indexOf(f)!==-1)return Br;if(jO(s,e)===tH)return Wy;if(OS.get(t[s])===SS||(l===qy||l===Gy)&&OS.get(t[o])===SS||l===DO||f===DO||l===IO||[du,ES,Um].indexOf(l)===-1&&f===IO||[Vy,vm,eue,hd,dd].indexOf(f)!==-1||jO(s,e)===bm||vB(yB,bm,s,e)||vB([Vy,vm],kS,s,e)||vB(RO,RO,s,e))return Br;if(l===du)return Wy;if(l===yB||f===yB)return Br;if(f===_S||l===_S)return Wy;if([ES,Um,kS].indexOf(f)!==-1||l===Zce||c===FS&&aue.indexOf(l)!==-1||l===dd&&f===FS||f===MO||zA.indexOf(f)!==-1&&l===ja||zA.indexOf(l)!==-1&&f===ja||l===Lm&&[Og,qy,Gy].indexOf(f)!==-1||[Og,qy,Gy].indexOf(l)!==-1&&f===Om||zA.indexOf(l)!==-1&&QO.indexOf(f)!==-1||QO.indexOf(l)!==-1&&zA.indexOf(f)!==-1||[Lm,Om].indexOf(l)!==-1&&(f===ja||[bm,Um].indexOf(f)!==-1&&e[o+1]===ja)||[bm,Um].indexOf(l)!==-1&&f===ja||l===ja&&[ja,dd,hd].indexOf(f)!==-1)return Br;if([ja,dd,hd,Vy,vm].indexOf(f)!==-1)for(var h=s;h>=0;){var m=e[h];if(m===ja)return Br;if([dd,hd].indexOf(m)!==-1)h--;else break}if([Lm,Om].indexOf(f)!==-1)for(var h=[Vy,vm].indexOf(l)!==-1?a:s;h>=0;){var m=e[h];if(m===ja)return Br;if([dd,hd].indexOf(m)!==-1)h--;else break}if(US===l&&[US,_1,TS,NS].indexOf(f)!==-1||[_1,TS].indexOf(l)!==-1&&[_1,k1].indexOf(f)!==-1||[k1,NS].indexOf(l)!==-1&&f===k1||HO.indexOf(l)!==-1&&[MO,Om].indexOf(f)!==-1||HO.indexOf(f)!==-1&&l===Lm||zA.indexOf(l)!==-1&&zA.indexOf(f)!==-1||l===hd&&zA.indexOf(f)!==-1||zA.concat(ja).indexOf(l)!==-1&&f===bm&&iue.indexOf(t[o])===-1||zA.concat(ja).indexOf(f)!==-1&&l===vm)return Br;if(l===wB&&f===wB){for(var d=r[s],g=1;d>0&&(d--,e[d]===wB);)g++;if(g%2!==0)return Br}return l===qy&&f===Gy?Br:Wy},Aue=function(t,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var r=oue(t,e.lineBreak),n=r[0],i=r[1],s=r[2];(e.wordBreak==="break-all"||e.wordBreak==="break-word")&&(i=i.map(function(o){return[ja,Tf,rH].indexOf(o)!==-1?Og:o}));var a=e.wordBreak==="keep-all"?s.map(function(o,l){return o&&t[l]>=19968&&t[l]<=40959}):void 0;return[n,i,a]},cue=(function(){function t(e,r,n,i){this.codePoints=e,this.required=r===nH,this.start=n,this.end=i}return t.prototype.slice=function(){return di.apply(void 0,this.codePoints.slice(this.start,this.end))},t})(),uue=function(t,e){var r=Iv(t),n=Aue(r,e),i=n[0],s=n[1],a=n[2],o=r.length,l=0,c=0;return{next:function(){if(c>=o)return{done:!0,value:null};for(var f=Br;c<o&&(f=lue(r,s,i,++c,a))===Br;);if(f!==Br||c===o){var h=new cue(r,f,l,c);return l=c,{value:h,done:!1}}return{done:!0,value:null}}}},fue=1,hue=2,e0=4,PO=8,Iw=10,zO=47,rg=92,due=9,pue=32,$y=34,xm=61,mue=35,gue=36,yue=37,Yy=39,Jy=40,Bm=41,wue=95,ba=45,vue=33,bue=60,xue=62,Bue=64,Cue=91,Sue=93,Eue=61,_ue=123,Xy=63,kue=125,KO=124,Tue=126,Nue=128,VO=65533,bB=42,If=43,Fue=44,Uue=58,Oue=59,Lg=46,Lue=0,Due=8,Iue=11,Rue=14,Mue=31,Que=127,Pl=-1,sH=48,aH=97,oH=101,Hue=102,jue=117,Pue=122,lH=65,AH=69,cH=70,zue=85,Kue=90,Rs=function(t){return t>=sH&&t<=57},Vue=function(t){return t>=55296&&t<=57343},pd=function(t){return Rs(t)||t>=lH&&t<=cH||t>=aH&&t<=Hue},que=function(t){return t>=aH&&t<=Pue},Gue=function(t){return t>=lH&&t<=Kue},Wue=function(t){return que(t)||Gue(t)},$ue=function(t){return t>=Nue},Zy=function(t){return t===Iw||t===due||t===pue},Rw=function(t){return Wue(t)||$ue(t)||t===wue},qO=function(t){return Rw(t)||Rs(t)||t===ba},Yue=function(t){return t>=Lue&&t<=Due||t===Iue||t>=Rue&&t<=Mue||t===Que},ru=function(t,e){return t!==rg?!1:e!==Iw},e1=function(t,e,r){return t===ba?Rw(e)||ru(e,r):Rw(t)?!0:!!(t===rg&&ru(t,e))},xB=function(t,e,r){return t===If||t===ba?Rs(e)?!0:e===Lg&&Rs(r):Rs(t===Lg?e:t)},Jue=function(t){var e=0,r=1;(t[e]===If||t[e]===ba)&&(t[e]===ba&&(r=-1),e++);for(var n=[];Rs(t[e]);)n.push(t[e++]);var i=n.length?parseInt(di.apply(void 0,n),10):0;t[e]===Lg&&e++;for(var s=[];Rs(t[e]);)s.push(t[e++]);var a=s.length,o=a?parseInt(di.apply(void 0,s),10):0;(t[e]===AH||t[e]===oH)&&e++;var l=1;(t[e]===If||t[e]===ba)&&(t[e]===ba&&(l=-1),e++);for(var c=[];Rs(t[e]);)c.push(t[e++]);var f=c.length?parseInt(di.apply(void 0,c),10):0;return r*(i+o*Math.pow(10,-a))*Math.pow(10,l*f)},Xue={type:2},Zue={type:3},efe={type:4},tfe={type:13},rfe={type:8},nfe={type:21},ife={type:9},sfe={type:10},afe={type:11},ofe={type:12},lfe={type:14},t1={type:23},Afe={type:1},cfe={type:25},ufe={type:24},ffe={type:26},hfe={type:27},dfe={type:28},pfe={type:29},mfe={type:31},DS={type:32},uH=(function(){function t(){this._value=[]}return t.prototype.write=function(e){this._value=this._value.concat(Iv(e))},t.prototype.read=function(){for(var e=[],r=this.consumeToken();r!==DS;)e.push(r),r=this.consumeToken();return e},t.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case $y:return this.consumeStringToken($y);case mue:var r=this.peekCodePoint(0),n=this.peekCodePoint(1),i=this.peekCodePoint(2);if(qO(r)||ru(n,i)){var s=e1(r,n,i)?hue:fue,a=this.consumeName();return{type:5,value:a,flags:s}}break;case gue:if(this.peekCodePoint(0)===xm)return this.consumeCodePoint(),tfe;break;case Yy:return this.consumeStringToken(Yy);case Jy:return Xue;case Bm:return Zue;case bB:if(this.peekCodePoint(0)===xm)return this.consumeCodePoint(),lfe;break;case If:if(xB(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case Fue:return efe;case ba:var o=e,l=this.peekCodePoint(0),c=this.peekCodePoint(1);if(xB(o,l,c))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(e1(o,l,c))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(l===ba&&c===xue)return this.consumeCodePoint(),this.consumeCodePoint(),ufe;break;case Lg:if(xB(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case zO:if(this.peekCodePoint(0)===bB)for(this.consumeCodePoint();;){var f=this.consumeCodePoint();if(f===bB&&(f=this.consumeCodePoint(),f===zO))return this.consumeToken();if(f===Pl)return this.consumeToken()}break;case Uue:return ffe;case Oue:return hfe;case bue:if(this.peekCodePoint(0)===vue&&this.peekCodePoint(1)===ba&&this.peekCodePoint(2)===ba)return this.consumeCodePoint(),this.consumeCodePoint(),cfe;break;case Bue:var h=this.peekCodePoint(0),m=this.peekCodePoint(1),d=this.peekCodePoint(2);if(e1(h,m,d)){var a=this.consumeName();return{type:7,value:a}}break;case Cue:return dfe;case rg:if(ru(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case Sue:return pfe;case Eue:if(this.peekCodePoint(0)===xm)return this.consumeCodePoint(),rfe;break;case _ue:return afe;case kue:return ofe;case jue:case zue:var g=this.peekCodePoint(0),v=this.peekCodePoint(1);return g===If&&(pd(v)||v===Xy)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case KO:if(this.peekCodePoint(0)===xm)return this.consumeCodePoint(),ife;if(this.peekCodePoint(0)===KO)return this.consumeCodePoint(),nfe;break;case Tue:if(this.peekCodePoint(0)===xm)return this.consumeCodePoint(),sfe;break;case Pl:return DS}return Zy(e)?(this.consumeWhiteSpace(),mfe):Rs(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):Rw(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:di(e)}},t.prototype.consumeCodePoint=function(){var e=this._value.shift();return typeof e>"u"?-1:e},t.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},t.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},t.prototype.consumeUnicodeRangeToken=function(){for(var e=[],r=this.consumeCodePoint();pd(r)&&e.length<6;)e.push(r),r=this.consumeCodePoint();for(var n=!1;r===Xy&&e.length<6;)e.push(r),r=this.consumeCodePoint(),n=!0;if(n){var i=parseInt(di.apply(void 0,e.map(function(l){return l===Xy?sH:l})),16),s=parseInt(di.apply(void 0,e.map(function(l){return l===Xy?cH:l})),16);return{type:30,start:i,end:s}}var a=parseInt(di.apply(void 0,e),16);if(this.peekCodePoint(0)===ba&&pd(this.peekCodePoint(1))){this.consumeCodePoint(),r=this.consumeCodePoint();for(var o=[];pd(r)&&o.length<6;)o.push(r),r=this.consumeCodePoint();var s=parseInt(di.apply(void 0,o),16);return{type:30,start:a,end:s}}else return{type:30,start:a,end:a}},t.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return e.toLowerCase()==="url"&&this.peekCodePoint(0)===Jy?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===Jy?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},t.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Pl)return{type:22,value:""};var r=this.peekCodePoint(0);if(r===Yy||r===$y){var n=this.consumeStringToken(this.consumeCodePoint());return n.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Pl||this.peekCodePoint(0)===Bm)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),t1)}for(;;){var i=this.consumeCodePoint();if(i===Pl||i===Bm)return{type:22,value:di.apply(void 0,e)};if(Zy(i))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Pl||this.peekCodePoint(0)===Bm?(this.consumeCodePoint(),{type:22,value:di.apply(void 0,e)}):(this.consumeBadUrlRemnants(),t1);if(i===$y||i===Yy||i===Jy||Yue(i))return this.consumeBadUrlRemnants(),t1;if(i===rg)if(ru(i,this.peekCodePoint(0)))e.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),t1;else e.push(i)}},t.prototype.consumeWhiteSpace=function(){for(;Zy(this.peekCodePoint(0));)this.consumeCodePoint()},t.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===Bm||e===Pl)return;ru(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},t.prototype.consumeStringSlice=function(e){for(var r=5e4,n="";e>0;){var i=Math.min(r,e);n+=di.apply(void 0,this._value.splice(0,i)),e-=i}return this._value.shift(),n},t.prototype.consumeStringToken=function(e){var r="",n=0;do{var i=this._value[n];if(i===Pl||i===void 0||i===e)return r+=this.consumeStringSlice(n),{type:0,value:r};if(i===Iw)return this._value.splice(0,n),Afe;if(i===rg){var s=this._value[n+1];s!==Pl&&s!==void 0&&(s===Iw?(r+=this.consumeStringSlice(n),n=-1,this._value.shift()):ru(i,s)&&(r+=this.consumeStringSlice(n),r+=di(this.consumeEscapedCodePoint()),n=-1))}n++}while(!0)},t.prototype.consumeNumber=function(){var e=[],r=e0,n=this.peekCodePoint(0);for((n===If||n===ba)&&e.push(this.consumeCodePoint());Rs(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0);var i=this.peekCodePoint(1);if(n===Lg&&Rs(i))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),r=PO;Rs(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0),i=this.peekCodePoint(1);var s=this.peekCodePoint(2);if((n===AH||n===oH)&&((i===If||i===ba)&&Rs(s)||Rs(i)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),r=PO;Rs(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[Jue(e),r]},t.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),r=e[0],n=e[1],i=this.peekCodePoint(0),s=this.peekCodePoint(1),a=this.peekCodePoint(2);if(e1(i,s,a)){var o=this.consumeName();return{type:15,number:r,flags:n,unit:o}}return i===yue?(this.consumeCodePoint(),{type:16,number:r,flags:n}):{type:17,number:r,flags:n}},t.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(pd(e)){for(var r=di(e);pd(this.peekCodePoint(0))&&r.length<6;)r+=di(this.consumeCodePoint());Zy(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(r,16);return n===0||Vue(n)||n>1114111?VO:n}return e===Pl?VO:e},t.prototype.consumeName=function(){for(var e="";;){var r=this.consumeCodePoint();if(qO(r))e+=di(r);else if(ru(r,this.peekCodePoint(0)))e+=di(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(r),e}},t})(),fH=(function(){function t(e){this._tokens=e}return t.create=function(e){var r=new uH;return r.write(e),new t(r.read())},t.parseValue=function(e){return t.create(e).parseComponentValue()},t.parseValues=function(e){return t.create(e).parseComponentValues()},t.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===31;)e=this.consumeToken();if(e.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var r=this.consumeComponentValue();do e=this.consumeToken();while(e.type===31);if(e.type===32)return r;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},t.prototype.parseComponentValues=function(){for(var e=[];;){var r=this.consumeComponentValue();if(r.type===32)return e;e.push(r),e.push()}},t.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},t.prototype.consumeSimpleBlock=function(e){for(var r={type:e,values:[]},n=this.consumeToken();;){if(n.type===32||yfe(n,e))return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue()),n=this.consumeToken()}},t.prototype.consumeFunction=function(e){for(var r={name:e.value,values:[],type:18};;){var n=this.consumeToken();if(n.type===32||n.type===3)return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue())}},t.prototype.consumeToken=function(){var e=this._tokens.shift();return typeof e>"u"?DS:e},t.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},t})(),t0=function(t){return t.type===15},Sp=function(t){return t.type===17},an=function(t){return t.type===20},gfe=function(t){return t.type===0},IS=function(t,e){return an(t)&&t.value===e},hH=function(t){return t.type!==31},pp=function(t){return t.type!==31&&t.type!==4},oA=function(t){var e=[],r=[];return t.forEach(function(n){if(n.type===4){if(r.length===0)throw new Error("Error parsing function args, zero tokens for arg");e.push(r),r=[];return}n.type!==31&&r.push(n)}),r.length&&e.push(r),e},yfe=function(t,e){return e===11&&t.type===12||e===28&&t.type===29?!0:e===2&&t.type===3},ku=function(t){return t.type===17||t.type===15},ki=function(t){return t.type===16||ku(t)},dH=function(t){return t.length>1?[t[0],t[1]]:[t[0]]},Cs={type:17,number:0,flags:e0},C_={type:16,number:50,flags:e0},pu={type:16,number:100,flags:e0},Dm=function(t,e,r){var n=t[0],i=t[1];return[wn(n,e),wn(typeof i<"u"?i:n,r)]},wn=function(t,e){if(t.type===16)return t.number/100*e;if(t0(t))switch(t.unit){case"rem":case"em":return 16*t.number;default:return t.number}return t.number},pH="deg",mH="grad",gH="rad",yH="turn",Rv={name:"angle",parse:function(t,e){if(e.type===15)switch(e.unit){case pH:return Math.PI*e.number/180;case mH:return Math.PI/200*e.number;case gH:return e.number;case yH:return Math.PI*2*e.number}throw new Error("Unsupported angle type")}},wH=function(t){return t.type===15&&(t.unit===pH||t.unit===mH||t.unit===gH||t.unit===yH)},vH=function(t){var e=t.filter(an).map(function(r){return r.value}).join(" ");switch(e){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Cs,Cs];case"to top":case"bottom":return Bo(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Cs,pu];case"to right":case"left":return Bo(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[pu,pu];case"to bottom":case"top":return Bo(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[pu,Cs];case"to left":case"right":return Bo(270)}return 0},Bo=function(t){return Math.PI*t/180},bu={name:"color",parse:function(t,e){if(e.type===18){var r=wfe[e.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return r(t,e.values)}if(e.type===5){if(e.value.length===3){var n=e.value.substring(0,1),i=e.value.substring(1,2),s=e.value.substring(2,3);return mu(parseInt(n+n,16),parseInt(i+i,16),parseInt(s+s,16),1)}if(e.value.length===4){var n=e.value.substring(0,1),i=e.value.substring(1,2),s=e.value.substring(2,3),a=e.value.substring(3,4);return mu(parseInt(n+n,16),parseInt(i+i,16),parseInt(s+s,16),parseInt(a+a,16)/255)}if(e.value.length===6){var n=e.value.substring(0,2),i=e.value.substring(2,4),s=e.value.substring(4,6);return mu(parseInt(n,16),parseInt(i,16),parseInt(s,16),1)}if(e.value.length===8){var n=e.value.substring(0,2),i=e.value.substring(2,4),s=e.value.substring(4,6),a=e.value.substring(6,8);return mu(parseInt(n,16),parseInt(i,16),parseInt(s,16),parseInt(a,16)/255)}}if(e.type===20){var o=rc[e.value.toUpperCase()];if(typeof o<"u")return o}return rc.TRANSPARENT}},xu=function(t){return(255&t)===0},Ji=function(t){var e=255&t,r=255&t>>8,n=255&t>>16,i=255&t>>24;return e<255?"rgba("+i+","+n+","+r+","+e/255+")":"rgb("+i+","+n+","+r+")"},mu=function(t,e,r,n){return(t<<24|e<<16|r<<8|Math.round(n*255)<<0)>>>0},GO=function(t,e){if(t.type===17)return t.number;if(t.type===16){var r=e===3?1:255;return e===3?t.number/100*r:Math.round(t.number/100*r)}return 0},WO=function(t,e){var r=e.filter(pp);if(r.length===3){var n=r.map(GO),i=n[0],s=n[1],a=n[2];return mu(i,s,a,1)}if(r.length===4){var o=r.map(GO),i=o[0],s=o[1],a=o[2],l=o[3];return mu(i,s,a,l)}return 0};function BB(t,e,r){return r<0&&(r+=1),r>=1&&(r-=1),r<1/6?(e-t)*r*6+t:r<1/2?e:r<2/3?(e-t)*6*(2/3-r)+t:t}var $O=function(t,e){var r=e.filter(pp),n=r[0],i=r[1],s=r[2],a=r[3],o=(n.type===17?Bo(n.number):Rv.parse(t,n))/(Math.PI*2),l=ki(i)?i.number/100:0,c=ki(s)?s.number/100:0,f=typeof a<"u"&&ki(a)?wn(a,1):1;if(l===0)return mu(c*255,c*255,c*255,1);var h=c<=.5?c*(l+1):c+l-c*l,m=c*2-h,d=BB(m,h,o+1/3),g=BB(m,h,o),v=BB(m,h,o-1/3);return mu(d*255,g*255,v*255,f)},wfe={hsl:$O,hsla:$O,rgb:WO,rgba:WO},ng=function(t,e){return bu.parse(t,fH.create(e).parseComponentValue())},rc={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},vfe={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(r){if(an(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},bfe={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Mv=function(t,e){var r=bu.parse(t,e[0]),n=e[1];return n&&ki(n)?{color:r,stop:n}:{color:r,stop:null}},YO=function(t,e){var r=t[0],n=t[t.length-1];r.stop===null&&(r.stop=Cs),n.stop===null&&(n.stop=pu);for(var i=[],s=0,a=0;a<t.length;a++){var o=t[a].stop;if(o!==null){var l=wn(o,e);l>s?i.push(l):i.push(s),s=l}else i.push(null)}for(var c=null,a=0;a<i.length;a++){var f=i[a];if(f===null)c===null&&(c=a);else if(c!==null){for(var h=a-c,m=i[c-1],d=(f-m)/(h+1),g=1;g<=h;g++)i[c+g-1]=d*g;c=null}}return t.map(function(v,b){var w=v.color;return{color:w,stop:Math.max(Math.min(1,i[b]/e),0)}})},xfe=function(t,e,r){var n=e/2,i=r/2,s=wn(t[0],e)-n,a=i-wn(t[1],r);return(Math.atan2(a,s)+Math.PI*2)%(Math.PI*2)},Bfe=function(t,e,r){var n=typeof t=="number"?t:xfe(t,e,r),i=Math.abs(e*Math.sin(n))+Math.abs(r*Math.cos(n)),s=e/2,a=r/2,o=i/2,l=Math.sin(n-Math.PI/2)*o,c=Math.cos(n-Math.PI/2)*o;return[i,s-c,s+c,a-l,a+l]},al=function(t,e){return Math.sqrt(t*t+e*e)},JO=function(t,e,r,n,i){var s=[[0,0],[0,e],[t,0],[t,e]];return s.reduce(function(a,o){var l=o[0],c=o[1],f=al(r-l,n-c);return(i?f<a.optimumDistance:f>a.optimumDistance)?{optimumCorner:o,optimumDistance:f}:a},{optimumDistance:i?1/0:-1/0,optimumCorner:null}).optimumCorner},Cfe=function(t,e,r,n,i){var s=0,a=0;switch(t.size){case 0:t.shape===0?s=a=Math.min(Math.abs(e),Math.abs(e-n),Math.abs(r),Math.abs(r-i)):t.shape===1&&(s=Math.min(Math.abs(e),Math.abs(e-n)),a=Math.min(Math.abs(r),Math.abs(r-i)));break;case 2:if(t.shape===0)s=a=Math.min(al(e,r),al(e,r-i),al(e-n,r),al(e-n,r-i));else if(t.shape===1){var o=Math.min(Math.abs(r),Math.abs(r-i))/Math.min(Math.abs(e),Math.abs(e-n)),l=JO(n,i,e,r,!0),c=l[0],f=l[1];s=al(c-e,(f-r)/o),a=o*s}break;case 1:t.shape===0?s=a=Math.max(Math.abs(e),Math.abs(e-n),Math.abs(r),Math.abs(r-i)):t.shape===1&&(s=Math.max(Math.abs(e),Math.abs(e-n)),a=Math.max(Math.abs(r),Math.abs(r-i)));break;case 3:if(t.shape===0)s=a=Math.max(al(e,r),al(e,r-i),al(e-n,r),al(e-n,r-i));else if(t.shape===1){var o=Math.max(Math.abs(r),Math.abs(r-i))/Math.max(Math.abs(e),Math.abs(e-n)),h=JO(n,i,e,r,!1),c=h[0],f=h[1];s=al(c-e,(f-r)/o),a=o*s}break}return Array.isArray(t.size)&&(s=wn(t.size[0],n),a=t.size.length===2?wn(t.size[1],i):s),[s,a]},Sfe=function(t,e){var r=Bo(180),n=[];return oA(e).forEach(function(i,s){if(s===0){var a=i[0];if(a.type===20&&a.value==="to"){r=vH(i);return}else if(wH(a)){r=Rv.parse(t,a);return}}var o=Mv(t,i);n.push(o)}),{angle:r,stops:n,type:1}},r1=function(t,e){var r=Bo(180),n=[];return oA(e).forEach(function(i,s){if(s===0){var a=i[0];if(a.type===20&&["top","left","right","bottom"].indexOf(a.value)!==-1){r=vH(i);return}else if(wH(a)){r=(Rv.parse(t,a)+Bo(270))%Bo(360);return}}var o=Mv(t,i);n.push(o)}),{angle:r,stops:n,type:1}},Efe=function(t,e){var r=Bo(180),n=[],i=1,s=0,a=3,o=[];return oA(e).forEach(function(l,c){var f=l[0];if(c===0){if(an(f)&&f.value==="linear"){i=1;return}else if(an(f)&&f.value==="radial"){i=2;return}}if(f.type===18){if(f.name==="from"){var h=bu.parse(t,f.values[0]);n.push({stop:Cs,color:h})}else if(f.name==="to"){var h=bu.parse(t,f.values[0]);n.push({stop:pu,color:h})}else if(f.name==="color-stop"){var m=f.values.filter(pp);if(m.length===2){var h=bu.parse(t,m[1]),d=m[0];Sp(d)&&n.push({stop:{type:16,number:d.number*100,flags:d.flags},color:h})}}}}),i===1?{angle:(r+Bo(180))%Bo(360),stops:n,type:i}:{size:a,shape:s,stops:n,position:o,type:i}},bH="closest-side",xH="farthest-side",BH="closest-corner",CH="farthest-corner",SH="circle",EH="ellipse",_H="cover",kH="contain",_fe=function(t,e){var r=0,n=3,i=[],s=[];return oA(e).forEach(function(a,o){var l=!0;if(o===0){var c=!1;l=a.reduce(function(h,m){if(c)if(an(m))switch(m.value){case"center":return s.push(C_),h;case"top":case"left":return s.push(Cs),h;case"right":case"bottom":return s.push(pu),h}else(ki(m)||ku(m))&&s.push(m);else if(an(m))switch(m.value){case SH:return r=0,!1;case EH:return r=1,!1;case"at":return c=!0,!1;case bH:return n=0,!1;case _H:case xH:return n=1,!1;case kH:case BH:return n=2,!1;case CH:return n=3,!1}else if(ku(m)||ki(m))return Array.isArray(n)||(n=[]),n.push(m),!1;return h},l)}if(l){var f=Mv(t,a);i.push(f)}}),{size:n,shape:r,stops:i,position:s,type:2}},n1=function(t,e){var r=0,n=3,i=[],s=[];return oA(e).forEach(function(a,o){var l=!0;if(o===0?l=a.reduce(function(f,h){if(an(h))switch(h.value){case"center":return s.push(C_),!1;case"top":case"left":return s.push(Cs),!1;case"right":case"bottom":return s.push(pu),!1}else if(ki(h)||ku(h))return s.push(h),!1;return f},l):o===1&&(l=a.reduce(function(f,h){if(an(h))switch(h.value){case SH:return r=0,!1;case EH:return r=1,!1;case kH:case bH:return n=0,!1;case xH:return n=1,!1;case BH:return n=2,!1;case _H:case CH:return n=3,!1}else if(ku(h)||ki(h))return Array.isArray(n)||(n=[]),n.push(h),!1;return f},l)),l){var c=Mv(t,a);i.push(c)}}),{size:n,shape:r,stops:i,position:s,type:2}},kfe=function(t){return t.type===1},Tfe=function(t){return t.type===2},S_={name:"image",parse:function(t,e){if(e.type===22){var r={url:e.value,type:0};return t.cache.addImage(e.value),r}if(e.type===18){var n=TH[e.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return n(t,e.values)}throw new Error("Unsupported image type "+e.type)}};function Nfe(t){return!(t.type===20&&t.value==="none")&&(t.type!==18||!!TH[t.name])}var TH={"linear-gradient":Sfe,"-moz-linear-gradient":r1,"-ms-linear-gradient":r1,"-o-linear-gradient":r1,"-webkit-linear-gradient":r1,"radial-gradient":_fe,"-moz-radial-gradient":n1,"-ms-radial-gradient":n1,"-o-radial-gradient":n1,"-webkit-radial-gradient":n1,"-webkit-gradient":Efe},Ffe={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var r=e[0];return r.type===20&&r.value==="none"?[]:e.filter(function(n){return pp(n)&&Nfe(n)}).map(function(n){return S_.parse(t,n)})}},Ufe={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(r){if(an(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Ofe={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(t,e){return oA(e).map(function(r){return r.filter(ki)}).map(dH)}},Lfe={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(t,e){return oA(e).map(function(r){return r.filter(an).map(function(n){return n.value}).join(" ")}).map(Dfe)}},Dfe=function(t){switch(t){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;default:return 0}},Zd;(function(t){t.AUTO="auto",t.CONTAIN="contain",t.COVER="cover"})(Zd||(Zd={}));var Ife={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(t,e){return oA(e).map(function(r){return r.filter(Rfe)})}},Rfe=function(t){return an(t)||ki(t)},Qv=function(t){return{name:"border-"+t+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},Mfe=Qv("top"),Qfe=Qv("right"),Hfe=Qv("bottom"),jfe=Qv("left"),Hv=function(t){return{name:"border-radius-"+t,initialValue:"0 0",prefix:!1,type:1,parse:function(e,r){return dH(r.filter(ki))}}},Pfe=Hv("top-left"),zfe=Hv("top-right"),Kfe=Hv("bottom-right"),Vfe=Hv("bottom-left"),jv=function(t){return{name:"border-"+t+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,r){switch(r){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},qfe=jv("top"),Gfe=jv("right"),Wfe=jv("bottom"),$fe=jv("left"),Pv=function(t){return{name:"border-"+t+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,r){return t0(r)?r.number:0}}},Yfe=Pv("top"),Jfe=Pv("right"),Xfe=Pv("bottom"),Zfe=Pv("left"),ehe={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},the={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(t,e){return e==="rtl"?1:0}},rhe={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(t,e){return e.filter(an).reduce(function(r,n){return r|nhe(n.value)},0)}},nhe=function(t){switch(t){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},ihe={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},she={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(t,e){return e.type===20&&e.value==="normal"?0:e.type===17||e.type===15?e.number:0}},Mw;(function(t){t.NORMAL="normal",t.STRICT="strict"})(Mw||(Mw={}));var ahe={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){return e==="strict"?Mw.STRICT:Mw.NORMAL}},ohe={name:"line-height",initialValue:"normal",prefix:!1,type:4},XO=function(t,e){return an(t)&&t.value==="normal"?1.2*e:t.type===17?e*t.number:ki(t)?wn(t,e):e},lhe={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(t,e){return e.type===20&&e.value==="none"?null:S_.parse(t,e)}},Ahe={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(t,e){return e==="inside"?0:1}},RS={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;default:return-1}}},zv=function(t){return{name:"margin-"+t,initialValue:"0",prefix:!1,type:4}},che=zv("top"),uhe=zv("right"),fhe=zv("bottom"),hhe=zv("left"),dhe={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(t,e){return e.filter(an).map(function(r){switch(r.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;default:return 0}})}},phe={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){return e==="break-word"?"break-word":"normal"}},Kv=function(t){return{name:"padding-"+t,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},mhe=Kv("top"),ghe=Kv("right"),yhe=Kv("bottom"),whe=Kv("left"),vhe={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(t,e){switch(e){case"right":return 2;case"center":case"justify":return 1;default:return 0}}},bhe={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(t,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},xhe={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&IS(e[0],"none")?[]:oA(e).map(function(r){for(var n={color:rc.TRANSPARENT,offsetX:Cs,offsetY:Cs,blur:Cs},i=0,s=0;s<r.length;s++){var a=r[s];ku(a)?(i===0?n.offsetX=a:i===1?n.offsetY=a:n.blur=a,i++):n.color=bu.parse(t,a)}return n})}},Bhe={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},Che={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(t,e){if(e.type===20&&e.value==="none")return null;if(e.type===18){var r=_he[e.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return r(e.values)}return null}},She=function(t){var e=t.filter(function(r){return r.type===17}).map(function(r){return r.number});return e.length===6?e:null},Ehe=function(t){var e=t.filter(function(l){return l.type===17}).map(function(l){return l.number}),r=e[0],n=e[1];e[2],e[3];var i=e[4],s=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var a=e[12],o=e[13];return e[14],e[15],e.length===16?[r,n,i,s,a,o]:null},_he={matrix:She,matrix3d:Ehe},ZO={type:16,number:50,flags:e0},khe=[ZO,ZO],The={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(t,e){var r=e.filter(ki);return r.length!==2?khe:[r[0],r[1]]}},Nhe={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"hidden":return 1;case"collapse":return 2;default:return 0}}},ig;(function(t){t.NORMAL="normal",t.BREAK_ALL="break-all",t.KEEP_ALL="keep-all"})(ig||(ig={}));var Fhe={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-all":return ig.BREAK_ALL;case"keep-all":return ig.KEEP_ALL;default:return ig.NORMAL}}},Uhe={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(t,e){if(e.type===20)return{auto:!0,order:0};if(Sp(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},NH={name:"time",parse:function(t,e){if(e.type===15)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},Ohe={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(t,e){return Sp(e)?e.number:1}},Lhe={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Dhe={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(t,e){return e.filter(an).map(function(r){switch(r.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(r){return r!==0})}},Ihe={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(t,e){var r=[],n=[];return e.forEach(function(i){switch(i.type){case 20:case 0:r.push(i.value);break;case 17:r.push(i.number.toString());break;case 4:n.push(r.join(" ")),r.length=0;break}}),r.length&&n.push(r.join(" ")),n.map(function(i){return i.indexOf(" ")===-1?i:"'"+i+"'"})}},Rhe={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},Mhe={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(t,e){return Sp(e)?e.number:an(e)&&e.value==="bold"?700:400}},Qhe={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.filter(an).map(function(r){return r.value})}},Hhe={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";default:return"normal"}}},Pi=function(t,e){return(t&e)!==0},jhe={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var r=e[0];return r.type===20&&r.value==="none"?[]:e}},Phe={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var r=e[0];if(r.type===20&&r.value==="none")return null;for(var n=[],i=e.filter(hH),s=0;s<i.length;s++){var a=i[s],o=i[s+1];if(a.type===20){var l=o&&Sp(o)?o.number:1;n.push({counter:a.value,increment:l})}}return n}},zhe={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return[];for(var r=[],n=e.filter(hH),i=0;i<n.length;i++){var s=n[i],a=n[i+1];if(an(s)&&s.value!=="none"){var o=a&&Sp(a)?a.number:0;r.push({counter:s.value,reset:o})}}return r}},Khe={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(t,e){return e.filter(t0).map(function(r){return NH.parse(t,r)})}},Vhe={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var r=e[0];if(r.type===20&&r.value==="none")return null;var n=[],i=e.filter(gfe);if(i.length%2!==0)return null;for(var s=0;s<i.length;s+=2){var a=i[s].value,o=i[s+1].value;n.push({open:a,close:o})}return n}},eL=function(t,e,r){if(!t)return"";var n=t[Math.min(e,t.length-1)];return n?r?n.open:n.close:""},qhe={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&IS(e[0],"none")?[]:oA(e).map(function(r){for(var n={color:255,offsetX:Cs,offsetY:Cs,blur:Cs,spread:Cs,inset:!1},i=0,s=0;s<r.length;s++){var a=r[s];IS(a,"inset")?n.inset=!0:ku(a)?(i===0?n.offsetX=a:i===1?n.offsetY=a:i===2?n.blur=a:n.spread=a,i++):n.color=bu.parse(t,a)}return n})}},Ghe={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(t,e){var r=[0,1,2],n=[];return e.filter(an).forEach(function(i){switch(i.value){case"stroke":n.push(1);break;case"fill":n.push(0);break;case"markers":n.push(2);break}}),r.forEach(function(i){n.indexOf(i)===-1&&n.push(i)}),n}},Whe={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},$he={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(t,e){return t0(e)?e.number:0}},Yhe=(function(){function t(e,r){var n,i;this.animationDuration=xt(e,Khe,r.animationDuration),this.backgroundClip=xt(e,vfe,r.backgroundClip),this.backgroundColor=xt(e,bfe,r.backgroundColor),this.backgroundImage=xt(e,Ffe,r.backgroundImage),this.backgroundOrigin=xt(e,Ufe,r.backgroundOrigin),this.backgroundPosition=xt(e,Ofe,r.backgroundPosition),this.backgroundRepeat=xt(e,Lfe,r.backgroundRepeat),this.backgroundSize=xt(e,Ife,r.backgroundSize),this.borderTopColor=xt(e,Mfe,r.borderTopColor),this.borderRightColor=xt(e,Qfe,r.borderRightColor),this.borderBottomColor=xt(e,Hfe,r.borderBottomColor),this.borderLeftColor=xt(e,jfe,r.borderLeftColor),this.borderTopLeftRadius=xt(e,Pfe,r.borderTopLeftRadius),this.borderTopRightRadius=xt(e,zfe,r.borderTopRightRadius),this.borderBottomRightRadius=xt(e,Kfe,r.borderBottomRightRadius),this.borderBottomLeftRadius=xt(e,Vfe,r.borderBottomLeftRadius),this.borderTopStyle=xt(e,qfe,r.borderTopStyle),this.borderRightStyle=xt(e,Gfe,r.borderRightStyle),this.borderBottomStyle=xt(e,Wfe,r.borderBottomStyle),this.borderLeftStyle=xt(e,$fe,r.borderLeftStyle),this.borderTopWidth=xt(e,Yfe,r.borderTopWidth),this.borderRightWidth=xt(e,Jfe,r.borderRightWidth),this.borderBottomWidth=xt(e,Xfe,r.borderBottomWidth),this.borderLeftWidth=xt(e,Zfe,r.borderLeftWidth),this.boxShadow=xt(e,qhe,r.boxShadow),this.color=xt(e,ehe,r.color),this.direction=xt(e,the,r.direction),this.display=xt(e,rhe,r.display),this.float=xt(e,ihe,r.cssFloat),this.fontFamily=xt(e,Ihe,r.fontFamily),this.fontSize=xt(e,Rhe,r.fontSize),this.fontStyle=xt(e,Hhe,r.fontStyle),this.fontVariant=xt(e,Qhe,r.fontVariant),this.fontWeight=xt(e,Mhe,r.fontWeight),this.letterSpacing=xt(e,she,r.letterSpacing),this.lineBreak=xt(e,ahe,r.lineBreak),this.lineHeight=xt(e,ohe,r.lineHeight),this.listStyleImage=xt(e,lhe,r.listStyleImage),this.listStylePosition=xt(e,Ahe,r.listStylePosition),this.listStyleType=xt(e,RS,r.listStyleType),this.marginTop=xt(e,che,r.marginTop),this.marginRight=xt(e,uhe,r.marginRight),this.marginBottom=xt(e,fhe,r.marginBottom),this.marginLeft=xt(e,hhe,r.marginLeft),this.opacity=xt(e,Ohe,r.opacity);var s=xt(e,dhe,r.overflow);this.overflowX=s[0],this.overflowY=s[s.length>1?1:0],this.overflowWrap=xt(e,phe,r.overflowWrap),this.paddingTop=xt(e,mhe,r.paddingTop),this.paddingRight=xt(e,ghe,r.paddingRight),this.paddingBottom=xt(e,yhe,r.paddingBottom),this.paddingLeft=xt(e,whe,r.paddingLeft),this.paintOrder=xt(e,Ghe,r.paintOrder),this.position=xt(e,bhe,r.position),this.textAlign=xt(e,vhe,r.textAlign),this.textDecorationColor=xt(e,Lhe,(n=r.textDecorationColor)!==null&&n!==void 0?n:r.color),this.textDecorationLine=xt(e,Dhe,(i=r.textDecorationLine)!==null&&i!==void 0?i:r.textDecoration),this.textShadow=xt(e,xhe,r.textShadow),this.textTransform=xt(e,Bhe,r.textTransform),this.transform=xt(e,Che,r.transform),this.transformOrigin=xt(e,The,r.transformOrigin),this.visibility=xt(e,Nhe,r.visibility),this.webkitTextStrokeColor=xt(e,Whe,r.webkitTextStrokeColor),this.webkitTextStrokeWidth=xt(e,$he,r.webkitTextStrokeWidth),this.wordBreak=xt(e,Fhe,r.wordBreak),this.zIndex=xt(e,Uhe,r.zIndex)}return t.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},t.prototype.isTransparent=function(){return xu(this.backgroundColor)},t.prototype.isTransformed=function(){return this.transform!==null},t.prototype.isPositioned=function(){return this.position!==0},t.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},t.prototype.isFloating=function(){return this.float!==0},t.prototype.isInlineLevel=function(){return Pi(this.display,4)||Pi(this.display,33554432)||Pi(this.display,268435456)||Pi(this.display,536870912)||Pi(this.display,67108864)||Pi(this.display,134217728)},t})(),Jhe=(function(){function t(e,r){this.content=xt(e,jhe,r.content),this.quotes=xt(e,Vhe,r.quotes)}return t})(),tL=(function(){function t(e,r){this.counterIncrement=xt(e,Phe,r.counterIncrement),this.counterReset=xt(e,zhe,r.counterReset)}return t})(),xt=function(t,e,r){var n=new uH,i=r!==null&&typeof r<"u"?r.toString():e.initialValue;n.write(i);var s=new fH(n.read());switch(e.type){case 2:var a=s.parseComponentValue();return e.parse(t,an(a)?a.value:e.initialValue);case 0:return e.parse(t,s.parseComponentValue());case 1:return e.parse(t,s.parseComponentValues());case 4:return s.parseComponentValue();case 3:switch(e.format){case"angle":return Rv.parse(t,s.parseComponentValue());case"color":return bu.parse(t,s.parseComponentValue());case"image":return S_.parse(t,s.parseComponentValue());case"length":var o=s.parseComponentValue();return ku(o)?o:Cs;case"length-percentage":var l=s.parseComponentValue();return ki(l)?l:Cs;case"time":return NH.parse(t,s.parseComponentValue())}break}},Xhe="data-html2canvas-debug",Zhe=function(t){var e=t.getAttribute(Xhe);switch(e){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},MS=function(t,e){var r=Zhe(t);return r===1||e===r},lA=(function(){function t(e,r){if(this.context=e,this.textNodes=[],this.elements=[],this.flags=0,MS(r,3))debugger;this.styles=new Yhe(e,window.getComputedStyle(r,null)),jS(r)&&(this.styles.animationDuration.some(function(n){return n>0})&&(r.style.animationDuration="0s"),this.styles.transform!==null&&(r.style.transform="none")),this.bounds=Dv(this.context,r),MS(r,4)&&(this.flags|=16)}return t})(),ede="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",rL="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Im=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var i1=0;i1<rL.length;i1++)Im[rL.charCodeAt(i1)]=i1;var tde=function(t){var e=t.length*.75,r=t.length,n,i=0,s,a,o,l;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var c=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),f=Array.isArray(c)?c:new Uint8Array(c);for(n=0;n<r;n+=4)s=Im[t.charCodeAt(n)],a=Im[t.charCodeAt(n+1)],o=Im[t.charCodeAt(n+2)],l=Im[t.charCodeAt(n+3)],f[i++]=s<<2|a>>4,f[i++]=(a&15)<<4|o>>2,f[i++]=(o&3)<<6|l&63;return c},rde=function(t){for(var e=t.length,r=[],n=0;n<e;n+=2)r.push(t[n+1]<<8|t[n]);return r},nde=function(t){for(var e=t.length,r=[],n=0;n<e;n+=4)r.push(t[n+3]<<24|t[n+2]<<16|t[n+1]<<8|t[n]);return r},Vf=5,E_=11,CB=2,ide=E_-Vf,FH=65536>>Vf,sde=1<<Vf,SB=sde-1,ade=1024>>Vf,ode=FH+ade,lde=ode,Ade=32,cde=lde+Ade,ude=65536>>E_,fde=1<<ide,hde=fde-1,nL=function(t,e,r){return t.slice?t.slice(e,r):new Uint16Array(Array.prototype.slice.call(t,e,r))},dde=function(t,e,r){return t.slice?t.slice(e,r):new Uint32Array(Array.prototype.slice.call(t,e,r))},pde=function(t,e){var r=tde(t),n=Array.isArray(r)?nde(r):new Uint32Array(r),i=Array.isArray(r)?rde(r):new Uint16Array(r),s=24,a=nL(i,s/2,n[4]/2),o=n[5]===2?nL(i,(s+n[4])/2):dde(n,Math.ceil((s+n[4])/4));return new mde(n[0],n[1],n[2],n[3],a,o)},mde=(function(){function t(e,r,n,i,s,a){this.initialValue=e,this.errorValue=r,this.highStart=n,this.highValueIndex=i,this.index=s,this.data=a}return t.prototype.get=function(e){var r;if(e>=0){if(e<55296||e>56319&&e<=65535)return r=this.index[e>>Vf],r=(r<<CB)+(e&SB),this.data[r];if(e<=65535)return r=this.index[FH+(e-55296>>Vf)],r=(r<<CB)+(e&SB),this.data[r];if(e<this.highStart)return r=cde-ude+(e>>E_),r=this.index[r],r+=e>>Vf&hde,r=this.index[r],r=(r<<CB)+(e&SB),this.data[r];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t})(),iL="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",gde=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var s1=0;s1<iL.length;s1++)gde[iL.charCodeAt(s1)]=s1;var yde=1,EB=2,_B=3,sL=4,aL=5,wde=7,oL=8,kB=9,TB=10,lL=11,AL=12,cL=13,uL=14,NB=15,vde=function(t){for(var e=[],r=0,n=t.length;r<n;){var i=t.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){var s=t.charCodeAt(r++);(s&64512)===56320?e.push(((i&1023)<<10)+(s&1023)+65536):(e.push(i),r--)}else e.push(i)}return e},bde=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var r=t.length;if(!r)return"";for(var n=[],i=-1,s="";++i<r;){var a=t[i];a<=65535?n.push(a):(a-=65536,n.push((a>>10)+55296,a%1024+56320)),(i+1===r||n.length>16384)&&(s+=String.fromCharCode.apply(String,n),n.length=0)}return s},xde=pde(ede),wo="",FB="",Bde=function(t){return xde.get(t)},Cde=function(t,e,r){var n=r-2,i=e[n],s=e[r-1],a=e[r];if(s===EB&&a===_B)return wo;if(s===EB||s===_B||s===sL||a===EB||a===_B||a===sL)return FB;if(s===oL&&[oL,kB,lL,AL].indexOf(a)!==-1||(s===lL||s===kB)&&(a===kB||a===TB)||(s===AL||s===TB)&&a===TB||a===cL||a===aL||a===wde||s===yde)return wo;if(s===cL&&a===uL){for(;i===aL;)i=e[--n];if(i===uL)return wo}if(s===NB&&a===NB){for(var o=0;i===NB;)o++,i=e[--n];if(o%2===0)return wo}return FB},Sde=function(t){var e=vde(t),r=e.length,n=0,i=0,s=e.map(Bde);return{next:function(){if(n>=r)return{done:!0,value:null};for(var a=wo;n<r&&(a=Cde(e,s,++n))===wo;);if(a!==wo||n===r){var o=bde.apply(null,e.slice(i,n));return i=n,{value:o,done:!1}}return{done:!0,value:null}}}},Ede=function(t){for(var e=Sde(t),r=[],n;!(n=e.next()).done;)n.value&&r.push(n.value.slice());return r},_de=function(t){var e=123;if(t.createRange){var r=t.createRange();if(r.getBoundingClientRect){var n=t.createElement("boundtest");n.style.height=e+"px",n.style.display="block",t.body.appendChild(n),r.selectNode(n);var i=r.getBoundingClientRect(),s=Math.round(i.height);if(t.body.removeChild(n),s===e)return!0}}return!1},kde=function(t){var e=t.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",t.body.appendChild(e);var r=t.createRange();e.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var n=e.firstChild,i=Iv(n.data).map(function(l){return di(l)}),s=0,a={},o=i.every(function(l,c){r.setStart(n,s),r.setEnd(n,s+l.length);var f=r.getBoundingClientRect();s+=l.length;var h=f.x>a.x||f.y>a.y;return a=f,c===0?!0:h});return t.body.removeChild(e),o},Tde=function(){return typeof new Image().crossOrigin<"u"},Nde=function(){return typeof new XMLHttpRequest().responseType=="string"},Fde=function(t){var e=new Image,r=t.createElement("canvas"),n=r.getContext("2d");if(!n)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{n.drawImage(e,0,0),r.toDataURL()}catch{return!1}return!0},fL=function(t){return t[0]===0&&t[1]===255&&t[2]===0&&t[3]===255},Ude=function(t){var e=t.createElement("canvas"),r=100;e.width=r,e.height=r;var n=e.getContext("2d");if(!n)return Promise.reject(!1);n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,r,r);var i=new Image,s=e.toDataURL();i.src=s;var a=QS(r,r,0,0,i);return n.fillStyle="red",n.fillRect(0,0,r,r),hL(a).then(function(o){n.drawImage(o,0,0);var l=n.getImageData(0,0,r,r).data;n.fillStyle="red",n.fillRect(0,0,r,r);var c=t.createElement("div");return c.style.backgroundImage="url("+s+")",c.style.height=r+"px",fL(l)?hL(QS(r,r,0,0,c)):Promise.reject(!1)}).then(function(o){return n.drawImage(o,0,0),fL(n.getImageData(0,0,r,r).data)}).catch(function(){return!1})},QS=function(t,e,r,n,i){var s="http://www.w3.org/2000/svg",a=document.createElementNS(s,"svg"),o=document.createElementNS(s,"foreignObject");return a.setAttributeNS(null,"width",t.toString()),a.setAttributeNS(null,"height",e.toString()),o.setAttributeNS(null,"width","100%"),o.setAttributeNS(null,"height","100%"),o.setAttributeNS(null,"x",r.toString()),o.setAttributeNS(null,"y",n.toString()),o.setAttributeNS(null,"externalResourcesRequired","true"),a.appendChild(o),o.appendChild(i),a},hL=function(t){return new Promise(function(e,r){var n=new Image;n.onload=function(){return e(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},ws={get SUPPORT_RANGE_BOUNDS(){var t=_de(document);return Object.defineProperty(ws,"SUPPORT_RANGE_BOUNDS",{value:t}),t},get SUPPORT_WORD_BREAKING(){var t=ws.SUPPORT_RANGE_BOUNDS&&kde(document);return Object.defineProperty(ws,"SUPPORT_WORD_BREAKING",{value:t}),t},get SUPPORT_SVG_DRAWING(){var t=Fde(document);return Object.defineProperty(ws,"SUPPORT_SVG_DRAWING",{value:t}),t},get SUPPORT_FOREIGNOBJECT_DRAWING(){var t=typeof Array.from=="function"&&typeof window.fetch=="function"?Ude(document):Promise.resolve(!1);return Object.defineProperty(ws,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:t}),t},get SUPPORT_CORS_IMAGES(){var t=Tde();return Object.defineProperty(ws,"SUPPORT_CORS_IMAGES",{value:t}),t},get SUPPORT_RESPONSE_TYPE(){var t=Nde();return Object.defineProperty(ws,"SUPPORT_RESPONSE_TYPE",{value:t}),t},get SUPPORT_CORS_XHR(){var t="withCredentials"in new XMLHttpRequest;return Object.defineProperty(ws,"SUPPORT_CORS_XHR",{value:t}),t},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var t=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(ws,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:t}),t}},sg=(function(){function t(e,r){this.text=e,this.bounds=r}return t})(),Ode=function(t,e,r,n){var i=Ide(e,r),s=[],a=0;return i.forEach(function(o){if(r.textDecorationLine.length||o.trim().length>0)if(ws.SUPPORT_RANGE_BOUNDS){var l=dL(n,a,o.length).getClientRects();if(l.length>1){var c=__(o),f=0;c.forEach(function(m){s.push(new sg(m,nc.fromDOMRectList(t,dL(n,f+a,m.length).getClientRects()))),f+=m.length})}else s.push(new sg(o,nc.fromDOMRectList(t,l)))}else{var h=n.splitText(o.length);s.push(new sg(o,Lde(t,n))),n=h}else ws.SUPPORT_RANGE_BOUNDS||(n=n.splitText(o.length));a+=o.length}),s},Lde=function(t,e){var r=e.ownerDocument;if(r){var n=r.createElement("html2canvaswrapper");n.appendChild(e.cloneNode(!0));var i=e.parentNode;if(i){i.replaceChild(n,e);var s=Dv(t,n);return n.firstChild&&i.replaceChild(n.firstChild,n),s}}return nc.EMPTY},dL=function(t,e,r){var n=t.ownerDocument;if(!n)throw new Error("Node has no owner document");var i=n.createRange();return i.setStart(t,e),i.setEnd(t,e+r),i},__=function(t){if(ws.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(t)).map(function(r){return r.segment})}return Ede(t)},Dde=function(t,e){if(ws.SUPPORT_NATIVE_TEXT_SEGMENTATION){var r=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(r.segment(t)).map(function(n){return n.segment})}return Mde(t,e)},Ide=function(t,e){return e.letterSpacing!==0?__(t):Dde(t,e)},Rde=[32,160,4961,65792,65793,4153,4241],Mde=function(t,e){for(var r=uue(t,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap==="break-word"?"break-word":e.wordBreak}),n=[],i,s=function(){if(i.value){var a=i.value.slice(),o=Iv(a),l="";o.forEach(function(c){Rde.indexOf(c)===-1?l+=di(c):(l.length&&n.push(l),n.push(di(c)),l="")}),l.length&&n.push(l)}};!(i=r.next()).done;)s();return n},Qde=(function(){function t(e,r,n){this.text=Hde(r.data,n.textTransform),this.textBounds=Ode(e,this.text,n,r)}return t})(),Hde=function(t,e){switch(e){case 1:return t.toLowerCase();case 3:return t.replace(jde,Pde);case 2:return t.toUpperCase();default:return t}},jde=/(^|\s|:|-|\(|\))([a-z])/g,Pde=function(t,e,r){return t.length>0?e+r.toUpperCase():t},UH=(function(t){wl(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.src=n.currentSrc||n.src,i.intrinsicWidth=n.naturalWidth,i.intrinsicHeight=n.naturalHeight,i.context.cache.addImage(i.src),i}return e})(lA),OH=(function(t){wl(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.canvas=n,i.intrinsicWidth=n.width,i.intrinsicHeight=n.height,i}return e})(lA),LH=(function(t){wl(e,t);function e(r,n){var i=t.call(this,r,n)||this,s=new XMLSerializer,a=Dv(r,n);return n.setAttribute("width",a.width+"px"),n.setAttribute("height",a.height+"px"),i.svg="data:image/svg+xml,"+encodeURIComponent(s.serializeToString(n)),i.intrinsicWidth=n.width.baseVal.value,i.intrinsicHeight=n.height.baseVal.value,i.context.cache.addImage(i.svg),i}return e})(lA),DH=(function(t){wl(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.value=n.value,i}return e})(lA),HS=(function(t){wl(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.start=n.start,i.reversed=typeof n.reversed=="boolean"&&n.reversed===!0,i}return e})(lA),zde=[{type:15,flags:0,unit:"px",number:3}],Kde=[{type:16,flags:0,number:50}],Vde=function(t){return t.width>t.height?new nc(t.left+(t.width-t.height)/2,t.top,t.height,t.height):t.width<t.height?new nc(t.left,t.top+(t.height-t.width)/2,t.width,t.width):t},qde=function(t){var e=t.type===Gde?new Array(t.value.length+1).join(""):t.value;return e.length===0?t.placeholder||"":e},Qw="checkbox",Hw="radio",Gde="password",pL=707406591,k_=(function(t){wl(e,t);function e(r,n){var i=t.call(this,r,n)||this;switch(i.type=n.type.toLowerCase(),i.checked=n.checked,i.value=qde(n),(i.type===Qw||i.type===Hw)&&(i.styles.backgroundColor=3739148031,i.styles.borderTopColor=i.styles.borderRightColor=i.styles.borderBottomColor=i.styles.borderLeftColor=2779096575,i.styles.borderTopWidth=i.styles.borderRightWidth=i.styles.borderBottomWidth=i.styles.borderLeftWidth=1,i.styles.borderTopStyle=i.styles.borderRightStyle=i.styles.borderBottomStyle=i.styles.borderLeftStyle=1,i.styles.backgroundClip=[0],i.styles.backgroundOrigin=[0],i.bounds=Vde(i.bounds)),i.type){case Qw:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=zde;break;case Hw:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=Kde;break}return i}return e})(lA),IH=(function(t){wl(e,t);function e(r,n){var i=t.call(this,r,n)||this,s=n.options[n.selectedIndex||0];return i.value=s&&s.text||"",i}return e})(lA),RH=(function(t){wl(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.value=n.value,i}return e})(lA),MH=(function(t){wl(e,t);function e(r,n){var i=t.call(this,r,n)||this;i.src=n.src,i.width=parseInt(n.width,10)||0,i.height=parseInt(n.height,10)||0,i.backgroundColor=i.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){i.tree=HH(r,n.contentWindow.document.documentElement);var s=n.contentWindow.document.documentElement?ng(r,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):rc.TRANSPARENT,a=n.contentWindow.document.body?ng(r,getComputedStyle(n.contentWindow.document.body).backgroundColor):rc.TRANSPARENT;i.backgroundColor=xu(s)?xu(a)?i.styles.backgroundColor:a:s}}catch{}return i}return e})(lA),Wde=["OL","UL","MENU"],T1=function(t,e,r,n){for(var i=e.firstChild,s=void 0;i;i=s)if(s=i.nextSibling,jH(i)&&i.data.trim().length>0)r.textNodes.push(new Qde(t,i,r.styles));else if(Hd(i))if(VH(i)&&i.assignedNodes)i.assignedNodes().forEach(function(o){return T1(t,o,r,n)});else{var a=QH(t,i);a.styles.isVisible()&&($de(i,a,n)?a.flags|=4:Yde(a.styles)&&(a.flags|=2),Wde.indexOf(i.tagName)!==-1&&(a.flags|=8),r.elements.push(a),i.slot,i.shadowRoot?T1(t,i.shadowRoot,a,n):!jw(i)&&!PH(i)&&!Pw(i)&&T1(t,i,a,n))}},QH=function(t,e){return PS(e)?new UH(t,e):zH(e)?new OH(t,e):PH(e)?new LH(t,e):Jde(e)?new DH(t,e):Xde(e)?new HS(t,e):Zde(e)?new k_(t,e):Pw(e)?new IH(t,e):jw(e)?new RH(t,e):KH(e)?new MH(t,e):new lA(t,e)},HH=function(t,e){var r=QH(t,e);return r.flags|=4,T1(t,e,r,r),r},$de=function(t,e,r){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||T_(t)&&r.styles.isTransparent()},Yde=function(t){return t.isPositioned()||t.isFloating()},jH=function(t){return t.nodeType===Node.TEXT_NODE},Hd=function(t){return t.nodeType===Node.ELEMENT_NODE},jS=function(t){return Hd(t)&&typeof t.style<"u"&&!N1(t)},N1=function(t){return typeof t.className=="object"},Jde=function(t){return t.tagName==="LI"},Xde=function(t){return t.tagName==="OL"},Zde=function(t){return t.tagName==="INPUT"},epe=function(t){return t.tagName==="HTML"},PH=function(t){return t.tagName==="svg"},T_=function(t){return t.tagName==="BODY"},zH=function(t){return t.tagName==="CANVAS"},mL=function(t){return t.tagName==="VIDEO"},PS=function(t){return t.tagName==="IMG"},KH=function(t){return t.tagName==="IFRAME"},gL=function(t){return t.tagName==="STYLE"},tpe=function(t){return t.tagName==="SCRIPT"},jw=function(t){return t.tagName==="TEXTAREA"},Pw=function(t){return t.tagName==="SELECT"},VH=function(t){return t.tagName==="SLOT"},yL=function(t){return t.tagName.indexOf("-")>0},rpe=(function(){function t(){this.counters={}}return t.prototype.getCounterValue=function(e){var r=this.counters[e];return r&&r.length?r[r.length-1]:1},t.prototype.getCounterValues=function(e){var r=this.counters[e];return r||[]},t.prototype.pop=function(e){var r=this;e.forEach(function(n){return r.counters[n].pop()})},t.prototype.parse=function(e){var r=this,n=e.counterIncrement,i=e.counterReset,s=!0;n!==null&&n.forEach(function(o){var l=r.counters[o.counter];l&&o.increment!==0&&(s=!1,l.length||l.push(1),l[Math.max(0,l.length-1)]+=o.increment)});var a=[];return s&&i.forEach(function(o){var l=r.counters[o.counter];a.push(o.counter),l||(l=r.counters[o.counter]=[]),l.push(o.reset)}),a},t})(),wL={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},vL={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},npe={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},ipe={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},md=function(t,e,r,n,i,s){return t<e||t>r?Dg(t,i,s.length>0):n.integers.reduce(function(a,o,l){for(;t>=o;)t-=o,a+=n.values[l];return a},"")+s},qH=function(t,e,r,n){var i="";do r||t--,i=n(t)+i,t/=e;while(t*e>=e);return i},hi=function(t,e,r,n,i){var s=r-e+1;return(t<0?"-":"")+(qH(Math.abs(t),s,n,function(a){return di(Math.floor(a%s)+e)})+i)},xf=function(t,e,r){r===void 0&&(r=". ");var n=e.length;return qH(Math.abs(t),n,!1,function(i){return e[Math.floor(i%n)]})+r},Td=1,Yc=2,Jc=4,Rm=8,KA=function(t,e,r,n,i,s){if(t<-9999||t>9999)return Dg(t,4,i.length>0);var a=Math.abs(t),o=i;if(a===0)return e[0]+o;for(var l=0;a>0&&l<=4;l++){var c=a%10;c===0&&Pi(s,Td)&&o!==""?o=e[c]+o:c>1||c===1&&l===0||c===1&&l===1&&Pi(s,Yc)||c===1&&l===1&&Pi(s,Jc)&&t>100||c===1&&l>1&&Pi(s,Rm)?o=e[c]+(l>0?r[l-1]:"")+o:c===1&&l>0&&(o=r[l-1]+o),a=Math.floor(a/10)}return(t<0?n:"")+o},bL="",xL="",BL="",UB="",Dg=function(t,e,r){var n=r?". ":"",i=r?"":"",s=r?", ":"",a=r?" ":"";switch(e){case 0:return""+a;case 1:return""+a;case 2:return""+a;case 5:var o=hi(t,48,57,!0,n);return o.length<4?"0"+o:o;case 4:return xf(t,"",i);case 6:return md(t,1,3999,wL,3,n).toLowerCase();case 7:return md(t,1,3999,wL,3,n);case 8:return hi(t,945,969,!1,n);case 9:return hi(t,97,122,!1,n);case 10:return hi(t,65,90,!1,n);case 11:return hi(t,1632,1641,!0,n);case 12:case 49:return md(t,1,9999,vL,3,n);case 35:return md(t,1,9999,vL,3,n).toLowerCase();case 13:return hi(t,2534,2543,!0,n);case 14:case 30:return hi(t,6112,6121,!0,n);case 15:return xf(t,"",i);case 16:return xf(t,"",i);case 17:case 48:return KA(t,"",bL,"",i,Yc|Jc|Rm);case 47:return KA(t,"",xL,"",i,Td|Yc|Jc|Rm);case 42:return KA(t,"",bL,"",i,Yc|Jc|Rm);case 41:return KA(t,"",xL,"",i,Td|Yc|Jc|Rm);case 26:return KA(t,"","",BL,i,0);case 25:return KA(t,"","",BL,i,Td|Yc|Jc);case 31:return KA(t,"","",UB,s,Td|Yc|Jc);case 33:return KA(t,"","",UB,s,0);case 32:return KA(t,"","",UB,s,Td|Yc|Jc);case 18:return hi(t,2406,2415,!0,n);case 20:return md(t,1,19999,ipe,3,n);case 21:return hi(t,2790,2799,!0,n);case 22:return hi(t,2662,2671,!0,n);case 22:return md(t,1,10999,npe,3,n);case 23:return xf(t,"");case 24:return xf(t,"");case 27:return hi(t,3302,3311,!0,n);case 28:return xf(t,"",i);case 29:return xf(t,"",i);case 34:return hi(t,3792,3801,!0,n);case 37:return hi(t,6160,6169,!0,n);case 38:return hi(t,4160,4169,!0,n);case 39:return hi(t,2918,2927,!0,n);case 40:return hi(t,1776,1785,!0,n);case 43:return hi(t,3046,3055,!0,n);case 44:return hi(t,3174,3183,!0,n);case 45:return hi(t,3664,3673,!0,n);case 46:return hi(t,3872,3881,!0,n);default:return hi(t,48,57,!0,n)}},GH="data-html2canvas-ignore",CL=(function(){function t(e,r,n){if(this.context=e,this.options=n,this.scrolledElements=[],this.referenceElement=r,this.counters=new rpe,this.quoteDepth=0,!r.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(r.ownerDocument.documentElement,!1)}return t.prototype.toIFrame=function(e,r){var n=this,i=spe(e,r);if(!i.contentWindow)return Promise.reject("Unable to find iframe window");var s=e.defaultView.pageXOffset,a=e.defaultView.pageYOffset,o=i.contentWindow,l=o.document,c=lpe(i).then(function(){return Js(n,void 0,void 0,function(){var f,h;return Ds(this,function(m){switch(m.label){case 0:return this.scrolledElements.forEach(fpe),o&&(o.scrollTo(r.left,r.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(o.scrollY!==r.top||o.scrollX!==r.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(o.scrollX-r.left,o.scrollY-r.top,0,0))),f=this.options.onclone,h=this.clonedReferenceElement,typeof h>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:l.fonts&&l.fonts.ready?[4,l.fonts.ready]:[3,2];case 1:m.sent(),m.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,ope(l)]:[3,4];case 3:m.sent(),m.label=4;case 4:return typeof f=="function"?[2,Promise.resolve().then(function(){return f(l,h)}).then(function(){return i})]:[2,i]}})})});return l.open(),l.write(cpe(document.doctype)+"<html></html>"),upe(this.referenceElement.ownerDocument,s,a),l.replaceChild(l.adoptNode(this.documentElement),l.documentElement),l.close(),c},t.prototype.createElementClone=function(e){if(MS(e,2))debugger;if(zH(e))return this.createCanvasClone(e);if(mL(e))return this.createVideoClone(e);if(gL(e))return this.createStyleClone(e);var r=e.cloneNode(!1);return PS(r)&&(PS(e)&&e.currentSrc&&e.currentSrc!==e.src&&(r.src=e.currentSrc,r.srcset=""),r.loading==="lazy"&&(r.loading="eager")),yL(r)?this.createCustomElementClone(r):r},t.prototype.createCustomElementClone=function(e){var r=document.createElement("html2canvascustomelement");return OB(e.style,r),r},t.prototype.createStyleClone=function(e){try{var r=e.sheet;if(r&&r.cssRules){var n=[].slice.call(r.cssRules,0).reduce(function(s,a){return a&&typeof a.cssText=="string"?s+a.cssText:s},""),i=e.cloneNode(!1);return i.textContent=n,i}}catch(s){if(this.context.logger.error("Unable to access cssRules property",s),s.name!=="SecurityError")throw s}return e.cloneNode(!1)},t.prototype.createCanvasClone=function(e){var r;if(this.options.inlineImages&&e.ownerDocument){var n=e.ownerDocument.createElement("img");try{return n.src=e.toDataURL(),n}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var i=e.cloneNode(!1);try{i.width=e.width,i.height=e.height;var s=e.getContext("2d"),a=i.getContext("2d");if(a)if(!this.options.allowTaint&&s)a.putImageData(s.getImageData(0,0,e.width,e.height),0,0);else{var o=(r=e.getContext("webgl2"))!==null&&r!==void 0?r:e.getContext("webgl");if(o){var l=o.getContextAttributes();l?.preserveDrawingBuffer===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}a.drawImage(e,0,0)}return i}catch{this.context.logger.info("Unable to clone canvas as it is tainted",e)}return i},t.prototype.createVideoClone=function(e){var r=e.ownerDocument.createElement("canvas");r.width=e.offsetWidth,r.height=e.offsetHeight;var n=r.getContext("2d");try{return n&&(n.drawImage(e,0,0,r.width,r.height),this.options.allowTaint||n.getImageData(0,0,r.width,r.height)),r}catch{this.context.logger.info("Unable to clone video as it is tainted",e)}var i=e.ownerDocument.createElement("canvas");return i.width=e.offsetWidth,i.height=e.offsetHeight,i},t.prototype.appendChildNode=function(e,r,n){(!Hd(r)||!tpe(r)&&!r.hasAttribute(GH)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(r)))&&(!this.options.copyStyles||!Hd(r)||!gL(r))&&e.appendChild(this.cloneNode(r,n))},t.prototype.cloneChildNodes=function(e,r,n){for(var i=this,s=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;s;s=s.nextSibling)if(Hd(s)&&VH(s)&&typeof s.assignedNodes=="function"){var a=s.assignedNodes();a.length&&a.forEach(function(o){return i.appendChildNode(r,o,n)})}else this.appendChildNode(r,s,n)},t.prototype.cloneNode=function(e,r){if(jH(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var n=e.ownerDocument.defaultView;if(n&&Hd(e)&&(jS(e)||N1(e))){var i=this.createElementClone(e);i.style.transitionProperty="none";var s=n.getComputedStyle(e),a=n.getComputedStyle(e,":before"),o=n.getComputedStyle(e,":after");this.referenceElement===e&&jS(i)&&(this.clonedReferenceElement=i),T_(i)&&ppe(i);var l=this.counters.parse(new tL(this.context,s)),c=this.resolvePseudoContent(e,i,a,ag.BEFORE);yL(e)&&(r=!0),mL(e)||this.cloneChildNodes(e,i,r),c&&i.insertBefore(c,i.firstChild);var f=this.resolvePseudoContent(e,i,o,ag.AFTER);return f&&i.appendChild(f),this.counters.pop(l),(s&&(this.options.copyStyles||N1(e))&&!KH(e)||r)&&OB(s,i),(e.scrollTop!==0||e.scrollLeft!==0)&&this.scrolledElements.push([i,e.scrollLeft,e.scrollTop]),(jw(e)||Pw(e))&&(jw(i)||Pw(i))&&(i.value=e.value),i}return e.cloneNode(!1)},t.prototype.resolvePseudoContent=function(e,r,n,i){var s=this;if(n){var a=n.content,o=r.ownerDocument;if(!(!o||!a||a==="none"||a==="-moz-alt-content"||n.display==="none")){this.counters.parse(new tL(this.context,n));var l=new Jhe(this.context,n),c=o.createElement("html2canvaspseudoelement");OB(n,c),l.content.forEach(function(h){if(h.type===0)c.appendChild(o.createTextNode(h.value));else if(h.type===22){var m=o.createElement("img");m.src=h.value,m.style.opacity="1",c.appendChild(m)}else if(h.type===18){if(h.name==="attr"){var d=h.values.filter(an);d.length&&c.appendChild(o.createTextNode(e.getAttribute(d[0].value)||""))}else if(h.name==="counter"){var g=h.values.filter(pp),v=g[0],b=g[1];if(v&&an(v)){var w=s.counters.getCounterValue(v.value),B=b&&an(b)?RS.parse(s.context,b.value):3;c.appendChild(o.createTextNode(Dg(w,B,!1)))}}else if(h.name==="counters"){var S=h.values.filter(pp),v=S[0],C=S[1],b=S[2];if(v&&an(v)){var k=s.counters.getCounterValues(v.value),M=b&&an(b)?RS.parse(s.context,b.value):3,D=C&&C.type===0?C.value:"",H=k.map(function(q){return Dg(q,M,!1)}).join(D);c.appendChild(o.createTextNode(H))}}}else if(h.type===20)switch(h.value){case"open-quote":c.appendChild(o.createTextNode(eL(l.quotes,s.quoteDepth++,!0)));break;case"close-quote":c.appendChild(o.createTextNode(eL(l.quotes,--s.quoteDepth,!1)));break;default:c.appendChild(o.createTextNode(h.value))}}),c.className=zS+" "+KS;var f=i===ag.BEFORE?" "+zS:" "+KS;return N1(r)?r.className.baseValue+=f:r.className+=f,c}}},t.destroy=function(e){return e.parentNode?(e.parentNode.removeChild(e),!0):!1},t})(),ag;(function(t){t[t.BEFORE=0]="BEFORE",t[t.AFTER=1]="AFTER"})(ag||(ag={}));var spe=function(t,e){var r=t.createElement("iframe");return r.className="html2canvas-container",r.style.visibility="hidden",r.style.position="fixed",r.style.left="-10000px",r.style.top="0px",r.style.border="0",r.width=e.width.toString(),r.height=e.height.toString(),r.scrolling="no",r.setAttribute(GH,"true"),t.body.appendChild(r),r},ape=function(t){return new Promise(function(e){if(t.complete){e();return}if(!t.src){e();return}t.onload=e,t.onerror=e})},ope=function(t){return Promise.all([].slice.call(t.images,0).map(ape))},lpe=function(t){return new Promise(function(e,r){var n=t.contentWindow;if(!n)return r("No window assigned for iframe");var i=n.document;n.onload=t.onload=function(){n.onload=t.onload=null;var s=setInterval(function(){i.body.childNodes.length>0&&i.readyState==="complete"&&(clearInterval(s),e(t))},50)}})},Ape=["all","d","content"],OB=function(t,e){for(var r=t.length-1;r>=0;r--){var n=t.item(r);Ape.indexOf(n)===-1&&e.style.setProperty(n,t.getPropertyValue(n))}return e},cpe=function(t){var e="";return t&&(e+="<!DOCTYPE ",t.name&&(e+=t.name),t.internalSubset&&(e+=t.internalSubset),t.publicId&&(e+='"'+t.publicId+'"'),t.systemId&&(e+='"'+t.systemId+'"'),e+=">"),e},upe=function(t,e,r){t&&t.defaultView&&(e!==t.defaultView.pageXOffset||r!==t.defaultView.pageYOffset)&&t.defaultView.scrollTo(e,r)},fpe=function(t){var e=t[0],r=t[1],n=t[2];e.scrollLeft=r,e.scrollTop=n},hpe=":before",dpe=":after",zS="___html2canvas___pseudoelement_before",KS="___html2canvas___pseudoelement_after",SL=`{
    content: "" !important;
    display: none !important;
}`,ppe=function(t){mpe(t,"."+zS+hpe+SL+`
         .`+KS+dpe+SL)},mpe=function(t,e){var r=t.ownerDocument;if(r){var n=r.createElement("style");n.textContent=e,t.appendChild(n)}},WH=(function(){function t(){}return t.getOrigin=function(e){var r=t._link;return r?(r.href=e,r.href=r.href,r.protocol+r.hostname+r.port):"about:blank"},t.isSameOrigin=function(e){return t.getOrigin(e)===t._origin},t.setContext=function(e){t._link=e.document.createElement("a"),t._origin=t.getOrigin(e.location.href)},t._origin="about:blank",t})(),gpe=(function(){function t(e,r){this.context=e,this._options=r,this._cache={}}return t.prototype.addImage=function(e){var r=Promise.resolve();return this.has(e)||(DB(e)||bpe(e))&&(this._cache[e]=this.loadImage(e)).catch(function(){}),r},t.prototype.match=function(e){return this._cache[e]},t.prototype.loadImage=function(e){return Js(this,void 0,void 0,function(){var r,n,i,s,a=this;return Ds(this,function(o){switch(o.label){case 0:return r=WH.isSameOrigin(e),n=!LB(e)&&this._options.useCORS===!0&&ws.SUPPORT_CORS_IMAGES&&!r,i=!LB(e)&&!r&&!DB(e)&&typeof this._options.proxy=="string"&&ws.SUPPORT_CORS_XHR&&!n,!r&&this._options.allowTaint===!1&&!LB(e)&&!DB(e)&&!i&&!n?[2]:(s=e,i?[4,this.proxy(s)]:[3,2]);case 1:s=o.sent(),o.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(l,c){var f=new Image;f.onload=function(){return l(f)},f.onerror=c,(xpe(s)||n)&&(f.crossOrigin="anonymous"),f.src=s,f.complete===!0&&setTimeout(function(){return l(f)},500),a._options.imageTimeout>0&&setTimeout(function(){return c("Timed out ("+a._options.imageTimeout+"ms) loading image")},a._options.imageTimeout)})];case 3:return[2,o.sent()]}})})},t.prototype.has=function(e){return typeof this._cache[e]<"u"},t.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},t.prototype.proxy=function(e){var r=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var i=e.substring(0,256);return new Promise(function(s,a){var o=ws.SUPPORT_RESPONSE_TYPE?"blob":"text",l=new XMLHttpRequest;l.onload=function(){if(l.status===200)if(o==="text")s(l.response);else{var h=new FileReader;h.addEventListener("load",function(){return s(h.result)},!1),h.addEventListener("error",function(m){return a(m)},!1),h.readAsDataURL(l.response)}else a("Failed to proxy resource "+i+" with status code "+l.status)},l.onerror=a;var c=n.indexOf("?")>-1?"&":"?";if(l.open("GET",""+n+c+"url="+encodeURIComponent(e)+"&responseType="+o),o!=="text"&&l instanceof XMLHttpRequest&&(l.responseType=o),r._options.imageTimeout){var f=r._options.imageTimeout;l.timeout=f,l.ontimeout=function(){return a("Timed out ("+f+"ms) proxying "+i)}}l.send()})},t})(),ype=/^data:image\/svg\+xml/i,wpe=/^data:image\/.*;base64,/i,vpe=/^data:image\/.*/i,bpe=function(t){return ws.SUPPORT_SVG_DRAWING||!Bpe(t)},LB=function(t){return vpe.test(t)},xpe=function(t){return wpe.test(t)},DB=function(t){return t.substr(0,4)==="blob"},Bpe=function(t){return t.substr(-3).toLowerCase()==="svg"||ype.test(t)},wt=(function(){function t(e,r){this.type=0,this.x=e,this.y=r}return t.prototype.add=function(e,r){return new t(this.x+e,this.y+r)},t})(),gd=function(t,e,r){return new wt(t.x+(e.x-t.x)*r,t.y+(e.y-t.y)*r)},a1=(function(){function t(e,r,n,i){this.type=1,this.start=e,this.startControl=r,this.endControl=n,this.end=i}return t.prototype.subdivide=function(e,r){var n=gd(this.start,this.startControl,e),i=gd(this.startControl,this.endControl,e),s=gd(this.endControl,this.end,e),a=gd(n,i,e),o=gd(i,s,e),l=gd(a,o,e);return r?new t(this.start,n,a,l):new t(l,o,s,this.end)},t.prototype.add=function(e,r){return new t(this.start.add(e,r),this.startControl.add(e,r),this.endControl.add(e,r),this.end.add(e,r))},t.prototype.reverse=function(){return new t(this.end,this.endControl,this.startControl,this.start)},t})(),bo=function(t){return t.type===1},Cpe=(function(){function t(e){var r=e.styles,n=e.bounds,i=Dm(r.borderTopLeftRadius,n.width,n.height),s=i[0],a=i[1],o=Dm(r.borderTopRightRadius,n.width,n.height),l=o[0],c=o[1],f=Dm(r.borderBottomRightRadius,n.width,n.height),h=f[0],m=f[1],d=Dm(r.borderBottomLeftRadius,n.width,n.height),g=d[0],v=d[1],b=[];b.push((s+l)/n.width),b.push((g+h)/n.width),b.push((a+v)/n.height),b.push((c+m)/n.height);var w=Math.max.apply(Math,b);w>1&&(s/=w,a/=w,l/=w,c/=w,h/=w,m/=w,g/=w,v/=w);var B=n.width-l,S=n.height-m,C=n.width-h,k=n.height-v,M=r.borderTopWidth,D=r.borderRightWidth,H=r.borderBottomWidth,F=r.borderLeftWidth,$=wn(r.paddingTop,e.bounds.width),q=wn(r.paddingRight,e.bounds.width),R=wn(r.paddingBottom,e.bounds.width),G=wn(r.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=s>0||a>0?Dn(n.left+F/3,n.top+M/3,s-F/3,a-M/3,Vr.TOP_LEFT):new wt(n.left+F/3,n.top+M/3),this.topRightBorderDoubleOuterBox=s>0||a>0?Dn(n.left+B,n.top+M/3,l-D/3,c-M/3,Vr.TOP_RIGHT):new wt(n.left+n.width-D/3,n.top+M/3),this.bottomRightBorderDoubleOuterBox=h>0||m>0?Dn(n.left+C,n.top+S,h-D/3,m-H/3,Vr.BOTTOM_RIGHT):new wt(n.left+n.width-D/3,n.top+n.height-H/3),this.bottomLeftBorderDoubleOuterBox=g>0||v>0?Dn(n.left+F/3,n.top+k,g-F/3,v-H/3,Vr.BOTTOM_LEFT):new wt(n.left+F/3,n.top+n.height-H/3),this.topLeftBorderDoubleInnerBox=s>0||a>0?Dn(n.left+F*2/3,n.top+M*2/3,s-F*2/3,a-M*2/3,Vr.TOP_LEFT):new wt(n.left+F*2/3,n.top+M*2/3),this.topRightBorderDoubleInnerBox=s>0||a>0?Dn(n.left+B,n.top+M*2/3,l-D*2/3,c-M*2/3,Vr.TOP_RIGHT):new wt(n.left+n.width-D*2/3,n.top+M*2/3),this.bottomRightBorderDoubleInnerBox=h>0||m>0?Dn(n.left+C,n.top+S,h-D*2/3,m-H*2/3,Vr.BOTTOM_RIGHT):new wt(n.left+n.width-D*2/3,n.top+n.height-H*2/3),this.bottomLeftBorderDoubleInnerBox=g>0||v>0?Dn(n.left+F*2/3,n.top+k,g-F*2/3,v-H*2/3,Vr.BOTTOM_LEFT):new wt(n.left+F*2/3,n.top+n.height-H*2/3),this.topLeftBorderStroke=s>0||a>0?Dn(n.left+F/2,n.top+M/2,s-F/2,a-M/2,Vr.TOP_LEFT):new wt(n.left+F/2,n.top+M/2),this.topRightBorderStroke=s>0||a>0?Dn(n.left+B,n.top+M/2,l-D/2,c-M/2,Vr.TOP_RIGHT):new wt(n.left+n.width-D/2,n.top+M/2),this.bottomRightBorderStroke=h>0||m>0?Dn(n.left+C,n.top+S,h-D/2,m-H/2,Vr.BOTTOM_RIGHT):new wt(n.left+n.width-D/2,n.top+n.height-H/2),this.bottomLeftBorderStroke=g>0||v>0?Dn(n.left+F/2,n.top+k,g-F/2,v-H/2,Vr.BOTTOM_LEFT):new wt(n.left+F/2,n.top+n.height-H/2),this.topLeftBorderBox=s>0||a>0?Dn(n.left,n.top,s,a,Vr.TOP_LEFT):new wt(n.left,n.top),this.topRightBorderBox=l>0||c>0?Dn(n.left+B,n.top,l,c,Vr.TOP_RIGHT):new wt(n.left+n.width,n.top),this.bottomRightBorderBox=h>0||m>0?Dn(n.left+C,n.top+S,h,m,Vr.BOTTOM_RIGHT):new wt(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=g>0||v>0?Dn(n.left,n.top+k,g,v,Vr.BOTTOM_LEFT):new wt(n.left,n.top+n.height),this.topLeftPaddingBox=s>0||a>0?Dn(n.left+F,n.top+M,Math.max(0,s-F),Math.max(0,a-M),Vr.TOP_LEFT):new wt(n.left+F,n.top+M),this.topRightPaddingBox=l>0||c>0?Dn(n.left+Math.min(B,n.width-D),n.top+M,B>n.width+D?0:Math.max(0,l-D),Math.max(0,c-M),Vr.TOP_RIGHT):new wt(n.left+n.width-D,n.top+M),this.bottomRightPaddingBox=h>0||m>0?Dn(n.left+Math.min(C,n.width-F),n.top+Math.min(S,n.height-H),Math.max(0,h-D),Math.max(0,m-H),Vr.BOTTOM_RIGHT):new wt(n.left+n.width-D,n.top+n.height-H),this.bottomLeftPaddingBox=g>0||v>0?Dn(n.left+F,n.top+Math.min(k,n.height-H),Math.max(0,g-F),Math.max(0,v-H),Vr.BOTTOM_LEFT):new wt(n.left+F,n.top+n.height-H),this.topLeftContentBox=s>0||a>0?Dn(n.left+F+G,n.top+M+$,Math.max(0,s-(F+G)),Math.max(0,a-(M+$)),Vr.TOP_LEFT):new wt(n.left+F+G,n.top+M+$),this.topRightContentBox=l>0||c>0?Dn(n.left+Math.min(B,n.width+F+G),n.top+M+$,B>n.width+F+G?0:l-F+G,c-(M+$),Vr.TOP_RIGHT):new wt(n.left+n.width-(D+q),n.top+M+$),this.bottomRightContentBox=h>0||m>0?Dn(n.left+Math.min(C,n.width-(F+G)),n.top+Math.min(S,n.height+M+$),Math.max(0,h-(D+q)),m-(H+R),Vr.BOTTOM_RIGHT):new wt(n.left+n.width-(D+q),n.top+n.height-(H+R)),this.bottomLeftContentBox=g>0||v>0?Dn(n.left+F+G,n.top+k,Math.max(0,g-(F+G)),v-(H+R),Vr.BOTTOM_LEFT):new wt(n.left+F+G,n.top+n.height-(H+R))}return t})(),Vr;(function(t){t[t.TOP_LEFT=0]="TOP_LEFT",t[t.TOP_RIGHT=1]="TOP_RIGHT",t[t.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",t[t.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(Vr||(Vr={}));var Dn=function(t,e,r,n,i){var s=4*((Math.sqrt(2)-1)/3),a=r*s,o=n*s,l=t+r,c=e+n;switch(i){case Vr.TOP_LEFT:return new a1(new wt(t,c),new wt(t,c-o),new wt(l-a,e),new wt(l,e));case Vr.TOP_RIGHT:return new a1(new wt(t,e),new wt(t+a,e),new wt(l,c-o),new wt(l,c));case Vr.BOTTOM_RIGHT:return new a1(new wt(l,e),new wt(l,e+o),new wt(t+a,c),new wt(t,c));case Vr.BOTTOM_LEFT:default:return new a1(new wt(l,c),new wt(l-a,c),new wt(t,e+o),new wt(t,e))}},zw=function(t){return[t.topLeftBorderBox,t.topRightBorderBox,t.bottomRightBorderBox,t.bottomLeftBorderBox]},Spe=function(t){return[t.topLeftContentBox,t.topRightContentBox,t.bottomRightContentBox,t.bottomLeftContentBox]},Kw=function(t){return[t.topLeftPaddingBox,t.topRightPaddingBox,t.bottomRightPaddingBox,t.bottomLeftPaddingBox]},Epe=(function(){function t(e,r,n){this.offsetX=e,this.offsetY=r,this.matrix=n,this.type=0,this.target=6}return t})(),o1=(function(){function t(e,r){this.path=e,this.target=r,this.type=1}return t})(),_pe=(function(){function t(e){this.opacity=e,this.type=2,this.target=6}return t})(),kpe=function(t){return t.type===0},$H=function(t){return t.type===1},Tpe=function(t){return t.type===2},EL=function(t,e){return t.length===e.length?t.some(function(r,n){return r===e[n]}):!1},Npe=function(t,e,r,n,i){return t.map(function(s,a){switch(a){case 0:return s.add(e,r);case 1:return s.add(e+n,r);case 2:return s.add(e+n,r+i);case 3:return s.add(e,r+i)}return s})},YH=(function(){function t(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return t})(),JH=(function(){function t(e,r){if(this.container=e,this.parent=r,this.effects=[],this.curves=new Cpe(this.container),this.container.styles.opacity<1&&this.effects.push(new _pe(this.container.styles.opacity)),this.container.styles.transform!==null){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,i=this.container.bounds.top+this.container.styles.transformOrigin[1].number,s=this.container.styles.transform;this.effects.push(new Epe(n,i,s))}if(this.container.styles.overflowX!==0){var a=zw(this.curves),o=Kw(this.curves);EL(a,o)?this.effects.push(new o1(a,6)):(this.effects.push(new o1(a,2)),this.effects.push(new o1(o,4)))}}return t.prototype.getEffects=function(e){for(var r=[2,3].indexOf(this.container.styles.position)===-1,n=this.parent,i=this.effects.slice(0);n;){var s=n.effects.filter(function(l){return!$H(l)});if(r||n.container.styles.position!==0||!n.parent){if(i.unshift.apply(i,s),r=[2,3].indexOf(n.container.styles.position)===-1,n.container.styles.overflowX!==0){var a=zw(n.curves),o=Kw(n.curves);EL(a,o)||i.unshift(new o1(o,6))}}else i.unshift.apply(i,s);n=n.parent}return i.filter(function(l){return Pi(l.target,e)})},t})(),VS=function(t,e,r,n){t.container.elements.forEach(function(i){var s=Pi(i.flags,4),a=Pi(i.flags,2),o=new JH(i,t);Pi(i.styles.display,2048)&&n.push(o);var l=Pi(i.flags,8)?[]:n;if(s||a){var c=s||i.styles.isPositioned()?r:e,f=new YH(o);if(i.styles.isPositioned()||i.styles.opacity<1||i.styles.isTransformed()){var h=i.styles.zIndex.order;if(h<0){var m=0;c.negativeZIndex.some(function(g,v){return h>g.element.container.styles.zIndex.order?(m=v,!1):m>0}),c.negativeZIndex.splice(m,0,f)}else if(h>0){var d=0;c.positiveZIndex.some(function(g,v){return h>=g.element.container.styles.zIndex.order?(d=v+1,!1):d>0}),c.positiveZIndex.splice(d,0,f)}else c.zeroOrAutoZIndexOrTransformedOrOpacity.push(f)}else i.styles.isFloating()?c.nonPositionedFloats.push(f):c.nonPositionedInlineLevel.push(f);VS(o,f,s?f:r,l)}else i.styles.isInlineLevel()?e.inlineLevel.push(o):e.nonInlineLevel.push(o),VS(o,e,r,l);Pi(i.flags,8)&&XH(i,l)})},XH=function(t,e){for(var r=t instanceof HS?t.start:1,n=t instanceof HS?t.reversed:!1,i=0;i<e.length;i++){var s=e[i];s.container instanceof DH&&typeof s.container.value=="number"&&s.container.value!==0&&(r=s.container.value),s.listValue=Dg(r,s.container.styles.listStyleType,!0),r+=n?-1:1}},Fpe=function(t){var e=new JH(t,null),r=new YH(e),n=[];return VS(e,r,r,n),XH(e.container,n),r},_L=function(t,e){switch(e){case 0:return Co(t.topLeftBorderBox,t.topLeftPaddingBox,t.topRightBorderBox,t.topRightPaddingBox);case 1:return Co(t.topRightBorderBox,t.topRightPaddingBox,t.bottomRightBorderBox,t.bottomRightPaddingBox);case 2:return Co(t.bottomRightBorderBox,t.bottomRightPaddingBox,t.bottomLeftBorderBox,t.bottomLeftPaddingBox);default:return Co(t.bottomLeftBorderBox,t.bottomLeftPaddingBox,t.topLeftBorderBox,t.topLeftPaddingBox)}},Upe=function(t,e){switch(e){case 0:return Co(t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox,t.topRightBorderBox,t.topRightBorderDoubleOuterBox);case 1:return Co(t.topRightBorderBox,t.topRightBorderDoubleOuterBox,t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox);case 2:return Co(t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox,t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox);default:return Co(t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox,t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox)}},Ope=function(t,e){switch(e){case 0:return Co(t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox,t.topRightBorderDoubleInnerBox,t.topRightPaddingBox);case 1:return Co(t.topRightBorderDoubleInnerBox,t.topRightPaddingBox,t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox);case 2:return Co(t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox,t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox);default:return Co(t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox,t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox)}},Lpe=function(t,e){switch(e){case 0:return l1(t.topLeftBorderStroke,t.topRightBorderStroke);case 1:return l1(t.topRightBorderStroke,t.bottomRightBorderStroke);case 2:return l1(t.bottomRightBorderStroke,t.bottomLeftBorderStroke);default:return l1(t.bottomLeftBorderStroke,t.topLeftBorderStroke)}},l1=function(t,e){var r=[];return bo(t)?r.push(t.subdivide(.5,!1)):r.push(t),bo(e)?r.push(e.subdivide(.5,!0)):r.push(e),r},Co=function(t,e,r,n){var i=[];return bo(t)?i.push(t.subdivide(.5,!1)):i.push(t),bo(r)?i.push(r.subdivide(.5,!0)):i.push(r),bo(n)?i.push(n.subdivide(.5,!0).reverse()):i.push(n),bo(e)?i.push(e.subdivide(.5,!1).reverse()):i.push(e),i},ZH=function(t){var e=t.bounds,r=t.styles;return e.add(r.borderLeftWidth,r.borderTopWidth,-(r.borderRightWidth+r.borderLeftWidth),-(r.borderTopWidth+r.borderBottomWidth))},Vw=function(t){var e=t.styles,r=t.bounds,n=wn(e.paddingLeft,r.width),i=wn(e.paddingRight,r.width),s=wn(e.paddingTop,r.width),a=wn(e.paddingBottom,r.width);return r.add(n+e.borderLeftWidth,s+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+n+i),-(e.borderTopWidth+e.borderBottomWidth+s+a))},Dpe=function(t,e){return t===0?e.bounds:t===2?Vw(e):ZH(e)},Ipe=function(t,e){return t===0?e.bounds:t===2?Vw(e):ZH(e)},IB=function(t,e,r){var n=Dpe(Nd(t.styles.backgroundOrigin,e),t),i=Ipe(Nd(t.styles.backgroundClip,e),t),s=Rpe(Nd(t.styles.backgroundSize,e),r,n),a=s[0],o=s[1],l=Dm(Nd(t.styles.backgroundPosition,e),n.width-a,n.height-o),c=Mpe(Nd(t.styles.backgroundRepeat,e),l,s,n,i),f=Math.round(n.left+l[0]),h=Math.round(n.top+l[1]);return[c,f,h,a,o]},yd=function(t){return an(t)&&t.value===Zd.AUTO},A1=function(t){return typeof t=="number"},Rpe=function(t,e,r){var n=e[0],i=e[1],s=e[2],a=t[0],o=t[1];if(!a)return[0,0];if(ki(a)&&o&&ki(o))return[wn(a,r.width),wn(o,r.height)];var l=A1(s);if(an(a)&&(a.value===Zd.CONTAIN||a.value===Zd.COVER)){if(A1(s)){var c=r.width/r.height;return c<s!=(a.value===Zd.COVER)?[r.width,r.width/s]:[r.height*s,r.height]}return[r.width,r.height]}var f=A1(n),h=A1(i),m=f||h;if(yd(a)&&(!o||yd(o))){if(f&&h)return[n,i];if(!l&&!m)return[r.width,r.height];if(m&&l){var d=f?n:i*s,g=h?i:n/s;return[d,g]}var v=f?n:r.width,b=h?i:r.height;return[v,b]}if(l){var w=0,B=0;return ki(a)?w=wn(a,r.width):ki(o)&&(B=wn(o,r.height)),yd(a)?w=B*s:(!o||yd(o))&&(B=w/s),[w,B]}var S=null,C=null;if(ki(a)?S=wn(a,r.width):o&&ki(o)&&(C=wn(o,r.height)),S!==null&&(!o||yd(o))&&(C=f&&h?S/n*i:r.height),C!==null&&yd(a)&&(S=f&&h?C/i*n:r.width),S!==null&&C!==null)return[S,C];throw new Error("Unable to calculate background-size for element")},Nd=function(t,e){var r=t[e];return typeof r>"u"?t[0]:r},Mpe=function(t,e,r,n,i){var s=e[0],a=e[1],o=r[0],l=r[1];switch(t){case 2:return[new wt(Math.round(n.left),Math.round(n.top+a)),new wt(Math.round(n.left+n.width),Math.round(n.top+a)),new wt(Math.round(n.left+n.width),Math.round(l+n.top+a)),new wt(Math.round(n.left),Math.round(l+n.top+a))];case 3:return[new wt(Math.round(n.left+s),Math.round(n.top)),new wt(Math.round(n.left+s+o),Math.round(n.top)),new wt(Math.round(n.left+s+o),Math.round(n.height+n.top)),new wt(Math.round(n.left+s),Math.round(n.height+n.top))];case 1:return[new wt(Math.round(n.left+s),Math.round(n.top+a)),new wt(Math.round(n.left+s+o),Math.round(n.top+a)),new wt(Math.round(n.left+s+o),Math.round(n.top+a+l)),new wt(Math.round(n.left+s),Math.round(n.top+a+l))];default:return[new wt(Math.round(i.left),Math.round(i.top)),new wt(Math.round(i.left+i.width),Math.round(i.top)),new wt(Math.round(i.left+i.width),Math.round(i.height+i.top)),new wt(Math.round(i.left),Math.round(i.height+i.top))]}},Qpe="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",kL="Hidden Text",Hpe=(function(){function t(e){this._data={},this._document=e}return t.prototype.parseMetrics=function(e,r){var n=this._document.createElement("div"),i=this._document.createElement("img"),s=this._document.createElement("span"),a=this._document.body;n.style.visibility="hidden",n.style.fontFamily=e,n.style.fontSize=r,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",a.appendChild(n),i.src=Qpe,i.width=1,i.height=1,i.style.margin="0",i.style.padding="0",i.style.verticalAlign="baseline",s.style.fontFamily=e,s.style.fontSize=r,s.style.margin="0",s.style.padding="0",s.appendChild(this._document.createTextNode(kL)),n.appendChild(s),n.appendChild(i);var o=i.offsetTop-s.offsetTop+2;n.removeChild(s),n.appendChild(this._document.createTextNode(kL)),n.style.lineHeight="normal",i.style.verticalAlign="super";var l=i.offsetTop-n.offsetTop+2;return a.removeChild(n),{baseline:o,middle:l}},t.prototype.getMetrics=function(e,r){var n=e+" "+r;return typeof this._data[n]>"u"&&(this._data[n]=this.parseMetrics(e,r)),this._data[n]},t})(),ej=(function(){function t(e,r){this.context=e,this.options=r}return t})(),jpe=1e4,Ppe=(function(t){wl(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i._activeEffects=[],i.canvas=n.canvas?n.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),n.canvas||(i.canvas.width=Math.floor(n.width*n.scale),i.canvas.height=Math.floor(n.height*n.scale),i.canvas.style.width=n.width+"px",i.canvas.style.height=n.height+"px"),i.fontMetrics=new Hpe(document),i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-n.x,-n.y),i.ctx.textBaseline="bottom",i._activeEffects=[],i.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),i}return e.prototype.applyEffects=function(r){for(var n=this;this._activeEffects.length;)this.popEffect();r.forEach(function(i){return n.applyEffect(i)})},e.prototype.applyEffect=function(r){this.ctx.save(),Tpe(r)&&(this.ctx.globalAlpha=r.opacity),kpe(r)&&(this.ctx.translate(r.offsetX,r.offsetY),this.ctx.transform(r.matrix[0],r.matrix[1],r.matrix[2],r.matrix[3],r.matrix[4],r.matrix[5]),this.ctx.translate(-r.offsetX,-r.offsetY)),$H(r)&&(this.path(r.path),this.ctx.clip()),this._activeEffects.push(r)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(r){return Js(this,void 0,void 0,function(){var n;return Ds(this,function(i){switch(i.label){case 0:return n=r.element.container.styles,n.isVisible()?[4,this.renderStackContent(r)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(r){return Js(this,void 0,void 0,function(){return Ds(this,function(n){switch(n.label){case 0:if(Pi(r.container.flags,16))debugger;return r.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(r)]:[3,3];case 1:return n.sent(),[4,this.renderNodeContent(r)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(r,n,i){var s=this;if(n===0)this.ctx.fillText(r.text,r.bounds.left,r.bounds.top+i);else{var a=__(r.text);a.reduce(function(o,l){return s.ctx.fillText(l,o,r.bounds.top+i),o+s.ctx.measureText(l).width},r.bounds.left)}},e.prototype.createFontStyle=function(r){var n=r.fontVariant.filter(function(a){return a==="normal"||a==="small-caps"}).join(""),i=Gpe(r.fontFamily).join(", "),s=t0(r.fontSize)?""+r.fontSize.number+r.fontSize.unit:r.fontSize.number+"px";return[[r.fontStyle,n,r.fontWeight,s,i].join(" "),i,s]},e.prototype.renderTextNode=function(r,n){return Js(this,void 0,void 0,function(){var i,s,a,o,l,c,f,h,m=this;return Ds(this,function(d){return i=this.createFontStyle(n),s=i[0],a=i[1],o=i[2],this.ctx.font=s,this.ctx.direction=n.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",l=this.fontMetrics.getMetrics(a,o),c=l.baseline,f=l.middle,h=n.paintOrder,r.textBounds.forEach(function(g){h.forEach(function(v){switch(v){case 0:m.ctx.fillStyle=Ji(n.color),m.renderTextWithLetterSpacing(g,n.letterSpacing,c);var b=n.textShadow;b.length&&g.text.trim().length&&(b.slice(0).reverse().forEach(function(w){m.ctx.shadowColor=Ji(w.color),m.ctx.shadowOffsetX=w.offsetX.number*m.options.scale,m.ctx.shadowOffsetY=w.offsetY.number*m.options.scale,m.ctx.shadowBlur=w.blur.number,m.renderTextWithLetterSpacing(g,n.letterSpacing,c)}),m.ctx.shadowColor="",m.ctx.shadowOffsetX=0,m.ctx.shadowOffsetY=0,m.ctx.shadowBlur=0),n.textDecorationLine.length&&(m.ctx.fillStyle=Ji(n.textDecorationColor||n.color),n.textDecorationLine.forEach(function(w){switch(w){case 1:m.ctx.fillRect(g.bounds.left,Math.round(g.bounds.top+c),g.bounds.width,1);break;case 2:m.ctx.fillRect(g.bounds.left,Math.round(g.bounds.top),g.bounds.width,1);break;case 3:m.ctx.fillRect(g.bounds.left,Math.ceil(g.bounds.top+f),g.bounds.width,1);break}}));break;case 1:n.webkitTextStrokeWidth&&g.text.trim().length&&(m.ctx.strokeStyle=Ji(n.webkitTextStrokeColor),m.ctx.lineWidth=n.webkitTextStrokeWidth,m.ctx.lineJoin=window.chrome?"miter":"round",m.ctx.strokeText(g.text,g.bounds.left,g.bounds.top+c)),m.ctx.strokeStyle="",m.ctx.lineWidth=0,m.ctx.lineJoin="miter";break}})}),[2]})})},e.prototype.renderReplacedElement=function(r,n,i){if(i&&r.intrinsicWidth>0&&r.intrinsicHeight>0){var s=Vw(r),a=Kw(n);this.path(a),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(i,0,0,r.intrinsicWidth,r.intrinsicHeight,s.left,s.top,s.width,s.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(r){return Js(this,void 0,void 0,function(){var n,i,s,a,o,l,B,B,c,f,h,m,C,d,g,k,v,b,w,B,S,C,k;return Ds(this,function(M){switch(M.label){case 0:this.applyEffects(r.getEffects(4)),n=r.container,i=r.curves,s=n.styles,a=0,o=n.textNodes,M.label=1;case 1:return a<o.length?(l=o[a],[4,this.renderTextNode(l,s)]):[3,4];case 2:M.sent(),M.label=3;case 3:return a++,[3,1];case 4:if(!(n instanceof UH))return[3,8];M.label=5;case 5:return M.trys.push([5,7,,8]),[4,this.context.cache.match(n.src)];case 6:return B=M.sent(),this.renderReplacedElement(n,i,B),[3,8];case 7:return M.sent(),this.context.logger.error("Error loading image "+n.src),[3,8];case 8:if(n instanceof OH&&this.renderReplacedElement(n,i,n.canvas),!(n instanceof LH))return[3,12];M.label=9;case 9:return M.trys.push([9,11,,12]),[4,this.context.cache.match(n.svg)];case 10:return B=M.sent(),this.renderReplacedElement(n,i,B),[3,12];case 11:return M.sent(),this.context.logger.error("Error loading svg "+n.svg.substring(0,255)),[3,12];case 12:return n instanceof MH&&n.tree?(c=new e(this.context,{scale:this.options.scale,backgroundColor:n.backgroundColor,x:0,y:0,width:n.width,height:n.height}),[4,c.render(n.tree)]):[3,14];case 13:f=M.sent(),n.width&&n.height&&this.ctx.drawImage(f,0,0,n.width,n.height,n.bounds.left,n.bounds.top,n.bounds.width,n.bounds.height),M.label=14;case 14:if(n instanceof k_&&(h=Math.min(n.bounds.width,n.bounds.height),n.type===Qw?n.checked&&(this.ctx.save(),this.path([new wt(n.bounds.left+h*.39363,n.bounds.top+h*.79),new wt(n.bounds.left+h*.16,n.bounds.top+h*.5549),new wt(n.bounds.left+h*.27347,n.bounds.top+h*.44071),new wt(n.bounds.left+h*.39694,n.bounds.top+h*.5649),new wt(n.bounds.left+h*.72983,n.bounds.top+h*.23),new wt(n.bounds.left+h*.84,n.bounds.top+h*.34085),new wt(n.bounds.left+h*.39363,n.bounds.top+h*.79)]),this.ctx.fillStyle=Ji(pL),this.ctx.fill(),this.ctx.restore()):n.type===Hw&&n.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(n.bounds.left+h/2,n.bounds.top+h/2,h/4,0,Math.PI*2,!0),this.ctx.fillStyle=Ji(pL),this.ctx.fill(),this.ctx.restore())),zpe(n)&&n.value.length){switch(m=this.createFontStyle(s),C=m[0],d=m[1],g=this.fontMetrics.getMetrics(C,d).baseline,this.ctx.font=C,this.ctx.fillStyle=Ji(s.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=Vpe(n.styles.textAlign),k=Vw(n),v=0,n.styles.textAlign){case 1:v+=k.width/2;break;case 2:v+=k.width;break}b=k.add(v,0,0,-k.height/2+1),this.ctx.save(),this.path([new wt(k.left,k.top),new wt(k.left+k.width,k.top),new wt(k.left+k.width,k.top+k.height),new wt(k.left,k.top+k.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new sg(n.value,b),s.letterSpacing,g),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!Pi(n.styles.display,2048))return[3,20];if(n.styles.listStyleImage===null)return[3,19];if(w=n.styles.listStyleImage,w.type!==0)return[3,18];B=void 0,S=w.url,M.label=15;case 15:return M.trys.push([15,17,,18]),[4,this.context.cache.match(S)];case 16:return B=M.sent(),this.ctx.drawImage(B,n.bounds.left-(B.width+10),n.bounds.top),[3,18];case 17:return M.sent(),this.context.logger.error("Error loading list-style-image "+S),[3,18];case 18:return[3,20];case 19:r.listValue&&n.styles.listStyleType!==-1&&(C=this.createFontStyle(s)[0],this.ctx.font=C,this.ctx.fillStyle=Ji(s.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",k=new nc(n.bounds.left,n.bounds.top+wn(n.styles.paddingTop,n.bounds.width),n.bounds.width,XO(s.lineHeight,s.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new sg(r.listValue,k),s.letterSpacing,XO(s.lineHeight,s.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),M.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(r){return Js(this,void 0,void 0,function(){var n,i,w,s,a,w,o,l,w,c,f,w,h,m,w,d,g,w,v,b,w;return Ds(this,function(B){switch(B.label){case 0:if(Pi(r.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(r.element)];case 1:B.sent(),n=0,i=r.negativeZIndex,B.label=2;case 2:return n<i.length?(w=i[n],[4,this.renderStack(w)]):[3,5];case 3:B.sent(),B.label=4;case 4:return n++,[3,2];case 5:return[4,this.renderNodeContent(r.element)];case 6:B.sent(),s=0,a=r.nonInlineLevel,B.label=7;case 7:return s<a.length?(w=a[s],[4,this.renderNode(w)]):[3,10];case 8:B.sent(),B.label=9;case 9:return s++,[3,7];case 10:o=0,l=r.nonPositionedFloats,B.label=11;case 11:return o<l.length?(w=l[o],[4,this.renderStack(w)]):[3,14];case 12:B.sent(),B.label=13;case 13:return o++,[3,11];case 14:c=0,f=r.nonPositionedInlineLevel,B.label=15;case 15:return c<f.length?(w=f[c],[4,this.renderStack(w)]):[3,18];case 16:B.sent(),B.label=17;case 17:return c++,[3,15];case 18:h=0,m=r.inlineLevel,B.label=19;case 19:return h<m.length?(w=m[h],[4,this.renderNode(w)]):[3,22];case 20:B.sent(),B.label=21;case 21:return h++,[3,19];case 22:d=0,g=r.zeroOrAutoZIndexOrTransformedOrOpacity,B.label=23;case 23:return d<g.length?(w=g[d],[4,this.renderStack(w)]):[3,26];case 24:B.sent(),B.label=25;case 25:return d++,[3,23];case 26:v=0,b=r.positiveZIndex,B.label=27;case 27:return v<b.length?(w=b[v],[4,this.renderStack(w)]):[3,30];case 28:B.sent(),B.label=29;case 29:return v++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(r){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(r.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(r){this.ctx.beginPath(),this.formatPath(r),this.ctx.closePath()},e.prototype.formatPath=function(r){var n=this;r.forEach(function(i,s){var a=bo(i)?i.start:i;s===0?n.ctx.moveTo(a.x,a.y):n.ctx.lineTo(a.x,a.y),bo(i)&&n.ctx.bezierCurveTo(i.startControl.x,i.startControl.y,i.endControl.x,i.endControl.y,i.end.x,i.end.y)})},e.prototype.renderRepeat=function(r,n,i,s){this.path(r),this.ctx.fillStyle=n,this.ctx.translate(i,s),this.ctx.fill(),this.ctx.translate(-i,-s)},e.prototype.resizeImage=function(r,n,i){var s;if(r.width===n&&r.height===i)return r;var a=(s=this.canvas.ownerDocument)!==null&&s!==void 0?s:document,o=a.createElement("canvas");o.width=Math.max(1,n),o.height=Math.max(1,i);var l=o.getContext("2d");return l.drawImage(r,0,0,r.width,r.height,0,0,n,i),o},e.prototype.renderBackgroundImage=function(r){return Js(this,void 0,void 0,function(){var n,i,s,a,o,l;return Ds(this,function(c){switch(c.label){case 0:n=r.styles.backgroundImage.length-1,i=function(f){var h,m,d,$,re,Y,G,U,H,g,$,re,Y,G,U,v,b,w,B,S,C,k,M,D,H,F,$,q,R,G,U,ae,re,Y,he,de,Ce,X,I,J,te,Ae;return Ds(this,function(se){switch(se.label){case 0:if(f.type!==0)return[3,5];h=void 0,m=f.url,se.label=1;case 1:return se.trys.push([1,3,,4]),[4,s.context.cache.match(m)];case 2:return h=se.sent(),[3,4];case 3:return se.sent(),s.context.logger.error("Error loading background-image "+m),[3,4];case 4:return h&&(d=IB(r,n,[h.width,h.height,h.width/h.height]),$=d[0],re=d[1],Y=d[2],G=d[3],U=d[4],H=s.ctx.createPattern(s.resizeImage(h,G,U),"repeat"),s.renderRepeat($,H,re,Y)),[3,6];case 5:kfe(f)?(g=IB(r,n,[null,null,null]),$=g[0],re=g[1],Y=g[2],G=g[3],U=g[4],v=Bfe(f.angle,G,U),b=v[0],w=v[1],B=v[2],S=v[3],C=v[4],k=document.createElement("canvas"),k.width=G,k.height=U,M=k.getContext("2d"),D=M.createLinearGradient(w,S,B,C),YO(f.stops,b).forEach(function(Q){return D.addColorStop(Q.stop,Ji(Q.color))}),M.fillStyle=D,M.fillRect(0,0,G,U),G>0&&U>0&&(H=s.ctx.createPattern(k,"repeat"),s.renderRepeat($,H,re,Y))):Tfe(f)&&(F=IB(r,n,[null,null,null]),$=F[0],q=F[1],R=F[2],G=F[3],U=F[4],ae=f.position.length===0?[C_]:f.position,re=wn(ae[0],G),Y=wn(ae[ae.length-1],U),he=Cfe(f,re,Y,G,U),de=he[0],Ce=he[1],de>0&&Ce>0&&(X=s.ctx.createRadialGradient(q+re,R+Y,0,q+re,R+Y,de),YO(f.stops,de*2).forEach(function(Q){return X.addColorStop(Q.stop,Ji(Q.color))}),s.path($),s.ctx.fillStyle=X,de!==Ce?(I=r.bounds.left+.5*r.bounds.width,J=r.bounds.top+.5*r.bounds.height,te=Ce/de,Ae=1/te,s.ctx.save(),s.ctx.translate(I,J),s.ctx.transform(1,0,0,te,0,0),s.ctx.translate(-I,-J),s.ctx.fillRect(q,Ae*(R-J)+J,G,U*Ae),s.ctx.restore()):s.ctx.fill())),se.label=6;case 6:return n--,[2]}})},s=this,a=0,o=r.styles.backgroundImage.slice(0).reverse(),c.label=1;case 1:return a<o.length?(l=o[a],[5,i(l)]):[3,4];case 2:c.sent(),c.label=3;case 3:return a++,[3,1];case 4:return[2]}})})},e.prototype.renderSolidBorder=function(r,n,i){return Js(this,void 0,void 0,function(){return Ds(this,function(s){return this.path(_L(i,n)),this.ctx.fillStyle=Ji(r),this.ctx.fill(),[2]})})},e.prototype.renderDoubleBorder=function(r,n,i,s){return Js(this,void 0,void 0,function(){var a,o;return Ds(this,function(l){switch(l.label){case 0:return n<3?[4,this.renderSolidBorder(r,i,s)]:[3,2];case 1:return l.sent(),[2];case 2:return a=Upe(s,i),this.path(a),this.ctx.fillStyle=Ji(r),this.ctx.fill(),o=Ope(s,i),this.path(o),this.ctx.fill(),[2]}})})},e.prototype.renderNodeBackgroundAndBorders=function(r){return Js(this,void 0,void 0,function(){var n,i,s,a,o,l,c,f,h=this;return Ds(this,function(m){switch(m.label){case 0:return this.applyEffects(r.getEffects(2)),n=r.container.styles,i=!xu(n.backgroundColor)||n.backgroundImage.length,s=[{style:n.borderTopStyle,color:n.borderTopColor,width:n.borderTopWidth},{style:n.borderRightStyle,color:n.borderRightColor,width:n.borderRightWidth},{style:n.borderBottomStyle,color:n.borderBottomColor,width:n.borderBottomWidth},{style:n.borderLeftStyle,color:n.borderLeftColor,width:n.borderLeftWidth}],a=Kpe(Nd(n.backgroundClip,0),r.curves),i||n.boxShadow.length?(this.ctx.save(),this.path(a),this.ctx.clip(),xu(n.backgroundColor)||(this.ctx.fillStyle=Ji(n.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(r.container)]):[3,2];case 1:m.sent(),this.ctx.restore(),n.boxShadow.slice(0).reverse().forEach(function(d){h.ctx.save();var g=zw(r.curves),v=d.inset?0:jpe,b=Npe(g,-v+(d.inset?1:-1)*d.spread.number,(d.inset?1:-1)*d.spread.number,d.spread.number*(d.inset?-2:2),d.spread.number*(d.inset?-2:2));d.inset?(h.path(g),h.ctx.clip(),h.mask(b)):(h.mask(g),h.ctx.clip(),h.path(b)),h.ctx.shadowOffsetX=d.offsetX.number+v,h.ctx.shadowOffsetY=d.offsetY.number,h.ctx.shadowColor=Ji(d.color),h.ctx.shadowBlur=d.blur.number,h.ctx.fillStyle=d.inset?Ji(d.color):"rgba(0,0,0,1)",h.ctx.fill(),h.ctx.restore()}),m.label=2;case 2:o=0,l=0,c=s,m.label=3;case 3:return l<c.length?(f=c[l],f.style!==0&&!xu(f.color)&&f.width>0?f.style!==2?[3,5]:[4,this.renderDashedDottedBorder(f.color,f.width,o,r.curves,2)]:[3,11]):[3,13];case 4:return m.sent(),[3,11];case 5:return f.style!==3?[3,7]:[4,this.renderDashedDottedBorder(f.color,f.width,o,r.curves,3)];case 6:return m.sent(),[3,11];case 7:return f.style!==4?[3,9]:[4,this.renderDoubleBorder(f.color,f.width,o,r.curves)];case 8:return m.sent(),[3,11];case 9:return[4,this.renderSolidBorder(f.color,o,r.curves)];case 10:m.sent(),m.label=11;case 11:o++,m.label=12;case 12:return l++,[3,3];case 13:return[2]}})})},e.prototype.renderDashedDottedBorder=function(r,n,i,s,a){return Js(this,void 0,void 0,function(){var o,l,c,f,h,m,d,g,v,b,w,B,S,C,k,M,k,M;return Ds(this,function(D){return this.ctx.save(),o=Lpe(s,i),l=_L(s,i),a===2&&(this.path(l),this.ctx.clip()),bo(l[0])?(c=l[0].start.x,f=l[0].start.y):(c=l[0].x,f=l[0].y),bo(l[1])?(h=l[1].end.x,m=l[1].end.y):(h=l[1].x,m=l[1].y),i===0||i===2?d=Math.abs(c-h):d=Math.abs(f-m),this.ctx.beginPath(),a===3?this.formatPath(o):this.formatPath(l.slice(0,2)),g=n<3?n*3:n*2,v=n<3?n*2:n,a===3&&(g=n,v=n),b=!0,d<=g*2?b=!1:d<=g*2+v?(w=d/(2*g+v),g*=w,v*=w):(B=Math.floor((d+v)/(g+v)),S=(d-B*g)/(B-1),C=(d-(B+1)*g)/B,v=C<=0||Math.abs(v-S)<Math.abs(v-C)?S:C),b&&(a===3?this.ctx.setLineDash([0,g+v]):this.ctx.setLineDash([g,v])),a===3?(this.ctx.lineCap="round",this.ctx.lineWidth=n):this.ctx.lineWidth=n*2+1.1,this.ctx.strokeStyle=Ji(r),this.ctx.stroke(),this.ctx.setLineDash([]),a===2&&(bo(l[0])&&(k=l[3],M=l[0],this.ctx.beginPath(),this.formatPath([new wt(k.end.x,k.end.y),new wt(M.start.x,M.start.y)]),this.ctx.stroke()),bo(l[1])&&(k=l[1],M=l[2],this.ctx.beginPath(),this.formatPath([new wt(k.end.x,k.end.y),new wt(M.start.x,M.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},e.prototype.render=function(r){return Js(this,void 0,void 0,function(){var n;return Ds(this,function(i){switch(i.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=Ji(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),n=Fpe(r),[4,this.renderStack(n)];case 1:return i.sent(),this.applyEffects([]),[2,this.canvas]}})})},e})(ej),zpe=function(t){return t instanceof RH||t instanceof IH?!0:t instanceof k_&&t.type!==Hw&&t.type!==Qw},Kpe=function(t,e){switch(t){case 0:return zw(e);case 2:return Spe(e);default:return Kw(e)}},Vpe=function(t){switch(t){case 1:return"center";case 2:return"right";default:return"left"}},qpe=["-apple-system","system-ui"],Gpe=function(t){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?t.filter(function(e){return qpe.indexOf(e)===-1}):t},Wpe=(function(t){wl(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.canvas=n.canvas?n.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),i.options=n,i.canvas.width=Math.floor(n.width*n.scale),i.canvas.height=Math.floor(n.height*n.scale),i.canvas.style.width=n.width+"px",i.canvas.style.height=n.height+"px",i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-n.x,-n.y),i.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),i}return e.prototype.render=function(r){return Js(this,void 0,void 0,function(){var n,i;return Ds(this,function(s){switch(s.label){case 0:return n=QS(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,r),[4,$pe(n)];case 1:return i=s.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=Ji(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(i,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e})(ej),$pe=function(t){return new Promise(function(e,r){var n=new Image;n.onload=function(){e(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},Ype=(function(){function t(e){var r=e.id,n=e.enabled;this.id=r,this.enabled=n,this.start=Date.now()}return t.prototype.debug=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,jy([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.getTime=function(){return Date.now()-this.start},t.prototype.info=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,jy([this.id,this.getTime()+"ms"],e))},t.prototype.warn=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,jy([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.error=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,jy([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.instances={},t})(),Jpe=(function(){function t(e,r){var n;this.windowBounds=r,this.instanceName="#"+t.instanceCount++,this.logger=new Ype({id:this.instanceName,enabled:e.logging}),this.cache=(n=e.cache)!==null&&n!==void 0?n:new gpe(this,e)}return t.instanceCount=1,t})(),tj=function(t,e){return e===void 0&&(e={}),Xpe(t,e)};typeof window<"u"&&WH.setContext(window);var Xpe=function(t,e){return Js(void 0,void 0,void 0,function(){var r,n,i,s,a,o,l,c,f,h,m,d,g,v,b,w,B,S,C,k,D,M,D,H,F,$,q,R,G,U,ae,re,Y,he,de,Ce,X,I,J,te;return Ds(this,function(Ae){switch(Ae.label){case 0:if(!t||typeof t!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(r=t.ownerDocument,!r)throw new Error("Element is not attached to a Document");if(n=r.defaultView,!n)throw new Error("Document is not attached to a Window");return i={allowTaint:(H=e.allowTaint)!==null&&H!==void 0?H:!1,imageTimeout:(F=e.imageTimeout)!==null&&F!==void 0?F:15e3,proxy:e.proxy,useCORS:($=e.useCORS)!==null&&$!==void 0?$:!1},s=CS({logging:(q=e.logging)!==null&&q!==void 0?q:!0,cache:e.cache},i),a={windowWidth:(R=e.windowWidth)!==null&&R!==void 0?R:n.innerWidth,windowHeight:(G=e.windowHeight)!==null&&G!==void 0?G:n.innerHeight,scrollX:(U=e.scrollX)!==null&&U!==void 0?U:n.pageXOffset,scrollY:(ae=e.scrollY)!==null&&ae!==void 0?ae:n.pageYOffset},o=new nc(a.scrollX,a.scrollY,a.windowWidth,a.windowHeight),l=new Jpe(s,o),c=(re=e.foreignObjectRendering)!==null&&re!==void 0?re:!1,f={allowTaint:(Y=e.allowTaint)!==null&&Y!==void 0?Y:!1,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:c,copyStyles:c},l.logger.debug("Starting document clone with size "+o.width+"x"+o.height+" scrolled to "+-o.left+","+-o.top),h=new CL(l,t,f),m=h.clonedReferenceElement,m?[4,h.toIFrame(r,o)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return d=Ae.sent(),g=T_(m)||epe(m)?Nce(m.ownerDocument):Dv(l,m),v=g.width,b=g.height,w=g.left,B=g.top,S=Zpe(l,m,e.backgroundColor),C={canvas:e.canvas,backgroundColor:S,scale:(de=(he=e.scale)!==null&&he!==void 0?he:n.devicePixelRatio)!==null&&de!==void 0?de:1,x:((Ce=e.x)!==null&&Ce!==void 0?Ce:0)+w,y:((X=e.y)!==null&&X!==void 0?X:0)+B,width:(I=e.width)!==null&&I!==void 0?I:Math.ceil(v),height:(J=e.height)!==null&&J!==void 0?J:Math.ceil(b)},c?(l.logger.debug("Document cloned, using foreign object rendering"),D=new Wpe(l,C),[4,D.render(m)]):[3,3];case 2:return k=Ae.sent(),[3,5];case 3:return l.logger.debug("Document cloned, element located at "+w+","+B+" with size "+v+"x"+b+" using computed rendering"),l.logger.debug("Starting DOM parsing"),M=HH(l,m),S===M.styles.backgroundColor&&(M.styles.backgroundColor=rc.TRANSPARENT),l.logger.debug("Starting renderer for element at "+C.x+","+C.y+" with size "+C.width+"x"+C.height),D=new Ppe(l,C),[4,D.render(M)];case 4:k=Ae.sent(),Ae.label=5;case 5:return(!((te=e.removeContainer)!==null&&te!==void 0)||te)&&(CL.destroy(d)||l.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),l.logger.debug("Finished rendering"),[2,k]}})})},Zpe=function(t,e,r){var n=e.ownerDocument,i=n.documentElement?ng(t,getComputedStyle(n.documentElement).backgroundColor):rc.TRANSPARENT,s=n.body?ng(t,getComputedStyle(n.body).backgroundColor):rc.TRANSPARENT,a=typeof r=="string"?ng(t,r):r===null?rc.TRANSPARENT:4294967295;return e===n.documentElement?xu(i)?xu(s)?a:s:i:a};const eme=Object.freeze(Object.defineProperty({__proto__:null,default:tj},Symbol.toStringTag,{value:"Module"})),rj=({primaryLabel:t,primaryOnClick:e,primaryLoading:r,primaryDisabled:n,secondaryLabel:i,secondaryOnClick:s,children:a})=>_.jsxs("div",{className:"flex gap-2 pt-4 items-center",children:[_.jsx("div",{className:"flex-1",children:a}),_.jsxs("div",{className:"flex items-center gap-2",children:[t&&_.jsx(si,{onClick:e,disabled:n,className:"flex items-center justify-center gap-2",children:t}),i&&_.jsx(si,{variant:"secondary",onClick:s,className:"ml-2",children:i})]})]}),tme=({isOpen:t,onClose:e,diaries:r,currentDiary:n})=>{const[i,s]=ke.useState("current"),[a,o]=ke.useState("markdown"),[l,c]=ke.useState(!1),f=S=>`p-3 border rounded-lg flex flex-col items-center gap-2 transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-400 ${a===S?"border-blue-500 bg-blue-50 text-blue-700 shadow-sm":"hover:bg-gray-50 text-gray-700"}`,h=S=>{const C=Rd(S.createdAt),k=S.tags.length>0?`
Tags: ${S.tags.join(", ")}`:"";let M=S.content;return M=M.replace(/<h1>(.*?)<\/h1>/g,`# $1
`),M=M.replace(/<h2>(.*?)<\/h2>/g,`## $1
`),M=M.replace(/<h3>(.*?)<\/h3>/g,`### $1
`),M=M.replace(/<strong>(.*?)<\/strong>/g,"**$1**"),M=M.replace(/<em>(.*?)<\/em>/g,"*$1*"),M=M.replace(/<code>(.*?)<\/code>/g,"`$1`"),M=M.replace(/<p>(.*?)<\/p>/g,`$1

`),M=M.replace(/<br\s*\/?>/g,`
`),M=M.replace(/<[^>]+>/g,""),`# ${S.title}

Date: ${C}${k}

---

${M}`},m=S=>{const C=Rd(S.createdAt),k=S.tags.length>0?`<div class="tags">${S.tags.map(M=>`<span class="tag">${M}</span>`).join(" ")}</div>`:"";return`<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>${S.title}</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 2rem;
            line-height: 1.6;
            color: #333;
        }
        h1 {
            color: #1a1a1a;
            border-bottom: 2px solid #e5e7eb;
            padding-bottom: 0.5rem;
        }
        .meta {
            color: #6b7280;
            font-size: 0.875rem;
            margin: 1rem 0;
        }
        .tags {
            margin: 1rem 0;
        }
        .tag {
            display: inline-block;
            background: #dbeafe;
            color: #1e40af;
            padding: 0.25rem 0.75rem;
            border-radius: 9999px;
            font-size: 0.875rem;
            margin-right: 0.5rem;
        }
        .content {
            margin-top: 2rem;
        }
        code {
            background: #f3f4f6;
            padding: 0.125rem 0.25rem;
            border-radius: 0.25rem;
            font-family: 'Courier New', monospace;
        }
        pre {
            background: #1f2937;
            color: #f9fafb;
            padding: 1rem;
            border-radius: 0.5rem;
            overflow-x: auto;
        }
        blockquote {
            border-left: 3px solid #d1d5db;
            padding-left: 1rem;
            color: #6b7280;
            margin: 1rem 0;
        }
        table {
            border-collapse: collapse;
            width: 100%;
            margin: 1rem 0;
        }
        table td, table th {
            border: 1px solid #d1d5db;
            padding: 0.5rem;
        }
        table th {
            background: #f3f4f6;
            font-weight: 600;
        }
    </style>
</head>
<body>
    <h1>${S.title}</h1>
    <div class="meta">Created: ${C}</div>
    ${k}
    <div class="content">
        ${S.content}
    </div>
</body>
</html>`},d=S=>{const C=document.createElement("div");return C.innerHTML=S,C.textContent||C.innerText||""},g=async S=>{const C=Rd(S.createdAt),k=d(S.content),M=new woe({sections:[{properties:{},children:[new Au({text:S.title,heading:cse.HEADING_1,spacing:{after:200}}),new Au({children:[new Nw({text:`Date: ${C}`,italics:!0,size:20})],spacing:{after:100}}),...S.tags.length>0?[new Au({children:[new Nw({text:`Tags: ${S.tags.join(", ")}`,italics:!0,size:20})],spacing:{after:200}})]:[],new Au({text:"".repeat(50),spacing:{after:200}}),...k.split(`
`).filter(D=>D.trim()).map(D=>new Au({text:D,spacing:{after:100}}))]}]});return await Loe.toBlob(M)},v=async S=>{const C=Rd(S.createdAt);let k=S.content;k=k.replace(/<li data-checked="true"[^>]*>[\s\S]*?<input[^>]*>[\s\S]*?<\/label>/g,D=>{const H=D.match(/<span[^>]*>([\s\S]*?)<\/span>/);return`<li style="list-style: none; display: flex; align-items: flex-start; margin: 0.5em 0;"><span style="display: inline-block; width: 1.5em; flex-shrink: 0;"></span><span style="flex: 1;">${H?H[1]:""}</span></li>`}),k=k.replace(/<li data-checked="false"[^>]*>[\s\S]*?<input[^>]*>[\s\S]*?<\/label>/g,D=>{const H=D.match(/<span[^>]*>([\s\S]*?)<\/span>/);return`<li style="list-style: none; display: flex; align-items: flex-start; margin: 0.5em 0;"><span style="display: inline-block; width: 1.5em; flex-shrink: 0;"></span><span style="flex: 1;">${H?H[1]:""}</span></li>`}),k=k.replace(/<li data-checked="true"[^>]*>/g,'<li style="list-style: none; display: flex; align-items: flex-start; margin: 0.5em 0;"><span style="display: inline-block; width: 1.5em; flex-shrink: 0;"></span><span style="flex: 1;">'),k=k.replace(/<li data-checked="false"[^>]*>/g,'<li style="list-style: none; display: flex; align-items: flex-start; margin: 0.5em 0;"><span style="display: inline-block; width: 1.5em; flex-shrink: 0;"></span><span style="flex: 1;">'),k=k.replace(/<input[^>]*type="checkbox"[^>]*>/g,""),k=k.replace(/<label[^>]*>/g,""),k=k.replace(/<\/label>/g,"</span>"),k=k.replace(/<ul data-type="taskList"[^>]*>/g,'<ul style="padding-left: 0; margin: 1em 0;">');const M=document.createElement("div");M.style.position="absolute",M.style.left="-9999px",M.style.width="800px",M.style.padding="40px",M.style.backgroundColor="white",M.style.fontFamily='-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"',M.innerHTML=`
      <div style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans', sans-serif; line-height: 1.6; color: #333;">
        <h1 style="font-size: 28px; font-weight: bold; margin-bottom: 10px; color: #1a1a1a; border-bottom: 2px solid #e5e7eb; padding-bottom: 10px;">
          ${S.title}
        </h1>
        <div style="font-size: 12px; color: #6b7280; margin: 10px 0;">
          <div>: ${C}</div>
          ${S.tags.length>0?`<div style="margin-top: 5px;">: ${S.tags.join(", ")}</div>`:""}
        </div>
        <hr style="border: none; border-top: 1px solid #e5e7eb; margin: 20px 0;">
        <div style="font-size: 14px; line-height: 1.8;">
          ${k}
        </div>
      </div>
    `,document.body.appendChild(M);try{const D=await tj(M,{scale:2,useCORS:!0,logging:!1,backgroundColor:"#ffffff"}),H=210,F=297,$=D.height*H/D.width;let q=$,R=0;const G=new Mt("p","mm","a4"),U=D.toDataURL("image/png");for(G.addImage(U,"PNG",0,R,H,$),q-=F;q>0;)R=q-$,G.addPage(),G.addImage(U,"PNG",0,R,H,$),q-=F;const ae=`${S.title.replace(/[^a-z0-9\u4e00-\u9fa5]/gi,"_")}.pdf`;G.save(ae)}finally{document.body.removeChild(M)}},b=(S,C,k)=>{const M=new Blob([S],{type:k}),D=URL.createObjectURL(M),H=document.createElement("a");H.href=D,H.download=C,document.body.appendChild(H),H.click(),document.body.removeChild(H),URL.revokeObjectURL(D)},w=S=>{try{if(!S||S==="json"){const k=Ur.getAllData(),M=JSON.stringify(k,null,2),D=`all_data_${Date.now()}.json`;b(M,D,"application/json");return}const C=r;if(S==="markdown"){const k=C.map(D=>h(D)).join(`

---

`),M=`all_diaries_${Date.now()}.md`;b(k,M,"text/markdown");return}if(S==="html"){const k=C.map(D=>m(D)).join(`

<hr>

`),M=`all_diaries_${Date.now()}.html`;b(k,M,"text/html");return}}catch(C){console.error("exportAllData failed",C),Cr(me("Export failed. Please try again."),"error")}},B=async()=>{c(!0);try{const S=i==="current"&&n?[n]:r;if(S.length===0){Cr(me("No diaries to export"),"error");return}if(a==="json"){const C=JSON.stringify(S,null,2),k=i==="current"?`${n.title.replace(/[^a-z0-9]/gi,"_")}.json`:`all_diaries_${Date.now()}.json`;b(C,k,"application/json")}else if(a==="markdown")if(i==="current"&&n){const C=h(n),k=`${n.title.replace(/[^a-z0-9]/gi,"_")}.md`;b(C,k,"text/markdown")}else{const C=S.map(M=>h(M)).join(`

---

`),k=`all_diaries_${Date.now()}.md`;b(C,k,"text/markdown")}else if(a==="html")if(i==="current"&&n){const C=m(n),k=`${n.title.replace(/[^a-z0-9]/gi,"_")}.html`;b(C,k,"text/html")}else{const C=S.map(M=>m(M)).join(`

<hr>

`),k=`all_diaries_${Date.now()}.html`;b(C,k,"text/html")}else if(a==="docx")if(i==="current"&&n){const C=await g(n),k=`${n.title.replace(/[^a-z0-9]/gi,"_")}.docx`;Roe.saveAs(C,k)}else{Cr(me("Exporting all diaries to Word format will create separate files. Please export one at a time for now."),"info");return}else if(a==="pdf")if(i==="current"&&n)await v(n);else{Cr(me("Exporting all diaries to PDF format will create separate files. Please export one at a time for now."),"info");return}Cr(me("Export completed"),"success"),e()}catch(S){console.error("Export error:",S),Cr(me("Export failed. Please try again."),"error")}finally{c(!1)}};return _.jsx(es,{isOpen:t,onClose:e,title:me("Export Diaries"),children:_.jsxs("div",{className:"space-y-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:me("Export Scope")}),_.jsxs("div",{className:"space-y-2",children:[_.jsxs("label",{className:`flex items-center gap-2 p-3 border rounded-lg cursor-pointer transition-colors relative ${i==="current"?"border-blue-500 bg-blue-50 text-blue-700 shadow-sm":"hover:bg-gray-50"} ${n?"":"opacity-50 cursor-not-allowed"}`,children:[_.jsx("input",{type:"radio",value:"current",checked:i==="current",onChange:S=>s(S.target.value),disabled:!n,className:"accent-blue-600"}),_.jsxs("div",{className:"flex-1 min-w-0",children:[_.jsx("div",{className:"font-medium truncate",children:me("Current Diary")}),_.jsx("div",{className:"text-sm text-gray-500 truncate",children:n?n.title:me("No diary selected")})]}),i==="current"&&_.jsx(IT,{size:16,className:"text-blue-600 ml-2"})]}),_.jsxs("label",{className:`flex items-center gap-2 p-3 border rounded-lg cursor-pointer transition-colors relative ${i==="all"?"border-blue-500 bg-blue-50 text-blue-700 shadow-sm":"hover:bg-gray-50"}`,children:[_.jsx("input",{type:"radio",value:"all",checked:i==="all",onChange:S=>s(S.target.value),className:"accent-blue-600"}),_.jsxs("div",{className:"flex-1 min-w-0",children:[_.jsx("div",{className:"font-medium",children:me("All Diaries")}),_.jsxs("div",{className:"text-sm text-gray-500",children:[me("Export all")," ",r.length," ",me("Diaries")]})]}),i==="all"&&_.jsx(IT,{size:16,className:"text-blue-600 ml-2"})]})]})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:me("Export Format")}),_.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[_.jsxs("button",{onClick:()=>o("markdown"),role:"button","aria-pressed":a==="markdown",className:f("markdown"),children:[_.jsx(jm,{size:24}),_.jsx("span",{className:"text-sm font-medium",children:me("Markdown")})]}),_.jsxs("button",{onClick:()=>o("html"),role:"button","aria-pressed":a==="html",className:f("html"),children:[_.jsx(aD,{size:24}),_.jsx("span",{className:"text-sm font-medium",children:me("HTML")})]}),_.jsxs("button",{onClick:()=>o("json"),role:"button","aria-pressed":a==="json",className:f("json"),children:[_.jsx(Yz,{size:24}),_.jsx("span",{className:"text-sm font-medium",children:me("JSON")})]}),_.jsxs("button",{onClick:()=>o("docx"),role:"button","aria-pressed":a==="docx",className:f("docx"),children:[_.jsx(Zz,{size:24}),_.jsx("span",{className:"text-sm font-medium",children:me("Word")})]}),_.jsxs("button",{onClick:()=>o("pdf"),role:"button","aria-pressed":a==="pdf",className:f("pdf"),children:[_.jsx(tK,{size:24}),_.jsx("span",{className:"text-sm font-medium",children:me("PDF")})]})]}),(a==="docx"||a==="pdf")&&i==="all"&&_.jsx("p",{className:"text-xs text-amber-600 mt-2",children:me("Note: Word and PDF formats currently support single diary export only.")})]}),_.jsx("div",{className:"flex gap-2 pt-4 items-center",children:_.jsx(rj,{primaryLabel:me(l?"Exporting...":"Export"),primaryOnClick:B,primaryDisabled:l,secondaryLabel:me("Cancel"),secondaryOnClick:e,children:_.jsx("div",{className:"ml-1",children:_.jsx(tne,{items:[{label:me("Export All Data"),children:[{label:"JSON",onClick:()=>w("json")},{label:me("Markdown"),onClick:()=>w("markdown")},{label:me("HTML"),onClick:()=>w("html")}]}]})})})})]})})},og=t=>typeof t=="object"&&t!==null,c1=(t,e)=>{const r=og(t)?t:{};return{id:typeof r.id=="string"&&r.id?r.id:Xs(),title:typeof r.title=="string"&&r.title?r.title:e,content:typeof r.content=="string"?r.content:"",folderId:typeof r.folderId=="string"?r.folderId:null,tags:Array.isArray(r.tags)?r.tags.filter(n=>typeof n=="string"):[],createdAt:typeof r.createdAt=="number"?r.createdAt:Date.now(),updatedAt:typeof r.updatedAt=="number"?r.updatedAt:Date.now()}},RB=t=>{const e=og(t)?t:{};return{id:typeof e.id=="string"&&e.id?e.id:Xs(),name:typeof e.name=="string"&&e.name?e.name:"Folder",parentId:typeof e.parentId=="string"?e.parentId:null,color:typeof e.color=="string"?e.color:void 0,createdAt:typeof e.createdAt=="number"?e.createdAt:Date.now()}},rme=({isOpen:t,onClose:e,onImportDiaries:r,onImportFolders:n})=>{const[i,s]=ke.useState([]),[a,o]=ke.useState(!1),[l,c]=ke.useState(!1),[f,h]=ke.useState({}),[m]=ke.useState(()=>Ur.getBackups()),d=()=>{s([]),h({}),c(!1)},g=D=>{const H=D.toLowerCase();return H.endsWith(".json")?"json":H.endsWith(".md")||H.endsWith(".markdown")?"markdown":H.endsWith(".html")||H.endsWith(".htm")?"html":H.endsWith(".txt")?"txt":H.endsWith(".docx")?"docx":H.endsWith(".pdf")?"pdf":"unknown"},v=D=>new Promise((H,F)=>{const $=new FileReader;$.onload=()=>H(String($.result)),$.onerror=F,$.readAsText(D)}),b=D=>new Promise((H,F)=>{const $=new FileReader;$.onload=()=>H($.result),$.onerror=F,$.readAsArrayBuffer(D)}),w=async D=>{let H=String(D||"").replace(/\r\n/g,`
`);return H=H.replace(/^###### (.*$)/gim,"<h6>$1</h6>"),H=H.replace(/^##### (.*$)/gim,"<h5>$1</h5>"),H=H.replace(/^#### (.*$)/gim,"<h4>$1</h4>"),H=H.replace(/^### (.*$)/gim,"<h3>$1</h3>"),H=H.replace(/^## (.*$)/gim,"<h2>$1</h2>"),H=H.replace(/^# (.*$)/gim,"<h1>$1</h1>"),H=H.replace(/\*\*(.*?)\*\*/gim,"<strong>$1</strong>"),H=H.replace(/\*(.*?)\*/gim,"<em>$1</em>"),H=H.replace(/`([^`]+)`/gim,"<code>$1</code>"),H=H.replace(/(^|\n)\s*[-*+] (.+)/gim,"$1<li>$2</li>"),H=H.replace(/(<li>.*<\/li>)/gim,"<ul>$1</ul>"),H.split(`

`).map(q=>q.trim()).filter(Boolean).map(q=>/^<h\d/.test(q)||/^<ul/.test(q)||/^<pre/.test(q)?q:`<p>${q.replace(/\n/g,"<br/>")}</p>`).join("")},B=async D=>{try{return(await(await import("mammoth")).convertToHtml({arrayBuffer:D})).value}catch(H){return console.warn("mammoth not available or parse failed",H),null}},S=async D=>{try{const $=await(await import("pdfjs-dist/build/pdf")).getDocument({data:D}).promise;let q="";for(let R=1;R<=$.numPages;R++){const ae=(await(await $.getPage(R)).getTextContent()).items.map(re=>re.str??"");q+=ae.join(" ")+`

`}return q.split(`

`).map(R=>`<p>${R}</p>`).join("")}catch(H){return console.warn("pdf parsing failed",H),null}},C=D=>{if(!D)return;const H=Array.from(D);s(H);const F={};H.forEach($=>F[$.name]=me("Ready")),h(F)},k=async D=>{const H=g(D.name);try{if(H==="json"){const F=await v(D),$=JSON.parse(F);if(Array.isArray($)){if($.length===0)return{diaries:[]};const q=$[0];return og(q)&&(q.content!==void 0||q.title!==void 0)?{diaries:$.map(U=>c1(U,D.name.replace(/\.json$/i,"")))}:og(q)&&(q.name!==void 0||q.parentId!==void 0)?{folders:$.map(U=>RB(U))}:{diaries:$.map(G=>{const U=c1(G,D.name.replace(/\.json$/i,""));return U.content?U:{...U,content:JSON.stringify(G,null,2)}})}}else if(og($)){const q=$;if((Array.isArray(q.diaries)||Array.isArray(q.folders))&&(q.diaries||q.folders)){const R=Array.isArray(q.diaries)?q.diaries.map(U=>c1(U,"Untitled")):[],G=Array.isArray(q.folders)?q.folders.map(U=>RB(U)):[];return{diaries:R,folders:G}}if(q&&(q.content!==void 0||q.title!==void 0))return{diaries:[c1(q,D.name.replace(/\.json$/i,""))]};if(q&&(q.name!==void 0||q.parentId!==void 0))return{folders:[RB(q)]}}return null}if(H==="markdown"){const F=await v(D),$=await w(F),q=F.match(/^#\s+(.+)/m),R=q?q[1].trim():D.name.replace(/\.md$/i,"");return{diaries:[{id:Xs(),title:R,content:$,folderId:null,tags:[],createdAt:Date.now(),updatedAt:Date.now()}]}}if(H==="html"){const F=await v(D),$=F.match(/<title>(.*?)<\/title>/i)||F.match(/<h1>(.*?)<\/h1>/i),q=$?$[1]:D.name.replace(/\.html?$/i,"");return{diaries:[{id:Xs(),title:q,content:F,folderId:null,tags:[],createdAt:Date.now(),updatedAt:Date.now()}]}}if(H==="txt"){const F=await v(D);return{diaries:[{id:Xs(),title:D.name.replace(/\.txt$/i,""),content:`<pre>${F.replace(/&/g,"&amp;").replace(/</g,"&lt;")}</pre>`,folderId:null,tags:[],createdAt:Date.now(),updatedAt:Date.now()}]}}if(H==="docx"){const F=await b(D),$=await B(F);if($!==null){const q=$.match(/<h1>(.*?)<\/h1>/i),R=q?q[1]:D.name.replace(/\.docx$/i,"");return{diaries:[{id:Xs(),title:R,content:$,folderId:null,tags:[],createdAt:Date.now(),updatedAt:Date.now()}]}}return{diaries:[{id:Xs(),title:D.name.replace(/\.docx$/i,""),content:`<p>${me("Unable to parse .docx file content")}</p>`,folderId:null,tags:[],createdAt:Date.now(),updatedAt:Date.now()}]}}if(H==="pdf"){const F=await b(D),$=await S(F);return $!==null?{diaries:[{id:Xs(),title:D.name.replace(/\.pdf$/i,""),content:$,folderId:null,tags:[],createdAt:Date.now(),updatedAt:Date.now()}]}:{diaries:[{id:Xs(),title:D.name.replace(/\.pdf$/i,""),content:`<p>${me("Unable to parse PDF file content")}</p>`,folderId:null,tags:[],createdAt:Date.now(),updatedAt:Date.now()}]}}return null}catch(F){return console.error("parseFile failed",D.name,F),null}},M=async()=>{if(i.length===0){Cr(me(""),"error");return}o(!0);const D=[],H=[],F={...f};for(const $ of i)try{F[$.name]=me("Parsing..."),h({...F});const q=await k($);if(!q){F[$.name]=me("Unsupported or failed to parse"),h({...F});continue}q.diaries&&(D.push(...q.diaries),F[$.name]=`${q.diaries.length} `),q.folders&&(H.push(...q.folders),F[$.name]=`${q.folders.length} `),h({...F})}catch{F[$.name]=me("Error"),h({...F})}try{if(l&&!window.confirm(me("This will replace existing data. Are you sure?"))){o(!1);return}H.length>0&&n(H,{replace:l}),D.length>0&&r(D,{replace:l}),D.length===0&&H.length===0?Cr(me("No importable data found"),"error"):(Cr(me("Imported successfully"),"success"),e(),d())}catch($){console.error($),Cr(me("Import failed. Please try again."),"error")}finally{o(!1)}};return _.jsx(es,{isOpen:t,onClose:e,title:me("Import Files"),children:_.jsxs("div",{className:"space-y-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:me("Supported formats")}),_.jsx("div",{className:"text-sm text-gray-500",children:me("Supported formats list")})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:me("Files")}),_.jsx("input",{type:"file",multiple:!0,accept:".json,application/json,.md,.markdown,.html,.htm,.txt,.docx,.pdf",onChange:D=>C(D.target.files),className:"w-full"})]}),i.length>0&&_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:me("Files to import")}),_.jsx("div",{className:"space-y-2 max-h-44 overflow-auto",children:i.map(D=>_.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[_.jsxs("div",{children:[_.jsx("div",{className:"font-medium",children:D.name}),_.jsx("div",{className:"text-xs text-gray-500",children:me(g(D.name).toUpperCase())})]}),_.jsx("div",{className:"text-sm text-gray-600",children:f[D.name]})]},D.name))})]}),_.jsxs("div",{className:"pt-4",children:[_.jsx("h3",{className:"text-sm font-medium text-gray-800 mb-2",children:me("Backups")}),m.length===0?_.jsx("div",{className:"text-sm text-gray-500",children:me("No backups found")}):_.jsx("div",{className:"space-y-2 max-h-40 overflow-auto",children:m.slice().reverse().map(D=>_.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[_.jsxs("div",{className:"text-sm",children:[_.jsxs("div",{className:"font-medium",children:[me("Backup created at")," ",new Date(D.timestamp).toLocaleString()]}),_.jsxs("div",{className:"text-xs text-gray-500",children:[D.diaries?.length||0," ",me("Diaries"),", ",D.folders?.length||0," ",me("Folders")]})]}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx(si,{variant:"danger",size:"sm",onClick:()=>{window.confirm(me("This will replace existing data. Are you sure?"))&&(n(D.folders||[],{replace:!0}),r(D.diaries||[],{replace:!0}),Cr(me("Imported successfully"),"success"),e(),d())},children:me("Restore backup")}),_.jsx(si,{variant:"secondary",size:"sm",onClick:()=>{const H=new Blob([JSON.stringify({diaries:D.diaries||[],folders:D.folders||[]},null,2)],{type:"application/json"}),F=URL.createObjectURL(H),$=document.createElement("a");$.href=F,$.download=`backup_${D.timestamp}.json`,document.body.appendChild($),$.click(),document.body.removeChild($),URL.revokeObjectURL(F)},children:me("Download backup")})]})]},D.timestamp))})]}),_.jsx(rj,{primaryLabel:me(a?"Importing...":"Import"),primaryOnClick:M,primaryDisabled:a,secondaryLabel:me("Cancel"),secondaryOnClick:()=>{e(),d()}})]})})},nme=({onClose:t})=>{const[e]=ke.useState(()=>Ur.getAiSettings()),[r,n]=ke.useState(e.deepseekKey||""),[i,s]=ke.useState(e.deepseekBaseUrl||"https://api.deepseek.com"),[a,o]=ke.useState(e.deepseekModel||"deepseek-chat"),l=()=>{Ur.saveAiSettings({deepseekKey:r||null,deepseekBaseUrl:i||null,deepseekModel:a||null}),t()};return _.jsxs("div",{className:"space-y-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-base text-gray-600 mb-1",children:me("DeepSeek API Key")}),_.jsx("input",{className:"w-full border rounded px-2 py-2 text-sm",placeholder:me("Paste your DeepSeek API Key (OpenAI-compatible)"),value:r,onChange:c=>n(c.target.value)}),_.jsx("p",{className:"text-xs text-gray-500 mt-1",children:me("If provided, DeepSeek will be used preferentially for analysis.")})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-base text-gray-600 mb-1",children:me("DeepSeek Base URL")}),_.jsx("input",{className:"w-full border rounded px-2 py-2 text-sm",placeholder:me("DeepSeek base URL (e.g., https://api.deepseek.com)"),value:i,onChange:c=>s(c.target.value)})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-base text-gray-600 mb-1",children:me("DeepSeek Model")}),_.jsxs("select",{className:"w-full border rounded px-2 py-2 text-sm",value:a,onChange:c=>o(c.target.value),children:[_.jsx("option",{value:"deepseek-chat",children:"deepseek-chat (non-reasoning)"}),_.jsx("option",{value:"deepseek-reasoner",children:"deepseek-reasoner (reasoning)"})]})]}),_.jsxs("div",{className:"flex justify-end gap-2",children:[_.jsx("button",{onClick:t,className:"px-4 py-2 rounded border",children:me("Cancel")}),_.jsx("button",{onClick:l,className:"px-4 py-2 rounded bg-blue-600 text-white",children:me("Save")})]})]})},ime=({isOpen:t,onClose:e,onImport:r,onExport:n,onRetrySync:i})=>{const[s,a]=Wa.useState("general");return _.jsx(es,{isOpen:t,onClose:e,title:me("Settings"),children:_.jsxs("div",{className:"space-y-6",children:[_.jsxs("div",{className:"flex border-b border-slate-200",children:[_.jsx("button",{onClick:()=>a("general"),className:`flex-1 py-2 px-4 text-sm font-medium transition-colors ${s==="general"?"text-accent-500 border-b-2 border-accent-500":"text-primary-600 hover:bg-primary-50"}`,children:me("General")}),_.jsx("button",{onClick:()=>a("ai"),className:`flex-1 py-2 px-4 text-sm font-medium transition-colors ${s==="ai"?"text-accent-500 border-b-2 border-accent-500":"text-primary-600 hover:bg-primary-50"}`,children:me("AI Settings")})]}),s==="general"&&_.jsxs("div",{className:"space-y-4",children:[_.jsxs("div",{className:"space-y-2",children:[_.jsx("h3",{className:"text-sm font-semibold text-slate-700",children:me("Data Management")}),_.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[_.jsxs("button",{onClick:()=>{r(),e()},className:"flex items-center gap-4 p-3 rounded-lg hover:bg-primary-50 transition-colors w-full",children:[_.jsx("div",{className:"p-2 rounded-lg bg-semantic-success/10 text-semantic-success flex-shrink-0",children:_.jsx(rC,{size:20})}),_.jsxs("div",{className:"flex-1 flex flex-col justify-center",children:[_.jsx("h4",{className:"font-medium text-slate-800 mb-1",children:me("Import diaries and folders")}),_.jsx("p",{className:"text-sm text-slate-500",children:me("Import from JSON, MD, HTML, TXT, DOCX, PDF")})]})]}),_.jsxs("button",{onClick:()=>{n(),e()},className:"flex items-center gap-4 p-3 rounded-lg hover:bg-primary-50 transition-colors w-full",children:[_.jsx("div",{className:"p-2 rounded-lg bg-accent-50 text-accent-500 flex-shrink-0",children:_.jsx(ZB,{size:20})}),_.jsxs("div",{className:"flex-1 flex flex-col justify-center",children:[_.jsx("h4",{className:"font-medium text-slate-800 mb-1",children:me("Export diaries")}),_.jsx("p",{className:"text-sm text-slate-500",children:me("Export to JSON, MD, HTML, DOCX, PDF")})]})]})]})]}),_.jsxs("div",{className:"space-y-2",children:[_.jsx("h3",{className:"text-sm font-semibold text-slate-700",children:me("Cloud Sync")}),_.jsxs("button",{onClick:i,className:"flex items-center gap-4 p-3 rounded-lg hover:bg-primary-50 transition-colors w-full",children:[_.jsx("div",{className:"p-2 rounded-lg bg-blue-50 text-blue-600 flex-shrink-0",children:_.jsx(eC,{size:20})}),_.jsxs("div",{className:"flex-1 flex flex-col justify-center",children:[_.jsx("h4",{className:"font-medium text-slate-800 mb-1",children:me("Manual sync")}),_.jsx("p",{className:"text-sm text-slate-500",children:me("Sync data with cloud storage")})]})]})]})]}),s==="ai"&&_.jsx("div",{children:_.jsx(nme,{onClose:()=>a("general")})})]})})},TL={:0,:0,:1,:2,:3,:4,:5,:6,:0,:0,:1,:2,:3,:4,:5,:6},mp=t=>{const e=new Date(t);return e.setHours(0,0,0,0),e},nj=t=>{const e=new Date(t);return e.setHours(23,59,59,999),e},sme=t=>({startDate:mp(t).getTime(),endDate:nj(t).getTime()}),ame=(t,e,r)=>{const n=mp(e),i=n.getDay();let s=t-i;(r||s<=0)&&(s+=7);const a=new Date(n);return a.setDate(n.getDate()+s),a},ome=(t,e)=>{const r=t.match(/(\d{4})[./-](\d{1,2})[./-](\d{1,2})/);if(r){const s=Number(r[1]),a=Number(r[2]),o=Number(r[3]),l=new Date(s,a-1,o);if(!Number.isNaN(l.getTime()))return l}const n=t.match(/(\d{1,2})(\d{1,2})/);if(n){const s=Number(n[1]),a=Number(n[2]);let o=e.getFullYear();//.test(t)&&(o+=1);const l=new Date(o,s-1,a);if(!Number.isNaN(l.getTime()))return l<mp(e)&&l.setFullYear(l.getFullYear()+1),l}const i=t.match(/(\d{1,2})[./-](\d{1,2})/);if(i){const s=Number(i[1]),a=Number(i[2]),o=e.getFullYear(),l=new Date(o,s-1,a);if(!Number.isNaN(l.getTime()))return l<mp(e)&&l.setFullYear(l.getFullYear()+1),l}return null},lme=(t,e)=>{const r=mp(e);if(/|/.test(t))return r;if(//.test(t)){const i=new Date(r);return i.setDate(r.getDate()+1),i}if(//.test(t)){const i=new Date(r);return i.setDate(r.getDate()+2),i}const n=Object.keys(TL).find(i=>t.includes(i));if(n){const i=//.test(t);return ame(TL[n],r,i)}return null},Ame=(t,e)=>{const r=[],n=ome(t,e);n&&r.push(n);const i=lme(t,e);return i&&r.push(i),r},cme=(t,e)=>{const r=t.trim();if(!r)return null;const n=Ame(r,e);if(n.length===0)return{title:r,notes:void 0,startDate:null,endDate:null};if(n.length>=2||/||-/u.test(r)){const[a,o]=n,l=a??n[0],c=o??n[n.length-1];return{title:r,notes:void 0,startDate:mp(l).getTime(),endDate:nj(c).getTime()}}const{startDate:i,endDate:s}=sme(n[0]);return{title:r,notes:void 0,startDate:i,endDate:s}},ume=(t,e)=>t.split(/\n|;||/).map(n=>n.trim()).filter(Boolean).map(n=>cme(n,e)).filter(n=>!!n),fme="https://api.gemini.google.com/v1/complete",NL=(t,e)=>{if(!t)return null;const r=t.trim();if(!r)return null;const n=(o,l,c)=>{const f=new Date(o,l-1,c);return Number.isNaN(f.getTime())||f.getFullYear()!==o||f.getMonth()!==l-1||f.getDate()!==c?null:(f.setHours(0,0,0,0),f.getTime())},i=r.match(/^(\d{4})[./-](\d{1,2})[./-](\d{1,2})?$/);if(i)return n(Number(i[1]),Number(i[2]),Number(i[3]));const s=r.match(/^(\d{1,2})[./-](\d{1,2})?$/);if(s)return n(e.getFullYear(),Number(s[1]),Number(s[2]));const a=new Date(r);return Number.isNaN(a.getTime())?null:(a.setHours(0,0,0,0),a.getTime())},hme=t=>{if(t===null)return null;const e=new Date(t);return e.setHours(23,59,59,999),e.getTime()},FL=(t,e)=>!t||!Array.isArray(t.tasks)?[]:t.tasks.map(r=>{const n=(r.title||"").trim();if(!n)return null;const i=NL(r.startDate||r.date,e)||null,s=NL(r.endDate||r.date,e)||i,a=hme(s);return!i||!a?{title:n,notes:r.notes?.trim()||void 0,startDate:null,endDate:null,source:"ai"}:{title:n,notes:r.notes?.trim()||void 0,startDate:i,endDate:a,source:"ai"}}).filter(r=>!!r).map(r=>({...r,startDate:r.startDate??null,endDate:r.endDate??null,source:r.source||"ai"}));function dme(){const[t,e]=ke.useState(!1),[r,n]=ke.useState(null);return{parsePlans:ke.useCallback(async(s,a)=>{e(!0),n(null);const o=Ur.getAiSettings(),l=o.geminiApiKey,c=o.deepseekKey,f=o.deepseekBaseUrl||"https://api.deepseek.com",h=o.deepseekModel||"deepseek-chat";try{if(c)try{const d=`${f.replace(/\/$/,"")}/v1/chat/completions`,v={model:h,messages:[{role:"system",content:`
          
JSON
{
  "tasks": [
    {
      "title": "",
      "notes": "",
      "date": "YYYY-MM-DDMM-DDMD",
      "startDate": "YYYY-MM-DDMM-DDMD",
      "endDate": "YYYY-MM-DDMM-DDMD"
    }
  ]
}


1. JSONtasks
2. date
3. startDateendDate
4. 
5. JSON
6. 
7. JSON`},{role:"user",content:`

${s}`}],temperature:.3,max_tokens:1500},b=await fetch(d,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${c}`},body:JSON.stringify(v)});if(!b.ok)throw new Error(`DeepSeek API error: ${b.status}`);const w=await b.json(),B=w?.choices?.[0]?.message?.content||w?.choices?.[0]?.text||"";let S=null;try{S=JSON.parse(B)}catch{const C=B.match(/\{[\s\S]*\}/);if(C)try{S=JSON.parse(C[0])}catch{console.warn("Failed to parse extracted JSON:",C[0])}}if(S&&Array.isArray(S.tasks)){const C=FL(S,a);if(C.length>0)return e(!1),C}}catch(d){console.warn("DeepSeek plan parse failed, falling back to Gemini or local",d)}if(l)try{const g=`JSON
{
  "tasks": [
    {"title": "", "notes": "", "date": "YYYY-MM-DD  MM-DD", "startDate": "YYYY-MM-DD  MM-DD", "endDate": "YYYY-MM-DD  MM-DD"}
  ]
}
JSONdatestartDateendDateMM-DD


${s}`,v=await fetch(fme,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${l}`},body:JSON.stringify({prompt:g,temperature:.2,max_output_tokens:800})});if(!v.ok)throw new Error(`Gemini API error: ${v.status}`);const b=await v.json(),w=b?.choices?.[0]?.text||b?.output||"";let B=null;try{B=JSON.parse(w)}catch{const S=w.match(/\{[\s\S]*\}/);if(S)try{B=JSON.parse(S[0])}catch{console.warn("Failed to parse extracted JSON:",S[0])}}if(B&&Array.isArray(B.tasks)){const S=FL(B,a);if(S.length>0)return e(!1),S}}catch(d){console.warn("Gemini plan parse failed, falling back to local",d)}const m=ume(s,a).map(d=>({...d,source:"local"}));return e(!1),m}catch(m){const d=m instanceof Error?m.message:String(m);throw n(d),e(!1),m}},[]),loading:t,error:r}}const UL=({onModalStateChange:t})=>{const{activeTasks:e,futureTasks:r,completedTasks:n,searchQuery:i,setSearchQuery:s,filterTasksBySearch:a,addTask:o,updateTask:l,toggleComplete:c,deleteTask:f,moveTaskUp:h,moveTaskDown:m}=QD(),{parsePlans:d,loading:g,error:v}=dme(),[b,w]=ke.useState("active"),[B,S]=ke.useState(!1),[C,k]=ke.useState(!1),[M,D]=ke.useState(null),[H,F]=ke.useState(""),[$,q]=ke.useState(""),[R,G]=ke.useState("long-term"),[U,ae]=ke.useState(""),[re,Y]=ke.useState(""),[he,de]=ke.useState(!1),[Ce,X]=ke.useState(""),[I,J]=ke.useState([]),[te,Ae]=ke.useState(null),se=ke.useMemo(()=>I.some(N=>!N.startDate||!N.endDate),[I]);ke.useEffect(()=>{t?.(B||C||he)},[B,C,he,t]);const Q=()=>{if(!H.trim())return;const N={notes:$.trim()||void 0,taskType:R};R==="time-range"&&(U&&(N.startDate=new Date(U).getTime()),re&&(N.endDate=new Date(re).setHours(23,59,59,999))),o(H.trim(),N),F(""),q(""),G("long-term"),ae(""),Y(""),S(!1)},P=N=>{D(N.id),F(N.title),q(N.notes||""),G(N.taskType),ae(oe(N.startDate??null)),Y(oe(N.endDate??null)),k(!0)},le=()=>{if(!M||!H.trim())return;const N={title:H.trim(),notes:$.trim()||void 0,taskType:R};R==="time-range"?(U&&(N.startDate=new Date(U).getTime()),re&&(N.endDate=new Date(re).setHours(23,59,59,999))):(N.startDate=null,N.endDate=null),l(M,N),D(null),F(""),q(""),G("long-term"),ae(""),Y(""),k(!1)},oe=N=>{if(!N)return"";const z=new Date(N),ge=z.getFullYear(),Be=String(z.getMonth()+1).padStart(2,"0"),be=String(z.getDate()).padStart(2,"0");return`${ge}-${Be}-${be}`},ie=async()=>{if(!Ce.trim()){Ae(me("Please enter your plan text"));return}Ae(null);try{const N=await d(Ce.trim(),new Date);J(N),N.length===0&&Ae(me("No tasks extracted"))}catch(N){const z=N instanceof Error?N.message:String(N);Ae(z)}},fe=()=>{I.length===0||se||(I.forEach(N=>{!N.startDate||!N.endDate||o(N.title,{notes:N.notes,taskType:"time-range",startDate:N.startDate,endDate:N.endDate})}),X(""),J([]),Ae(null),de(!1))},Te=(N,z)=>{if(!N||!z)return"";const ge=new Date(N).toLocaleDateString("zh-CN",{month:"short",day:"numeric"}),Be=new Date(z).toLocaleDateString("zh-CN",{month:"short",day:"numeric"});return`${ge} - ${Be}`},V=b==="active"?e:b==="future"?r:n,ne=a(V),W=N=>b!=="active"||i.trim()?!1:V.findIndex(ge=>ge.id===N)>0,L=N=>b!=="active"||i.trim()?!1:V.findIndex(ge=>ge.id===N)<V.length-1;return _.jsxs("div",{className:"h-full flex flex-col",style:{backgroundColor:"rgba(255, 255, 255, 0.75)"},children:[_.jsxs("div",{className:"p-4",style:{backgroundColor:"rgba(255, 255, 255, 0.5)",borderBottom:"1px solid rgba(200, 210, 220, 0.4)"},children:[_.jsxs("div",{className:"flex items-center justify-between mb-3",children:[_.jsx("h3",{className:"text-lg font-semibold",style:{color:"var(--aurora-primary)"},children:me("Tasks")}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("button",{onClick:()=>de(!0),className:"p-1.5 rounded-lg transition-colors duration-200",style:{backgroundColor:"rgba(255, 255, 255, 0.5)",color:"var(--aurora-secondary)"},title:me("AI Parse Plans"),children:_.jsx(fV,{size:16})}),_.jsx("button",{onClick:()=>S(!0),className:"p-1.5 text-white rounded-lg transition-all duration-200",style:{background:"linear-gradient(135deg, var(--aurora-accent), var(--aurora-accent-alt))"},title:me("Create New Task"),children:_.jsx($S,{size:16})})]})]}),_.jsxs("div",{className:"relative",children:[_.jsx(fD,{size:14,className:"absolute left-3 top-1/2 -translate-y-1/2",style:{color:"var(--aurora-muted)"}}),_.jsx("input",{type:"text",className:"w-full rounded-xl px-9 py-2 text-sm transition-colors duration-200 outline-none",style:{backgroundColor:"rgba(255, 255, 255, 0.6)",border:"1px solid rgba(255, 255, 255, 0.3)",color:"var(--aurora-primary)"},placeholder:me("Search tasks..."),value:i,onChange:N=>s(N.target.value)})]})]}),_.jsx("div",{className:"px-3 py-2",style:{backgroundColor:"rgba(255, 255, 255, 0.4)",borderBottom:"1px solid rgba(200, 210, 220, 0.3)"},children:_.jsxs("div",{className:"flex gap-1 p-1 rounded-xl",style:{backgroundColor:"rgba(255, 255, 255, 0.6)"},children:[_.jsxs("button",{onClick:()=>w("active"),className:`flex-1 py-2 text-xs font-medium rounded-lg transition-all duration-200 ${b==="active"?"shadow-sm":""}`,style:b==="active"?{backgroundColor:"rgba(255, 255, 255, 0.7)",color:"var(--aurora-accent)"}:{color:"var(--aurora-secondary)"},children:[me("In Progress")," (",e.length,")"]}),_.jsxs("button",{onClick:()=>w("future"),className:`flex-1 py-2 text-xs font-medium rounded-lg transition-all duration-200 ${b==="future"?"shadow-sm":""}`,style:b==="future"?{backgroundColor:"rgba(255, 255, 255, 0.7)",color:"var(--aurora-accent)"}:{color:"var(--aurora-secondary)"},children:[me("Future")," (",r.length,")"]}),_.jsxs("button",{onClick:()=>w("completed"),className:`flex-1 py-2 text-xs font-medium rounded-lg transition-all duration-200 ${b==="completed"?"shadow-sm":""}`,style:b==="completed"?{backgroundColor:"rgba(255, 255, 255, 0.7)",color:"var(--aurora-accent)"}:{color:"var(--aurora-secondary)"},children:[me("Completed")," (",n.length,")"]})]})}),_.jsx("div",{className:"flex-1 overflow-auto p-3",children:_.jsx("ul",{className:"space-y-2",children:ne.length===0?_.jsx("li",{className:"text-center text-sm py-8 rounded-xl",style:{backgroundColor:"rgba(255, 255, 255, 0.8)",color:"var(--aurora-muted)"},children:me(i?"No tasks found":"No tasks yet")}):ne.map(N=>_.jsx("li",{className:"p-3 rounded-xl border transition-colors duration-200",style:{backgroundColor:"rgba(255, 255, 255, 0.85)",borderColor:"rgba(226, 232, 240, 0.6)"},children:_.jsxs("div",{className:"flex items-start gap-2",children:[_.jsx("input",{type:"checkbox",checked:N.completed,onChange:()=>c(N.id),className:"mt-0.5 cursor-pointer"}),_.jsxs("div",{className:"flex-1 min-w-0",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("span",{className:`text-sm font-medium ${N.completed?"line-through text-gray-400":"text-gray-800"}`,children:N.title}),N.taskType==="long-term"?_.jsx("span",{title:me("Long-term task"),children:_.jsx(Hm,{size:12,className:"text-gray-400 flex-shrink-0"})}):_.jsx("span",{title:me("Time-range task"),children:_.jsx(YA,{size:12,className:"text-orange-500 flex-shrink-0"})})]}),N.notes&&_.jsx("p",{className:"text-xs text-gray-500 mt-1 line-clamp-2",children:N.notes}),N.taskType==="time-range"&&N.startDate&&N.endDate&&_.jsx("p",{className:"text-xs text-orange-600 mt-1",children:Te(N.startDate,N.endDate)})]}),_.jsxs("div",{className:"flex flex-col gap-1",children:[b==="active"&&_.jsxs(_.Fragment,{children:[_.jsx("button",{onClick:()=>h(N.id),disabled:!W(N.id),className:"text-gray-400 hover:text-blue-600 disabled:opacity-30 disabled:cursor-not-allowed",title:me("Move Up"),children:_.jsx(Rz,{size:14})}),_.jsx("button",{onClick:()=>m(N.id),disabled:!L(N.id),className:"text-gray-400 hover:text-blue-600 disabled:opacity-30 disabled:cursor-not-allowed",title:me("Move Down"),children:_.jsx(Oz,{size:14})})]}),_.jsx("button",{onClick:()=>P(N),className:"text-blue-500 hover:text-blue-700 flex-shrink-0",title:me("Edit"),children:_.jsx(GK,{size:14})}),_.jsx("button",{onClick:()=>f(N.id),className:"text-red-500 hover:text-red-700 flex-shrink-0",title:me("Delete"),children:_.jsx(pg,{size:14})})]})]})},N.id))})}),_.jsx(es,{isOpen:B,onClose:()=>S(!1),title:me("Create New Task"),children:_.jsxs("div",{className:"space-y-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:me("Task Title")}),_.jsx("input",{type:"text",className:"w-full border rounded px-3 py-2 text-sm",placeholder:me("Enter task title"),value:H,onChange:N=>F(N.target.value),autoFocus:!0})]}),_.jsxs("div",{children:[_.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[me("Notes")," ",_.jsxs("span",{className:"text-gray-400 text-xs",children:["(",me("Optional"),")"]})]}),_.jsx("textarea",{className:"w-full border rounded px-3 py-2 text-sm resize-none",placeholder:me("Add notes..."),value:$,onChange:N=>q(N.target.value),rows:3})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:me("Task Type")}),_.jsxs("div",{className:"flex gap-3",children:[_.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[_.jsx("input",{type:"radio",name:"taskType",value:"long-term",checked:R==="long-term",onChange:N=>G(N.target.value)}),_.jsx(Hm,{size:16,className:"text-gray-600"}),_.jsx("span",{className:"text-sm",children:me("Long-term task")})]}),_.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[_.jsx("input",{type:"radio",name:"taskType",value:"time-range",checked:R==="time-range",onChange:N=>G(N.target.value)}),_.jsx(YA,{size:16,className:"text-orange-500"}),_.jsx("span",{className:"text-sm",children:me("Time-range task")})]})]})]}),R==="time-range"&&_.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:me("Start Date")}),_.jsx("input",{type:"date",className:"w-full border rounded px-3 py-2 text-sm",value:U,onChange:N=>ae(N.target.value)})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:me("End Date")}),_.jsx("input",{type:"date",className:"w-full border rounded px-3 py-2 text-sm",value:re,onChange:N=>Y(N.target.value),min:U})]})]}),_.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[_.jsx("button",{onClick:()=>S(!1),className:"px-4 py-2 text-sm text-gray-600 hover:text-gray-800",children:me("Cancel")}),_.jsx("button",{onClick:Q,disabled:!H.trim(),className:"px-4 py-2 text-sm bg-blue-600 text-white rounded hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed",children:me("Create")})]})]})}),_.jsx(es,{isOpen:C,onClose:()=>{k(!1),D(null),F(""),q(""),G("long-term"),ae(""),Y("")},title:me("Edit Task"),children:_.jsxs("div",{className:"space-y-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:me("Task Title")}),_.jsx("input",{type:"text",className:"w-full border rounded px-3 py-2 text-sm",placeholder:me("Enter task title"),value:H,onChange:N=>F(N.target.value),autoFocus:!0})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:me("Task Notes")}),_.jsx("textarea",{className:"w-full border rounded px-3 py-2 text-sm resize-none",placeholder:me("Add notes..."),value:$,onChange:N=>q(N.target.value),rows:3})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:me("Task Type")}),_.jsxs("div",{className:"flex gap-3",children:[_.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[_.jsx("input",{type:"radio",name:"editTaskType",value:"long-term",checked:R==="long-term",onChange:N=>G(N.target.value)}),_.jsx(Hm,{size:16,className:"text-gray-600"}),_.jsx("span",{className:"text-sm",children:me("Long-term task")})]}),_.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[_.jsx("input",{type:"radio",name:"editTaskType",value:"time-range",checked:R==="time-range",onChange:N=>G(N.target.value)}),_.jsx(YA,{size:16,className:"text-orange-500"}),_.jsx("span",{className:"text-sm",children:me("Time-range task")})]})]})]}),R==="time-range"&&_.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:me("Start Date")}),_.jsx("input",{type:"date",className:"w-full border rounded px-3 py-2 text-sm",value:U,onChange:N=>ae(N.target.value)})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:me("End Date")}),_.jsx("input",{type:"date",className:"w-full border rounded px-3 py-2 text-sm",value:re,onChange:N=>Y(N.target.value),min:U})]})]}),_.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[_.jsx("button",{onClick:()=>{k(!1),D(null),F(""),q(""),G("long-term"),ae(""),Y("")},className:"px-4 py-2 text-sm text-gray-600 hover:text-gray-800",children:me("Cancel")}),_.jsx("button",{onClick:le,disabled:!H.trim(),className:"px-4 py-2 text-sm bg-blue-600 text-white rounded hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed",children:me("Update")})]})]})}),_.jsx(es,{isOpen:he,onClose:()=>de(!1),title:me("AI Parse Plans"),children:_.jsxs("div",{className:"space-y-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:me("Plan Text")}),_.jsx("textarea",{className:"w-full border rounded px-3 py-2 text-sm resize-none",placeholder:me("Paste your plan text here"),value:Ce,onChange:N=>X(N.target.value),rows:5})]}),(te||v)&&_.jsx("div",{className:"text-sm text-red-600",children:te||v}),_.jsx("div",{className:"flex justify-end gap-2",children:_.jsxs("button",{onClick:ie,disabled:g,className:"px-4 py-2 text-sm bg-gray-900 text-white rounded hover:bg-gray-800 disabled:bg-gray-300 disabled:cursor-not-allowed inline-flex items-center gap-2",children:[g&&_.jsx(lD,{size:14,className:"animate-spin"}),me("Parse Plans")]})}),I.length>0&&_.jsxs("div",{className:"space-y-3",children:[_.jsx("div",{className:"text-sm font-medium text-gray-700",children:me("Parsed Tasks")}),I.map((N,z)=>_.jsxs("div",{className:"border rounded p-3 space-y-2",children:[_.jsxs("div",{className:"flex gap-2",children:[_.jsx("input",{type:"text",className:"flex-1 border rounded px-2 py-1 text-sm",value:N.title,onChange:ge=>{const Be=I.map((be,Oe)=>Oe===z?{...be,title:ge.target.value}:be);J(Be)}}),_.jsx("button",{onClick:()=>{const ge=I.filter((Be,be)=>be!==z);J(ge)},className:"px-2 text-red-600 hover:text-red-700",title:me("Delete"),children:_.jsx(pg,{size:14})})]}),_.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[_.jsx("input",{type:"date",className:"border rounded px-2 py-1 text-sm",value:oe(N.startDate),onChange:ge=>{const Be=ge.target.value?new Date(ge.target.value):null,be=Be?Be.setHours(0,0,0,0):null,Oe=Be?new Date(Be).setHours(23,59,59,999):null,je=I.map((He,We)=>We===z?{...He,startDate:be,endDate:Oe}:He);J(je)}}),_.jsx("input",{type:"date",className:"border rounded px-2 py-1 text-sm",value:oe(N.endDate),onChange:ge=>{const Be=ge.target.value?new Date(ge.target.value):null,be=Be?new Date(Be).setHours(23,59,59,999):null,Oe=I.map((je,He)=>He===z?{...je,endDate:be}:je);J(Oe)}})]}),_.jsx("textarea",{className:"w-full border rounded px-2 py-1 text-sm resize-none",placeholder:me("Optional notes"),value:N.notes||"",onChange:ge=>{const Be=I.map((be,Oe)=>Oe===z?{...be,notes:ge.target.value}:be);J(Be)},rows:2}),(!N.startDate||!N.endDate)&&_.jsx("div",{className:"text-xs text-red-600",children:me("Please complete dates")})]},`${N.title}-${z}`))]}),_.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[_.jsx("button",{onClick:()=>de(!1),className:"px-4 py-2 text-sm text-gray-600 hover:text-gray-800",children:me("Cancel")}),_.jsx("button",{onClick:fe,disabled:I.length===0||se,className:"px-4 py-2 text-sm bg-blue-600 text-white rounded hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed",children:me("Create Tasks")})]})]})})]})},pme="https://api.gemini.google.com/v1/complete";function mme(){const[t,e]=ke.useState(!1),[r,n]=ke.useState(null);return{analyze:ke.useCallback(async(s,a,o)=>{e(!0),n(null);try{const l=Ur.getAiSettings(),c=l.geminiApiKey,f=l.deepseekKey,h=l.deepseekBaseUrl||"https://api.deepseek.com",m=l.deepseekModel||"deepseek-chat";let d="",g=[],v=[],b;if(f)try{const B=`${h.replace(/\/$/,"")}/v1/chat/completions`,S={model:m,messages:[{role:"system",content:' JSON{"summary":"...","suggestions":["..."],"tags":["..."]}'},{role:"user",content:`

${a}`}],temperature:o?.temperature??.3,max_tokens:512},C=await fetch(B,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${f}`},body:JSON.stringify(S)});if(!C.ok)throw new Error(`DeepSeek API error: ${C.status}`);const k=await C.json(),M=k?.choices?.[0]?.message?.content||k?.choices?.[0]?.text||JSON.stringify(k),D=M.match(/\{[\s\S]*\}/);if(D){const H=JSON.parse(D[0]);d=H.summary||"",g=Array.isArray(H.suggestions)?H.suggestions:[],v=Array.isArray(H.tags)?H.tags:[],b="deepseek"}else d=M.slice(0,500),b="deepseek"}catch(B){console.warn("DeepSeek call failed, falling back to Gemini or local analysis",B)}if(!d&&c)try{const B=`

${a}

JSON{"summary":"...","suggestions":["..."],"tags":["..."]}`,S=await fetch(pme,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${c}`},body:JSON.stringify({prompt:B,temperature:o?.temperature??.3,max_output_tokens:512})});if(!S.ok)throw new Error(`Gemini API error: ${S.status}`);const C=await S.json(),k=C?.choices?.[0]?.text||C?.output||JSON.stringify(C),M=k.match(/\{[\s\S]*\}/);if(M){const D=JSON.parse(M[0]);d=D.summary||"",g=Array.isArray(D.suggestions)?D.suggestions:[],v=Array.isArray(D.tags)?D.tags:[],b="gemini"}else d=k.slice(0,500),b="gemini"}catch(B){console.warn("Gemini call failed, falling back to local analysis",B)}if(!d){d=a.trim().slice(0,400),g=[],(a.includes("")||a.includes("")||a.includes(""))&&g.push(""),(a.includes("")||a.includes(""))&&g.push(""),(a.includes("")||a.includes(""))&&g.push(""),(a.includes("")||a.includes(""))&&g.push(""),g.length===0&&g.push("");const B=new Set;["","","","","","","","","",""].forEach(S=>{a.includes(S)&&B.add(S)}),v=Array.from(B),b="local"}const w={id:Xs(),diaryId:s||null,summary:d,suggestions:g,tags:v,createdAt:Date.now(),source:b};return Ur.addAnalysis(w),e(!1),w}catch(l){const c=l instanceof Error?l.message:String(l);throw n(c),e(!1),l}},[]),loading:t,error:r}}const OL=t=>t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;"),MB=t=>t.replace(/<[^>]*>/g,""),gme=({isOpen:t,diaryId:e,diaryContent:r,onClose:n,onAppendToDiary:i,onUpdateDiary:s})=>{const{analyze:a,loading:o,error:l}=mme(),[c,f]=ke.useState(null),[h,m]=ke.useState(null),[d,g]=ke.useState(null),[v,b]=ke.useState(new Set),w=ke.useMemo(()=>t?Ur.getAnalyses().filter(H=>H.diaryId===(e||null)).sort((H,F)=>F.createdAt-H.createdAt):[],[t,e]),B=ke.useMemo(()=>{if(d){const H=w.find(F=>F.id===d);if(H)return H}return(h===(e||null)?c:null)||w[0]||null},[w,c,d,h,e]);ke.useEffect(()=>{if(!t||w.length>0)return;let D=!0;return(async()=>{try{const H=await a(e||null,r);D&&(f(H),m(e||null))}catch(H){console.error(H)}})(),()=>{D=!1}},[t,r,e,a,w.length]);const S=()=>{if(!B||!i)return;let D=`

<hr>
<h3> AI </h3>
`;D+=`<p><em>: ${new Date(B.createdAt).toLocaleString()}</em></p>
`,B.summary&&(D+=`<h4> </h4>
`,D+=`<p>${OL(B.summary)}</p>
`),B.suggestions&&B.suggestions.length>0&&(D+=`<h4> </h4>
<ul>
`,B.suggestions.forEach(H=>{D+=`<li>${OL(H)}</li>
`}),D+=`</ul>
`),i(D),n()},C=()=>{v.size===0||!s||!e||(s(e,{tags:Array.from(v)}),n())},k=async()=>{try{const D=await a(e||null,r);f(D),m(e||null),g(D.id)}catch(D){console.error(D)}},M=D=>{const H=w.find(F=>F.id===D);H&&(g(D),f(H))};return _.jsx(es,{isOpen:t,onClose:n,title:me("AI Analysis"),maxWidth:"4xl",children:_.jsxs("div",{className:"flex flex-col gap-4 min-h-[500px] md:flex-row md:gap-6",children:[_.jsxs("div",{className:"w-full md:w-56 overflow-auto border-b md:border-b-0 md:border-r pb-4 md:pb-0 md:pr-4",children:[_.jsxs("div",{className:"flex items-center justify-between mb-3",children:[_.jsx("h4",{className:"font-semibold text-sm",children:me("History")}),_.jsx("button",{onClick:k,disabled:o,className:"text-xs text-blue-600 hover:text-blue-700 disabled:text-gray-400",children:me("Analyze")})]}),_.jsxs("ul",{className:"space-y-2",children:[w.length===0&&_.jsx("li",{className:"text-xs text-gray-500",children:me("No diaries")}),w.map(D=>_.jsx("li",{children:_.jsxs("button",{onClick:()=>M(D.id),className:`w-full text-left p-2 rounded transition-colors ${d===D.id?"bg-blue-50 border border-blue-200":"hover:bg-gray-50"}`,children:[_.jsx("div",{className:"text-xs font-medium text-gray-700",children:new Date(D.createdAt).toLocaleString("zh-CN",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}),_.jsx("div",{className:"text-xs text-gray-500 truncate mt-1",children:MB(D.summary).slice(0,50)})]})},D.id))]})]}),_.jsxs("div",{className:"flex-1 min-w-0",children:[o&&_.jsx("div",{className:"flex items-center justify-center h-full",children:_.jsx("p",{className:"text-gray-500",children:me("Analyzing...")})}),l&&_.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:_.jsx("p",{className:"text-red-600 text-sm",children:l})}),B&&!o&&_.jsxs("div",{className:"space-y-6",children:[_.jsxs("div",{children:[_.jsxs("div",{className:"flex items-center justify-between mb-3",children:[_.jsxs("h4",{className:"font-semibold text-base flex items-center gap-2",children:[" ",me("Summary")]}),B.source&&_.jsxs("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded",children:[me("Source"),": ",B.source]})]}),_.jsx("p",{className:"text-sm text-gray-700 leading-relaxed whitespace-pre-wrap bg-gray-50 p-4 rounded-lg",children:MB(B.summary)})]}),B.suggestions&&B.suggestions.length>0&&_.jsxs("div",{children:[_.jsxs("h4",{className:"font-semibold text-base mb-3 flex items-center gap-2",children:[" ",me("Suggestions")]}),_.jsx("ul",{className:"space-y-2",children:B.suggestions.map((D,H)=>_.jsxs("li",{className:"flex items-start gap-3 bg-blue-50 p-3 rounded-lg",children:[_.jsxs("span",{className:"text-blue-600 font-semibold text-sm mt-0.5",children:[H+1,"."]}),_.jsx("span",{className:"text-sm text-gray-700 flex-1",children:MB(D)})]},H))})]}),B.tags&&B.tags.length>0&&_.jsxs("div",{children:[_.jsxs("h4",{className:"font-semibold text-base mb-3 flex items-center gap-2",children:[" ",me("Tags")]}),_.jsx("div",{className:"flex gap-2 flex-wrap",children:B.tags.map((D,H)=>_.jsx("span",{className:`text-sm px-3 py-1.5 rounded-full font-medium cursor-pointer transition-all duration-200 ${v.has(D)?"bg-purple-600 text-white":"bg-gray-100 text-gray-500 hover:bg-gray-200"}`,onClick:()=>{const F=new Set(v);F.has(D)?F.delete(D):F.add(D),b(F)},children:D},H))})]}),_.jsxs("div",{className:"pt-4 border-t space-y-3",children:[B?.tags&&B.tags.length>0&&_.jsxs("button",{onClick:C,disabled:v.size===0,className:"w-full px-6 py-2.5 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors font-medium text-sm inline-flex items-center justify-center disabled:bg-gray-300 disabled:cursor-not-allowed",children:[" ",me("")]}),_.jsxs("button",{onClick:S,className:"w-full px-6 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium text-sm inline-flex items-center justify-center",children:[" ",me("")]})]})]})]})]})})},yme={success:jz,error:L1,info:mK},wme={success:"bg-semantic-success/10 border-semantic-success/25 text-semantic-success",error:"bg-semantic-error/10 border-semantic-error/25 text-semantic-error",info:"bg-accent-500/10 border-accent-500/25 text-accent-600"},vme=()=>{const[t,e]=ke.useState([]);return ke.useEffect(()=>{const r=n=>{const i=n,s={id:i.detail.id,message:i.detail.message,type:i.detail.type,duration:i.detail.duration??2800};e(a=>[...a,s]),window.setTimeout(()=>{e(a=>a.filter(o=>o.id!==s.id))},s.duration)};return window.addEventListener(LT,r),()=>{window.removeEventListener(LT,r)}},[]),t.length===0?null:_.jsx("div",{className:"pointer-events-none fixed top-5 right-5 z-[1000] flex max-w-sm flex-col gap-2.5",children:t.map(r=>{const n=yme[r.type];return _.jsxs("div",{className:`
              pointer-events-auto 
              flex items-start gap-2.5 
              rounded-apple 
              border 
              backdrop-blur-apple
              bg-white/90
              px-4 py-3 
              shadow-apple-lg
              animate-slide-up
              ${wme[r.type]}
            `,role:"status","aria-live":"polite",children:[_.jsx(n,{size:18,strokeWidth:1.75,className:"mt-0.5 flex-shrink-0"}),_.jsx("span",{className:"text-sm font-medium leading-5 text-primary-800",children:r.message})]},r.id)})})},QB=({userEmail:t,onRetry:e,onSwitchAccount:r,onLogout:n,compact:i=!1})=>{const{status:s,pendingCount:a,lastError:o}=nD(),[l,c]=ke.useState(!1),[f,h]=ke.useState("status"),[m,d]=ke.useState([]),g=ke.useRef(null);ke.useEffect(()=>{const H=()=>{d(yo.getRecent(10))};return H(),yo.addListener(H)},[]),ke.useEffect(()=>{const H=F=>{g.current&&!g.current.contains(F.target)&&c(!1)};if(l)return document.addEventListener("mousedown",H),()=>document.removeEventListener("mousedown",H)},[l]);const v=()=>{switch(s){case"syncing":return _.jsx(lD,{size:16,className:"shrink-0 animate-spin text-blue-500"});case"synced":return _.jsx(RT,{size:16,className:"shrink-0 text-green-500"});case"error":return _.jsx(L1,{size:16,className:"shrink-0 text-red-500"});default:return _.jsx(Kz,{size:16,className:"shrink-0 text-gray-500"})}},b=()=>{switch(s){case"syncing":return"bg-blue-50 border-blue-200 text-blue-700";case"synced":return"bg-green-50 border-green-200 text-green-700";case"error":return"bg-red-50 border-red-200 text-red-700";default:return"bg-gray-50 border-gray-200 text-gray-600"}},w=()=>{switch(s){case"syncing":return me("Syncing...");case"synced":return me("Synced");case"error":return me("Sync Failed");default:return me("Cloud Sync")}},B=H=>{H.stopPropagation(),e&&e()},S=H=>{H.stopPropagation(),c(!1),r&&r()},C=H=>{H.stopPropagation(),c(!1),n&&n()},k=H=>{H.stopPropagation(),yo.clear()},M=H=>{const F=new Date(H),q=new Date().getTime()-F.getTime(),R=Math.floor(q/6e4),G=Math.floor(q/36e5),U=Math.floor(q/864e5);return R<1?me("Just now"):R<60?`${R} ${me("minutes ago")}`:G<24?`${G} ${me("hours ago")}`:U<7?`${U} ${me("days ago")}`:F.toLocaleString("zh-CN",{month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})},D=H=>H.status==="success"?_.jsx(RT,{size:12,className:"text-green-500"}):_.jsx(L1,{size:12,className:"text-red-500"});return _.jsxs("div",{className:"relative",ref:g,children:[_.jsxs("button",{onClick:()=>c(!l),className:`flex items-center justify-center rounded-md border transition-all hover:shadow-sm ${b()} ${i?"w-8 h-8 p-1":"w-full gap-2 px-3 py-2 text-xs"}`,title:o||w(),children:[v(),!i&&a>0&&_.jsx("span",{className:"shrink-0 bg-yellow-500 text-white rounded-full px-1.5 py-0.5 text-[10px] font-bold",children:a}),i&&a>0&&_.jsx("span",{className:"absolute -top-1 -right-1 bg-yellow-500 text-white rounded-full w-4 h-4 text-[9px] font-bold flex items-center justify-center",children:a})]}),l&&_.jsxs("div",{className:`absolute mb-2 bg-white border border-gray-200 rounded-lg shadow-lg z-50 ${i?"bottom-full left-1/2 -translate-x-1/2 w-72":"bottom-full left-0 w-full max-w-xs"}`,children:[_.jsxs("div",{className:"flex border-b bg-gray-50 rounded-t-lg",children:[_.jsx("button",{onClick:()=>h("status"),className:`flex-1 px-3 py-2 text-sm font-medium transition-colors ${f==="status"?"text-blue-600 border-b-2 border-blue-600 bg-white":"text-gray-600 hover:text-gray-900"}`,children:me("Status")}),_.jsx("button",{onClick:()=>h("history"),className:`flex-1 px-3 py-2 text-sm font-medium transition-colors ${f==="history"?"text-blue-600 border-b-2 border-blue-600 bg-white":"text-gray-600 hover:text-gray-900"}`,children:_.jsxs("span",{className:"inline-flex items-center gap-1",children:[_.jsx(fK,{size:14}),me("Sync History")]})})]}),f==="status"&&_.jsxs(_.Fragment,{children:[_.jsxs("div",{className:`px-3 py-2 border-b ${b()}`,children:[_.jsxs("div",{className:"flex items-center gap-2",children:[v(),_.jsx("span",{className:"font-medium text-sm",children:w()}),s==="error"&&e&&_.jsx("button",{onClick:B,className:"ml-auto p-1 hover:bg-white/50 rounded transition-colors",title:me("Retry sync"),children:_.jsx(eC,{size:14})})]}),a>0&&_.jsxs("div",{className:"mt-1 text-xs opacity-90",children:[a," ",me("operations pending")]})]}),t&&_.jsx("div",{className:"px-3 py-2 border-b bg-gray-50",children:_.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-700",children:[_.jsx(cV,{size:14,className:"shrink-0"}),_.jsx("span",{className:"truncate",children:t})]})}),e&&_.jsx("div",{className:"px-3 py-2 border-b",children:_.jsxs("button",{onClick:B,className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 rounded transition-colors",title:"",children:[_.jsx(eC,{size:14}),_.jsx("span",{children:""})]})}),_.jsxs("div",{className:"p-1",children:[r&&_.jsxs("button",{onClick:S,className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 rounded transition-colors",children:[_.jsx(lV,{size:14}),_.jsx("span",{children:me("Switch Account")})]}),n&&_.jsxs("button",{onClick:C,className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-red-600 hover:bg-red-50 rounded transition-colors",children:[_.jsx(NK,{size:14}),_.jsx("span",{children:me("Log out")})]})]})]}),f==="history"&&_.jsxs("div",{className:"max-h-80 overflow-y-auto",children:[m.length>0&&_.jsx("div",{className:"px-3 py-2 border-b bg-gray-50 flex justify-end",children:_.jsxs("button",{onClick:k,className:"flex items-center gap-1 px-2 py-1 text-xs text-red-600 hover:bg-red-50 rounded transition-colors",children:[_.jsx(pg,{size:12}),me("Clear History")]})}),m.length===0?_.jsx("div",{className:"px-3 py-8 text-center text-sm text-gray-400",children:me("No sync history yet")}):_.jsx("div",{className:"py-1",children:m.map(H=>_.jsx("div",{className:"px-3 py-2 hover:bg-gray-50 border-b last:border-b-0",children:_.jsxs("div",{className:"flex items-start gap-2",children:[_.jsx("div",{className:"mt-0.5",children:D(H)}),_.jsxs("div",{className:"flex-1 min-w-0",children:[_.jsxs("div",{className:"text-sm text-gray-900",children:[H.message,H.count!==void 0&&H.count>0&&_.jsxs("span",{className:"text-gray-500",children:[" (",H.count,")"]})]}),H.error&&_.jsx("div",{className:"text-xs text-red-600 mt-0.5 truncate",children:H.error}),_.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500 mt-1",children:[_.jsx(Hm,{size:10}),_.jsx("span",{children:M(H.timestamp)})]})]})]})},H.id))})]})]})]})},bme=()=>{const{user:t,signOut:e,isConfigured:r}=yp(),{diaries:n,currentDiary:i,currentDiaryId:s,searchQuery:a,createDiary:o,updateDiary:l,deleteDiary:c,moveDiary:f,setCurrentDiaryId:h,searchDiaries:m,importDiaries:d}=vz(),{folders:g,createFolder:v,updateFolder:b,deleteFolder:w,importFolders:B}=bz(),[S,C]=ke.useState(null),[k,M]=ke.useState([]),[D,H]=ke.useState(!1),[F,$]=ke.useState(!1),[q,R]=ke.useState("folders"),[G,U]=ke.useState(!1),[ae,re]=ke.useState(!1),[Y,he]=ke.useState(!1),[de,Ce]=ke.useState(!1),[X]=ke.useState(!1),[I,J]=ke.useState(!1),te=ke.useCallback(Ve=>Math.max(200,Math.min(600,Ve)),[]),[Ae,se]=ke.useState(()=>{try{const Ve=Number(localStorage.getItem("toc-panel-width"));return Number.isFinite(Ve)?te(Ve):288}catch(Ve){return console.warn("Failed to read TOC width",Ve),288}}),[Q,P]=ke.useState(!1),[le,oe]=ke.useState(!1),[ie,fe]=ke.useState(!1),[Te,V]=ke.useState(!1),[ne,W]=ke.useState("editor");ke.useEffect(()=>{const Ve=()=>{fe(window.innerWidth<768)},gt=()=>{V(!0)};return Ve(),window.addEventListener("resize",Ve),window.addEventListener("openSidebar",gt),()=>{window.removeEventListener("resize",Ve),window.removeEventListener("openSidebar",gt)}},[]);const L=ke.useCallback(()=>{xd.processQueue((Ve,gt)=>{!Ve&&gt&&Cr(gt)})},[]),N=ke.useCallback(Ve=>{s&&l(s,{title:Ve})},[s,l]),z=ke.useCallback(Ve=>{s&&l(s,{content:Ve})},[s,l]),ge=ke.useCallback(Ve=>{if(s&&i){const gt=i.content+Ve;l(s,{content:gt})}},[s,i,l]),Be=()=>{o(S)},be=Ve=>{const gt=o(S);return gt&&l(gt.id,{createdAt:Ve.getTime(),updatedAt:Ve.getTime()}),gt},Oe=(Ve,gt)=>{l(Ve,{createdAt:gt.getTime()})},je=(Ve,gt)=>{v(Ve,gt)},He=(Ve,gt)=>{b(Ve,{name:gt})},We=Ve=>{M(gt=>gt.includes(Ve)?gt.filter(Bt=>Bt!==Ve):[...gt,Ve])},at=()=>{M([])},ct=(Ve,gt)=>{n.forEach(Bt=>{if(Bt.tags.includes(Ve)){const Rt=Bt.tags.map(ur=>ur===Ve?gt:ur);l(Bt.id,{tags:Rt})}})},ft=(Ve,gt)=>{n.forEach(Bt=>{if(Bt.tags.some(ur=>Ve.includes(ur))){const ur=[...Bt.tags.filter(Vt=>!Ve.includes(Vt)),gt];l(Bt.id,{tags:Array.from(new Set(ur))})}})},Ot=Ve=>{n.forEach(gt=>{if(gt.tags.includes(Ve)){const Bt=gt.tags.filter(Rt=>Rt!==Ve);l(gt.id,{tags:Bt})}})},mt=k.length>0?n.filter(Ve=>k.every(gt=>Ve.tags.includes(gt))):n,kr=i?.title??"",yt=i?.content??"",_t=HD(yt),It=async()=>{try{await e(),Cr(me("Switched account. Please sign in again."))}catch(Ve){Cr(vs(Ve)||me("Sign out failed."))}},Pt=async()=>{try{await e(),Cr(me("Logged out successfully"))}catch(Ve){Cr(vs(Ve)||me("Sign out failed."))}};return _.jsxs("div",{className:"h-screen",children:[_.jsx(T7,{}),!ie&&_.jsxs("div",{className:"flex h-full",children:[_.jsxs("div",{className:`flex-shrink-0 flex flex-col overflow-hidden border-r border-slate-200/60 ${de||Y?"w-64":"w-12"}`,style:{backgroundColor:"rgba(255, 255, 255, 0.75)",transition:"width 0.2s cubic-bezier(0.4, 0, 0.2, 1)",willChange:"width"},onMouseEnter:()=>!de&&he(!0),onMouseLeave:()=>{if(le)return;const Ve=document.activeElement,gt=Ve&&(Ve.closest(".fixed")||Ve.closest('[role="dialog"]'));!de&&!gt&&he(!1)},children:[_.jsxs("div",{className:`flex ${de||Y?"flex-row":"flex-col"}`,style:{backgroundColor:"rgba(241, 245, 249, 0.9)"},children:[_.jsxs("button",{onClick:()=>R("folders"),className:`flex items-center justify-center gap-1.5 font-medium transition-all duration-200 ease-apple ${de||Y?"flex-1 py-3 text-xs whitespace-nowrap":"flex-col w-12 h-12"}`,style:{color:q==="folders"?"var(--aurora-accent)":"var(--aurora-secondary)",backgroundColor:q==="folders"?"rgba(14, 165, 233, 0.15)":"transparent",borderBottom:q==="folders"&&(de||Y)?"2px solid var(--aurora-accent)":"none",borderRight:q==="folders"&&!(de||Y)?"2px solid var(--aurora-accent)":"none"},children:[_.jsx(WS,{size:14}),(de||Y)&&me("Folders")]}),_.jsxs("button",{onClick:()=>R("tags"),className:`flex items-center justify-center gap-1.5 font-medium transition-all duration-200 ease-apple ${de||Y?"flex-1 py-3 text-xs whitespace-nowrap":"flex-col w-12 h-12"}`,style:{color:q==="tags"?"var(--aurora-accent)":"var(--aurora-secondary)",backgroundColor:q==="tags"?"rgba(14, 165, 233, 0.15)":"transparent",borderBottom:q==="tags"&&(de||Y)?"2px solid var(--aurora-accent)":"none",borderRight:q==="tags"&&!(de||Y)?"2px solid var(--aurora-accent)":"none"},children:[_.jsx(tC,{size:14}),(de||Y)&&me("Tags")]}),_.jsxs("button",{onClick:()=>R("calendar"),className:`flex items-center justify-center gap-1.5 font-medium transition-all duration-200 ease-apple ${de||Y?"flex-1 py-3 text-xs whitespace-nowrap":"flex-col w-12 h-12"}`,style:{color:q==="calendar"?"var(--aurora-accent)":"var(--aurora-secondary)",backgroundColor:q==="calendar"?"rgba(14, 165, 233, 0.15)":"transparent",borderBottom:q==="calendar"&&(de||Y)?"2px solid var(--aurora-accent)":"none",borderRight:q==="calendar"&&!(de||Y)?"2px solid var(--aurora-accent)":"none"},children:[_.jsx(YA,{size:14}),(de||Y)&&me("Calendar")]}),_.jsxs("button",{onClick:()=>R("tasks"),className:`flex items-center justify-center gap-1.5 font-medium transition-all duration-200 ease-apple ${de||Y?"flex-1 py-3 text-xs whitespace-nowrap":"flex-col w-12 h-12"}`,style:{color:q==="tasks"?"var(--aurora-accent)":"var(--aurora-secondary)",backgroundColor:q==="tasks"?"rgba(14, 165, 233, 0.15)":"transparent",borderBottom:q==="tasks"&&(de||Y)?"2px solid var(--aurora-accent)":"none",borderRight:q==="tasks"&&!(de||Y)?"2px solid var(--aurora-accent)":"none"},children:[_.jsx(xK,{size:14}),(de||Y)&&me("Tasks")]})]}),(de||Y)&&_.jsx("div",{className:"flex-1 overflow-hidden",children:q==="folders"?_.jsx(HT,{folders:g,onCreateFolder:je,onUpdateFolder:He,onDeleteFolder:w,onMoveDiary:f,selectedFolderId:S,onSelectFolder:C}):q==="tags"?_.jsx(jT,{diaries:n,selectedTags:k,onSelectTag:We,onClearTags:at,onRenameTag:ct,onMergeTags:ft,onDeleteTag:Ot}):q==="calendar"?_.jsx(r3,{diaries:n,onSelectDiary:h,onCreateDiary:be,onChangeDiaryDate:Oe}):_.jsx(UL,{onModalStateChange:oe})}),_.jsxs("div",{className:`mt-auto ${de||Y?"border-t border-slate-200/40":""}`,style:{backgroundColor:"rgba(255, 255, 255, 0.5)"},children:[(de||Y)&&r&&t&&_.jsx("div",{className:"px-3 py-2",style:{borderBottom:"1px solid rgba(200, 210, 220, 0.3)"},children:_.jsx(QB,{userEmail:t.email??null,onRetry:L,onSwitchAccount:It,onLogout:Pt})}),!(de||Y)&&_.jsxs("div",{className:"flex flex-col items-center gap-2 py-2",children:[r&&t&&_.jsx(QB,{userEmail:t.email??null,onRetry:L,onSwitchAccount:It,onLogout:Pt,compact:!0}),_.jsx("button",{onClick:()=>U(!0),className:"p-2 rounded-xl transition-all duration-200 active:scale-95",style:{color:"var(--aurora-secondary)",backgroundColor:"transparent"},onMouseEnter:Ve=>{Ve.currentTarget.style.backgroundColor="rgba(14, 165, 233, 0.15)",Ve.currentTarget.style.color="var(--aurora-accent)"},onMouseLeave:Ve=>{Ve.currentTarget.style.backgroundColor="transparent",Ve.currentTarget.style.color="var(--aurora-secondary)"},title:me("Settings"),children:_.jsx(v2,{size:16})})]}),(de||Y)&&_.jsxs("div",{className:"p-2 flex justify-between items-center",children:[_.jsx("button",{onClick:()=>U(!0),className:"p-2 rounded-xl transition-all duration-200 active:scale-95",style:{color:"var(--aurora-secondary)",backgroundColor:"transparent"},onMouseEnter:Ve=>{Ve.currentTarget.style.backgroundColor="rgba(14, 165, 233, 0.15)",Ve.currentTarget.style.color="var(--aurora-accent)"},onMouseLeave:Ve=>{Ve.currentTarget.style.backgroundColor="transparent",Ve.currentTarget.style.color="var(--aurora-secondary)"},title:me("Settings"),children:_.jsx(v2,{size:16})}),_.jsx("button",{onClick:()=>Ce(!de),className:"p-2 rounded-xl transition-all duration-200 active:scale-95",style:{color:"var(--aurora-secondary)",backgroundColor:"transparent"},onMouseEnter:Ve=>{Ve.currentTarget.style.backgroundColor="rgba(14, 165, 233, 0.15)",Ve.currentTarget.style.color="var(--aurora-accent)"},onMouseLeave:Ve=>{Ve.currentTarget.style.backgroundColor="transparent",Ve.currentTarget.style.color="var(--aurora-secondary)"},title:me(de?"Unpin":"Pin"),children:de?_.jsx(QT,{size:16}):_.jsx(MT,{size:16})})]})]})]}),_.jsx("div",{className:"w-80 flex-shrink-0",children:_.jsx(n3,{diaries:mt,currentDiaryId:s,onSelectDiary:h,onCreateDiary:Be,onDeleteDiary:c,onMoveDiary:f,searchQuery:a,onSearch:m,selectedFolderId:S,folders:g})}),_.jsx("div",{className:"flex-1 flex flex-col border-l border-slate-200/60",style:{backgroundColor:"rgba(255, 255, 255, 0.75)"},children:i?_.jsxs(_.Fragment,{children:[_.jsxs("div",{style:{backgroundColor:"rgba(255, 255, 255, 0.5)",borderBottom:"1px solid rgba(200, 210, 220, 0.4)"},className:"flex flex-col gap-4 p-4",children:[_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsx(ep,{value:kr,onChange:Ve=>N(Ve.target.value),placeholder:me("Untitled"),variant:"minimal",className:"text-2xl font-bold border-none focus:ring-0 px-0 flex-1 min-w-0 tracking-tight",style:{color:"var(--aurora-primary)"}}),_.jsx("button",{onClick:()=>re(!0),className:"p-2.5 text-white rounded-xl shadow-sm hover:shadow-md transition-all duration-200 active:scale-95 ml-3 z-10",style:{background:"linear-gradient(135deg, var(--aurora-accent) 0%, var(--aurora-accent-alt) 100%)"},title:me("Analyze"),children:_.jsx(nC,{size:18,strokeWidth:2})})]}),_.jsx("div",{className:"flex items-center",children:_.jsx("div",{className:"flex-1",children:_.jsx(uF,{tags:i.tags,onChange:Ve=>l(s,{tags:Ve}),placeholder:me("Add tags (press Enter)...")})})}),_.jsxs("div",{className:"flex items-center gap-4 text-sm text-primary-500",children:[_.jsx("span",{className:"text-primary-300",children:""}),_.jsxs("span",{className:"font-medium",children:[_t," ",me("words")]}),_.jsx("span",{className:"text-primary-300",children:""}),_.jsxs("span",{children:[me("Last edited:")," ",new Date(i.updatedAt).toLocaleString()]})]})]}),_.jsx("div",{className:"flex-1 overflow-hidden flex flex-col",children:_.jsx(cF,{content:yt,onChange:z,editable:!0,contentRightPanel:X?I?_.jsx(ene,{isOpen:!0,side:"right",minWidth:200,maxWidth:600,defaultWidth:Ae,persistKey:"toc-panel-width",onWidthChange:Ve=>se(te(Ve)),className:"border-l border-slate-200/60 bg-gradient-to-l from-slate-50/90 to-white/80",children:_.jsx(sx,{content:yt,headerAction:_.jsxs("div",{className:"flex items-center gap-1",children:[_.jsx("button",{className:"p-1.5 rounded-apple-sm hover:bg-primary-100 text-primary-500 hover:text-primary-900 transition-all duration-200 active:scale-95",title:"","aria-label":"",children:_.jsx(jm,{size:14,strokeWidth:1.75})}),_.jsx("button",{onClick:()=>J(!1),className:"p-1.5 rounded-apple-sm hover:bg-primary-100 text-primary-500 hover:text-primary-900 transition-all duration-200 active:scale-95",title:me("Unpin"),"aria-label":me("Unpin"),children:_.jsx(QT,{size:14,strokeWidth:1.75})})]})})}):_.jsxs("div",{className:"group h-full flex-shrink-0 relative border-l border-slate-200/60 bg-gradient-to-l from-slate-100/60 to-blue-50/40 transition-all duration-300 ease-apple overflow-hidden",style:{width:Q?`${Ae}px`:"40px"},onMouseEnter:()=>P(!0),onMouseLeave:()=>P(!1),children:[_.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-100 group-hover:opacity-0 pointer-events-none transition-opacity",children:_.jsx(oD,{size:16,className:"text-primary-400",strokeWidth:1.75})}),_.jsx("div",{className:"h-full opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:_.jsx(sx,{content:yt,headerAction:_.jsxs("div",{className:"flex items-center gap-1",children:[_.jsx("button",{className:"p-1.5 rounded-apple-sm hover:bg-primary-100 text-primary-500 hover:text-primary-900 transition-all duration-200 active:scale-95",title:"","aria-label":"",children:_.jsx(jm,{size:14,strokeWidth:1.75})}),_.jsx("button",{onClick:()=>J(!0),className:"p-1.5 rounded-apple-sm hover:bg-primary-100 text-primary-500 hover:text-primary-900 transition-all duration-200 active:scale-95",title:me("Pin"),"aria-label":me("Pin"),children:_.jsx(MT,{size:14,strokeWidth:1.75})})]})})})]}):null})})]}):_.jsx("div",{className:"flex-1 flex items-center justify-center bg-gradient-to-br from-slate-50 via-blue-50/30 to-indigo-50/20",children:_.jsxs("div",{className:"text-center",children:[_.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 rounded-apple-xl bg-primary-100 mb-6",children:_.jsx(XB,{size:40,className:"text-primary-400",strokeWidth:1.25})}),_.jsx("p",{className:"text-xl font-semibold text-primary-900 mb-2 tracking-tight",children:me("No diary selected")}),_.jsx("p",{className:"text-sm text-primary-500 mb-6",children:me("Select a diary from the list or create a new one")}),_.jsxs("div",{className:"flex gap-3 justify-center",children:[_.jsxs("button",{onClick:()=>$(!0),className:"inline-flex items-center gap-2 px-5 py-2.5 bg-gradient-to-b from-semantic-success to-green-600 text-white rounded-apple font-medium shadow-apple hover:shadow-apple-lg transition-all duration-200 active:scale-[0.97]",title:me("Import files (JSON/MD/HTML/TXT/DOCX/PDF)"),"aria-label":me("Import files"),children:[_.jsx(rC,{size:18,strokeWidth:1.75}),me("Import")]}),_.jsxs("button",{onClick:()=>H(!0),className:"inline-flex items-center gap-2 px-5 py-2.5 bg-gradient-to-b from-accent-500 to-accent-600 text-white rounded-apple font-medium shadow-apple hover:shadow-apple-lg transition-all duration-200 active:scale-[0.97]",title:me("Export all diaries"),"aria-label":me("Export all diaries"),children:[_.jsx(ZB,{size:18,strokeWidth:1.75}),me("Export All Diaries")]})]})]})})})]}),ie&&_.jsxs("div",{className:"h-full flex flex-col",children:[_.jsxs("div",{className:"sticky top-0 z-50 bg-white/90 backdrop-blur-sm border-b border-slate-200 px-4 py-3 flex items-center justify-between",children:[ne==="editor"?_.jsx("button",{onClick:()=>W("diaryList"),className:"p-2 rounded-lg text-primary-600 hover:bg-primary-50 transition-colors","aria-label":me("Open diary list"),children:_.jsx(AD,{size:20})}):_.jsx("button",{onClick:()=>W("editor"),className:"p-2 rounded-lg text-primary-600 hover:bg-primary-50 transition-colors","aria-label":me("Back to editor"),children:_.jsx(Dz,{size:20})}),_.jsx("h1",{className:"text-lg font-semibold text-primary-900",children:me("Diary App")}),_.jsx("button",{onClick:()=>U(!0),className:"p-2 rounded-lg text-primary-600 hover:bg-primary-50 transition-colors",title:me("Settings"),"aria-label":me("Settings"),children:_.jsx(v2,{size:20})})]}),_.jsx("div",{className:"flex-1 overflow-auto",children:ne==="editor"?_.jsx("div",{className:"h-full flex flex-col",style:{backgroundColor:"rgba(255, 255, 255, 0.75)"},children:i?_.jsxs(_.Fragment,{children:[_.jsxs("div",{className:"p-4",style:{backgroundColor:"rgba(255, 255, 255, 0.5)",borderBottom:"1px solid rgba(200, 210, 220, 0.4)"},children:[_.jsxs("div",{className:"flex items-center justify-between mb-3",children:[_.jsx(ep,{value:kr,onChange:Ve=>N(Ve.target.value),placeholder:me("Untitled"),variant:"minimal",className:"text-xl font-bold border-none focus:ring-0 px-0 flex-1",style:{color:"var(--aurora-primary)"}}),_.jsx("button",{onClick:()=>re(!0),className:"p-2 text-white rounded-xl shadow-sm hover:shadow-md transition-all duration-200 active:scale-95 ml-3",style:{background:"linear-gradient(135deg, var(--aurora-accent) 0%, var(--aurora-accent-alt) 100%)"},title:me("Analyze"),children:_.jsx(nC,{size:18,strokeWidth:2})})]}),_.jsx(uF,{tags:i.tags,onChange:Ve=>l(s,{tags:Ve}),placeholder:me("Add tags..."),className:"mb-3"}),_.jsxs("div",{className:"flex items-center gap-3 text-sm text-primary-500 flex-wrap",children:[_.jsx("span",{className:"text-primary-300",children:""}),_.jsxs("span",{className:"font-medium",children:[_t," ",me("words")]}),_.jsx("span",{className:"text-primary-300",children:""}),_.jsxs("span",{className:"truncate",children:[me("Last edited:")," ",new Date(i.updatedAt).toLocaleString()]})]})]}),_.jsx("div",{className:"flex-1 overflow-auto",children:_.jsx(cF,{content:yt,onChange:z,editable:!0})}),ie&&X&&_.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white/95 backdrop-blur-sm border-t border-slate-200 shadow-lg z-40",children:_.jsx("div",{className:"max-h-64 overflow-auto",children:_.jsx(sx,{content:yt,headerAction:_.jsx("button",{className:"p-1.5 rounded-apple-sm hover:bg-primary-100 text-primary-500 hover:text-primary-900 transition-all duration-200 active:scale-95",title:"","aria-label":"",children:_.jsx(jm,{size:14,strokeWidth:1.75})})})})})]}):_.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-6 bg-gradient-to-br from-slate-50 via-blue-50/30 to-indigo-50/20",children:[_.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-apple-lg bg-primary-100 mb-4",children:_.jsx(XB,{size:32,className:"text-primary-400",strokeWidth:1.25})}),_.jsx("p",{className:"text-lg font-semibold text-primary-900 mb-2 text-center",children:me("No diary selected")}),_.jsx("p",{className:"text-sm text-primary-500 mb-6 text-center",children:me("Select a diary from the list or create a new one")}),_.jsxs("div",{className:"flex flex-col gap-3 w-full max-w-sm",children:[_.jsxs("button",{onClick:()=>$(!0),className:"inline-flex items-center justify-center gap-2 px-5 py-3 bg-gradient-to-b from-semantic-success to-green-600 text-white rounded-apple font-medium shadow-apple hover:shadow-apple-lg transition-all duration-200 active:scale-[0.97] w-full",children:[_.jsx(rC,{size:18,strokeWidth:1.75}),me("Import")]}),_.jsxs("button",{onClick:()=>H(!0),className:"inline-flex items-center justify-center gap-2 px-5 py-3 bg-gradient-to-b from-accent-500 to-accent-600 text-white rounded-apple font-medium shadow-apple hover:shadow-apple-lg transition-all duration-200 active:scale-[0.97] w-full",children:[_.jsx(ZB,{size:18,strokeWidth:1.75}),me("Export All Diaries")]})]})]})}):_.jsx("div",{className:"h-full flex flex-col",children:_.jsx("div",{className:"flex-1 overflow-auto",children:_.jsx(n3,{diaries:mt,currentDiaryId:s,onSelectDiary:Ve=>{h(Ve),W("editor")},onCreateDiary:Be,onDeleteDiary:c,onMoveDiary:f,searchQuery:a,onSearch:m,selectedFolderId:S,folders:g})})})})]}),ie&&Te&&_.jsxs("div",{className:"fixed inset-0 z-50",children:[_.jsx("div",{className:"absolute inset-0 bg-black/30",onClick:()=>V(!1)}),_.jsxs("div",{className:"absolute left-0 top-0 bottom-0 w-64 bg-white/95 backdrop-blur-sm border-r border-slate-200 flex flex-col",children:[_.jsxs("div",{className:"p-4 border-b border-slate-200 flex items-center justify-between",children:[_.jsx("h3",{className:"font-semibold text-primary-900",children:me("Menu")}),_.jsx("button",{onClick:()=>V(!1),className:"p-1.5 rounded-lg text-primary-600 hover:bg-primary-50 transition-colors","aria-label":me("Close"),children:_.jsx(Mg,{size:18})})]}),_.jsxs("div",{className:"flex border-b border-slate-200",children:[_.jsx("button",{onClick:()=>R("folders"),className:`flex-1 py-3 text-sm font-medium transition-colors ${q==="folders"?"text-accent-500 border-b-2 border-accent-500":"text-primary-600 hover:bg-primary-50"}`,children:me("Folders")}),_.jsx("button",{onClick:()=>R("tags"),className:`flex-1 py-3 text-sm font-medium transition-colors ${q==="tags"?"text-accent-500 border-b-2 border-accent-500":"text-primary-600 hover:bg-primary-50"}`,children:me("Tags")}),_.jsx("button",{onClick:()=>R("calendar"),className:`flex-1 py-3 text-sm font-medium transition-colors ${q==="calendar"?"text-accent-500 border-b-2 border-accent-500":"text-primary-600 hover:bg-primary-50"}`,children:me("Calendar")}),_.jsx("button",{onClick:()=>R("tasks"),className:`flex-1 py-3 text-sm font-medium transition-colors ${q==="tasks"?"text-accent-500 border-b-2 border-accent-500":"text-primary-600 hover:bg-primary-50"}`,children:me("Tasks")})]}),_.jsx("div",{className:"flex-1 overflow-auto",children:q==="folders"?_.jsx(HT,{folders:g,onCreateFolder:je,onUpdateFolder:He,onDeleteFolder:w,onMoveDiary:f,selectedFolderId:S,onSelectFolder:Ve=>{C(Ve),V(!1)}}):q==="tags"?_.jsx(jT,{diaries:n,selectedTags:k,onSelectTag:We,onClearTags:at,onRenameTag:ct,onMergeTags:ft,onDeleteTag:Ot}):q==="calendar"?_.jsx(r3,{diaries:n,onSelectDiary:Ve=>{h(Ve),W("editor"),V(!1)},onCreateDiary:Ve=>{const gt=be(Ve);gt&&(h(gt.id),W("editor"),V(!1))},onChangeDiaryDate:Oe}):_.jsx(UL,{onModalStateChange:oe})}),r&&t&&_.jsx("div",{className:"border-t border-slate-200 p-3",children:_.jsx(QB,{userEmail:t.email??null,onRetry:L,onSwitchAccount:It,onLogout:Pt})})]})]}),_.jsx(tme,{isOpen:D,onClose:()=>H(!1),diaries:n,currentDiary:i}),_.jsx(rme,{isOpen:F,onClose:()=>$(!1),onImportDiaries:(Ve,gt)=>d(Ve,gt),onImportFolders:(Ve,gt)=>B(Ve,gt)}),_.jsx(ime,{isOpen:G,onClose:()=>U(!1),onImport:()=>$(!0),onExport:()=>H(!0),onRetrySync:L}),_.jsx(gme,{isOpen:ae,diaryId:s,diaryContent:yt,onClose:()=>re(!1),onAppendToDiary:ge,onUpdateDiary:l}),_.jsx(vme,{})]})},xme=t=>{if(t instanceof Error)return t.message;if(typeof t=="object"&&t!==null){const e=t.message;if(typeof e=="string"&&e.trim())return e;const r=t.error;if(r&&typeof r.message=="string"&&r.message.trim())return r.message}return typeof t=="string"?t:""},Bme=()=>{const{signIn:t,signUp:e,loading:r,error:n}=yp(),[i,s]=ke.useState("signin"),[a,o]=ke.useState(""),[l,c]=ke.useState(""),[f,h]=ke.useState(!1),m=async v=>{if(v.preventDefault(),!a.trim()||!l.trim()){Cr(me("Please enter email and password"));return}h(!0);try{i==="signin"?await t(a.trim(),l):(await e(a.trim(),l),Cr(me("Account created. Please check your email to confirm.")))}catch(b){console.error("Auth submit failed:",b);const w=xme(b);Cr(w||me("Sign in failed."))}finally{h(!1)}},d=()=>{s(v=>v==="signin"?"signup":"signin")},g=f||r||!Pd;return _.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-b from-primary-50 to-white px-4",children:[_.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:_.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-[800px] h-[600px] bg-gradient-to-br from-accent-500/10 via-accent-400/5 to-transparent rounded-full blur-3xl"})}),_.jsxs("div",{className:"relative w-full max-w-[420px] animate-slide-up",children:[_.jsxs("div",{className:"text-center mb-8",children:[_.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-apple-xl bg-gradient-to-br from-accent-500 to-accent-600 shadow-apple-lg mb-4",children:_.jsx(XB,{className:"w-8 h-8 text-white",strokeWidth:1.5})}),_.jsx("h1",{className:"text-3xl font-bold text-primary-900 tracking-tight mb-2",children:me("Cloud Sync Login")}),_.jsx("p",{className:"text-base text-primary-500",children:me("Sign in to access your cloud diaries across devices.")})]}),_.jsxs("div",{className:"bg-white/80 backdrop-blur-apple border border-white/60 rounded-apple-2xl shadow-apple-xl p-8",children:[!Pd&&_.jsxs("div",{className:"mb-6 flex items-start gap-3 rounded-apple-lg border border-semantic-warning/30 bg-semantic-warning/10 p-4",children:[_.jsx(tV,{className:"w-5 h-5 text-semantic-warning flex-shrink-0 mt-0.5"}),_.jsx("p",{className:"text-sm text-primary-700 leading-relaxed",children:me("Supabase is not configured. Please set VITE_SUPABASE_URL and VITE_SUPABASE_ANON_KEY.")})]}),n&&_.jsxs("div",{className:"mb-6 flex items-start gap-3 rounded-apple-lg border border-semantic-error/30 bg-semantic-error/10 p-4",children:[_.jsx(L1,{className:"w-5 h-5 text-semantic-error flex-shrink-0 mt-0.5"}),_.jsx("p",{className:"text-sm text-semantic-error leading-relaxed",children:n})]}),_.jsxs("form",{onSubmit:m,className:"space-y-5",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-2",children:me("Email")}),_.jsx("input",{className:`
                  w-full px-4 py-3 
                  bg-primary-50/80 
                  border border-primary-200
                  rounded-apple 
                  text-primary-900
                  placeholder:text-primary-400
                  transition-all duration-200 ease-apple
                  focus:bg-white focus:border-accent-500 focus:ring-2 focus:ring-accent-500/20 focus:outline-none
                  hover:border-primary-300
                  disabled:opacity-50 disabled:cursor-not-allowed
                `,type:"email",autoComplete:"email",placeholder:me("Enter your email"),value:a,onChange:v=>o(v.target.value),disabled:g})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-primary-700 mb-2",children:me("Password")}),_.jsx("input",{className:`
                  w-full px-4 py-3 
                  bg-primary-50/80 
                  border border-primary-200
                  rounded-apple 
                  text-primary-900
                  placeholder:text-primary-400
                  transition-all duration-200 ease-apple
                  focus:bg-white focus:border-accent-500 focus:ring-2 focus:ring-accent-500/20 focus:outline-none
                  hover:border-primary-300
                  disabled:opacity-50 disabled:cursor-not-allowed
                `,type:"password",autoComplete:i==="signin"?"current-password":"new-password",placeholder:me("Enter your password"),value:l,onChange:v=>c(v.target.value),disabled:g})]}),_.jsx("button",{type:"submit",className:`
                w-full py-3.5 
                rounded-apple 
                bg-gradient-to-b from-accent-500 to-accent-600
                text-white font-semibold
                shadow-apple
                transition-all duration-200 ease-apple
                hover:from-accent-400 hover:to-accent-500 hover:shadow-apple-lg
                active:scale-[0.98] active:from-accent-600 active:to-accent-700
                disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none
              `,disabled:g,children:f?_.jsxs("span",{className:"inline-flex items-center gap-2",children:[_.jsxs("svg",{className:"animate-spin w-4 h-4",viewBox:"0 0 24 24",children:[_.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),_.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),me("Signing in...")]}):me(i==="signin"?"Sign in":"Create account")})]}),_.jsx("div",{className:"mt-6 pt-6 border-t border-primary-100",children:_.jsx("button",{type:"button",onClick:d,className:`
                w-full py-2.5
                text-sm font-medium text-accent-500
                rounded-apple
                transition-all duration-200 ease-apple
                hover:bg-accent-50 hover:text-accent-600
                active:scale-[0.98]
                disabled:opacity-50 disabled:cursor-not-allowed
              `,disabled:g,children:me(i==="signin"?"No account? Sign up":"Have an account? Sign in")})})]}),_.jsx("p",{className:"text-center text-xs text-primary-400 mt-6",children:me("Your data is securely synced across all your devices")})]})]})};function Cme(){const{user:t,loading:e,isConfigured:r}=yp();return e?_.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-b from-primary-50 to-white",children:_.jsxs("div",{className:"flex flex-col items-center gap-4",children:[_.jsx("div",{className:"w-12 h-12 rounded-apple-lg bg-gradient-to-br from-accent-500 to-accent-600 flex items-center justify-center shadow-apple animate-pulse",children:_.jsxs("svg",{className:"w-6 h-6 text-white animate-spin",viewBox:"0 0 24 24",fill:"none",children:[_.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"3"}),_.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}),_.jsx("p",{className:"text-primary-500 font-medium",children:me("Loading...")})]})}):r&&!t?_.jsx(Bme,{}):_.jsx(bme,{})}const Sme=({children:t})=>{const[e,r]=ke.useState(null),[n,i]=ke.useState(null),[s,a]=ke.useState(!0),[o,l]=ke.useState(null);ke.useEffect(()=>{let d=!0;if((async()=>{if(!Pd||!mo){d&&a(!1);return}const{data:b,error:w}=await mo.auth.getSession();d&&(w&&l(w.message),i(b.session??null),r(b.session?.user??null),a(!1))})(),!Pd||!mo)return()=>{d=!1};const{data:v}=mo.auth.onAuthStateChange((b,w)=>{d&&(i(w),r(w?.user??null),a(!1))});return()=>{d=!1,v.subscription.unsubscribe()}},[]);const c=ke.useCallback(async(d,g)=>{if(!mo){l("Supabase is not configured.");return}l(null);const{error:v}=await mo.auth.signInWithPassword({email:d,password:g});if(v)throw l(v.message),v},[]),f=ke.useCallback(async(d,g)=>{if(!mo){l("Supabase is not configured.");return}l(null);const{error:v}=await mo.auth.signUp({email:d,password:g,options:{emailRedirectTo:window.location.origin}});if(v)throw l(v.message),v},[]),h=ke.useCallback(async()=>{if(!mo)return;l(null);const{error:d}=await mo.auth.signOut();if(d)throw l(d.message),d},[]),m=ke.useMemo(()=>({user:e,session:n,loading:s,error:o,isConfigured:Pd,signIn:c,signUp:f,signOut:h}),[e,n,s,o,c,f,h]);return _.jsx(tD.Provider,{value:m,children:t})};w7.createRoot(document.getElementById("root")).render(_.jsx(ke.StrictMode,{children:_.jsx(Sme,{children:_.jsx(mz,{children:_.jsx(Cme,{})})})}));export{Jr as _,W0 as c,LL as g};
